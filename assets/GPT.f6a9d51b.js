import{k as y,E as v,_ as f,r as A,a as o,c as l,b as s,F as T,f as O,h as _,v as h,A as W,e as u,g as k,w as L,T as b,t as m,p as B,j as U}from"./index.7c2af8ab.js";const g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAH1UExURUxpcXeqn3WqnHWonHSpnHWonHWpnG22knWpnHWpnHSmm3apm3SpnHWonHWpnHSonHWpnHWpm3apnXWpnHWpm3WpnP///8fc19fm43mrn67Nxf7///r8+6HFvNPk4JS8ssXb1XirnsDY0sPa1Pj7+qbHv5i/tXeqnvz9/X6uoo65roq2q+Tu7P3+/qrKwqDEu9bm4vP39qfIwPv9/NXl4ezz8Xqsn+nx73msn5/Dusnd2N7q59zp5pC6r4CwpKLFvIOxpszf2oSypsTa1fn7+/P49t/r6JrAt8LZ1L/X0d3q53aqnczf287h3Ie0qc7g3Pr8/LTQybDOxpvBuObv7c/h3PX5+Ory8ODr6OPt65G7sLnTzYWzp/n7+oi1qv7+/tTk4J7Cucve2Z3Cub7X0H+vo8LZ053CuKnJwff6+tnn4/3+/fD29XytoYWzqJe+tJa+tHapnHeqnaHEu8vf2oGxpazLw3utoMre2ZW9s7XRyu/19H2uou/186XHv6jJwNDi3sjd2OLt6u308ufw7tfm4rjTzK3MxOjw7tvp5dHi3sjd15m/tvL39q/Nxvb5+OPu64y3rIOyptnn5LbSy+Ds6eHs6tbl4cHZ0/v8/H6vo4GwpZ7Dus/h3fb6+ZK7sfT49/f6+aLFvavLw6zLxM3g28bc1pQLf2QAAAAVdFJOUwAtv5bz1PQH/dUuj5WQ/CyYwJHykqKEGP8AAAAJcEhZcwAAAHYAAAB2AU57JggAAAIcSURBVDjLhdNle9swEABgFdK0Kw7uHMfp6iTeAksaThpoUmZuV1x5zMxbx8wM7Xj7nZNjx/L2rNl9kXR6H51snwmhsWFTWQn8FSWGygKihLGmFP4ZpUXG7P5GWDcKZVEDeaKC1mfnHxUvoSV19YQOVFWTLdpiUfJ2POx/jOEzAy4tWU7KctPG95FpOjT0IA2PT80aSHEOpKQ5mSUxIA7bD2OzI5vdTNTt1QXBDvAxMT/7qkE+h8PdyoYC+DX0YgYyX4W+FwBunqYOhpp0YAl/1eN22Or5DPD8Jd6sBTiOZgYa8SfUysAMH+wWW/AK3ndbUWRADKUVMGIex1YrRGcs3uvYxcCzKVCAJTb66FZsFGDXTgHPMjD2WgWcFeCkHd/uoOshj0MD16QoLOI2+Q406ifpPXh4gisaOIXD4JiZXUoqwARx/Ab80zB7TJMzmK17nr4BK2eCOnocJGMMBBH9tO6FqYhveUJSwZsxBrpRDDltl6G3G7/8+K6AtLOZARu65hYwcLfL8s4l30EGCTzGwH6MA3Tew9u0Tp1HBmYOT+u+xZ62nl4AB91uGRQ+ZWAZ53HQqgMwgn3n6BC90+bl0nLJB51qH+QaphUD3EWuHVNuuhiQwlrPaS3n6zhEW+2G3I3TkSE3A5XalG860o/j/sSkcGAf62tS8MdvFfe3Oyf2tugyhBRB3qC/XuF/ADFWVOUHhFSXG4rXA78BYbiLJDUXqsMAAABXelRYdFJhdyBwcm9maWxlIHR5cGUgaXB0YwAAeJzj8gwIcVYoKMpPy8xJ5VIAAyMLLmMLEyMTS5MUAxMgRIA0w2QDI7NUIMvY1MjEzMQcxAfLgEigSi4A6hcRdPJCNZUAAAAASUVORK5CYII=",G="gpt-3.5-turbo";async function M(r){try{const t=window.localStorage.getItem("key"),c=y.create({baseURL:"https://api.openai.com/v1/",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}),{data:i}=await c.post("chat/completions",{model:G,messages:[{role:"user",content:r}],temperature:.7});return i.choices[0].message.content}catch(t){return t.response.status===401?(v.warning("\u8BF7\u8BBE\u7F6Ekey"),"\u9519\u8BEF"):t.code=="ERR_NETWORK"?(v.error("\u7F51\u7EDC\u9519\u8BEF"),"\u9519\u8BEF"):(v.error("\u672A\u77E5\u9519\u8BEF"),"\u9519\u8BEF")}}const P={send:M};const a=r=>(B("data-v-89b956c4"),r=r(),U(),r),D={class:"main"},K={class:"message-box"},X=a(()=>s("div",{class:"message"},[s("div",{class:"answer"},[s("div",{class:"avatar"},[s("img",{src:g,alt:""})]),s("p",null,"\u4F60\u597D\uFF0C\u8BF7\u95EE\u6709\u4EC0\u4E48\u53EF\u4EE5\u5E2E\u52A9\u4F60\u7684\u5417\uFF1F")])],-1)),C={class:"ask"},E=a(()=>s("div",{class:"avatar"},"user",-1)),S={key:0,class:"answer"},I=a(()=>s("div",{class:"avatar"},[s("img",{src:g,alt:""})],-1)),q={key:1,id:"loader"},Y=a(()=>s("div",{id:"shadow"},null,-1)),z=a(()=>s("div",{id:"box"},null,-1)),F=[Y,z],J=a(()=>s("div",{class:"box"},null,-1)),Z={class:"bottom"},R=["onKeydown"],V=a(()=>s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none","stroke-width":"2"},[s("path",{d:"M.5 1.163A1 1 0 0 1 1.97.28l12.868 6.837a1 1 0 0 1 0 1.766L1.969 15.72A1 1 0 0 1 .5 14.836V10.33a1 1 0 0 1 .816-.983L8.5 8 1.316 6.653A1 1 0 0 1 .5 5.67V1.163Z",fill:"currentColor"})],-1)),j=[V],N={key:0,class:"window"},Q=a(()=>s("h5",null,"\u8BBE\u7F6EKEY",-1)),$={__name:"GPT",setup(r){const t=A(),c=A([]),i=A(!1),p=A(),w=async()=>{let d={ask:"",answer:""};d.ask=t.value,t.value="",c.value.push(d),c.value[c.value.length-1].answer=await P.send(d.ask)},x=()=>{window.localStorage.setItem("key",p.value)};return(d,n)=>(o(),l("div",D,[s("div",K,[X,(o(!0),l(T,null,O(c.value,(e,H)=>(o(),l("div",{key:H,class:"message"},[s("div",C,[s("p",null,m(e.ask),1),E]),e.answer!=""&&e.answer!="\u9519\u8BEF"?(o(),l("div",S,[I,s("p",null,m(e.answer),1)])):u("",!0),e.answer==""?(o(),l("div",q,F)):u("",!0)]))),128))]),J,s("div",Z,[s("div",{class:"btn",onClick:n[0]||(n[0]=e=>i.value=!0)}," \u8BBE\u7F6EKEY "),_(s("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>t.value=e),type:"text",placeholder:"\u53D1\u9001\u6D88\u606F",onKeydown:W(w,["enter"])},null,40,R),[[h,t.value]]),s("button",{onClick:w},j)]),i.value?(o(),l("div",{key:0,class:"mask",onClick:n[2]||(n[2]=e=>i.value=!1)})):u("",!0),k(b,{name:"bounce"},{default:L(()=>[i.value?(o(),l("div",N,[Q,_(s("textarea",{"onUpdate:modelValue":n[3]||(n[3]=e=>p.value=e),onBlur:x},null,544),[[h,p.value]])])):u("",!0)]),_:1})]))}},es=f($,[["__scopeId","data-v-89b956c4"]]);export{es as default};
