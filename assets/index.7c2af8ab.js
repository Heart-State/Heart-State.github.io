const p$1=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerpolicy&&(u.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?u.credentials="include":l.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}};p$1();function makeMap(a,n){const r=Object.create(null),s=a.split(",");for(let l=0;l<s.length;l++)r[s[l]]=!0;return n?l=>!!r[l.toLowerCase()]:l=>!!r[l]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(a){return!!a||a===""}function normalizeStyle$1(a){if(isArray$4(a)){const n={};for(let r=0;r<a.length;r++){const s=a[r],l=isString$3(s)?parseStringStyle(s):normalizeStyle$1(s);if(l)for(const u in l)n[u]=l[u]}return n}else{if(isString$3(a))return a;if(isObject$5(a))return a}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(a){const n={};return a.split(listDelimiterRE).forEach(r=>{if(r){const s=r.split(propertyDelimiterRE);s.length>1&&(n[s[0].trim()]=s[1].trim())}}),n}function normalizeClass(a){let n="";if(isString$3(a))n=a;else if(isArray$4(a))for(let r=0;r<a.length;r++){const s=normalizeClass(a[r]);s&&(n+=s+" ")}else if(isObject$5(a))for(const r in a)a[r]&&(n+=r+" ");return n.trim()}const toDisplayString=a=>isString$3(a)?a:a==null?"":isArray$4(a)||isObject$5(a)&&(a.toString===objectToString||!isFunction$2(a.toString))?JSON.stringify(a,replacer,2):String(a),replacer=(a,n)=>n&&n.__v_isRef?replacer(a,n.value):isMap(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((r,[s,l])=>(r[`${s} =>`]=l,r),{})}:isSet(n)?{[`Set(${n.size})`]:[...n.values()]}:isObject$5(n)&&!isArray$4(n)&&!isPlainObject$1(n)?String(n):n,EMPTY_OBJ$1={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=a=>onRE.test(a),isModelListener=a=>a.startsWith("onUpdate:"),extend$2=Object.assign,remove=(a,n)=>{const r=a.indexOf(n);r>-1&&a.splice(r,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn$1=(a,n)=>hasOwnProperty.call(a,n),isArray$4=Array.isArray,isMap=a=>toTypeString(a)==="[object Map]",isSet=a=>toTypeString(a)==="[object Set]",isFunction$2=a=>typeof a=="function",isString$3=a=>typeof a=="string",isSymbol=a=>typeof a=="symbol",isObject$5=a=>a!==null&&typeof a=="object",isPromise=a=>isObject$5(a)&&isFunction$2(a.then)&&isFunction$2(a.catch),objectToString=Object.prototype.toString,toTypeString=a=>objectToString.call(a),toRawType=a=>toTypeString(a).slice(8,-1),isPlainObject$1=a=>toTypeString(a)==="[object Object]",isIntegerKey=a=>isString$3(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=a=>{const n=Object.create(null);return r=>n[r]||(n[r]=a(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(a=>a.replace(camelizeRE,(n,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(a=>a.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(a=>a.charAt(0).toUpperCase()+a.slice(1)),toHandlerKey=cacheStringFunction(a=>a?`on${capitalize(a)}`:""),hasChanged=(a,n)=>!Object.is(a,n),invokeArrayFns=(a,n)=>{for(let r=0;r<a.length;r++)a[r](n)},def=(a,n,r)=>{Object.defineProperty(a,n,{configurable:!0,enumerable:!1,value:r})},toNumber=a=>{const n=parseFloat(a);return isNaN(n)?a:n};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(n=!1){this.active=!0,this.effects=[],this.cleanups=[],!n&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(n){if(this.active){const r=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(n){if(this.active){let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.scopes)for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);if(this.parent&&!n){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.active=!1}}}function recordEffectScope(a,n=activeEffectScope){n&&n.active&&n.effects.push(a)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(a){activeEffectScope&&activeEffectScope.cleanups.push(a)}const createDep=a=>{const n=new Set(a);return n.w=0,n.n=0,n},wasTracked=a=>(a.w&trackOpBit)>0,newTracked=a=>(a.n&trackOpBit)>0,initDepMarkers=({deps:a})=>{if(a.length)for(let n=0;n<a.length;n++)a[n].w|=trackOpBit},finalizeDepMarkers=a=>{const{deps:n}=a;if(n.length){let r=0;for(let s=0;s<n.length;s++){const l=n[s];wasTracked(l)&&!newTracked(l)?l.delete(a):n[r++]=l,l.w&=~trackOpBit,l.n&=~trackOpBit}n.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(n,r=null,s){this.fn=n,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,s)}run(){if(!this.active)return this.fn();let n=activeEffect,r=shouldTrack;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(a){const{deps:n}=a;if(n.length){for(let r=0;r<n.length;r++)n[r].delete(a);n.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const a=trackStack.pop();shouldTrack=a===void 0?!0:a}function track(a,n,r){if(shouldTrack&&activeEffect){let s=targetMap.get(a);s||targetMap.set(a,s=new Map);let l=s.get(r);l||s.set(r,l=createDep()),trackEffects(l)}}function trackEffects(a,n){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(a)||(a.n|=trackOpBit,r=!wasTracked(a)):r=!a.has(activeEffect),r&&(a.add(activeEffect),activeEffect.deps.push(a))}function trigger$2(a,n,r,s,l,u){const c=targetMap.get(a);if(!c)return;let f=[];if(n==="clear")f=[...c.values()];else if(r==="length"&&isArray$4(a))c.forEach((d,v)=>{(v==="length"||v>=s)&&f.push(d)});else switch(r!==void 0&&f.push(c.get(r)),n){case"add":isArray$4(a)?isIntegerKey(r)&&f.push(c.get("length")):(f.push(c.get(ITERATE_KEY)),isMap(a)&&f.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$4(a)||(f.push(c.get(ITERATE_KEY)),isMap(a)&&f.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(a)&&f.push(c.get(ITERATE_KEY));break}if(f.length===1)f[0]&&triggerEffects(f[0]);else{const d=[];for(const v of f)v&&d.push(...v);triggerEffects(createDep(d))}}function triggerEffects(a,n){const r=isArray$4(a)?a:[...a];for(const s of r)s.computed&&triggerEffect(s);for(const s of r)s.computed||triggerEffect(s)}function triggerEffect(a,n){(a!==activeEffect||a.allowRecurse)&&(a.scheduler?a.scheduler():a.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(a=>a!=="arguments"&&a!=="caller").map(a=>Symbol[a]).filter(isSymbol)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const a={};return["includes","indexOf","lastIndexOf"].forEach(n=>{a[n]=function(...r){const s=toRaw(this);for(let u=0,c=this.length;u<c;u++)track(s,"get",u+"");const l=s[n](...r);return l===-1||l===!1?s[n](...r.map(toRaw)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{a[n]=function(...r){pauseTracking();const s=toRaw(this)[n].apply(this,r);return resetTracking(),s}}),a}function createGetter(a=!1,n=!1){return function(s,l,u){if(l==="__v_isReactive")return!a;if(l==="__v_isReadonly")return a;if(l==="__v_isShallow")return n;if(l==="__v_raw"&&u===(a?n?shallowReadonlyMap:readonlyMap:n?shallowReactiveMap:reactiveMap).get(s))return s;const c=isArray$4(s);if(!a&&c&&hasOwn$1(arrayInstrumentations,l))return Reflect.get(arrayInstrumentations,l,u);const f=Reflect.get(s,l,u);return(isSymbol(l)?builtInSymbols.has(l):isNonTrackableKeys(l))||(a||track(s,"get",l),n)?f:isRef(f)?c&&isIntegerKey(l)?f:f.value:isObject$5(f)?a?readonly(f):reactive(f):f}}const set$2=createSetter(),shallowSet=createSetter(!0);function createSetter(a=!1){return function(r,s,l,u){let c=r[s];if(isReadonly(c)&&isRef(c)&&!isRef(l))return!1;if(!a&&!isReadonly(l)&&(isShallow(l)||(l=toRaw(l),c=toRaw(c)),!isArray$4(r)&&isRef(c)&&!isRef(l)))return c.value=l,!0;const f=isArray$4(r)&&isIntegerKey(s)?Number(s)<r.length:hasOwn$1(r,s),d=Reflect.set(r,s,l,u);return r===toRaw(u)&&(f?hasChanged(l,c)&&trigger$2(r,"set",s,l):trigger$2(r,"add",s,l)),d}}function deleteProperty(a,n){const r=hasOwn$1(a,n);a[n];const s=Reflect.deleteProperty(a,n);return s&&r&&trigger$2(a,"delete",n,void 0),s}function has$2(a,n){const r=Reflect.has(a,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(a,"has",n),r}function ownKeys(a){return track(a,"iterate",isArray$4(a)?"length":ITERATE_KEY),Reflect.ownKeys(a)}const mutableHandlers={get:get$1,set:set$2,deleteProperty,has:has$2,ownKeys},readonlyHandlers={get:readonlyGet,set(a,n){return!0},deleteProperty(a,n){return!0}},shallowReactiveHandlers=extend$2({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=a=>a,getProto=a=>Reflect.getPrototypeOf(a);function get$1$1(a,n,r=!1,s=!1){a=a.__v_raw;const l=toRaw(a),u=toRaw(n);r||(n!==u&&track(l,"get",n),track(l,"get",u));const{has:c}=getProto(l),f=s?toShallow:r?toReadonly:toReactive;if(c.call(l,n))return f(a.get(n));if(c.call(l,u))return f(a.get(u));a!==l&&a.get(n)}function has$1$1(a,n=!1){const r=this.__v_raw,s=toRaw(r),l=toRaw(a);return n||(a!==l&&track(s,"has",a),track(s,"has",l)),a===l?r.has(a):r.has(a)||r.has(l)}function size(a,n=!1){return a=a.__v_raw,!n&&track(toRaw(a),"iterate",ITERATE_KEY),Reflect.get(a,"size",a)}function add$1(a){a=toRaw(a);const n=toRaw(this);return getProto(n).has.call(n,a)||(n.add(a),trigger$2(n,"add",a,a)),this}function set$1$1(a,n){n=toRaw(n);const r=toRaw(this),{has:s,get:l}=getProto(r);let u=s.call(r,a);u||(a=toRaw(a),u=s.call(r,a));const c=l.call(r,a);return r.set(a,n),u?hasChanged(n,c)&&trigger$2(r,"set",a,n):trigger$2(r,"add",a,n),this}function deleteEntry(a){const n=toRaw(this),{has:r,get:s}=getProto(n);let l=r.call(n,a);l||(a=toRaw(a),l=r.call(n,a)),s&&s.call(n,a);const u=n.delete(a);return l&&trigger$2(n,"delete",a,void 0),u}function clear$2(){const a=toRaw(this),n=a.size!==0,r=a.clear();return n&&trigger$2(a,"clear",void 0,void 0),r}function createForEach(a,n){return function(s,l){const u=this,c=u.__v_raw,f=toRaw(c),d=n?toShallow:a?toReadonly:toReactive;return!a&&track(f,"iterate",ITERATE_KEY),c.forEach((v,g)=>s.call(l,d(v),d(g),u))}}function createIterableMethod(a,n,r){return function(...s){const l=this.__v_raw,u=toRaw(l),c=isMap(u),f=a==="entries"||a===Symbol.iterator&&c,d=a==="keys"&&c,v=l[a](...s),g=r?toShallow:n?toReadonly:toReactive;return!n&&track(u,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:y,done:_}=v.next();return _?{value:y,done:_}:{value:f?[g(y[0]),g(y[1])]:g(y),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(a){return function(...n){return a==="delete"?!1:this}}function createInstrumentations(){const a={get(u){return get$1$1(this,u)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!1)},n={get(u){return get$1$1(this,u,!1,!0)},get size(){return size(this)},has:has$1$1,add:add$1,set:set$1$1,delete:deleteEntry,clear:clear$2,forEach:createForEach(!1,!0)},r={get(u){return get$1$1(this,u,!0)},get size(){return size(this,!0)},has(u){return has$1$1.call(this,u,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},s={get(u){return get$1$1(this,u,!0,!0)},get size(){return size(this,!0)},has(u){return has$1$1.call(this,u,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{a[u]=createIterableMethod(u,!1,!1),r[u]=createIterableMethod(u,!0,!1),n[u]=createIterableMethod(u,!1,!0),s[u]=createIterableMethod(u,!0,!0)}),[a,r,n,s]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(a,n){const r=n?a?shallowReadonlyInstrumentations:shallowInstrumentations:a?readonlyInstrumentations:mutableInstrumentations;return(s,l,u)=>l==="__v_isReactive"?!a:l==="__v_isReadonly"?a:l==="__v_raw"?s:Reflect.get(hasOwn$1(r,l)&&l in s?r:s,l,u)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(a){return a.__v_skip||!Object.isExtensible(a)?0:targetTypeMap(toRawType(a))}function reactive(a){return isReadonly(a)?a:createReactiveObject(a,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(a){return createReactiveObject(a,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(a){return createReactiveObject(a,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(a,n,r,s,l){if(!isObject$5(a)||a.__v_raw&&!(n&&a.__v_isReactive))return a;const u=l.get(a);if(u)return u;const c=getTargetType(a);if(c===0)return a;const f=new Proxy(a,c===2?s:r);return l.set(a,f),f}function isReactive(a){return isReadonly(a)?isReactive(a.__v_raw):!!(a&&a.__v_isReactive)}function isReadonly(a){return!!(a&&a.__v_isReadonly)}function isShallow(a){return!!(a&&a.__v_isShallow)}function isProxy(a){return isReactive(a)||isReadonly(a)}function toRaw(a){const n=a&&a.__v_raw;return n?toRaw(n):a}function markRaw(a){return def(a,"__v_skip",!0),a}const toReactive=a=>isObject$5(a)?reactive(a):a,toReadonly=a=>isObject$5(a)?readonly(a):a;function trackRefValue(a){shouldTrack&&activeEffect&&(a=toRaw(a),trackEffects(a.dep||(a.dep=createDep())))}function triggerRefValue(a,n){a=toRaw(a),a.dep&&triggerEffects(a.dep)}function isRef(a){return!!(a&&a.__v_isRef===!0)}function ref(a){return createRef(a,!1)}function shallowRef(a){return createRef(a,!0)}function createRef(a,n){return isRef(a)?a:new RefImpl(a,n)}class RefImpl{constructor(n,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?n:toRaw(n),this._value=r?n:toReactive(n)}get value(){return trackRefValue(this),this._value}set value(n){n=this.__v_isShallow?n:toRaw(n),hasChanged(n,this._rawValue)&&(this._rawValue=n,this._value=this.__v_isShallow?n:toReactive(n),triggerRefValue(this))}}function unref(a){return isRef(a)?a.value:a}const shallowUnwrapHandlers={get:(a,n,r)=>unref(Reflect.get(a,n,r)),set:(a,n,r,s)=>{const l=a[n];return isRef(l)&&!isRef(r)?(l.value=r,!0):Reflect.set(a,n,r,s)}};function proxyRefs(a){return isReactive(a)?a:new Proxy(a,shallowUnwrapHandlers)}class ObjectRefImpl{constructor(n,r,s){this._object=n,this._key=r,this._defaultValue=s,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}function toRef(a,n,r){const s=a[n];return isRef(s)?s:new ObjectRefImpl(a,n,r)}class ComputedRefImpl{constructor(n,r,s,l){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(n,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=s}get value(){const n=toRaw(this);return trackRefValue(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}function computed$1(a,n,r=!1){let s,l;const u=isFunction$2(a);return u?(s=a,l=NOOP):(s=a.get,l=a.set),new ComputedRefImpl(s,l,u||!l,r)}const stack=[];function warn$1(a,...n){pauseTracking();const r=stack.length?stack[stack.length-1].component:null,s=r&&r.appContext.config.warnHandler,l=getComponentTrace();if(s)callWithErrorHandling(s,r,11,[a+n.join(""),r&&r.proxy,l.map(({vnode:u})=>`at <${formatComponentName(r,u.type)}>`).join(`
`),l]);else{const u=[`[Vue warn]: ${a}`,...n];l.length&&u.push(`
`,...formatTrace(l)),console.warn(...u)}resetTracking()}function getComponentTrace(){let a=stack[stack.length-1];if(!a)return[];const n=[];for(;a;){const r=n[0];r&&r.vnode===a?r.recurseCount++:n.push({vnode:a,recurseCount:0});const s=a.component&&a.component.parent;a=s&&s.vnode}return n}function formatTrace(a){const n=[];return a.forEach((r,s)=>{n.push(...s===0?[]:[`
`],...formatTraceEntry(r))}),n}function formatTraceEntry({vnode:a,recurseCount:n}){const r=n>0?`... (${n} recursive calls)`:"",s=a.component?a.component.parent==null:!1,l=` at <${formatComponentName(a.component,a.type,s)}`,u=">"+r;return a.props?[l,...formatProps(a.props),u]:[l+u]}function formatProps(a){const n=[],r=Object.keys(a);return r.slice(0,3).forEach(s=>{n.push(...formatProp(s,a[s]))}),r.length>3&&n.push(" ..."),n}function formatProp(a,n,r){return isString$3(n)?(n=JSON.stringify(n),r?n:[`${a}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?r?n:[`${a}=${n}`]:isRef(n)?(n=formatProp(a,toRaw(n.value),!0),r?n:[`${a}=Ref<`,n,">"]):isFunction$2(n)?[`${a}=fn${n.name?`<${n.name}>`:""}`]:(n=toRaw(n),r?n:[`${a}=`,n])}function callWithErrorHandling(a,n,r,s){let l;try{l=s?a(...s):a()}catch(u){handleError(u,n,r)}return l}function callWithAsyncErrorHandling(a,n,r,s){if(isFunction$2(a)){const u=callWithErrorHandling(a,n,r,s);return u&&isPromise(u)&&u.catch(c=>{handleError(c,n,r)}),u}const l=[];for(let u=0;u<a.length;u++)l.push(callWithAsyncErrorHandling(a[u],n,r,s));return l}function handleError(a,n,r,s=!0){const l=n?n.vnode:null;if(n){let u=n.parent;const c=n.proxy,f=r;for(;u;){const v=u.ec;if(v){for(let g=0;g<v.length;g++)if(v[g](a,c,f)===!1)return}u=u.parent}const d=n.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[a,c,f]);return}}logError$1(a,r,l,s)}function logError$1(a,n,r,s=!0){console.error(a)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(a){const n=currentFlushPromise||resolvedPromise;return a?n.then(this?a.bind(this):a):n}function findInsertionIndex(a){let n=flushIndex+1,r=queue.length;for(;n<r;){const s=n+r>>>1;getId$1(queue[s])<a?n=s+1:r=s}return n}function queueJob(a){(!queue.length||!queue.includes(a,isFlushing&&a.allowRecurse?flushIndex+1:flushIndex))&&a!==currentPreFlushParentJob&&(a.id==null?queue.push(a):queue.splice(findInsertionIndex(a.id),0,a),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(a){const n=queue.indexOf(a);n>flushIndex&&queue.splice(n,1)}function queueCb(a,n,r,s){isArray$4(a)?r.push(...a):(!n||!n.includes(a,a.allowRecurse?s+1:s))&&r.push(a),queueFlush()}function queuePreFlushCb(a){queueCb(a,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(a){queueCb(a,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(a,n=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=n,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(a,n)}}function flushPostFlushCbs(a){if(flushPreFlushCbs(),pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,activePostFlushCbs.sort((r,s)=>getId$1(r)-getId$1(s)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=a=>a.id==null?1/0:a.id;function flushJobs(a){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(a),queue.sort((r,s)=>getId$1(r)-getId$1(s));const n=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(a)}}function emit$1(a,n,...r){if(a.isUnmounted)return;const s=a.vnode.props||EMPTY_OBJ$1;let l=r;const u=n.startsWith("update:"),c=u&&n.slice(7);if(c&&c in s){const g=`${c==="modelValue"?"model":c}Modifiers`,{number:y,trim:_}=s[g]||EMPTY_OBJ$1;_&&(l=r.map(S=>S.trim())),y&&(l=r.map(toNumber))}let f,d=s[f=toHandlerKey(n)]||s[f=toHandlerKey(camelize(n))];!d&&u&&(d=s[f=toHandlerKey(hyphenate(n))]),d&&callWithAsyncErrorHandling(d,a,6,l);const v=s[f+"Once"];if(v){if(!a.emitted)a.emitted={};else if(a.emitted[f])return;a.emitted[f]=!0,callWithAsyncErrorHandling(v,a,6,l)}}function normalizeEmitsOptions(a,n,r=!1){const s=n.emitsCache,l=s.get(a);if(l!==void 0)return l;const u=a.emits;let c={},f=!1;if(!isFunction$2(a)){const d=v=>{const g=normalizeEmitsOptions(v,n,!0);g&&(f=!0,extend$2(c,g))};!r&&n.mixins.length&&n.mixins.forEach(d),a.extends&&d(a.extends),a.mixins&&a.mixins.forEach(d)}return!u&&!f?(s.set(a,null),null):(isArray$4(u)?u.forEach(d=>c[d]=null):extend$2(c,u),s.set(a,c),c)}function isEmitListener(a,n){return!a||!isOn(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn$1(a,n[0].toLowerCase()+n.slice(1))||hasOwn$1(a,hyphenate(n))||hasOwn$1(a,n))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(a){const n=currentRenderingInstance;return currentRenderingInstance=a,currentScopeId=a&&a.type.__scopeId||null,n}function pushScopeId(a){currentScopeId=a}function popScopeId(){currentScopeId=null}function withCtx(a,n=currentRenderingInstance,r){if(!n||a._n)return a;const s=(...l)=>{s._d&&setBlockTracking(-1);const u=setCurrentRenderingInstance(n),c=a(...l);return setCurrentRenderingInstance(u),s._d&&setBlockTracking(1),c};return s._n=!0,s._c=!0,s._d=!0,s}function markAttrsAccessed(){}function renderComponentRoot(a){const{type:n,vnode:r,proxy:s,withProxy:l,props:u,propsOptions:[c],slots:f,attrs:d,emit:v,render:g,renderCache:y,data:_,setupState:S,ctx:x,inheritAttrs:A}=a;let b,w;const E=setCurrentRenderingInstance(a);try{if(r.shapeFlag&4){const P=l||s;b=normalizeVNode(g.call(P,P,y,u,S,_,x)),w=d}else{const P=n;b=normalizeVNode(P.length>1?P(u,{attrs:d,slots:f,emit:v}):P(u,null)),w=n.props?d:getFunctionalFallthrough(d)}}catch(P){blockStack.length=0,handleError(P,a,1),b=createVNode$1(Comment)}let M=b;if(w&&A!==!1){const P=Object.keys(w),{shapeFlag:R}=M;P.length&&R&7&&(c&&P.some(isModelListener)&&(w=filterModelListeners(w,c)),M=cloneVNode(M,w))}return r.dirs&&(M=cloneVNode(M),M.dirs=M.dirs?M.dirs.concat(r.dirs):r.dirs),r.transition&&(M.transition=r.transition),b=M,setCurrentRenderingInstance(E),b}const getFunctionalFallthrough=a=>{let n;for(const r in a)(r==="class"||r==="style"||isOn(r))&&((n||(n={}))[r]=a[r]);return n},filterModelListeners=(a,n)=>{const r={};for(const s in a)(!isModelListener(s)||!(s.slice(9)in n))&&(r[s]=a[s]);return r};function shouldUpdateComponent(a,n,r){const{props:s,children:l,component:u}=a,{props:c,children:f,patchFlag:d}=n,v=u.emitsOptions;if(n.dirs||n.transition)return!0;if(r&&d>=0){if(d&1024)return!0;if(d&16)return s?hasPropsChanged(s,c,v):!!c;if(d&8){const g=n.dynamicProps;for(let y=0;y<g.length;y++){const _=g[y];if(c[_]!==s[_]&&!isEmitListener(v,_))return!0}}}else return(l||f)&&(!f||!f.$stable)?!0:s===c?!1:s?c?hasPropsChanged(s,c,v):!0:!!c;return!1}function hasPropsChanged(a,n,r){const s=Object.keys(n);if(s.length!==Object.keys(a).length)return!0;for(let l=0;l<s.length;l++){const u=s[l];if(n[u]!==a[u]&&!isEmitListener(r,u))return!0}return!1}function updateHOCHostEl({vnode:a,parent:n},r){for(;n&&n.subTree===a;)(a=n.vnode).el=r,n=n.parent}const isSuspense=a=>a.__isSuspense;function queueEffectWithSuspense(a,n){n&&n.pendingBranch?isArray$4(a)?n.effects.push(...a):n.effects.push(a):queuePostFlushCb(a)}function provide(a,n){if(currentInstance){let r=currentInstance.provides;const s=currentInstance.parent&&currentInstance.parent.provides;s===r&&(r=currentInstance.provides=Object.create(s)),r[a]=n}}function inject(a,n,r=!1){const s=currentInstance||currentRenderingInstance;if(s){const l=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(l&&a in l)return l[a];if(arguments.length>1)return r&&isFunction$2(n)?n.call(s.proxy):n}}const INITIAL_WATCHER_VALUE={};function watch(a,n,r){return doWatch(a,n,r)}function doWatch(a,n,{immediate:r,deep:s,flush:l,onTrack:u,onTrigger:c}=EMPTY_OBJ$1){const f=currentInstance;let d,v=!1,g=!1;if(isRef(a)?(d=()=>a.value,v=isShallow(a)):isReactive(a)?(d=()=>a,s=!0):isArray$4(a)?(g=!0,v=a.some(w=>isReactive(w)||isShallow(w)),d=()=>a.map(w=>{if(isRef(w))return w.value;if(isReactive(w))return traverse(w);if(isFunction$2(w))return callWithErrorHandling(w,f,2)})):isFunction$2(a)?n?d=()=>callWithErrorHandling(a,f,2):d=()=>{if(!(f&&f.isUnmounted))return y&&y(),callWithAsyncErrorHandling(a,f,3,[_])}:d=NOOP,n&&s){const w=d;d=()=>traverse(w())}let y,_=w=>{y=b.onStop=()=>{callWithErrorHandling(w,f,4)}};if(isInSSRComponentSetup)return _=NOOP,n?r&&callWithAsyncErrorHandling(n,f,3,[d(),g?[]:void 0,_]):d(),NOOP;let S=g?[]:INITIAL_WATCHER_VALUE;const x=()=>{if(!!b.active)if(n){const w=b.run();(s||v||(g?w.some((E,M)=>hasChanged(E,S[M])):hasChanged(w,S)))&&(y&&y(),callWithAsyncErrorHandling(n,f,3,[w,S===INITIAL_WATCHER_VALUE?void 0:S,_]),S=w)}else b.run()};x.allowRecurse=!!n;let A;l==="sync"?A=x:l==="post"?A=()=>queuePostRenderEffect(x,f&&f.suspense):A=()=>queuePreFlushCb(x);const b=new ReactiveEffect(d,A);return n?r?x():S=b.run():l==="post"?queuePostRenderEffect(b.run.bind(b),f&&f.suspense):b.run(),()=>{b.stop(),f&&f.scope&&remove(f.scope.effects,b)}}function instanceWatch(a,n,r){const s=this.proxy,l=isString$3(a)?a.includes(".")?createPathGetter(s,a):()=>s[a]:a.bind(s,s);let u;isFunction$2(n)?u=n:(u=n.handler,r=n);const c=currentInstance;setCurrentInstance(this);const f=doWatch(l,u.bind(s),r);return c?setCurrentInstance(c):unsetCurrentInstance(),f}function createPathGetter(a,n){const r=n.split(".");return()=>{let s=a;for(let l=0;l<r.length&&s;l++)s=s[r[l]];return s}}function traverse(a,n){if(!isObject$5(a)||a.__v_skip||(n=n||new Set,n.has(a)))return a;if(n.add(a),isRef(a))traverse(a.value,n);else if(isArray$4(a))for(let r=0;r<a.length;r++)traverse(a[r],n);else if(isSet(a)||isMap(a))a.forEach(r=>{traverse(r,n)});else if(isPlainObject$1(a))for(const r in a)traverse(a[r],n);return a}function useTransitionState(){const a={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{a.isMounted=!0}),onBeforeUnmount(()=>{a.isUnmounting=!0}),a}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(a,{slots:n}){const r=getCurrentInstance(),s=useTransitionState();let l;return()=>{const u=n.default&&getTransitionRawChildren(n.default(),!0);if(!u||!u.length)return;let c=u[0];if(u.length>1){for(const A of u)if(A.type!==Comment){c=A;break}}const f=toRaw(a),{mode:d}=f;if(s.isLeaving)return emptyPlaceholder(c);const v=getKeepAliveChild(c);if(!v)return emptyPlaceholder(c);const g=resolveTransitionHooks(v,f,s,r);setTransitionHooks(v,g);const y=r.subTree,_=y&&getKeepAliveChild(y);let S=!1;const{getTransitionKey:x}=v.type;if(x){const A=x();l===void 0?l=A:A!==l&&(l=A,S=!0)}if(_&&_.type!==Comment&&(!isSameVNodeType(v,_)||S)){const A=resolveTransitionHooks(_,f,s,r);if(setTransitionHooks(_,A),d==="out-in")return s.isLeaving=!0,A.afterLeave=()=>{s.isLeaving=!1,r.update()},emptyPlaceholder(c);d==="in-out"&&v.type!==Comment&&(A.delayLeave=(b,w,E)=>{const M=getLeavingNodesForType(s,_);M[String(_.key)]=_,b._leaveCb=()=>{w(),b._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=E})}return c}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(a,n){const{leavingVNodes:r}=a;let s=r.get(n.type);return s||(s=Object.create(null),r.set(n.type,s)),s}function resolveTransitionHooks(a,n,r,s){const{appear:l,mode:u,persisted:c=!1,onBeforeEnter:f,onEnter:d,onAfterEnter:v,onEnterCancelled:g,onBeforeLeave:y,onLeave:_,onAfterLeave:S,onLeaveCancelled:x,onBeforeAppear:A,onAppear:b,onAfterAppear:w,onAppearCancelled:E}=n,M=String(a.key),P=getLeavingNodesForType(r,a),R=(O,N)=>{O&&callWithAsyncErrorHandling(O,s,9,N)},I=(O,N)=>{const B=N[1];R(O,N),isArray$4(O)?O.every(F=>F.length<=1)&&B():O.length<=1&&B()},L={mode:u,persisted:c,beforeEnter(O){let N=f;if(!r.isMounted)if(l)N=A||f;else return;O._leaveCb&&O._leaveCb(!0);const B=P[M];B&&isSameVNodeType(a,B)&&B.el._leaveCb&&B.el._leaveCb(),R(N,[O])},enter(O){let N=d,B=v,F=g;if(!r.isMounted)if(l)N=b||d,B=w||v,F=E||g;else return;let V=!1;const z=O._enterCb=U=>{V||(V=!0,U?R(F,[O]):R(B,[O]),L.delayedLeave&&L.delayedLeave(),O._enterCb=void 0)};N?I(N,[O,z]):z()},leave(O,N){const B=String(a.key);if(O._enterCb&&O._enterCb(!0),r.isUnmounting)return N();R(y,[O]);let F=!1;const V=O._leaveCb=z=>{F||(F=!0,N(),z?R(x,[O]):R(S,[O]),O._leaveCb=void 0,P[B]===a&&delete P[B])};P[B]=a,_?I(_,[O,V]):V()},clone(O){return resolveTransitionHooks(O,n,r,s)}};return L}function emptyPlaceholder(a){if(isKeepAlive(a))return a=cloneVNode(a),a.children=null,a}function getKeepAliveChild(a){return isKeepAlive(a)?a.children?a.children[0]:void 0:a}function setTransitionHooks(a,n){a.shapeFlag&6&&a.component?setTransitionHooks(a.component.subTree,n):a.shapeFlag&128?(a.ssContent.transition=n.clone(a.ssContent),a.ssFallback.transition=n.clone(a.ssFallback)):a.transition=n}function getTransitionRawChildren(a,n=!1,r){let s=[],l=0;for(let u=0;u<a.length;u++){let c=a[u];const f=r==null?c.key:String(r)+String(c.key!=null?c.key:u);c.type===Fragment?(c.patchFlag&128&&l++,s=s.concat(getTransitionRawChildren(c.children,n,f))):(n||c.type!==Comment)&&s.push(f!=null?cloneVNode(c,{key:f}):c)}if(l>1)for(let u=0;u<s.length;u++)s[u].patchFlag=-2;return s}function defineComponent(a){return isFunction$2(a)?{setup:a,name:a.name}:a}const isAsyncWrapper=a=>!!a.type.__asyncLoader,isKeepAlive=a=>a.type.__isKeepAlive;function onActivated(a,n){registerKeepAliveHook(a,"a",n)}function onDeactivated(a,n){registerKeepAliveHook(a,"da",n)}function registerKeepAliveHook(a,n,r=currentInstance){const s=a.__wdc||(a.__wdc=()=>{let l=r;for(;l;){if(l.isDeactivated)return;l=l.parent}return a()});if(injectHook(n,s,r),r){let l=r.parent;for(;l&&l.parent;)isKeepAlive(l.parent.vnode)&&injectToKeepAliveRoot(s,n,r,l),l=l.parent}}function injectToKeepAliveRoot(a,n,r,s){const l=injectHook(n,a,s,!0);onUnmounted(()=>{remove(s[n],l)},r)}function injectHook(a,n,r=currentInstance,s=!1){if(r){const l=r[a]||(r[a]=[]),u=n.__weh||(n.__weh=(...c)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const f=callWithAsyncErrorHandling(n,r,a,c);return unsetCurrentInstance(),resetTracking(),f});return s?l.unshift(u):l.push(u),u}}const createHook=a=>(n,r=currentInstance)=>(!isInSSRComponentSetup||a==="sp")&&injectHook(a,n,r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(a,n=currentInstance){injectHook("ec",a,n)}function withDirectives(a,n){const r=currentRenderingInstance;if(r===null)return a;const s=getExposeProxy(r)||r.proxy,l=a.dirs||(a.dirs=[]);for(let u=0;u<n.length;u++){let[c,f,d,v=EMPTY_OBJ$1]=n[u];isFunction$2(c)&&(c={mounted:c,updated:c}),c.deep&&traverse(f),l.push({dir:c,instance:s,value:f,oldValue:void 0,arg:d,modifiers:v})}return a}function invokeDirectiveHook(a,n,r,s){const l=a.dirs,u=n&&n.dirs;for(let c=0;c<l.length;c++){const f=l[c];u&&(f.oldValue=u[c].value);let d=f.dir[s];d&&(pauseTracking(),callWithAsyncErrorHandling(d,r,8,[a.el,f,a,n]),resetTracking())}}const COMPONENTS="components";function resolveComponent(a,n){return resolveAsset(COMPONENTS,a,!0,n)||a}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(a){return isString$3(a)?resolveAsset(COMPONENTS,a,!1)||a:a||NULL_DYNAMIC_COMPONENT}function resolveAsset(a,n,r=!0,s=!1){const l=currentRenderingInstance||currentInstance;if(l){const u=l.type;if(a===COMPONENTS){const f=getComponentName(u,!1);if(f&&(f===n||f===camelize(n)||f===capitalize(camelize(n))))return u}const c=resolve(l[a]||u[a],n)||resolve(l.appContext[a],n);return!c&&s?u:c}}function resolve(a,n){return a&&(a[n]||a[camelize(n)]||a[capitalize(camelize(n))])}function renderList(a,n,r,s){let l;const u=r&&r[s];if(isArray$4(a)||isString$3(a)){l=new Array(a.length);for(let c=0,f=a.length;c<f;c++)l[c]=n(a[c],c,void 0,u&&u[c])}else if(typeof a=="number"){l=new Array(a);for(let c=0;c<a;c++)l[c]=n(c+1,c,void 0,u&&u[c])}else if(isObject$5(a))if(a[Symbol.iterator])l=Array.from(a,(c,f)=>n(c,f,void 0,u&&u[f]));else{const c=Object.keys(a);l=new Array(c.length);for(let f=0,d=c.length;f<d;f++){const v=c[f];l[f]=n(a[v],v,f,u&&u[f])}}else l=[];return r&&(r[s]=l),l}function renderSlot(a,n,r={},s,l){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode$1("slot",n==="default"?null:{name:n},s&&s());let u=a[n];u&&u._c&&(u._d=!1),openBlock();const c=u&&ensureValidVNode(u(r)),f=createBlock(Fragment,{key:r.key||`_${n}`},c||(s?s():[]),c&&a._===1?64:-2);return!l&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),u&&u._c&&(u._d=!0),f}function ensureValidVNode(a){return a.some(n=>isVNode(n)?!(n.type===Comment||n.type===Fragment&&!ensureValidVNode(n.children)):!0)?a:null}const getPublicInstance=a=>a?isStatefulComponent(a)?getExposeProxy(a)||a.proxy:getPublicInstance(a.parent):null,publicPropertiesMap=extend$2(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>getPublicInstance(a.parent),$root:a=>getPublicInstance(a.root),$emit:a=>a.emit,$options:a=>resolveMergedOptions(a),$forceUpdate:a=>a.f||(a.f=()=>queueJob(a.update)),$nextTick:a=>a.n||(a.n=nextTick.bind(a.proxy)),$watch:a=>instanceWatch.bind(a)}),PublicInstanceProxyHandlers={get({_:a},n){const{ctx:r,setupState:s,data:l,props:u,accessCache:c,type:f,appContext:d}=a;let v;if(n[0]!=="$"){const S=c[n];if(S!==void 0)switch(S){case 1:return s[n];case 2:return l[n];case 4:return r[n];case 3:return u[n]}else{if(s!==EMPTY_OBJ$1&&hasOwn$1(s,n))return c[n]=1,s[n];if(l!==EMPTY_OBJ$1&&hasOwn$1(l,n))return c[n]=2,l[n];if((v=a.propsOptions[0])&&hasOwn$1(v,n))return c[n]=3,u[n];if(r!==EMPTY_OBJ$1&&hasOwn$1(r,n))return c[n]=4,r[n];shouldCacheAccess&&(c[n]=0)}}const g=publicPropertiesMap[n];let y,_;if(g)return n==="$attrs"&&track(a,"get",n),g(a);if((y=f.__cssModules)&&(y=y[n]))return y;if(r!==EMPTY_OBJ$1&&hasOwn$1(r,n))return c[n]=4,r[n];if(_=d.config.globalProperties,hasOwn$1(_,n))return _[n]},set({_:a},n,r){const{data:s,setupState:l,ctx:u}=a;return l!==EMPTY_OBJ$1&&hasOwn$1(l,n)?(l[n]=r,!0):s!==EMPTY_OBJ$1&&hasOwn$1(s,n)?(s[n]=r,!0):hasOwn$1(a.props,n)||n[0]==="$"&&n.slice(1)in a?!1:(u[n]=r,!0)},has({_:{data:a,setupState:n,accessCache:r,ctx:s,appContext:l,propsOptions:u}},c){let f;return!!r[c]||a!==EMPTY_OBJ$1&&hasOwn$1(a,c)||n!==EMPTY_OBJ$1&&hasOwn$1(n,c)||(f=u[0])&&hasOwn$1(f,c)||hasOwn$1(s,c)||hasOwn$1(publicPropertiesMap,c)||hasOwn$1(l.config.globalProperties,c)},defineProperty(a,n,r){return r.get!=null?a._.accessCache[n]=0:hasOwn$1(r,"value")&&this.set(a,n,r.value,null),Reflect.defineProperty(a,n,r)}};let shouldCacheAccess=!0;function applyOptions(a){const n=resolveMergedOptions(a),r=a.proxy,s=a.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook$1(n.beforeCreate,a,"bc");const{data:l,computed:u,methods:c,watch:f,provide:d,inject:v,created:g,beforeMount:y,mounted:_,beforeUpdate:S,updated:x,activated:A,deactivated:b,beforeDestroy:w,beforeUnmount:E,destroyed:M,unmounted:P,render:R,renderTracked:I,renderTriggered:L,errorCaptured:O,serverPrefetch:N,expose:B,inheritAttrs:F,components:V,directives:z,filters:U}=n;if(v&&resolveInjections(v,s,null,a.appContext.config.unwrapInjectedRef),c)for(const Q in c){const j=c[Q];isFunction$2(j)&&(s[Q]=j.bind(r))}if(l){const Q=l.call(r,r);isObject$5(Q)&&(a.data=reactive(Q))}if(shouldCacheAccess=!0,u)for(const Q in u){const j=u[Q],ne=isFunction$2(j)?j.bind(r,r):isFunction$2(j.get)?j.get.bind(r,r):NOOP,fe=!isFunction$2(j)&&isFunction$2(j.set)?j.set.bind(r):NOOP,de=computed({get:ne,set:fe});Object.defineProperty(s,Q,{enumerable:!0,configurable:!0,get:()=>de.value,set:be=>de.value=be})}if(f)for(const Q in f)createWatcher(f[Q],s,r,Q);if(d){const Q=isFunction$2(d)?d.call(r):d;Reflect.ownKeys(Q).forEach(j=>{provide(j,Q[j])})}g&&callHook$1(g,a,"c");function q(Q,j){isArray$4(j)?j.forEach(ne=>Q(ne.bind(r))):j&&Q(j.bind(r))}if(q(onBeforeMount,y),q(onMounted,_),q(onBeforeUpdate,S),q(onUpdated,x),q(onActivated,A),q(onDeactivated,b),q(onErrorCaptured,O),q(onRenderTracked,I),q(onRenderTriggered,L),q(onBeforeUnmount,E),q(onUnmounted,P),q(onServerPrefetch,N),isArray$4(B))if(B.length){const Q=a.exposed||(a.exposed={});B.forEach(j=>{Object.defineProperty(Q,j,{get:()=>r[j],set:ne=>r[j]=ne})})}else a.exposed||(a.exposed={});R&&a.render===NOOP&&(a.render=R),F!=null&&(a.inheritAttrs=F),V&&(a.components=V),z&&(a.directives=z)}function resolveInjections(a,n,r=NOOP,s=!1){isArray$4(a)&&(a=normalizeInject(a));for(const l in a){const u=a[l];let c;isObject$5(u)?"default"in u?c=inject(u.from||l,u.default,!0):c=inject(u.from||l):c=inject(u),isRef(c)&&s?Object.defineProperty(n,l,{enumerable:!0,configurable:!0,get:()=>c.value,set:f=>c.value=f}):n[l]=c}}function callHook$1(a,n,r){callWithAsyncErrorHandling(isArray$4(a)?a.map(s=>s.bind(n.proxy)):a.bind(n.proxy),n,r)}function createWatcher(a,n,r,s){const l=s.includes(".")?createPathGetter(r,s):()=>r[s];if(isString$3(a)){const u=n[a];isFunction$2(u)&&watch(l,u)}else if(isFunction$2(a))watch(l,a.bind(r));else if(isObject$5(a))if(isArray$4(a))a.forEach(u=>createWatcher(u,n,r,s));else{const u=isFunction$2(a.handler)?a.handler.bind(r):n[a.handler];isFunction$2(u)&&watch(l,u,a)}}function resolveMergedOptions(a){const n=a.type,{mixins:r,extends:s}=n,{mixins:l,optionsCache:u,config:{optionMergeStrategies:c}}=a.appContext,f=u.get(n);let d;return f?d=f:!l.length&&!r&&!s?d=n:(d={},l.length&&l.forEach(v=>mergeOptions$1(d,v,c,!0)),mergeOptions$1(d,n,c)),u.set(n,d),d}function mergeOptions$1(a,n,r,s=!1){const{mixins:l,extends:u}=n;u&&mergeOptions$1(a,u,r,!0),l&&l.forEach(c=>mergeOptions$1(a,c,r,!0));for(const c in n)if(!(s&&c==="expose")){const f=internalOptionMergeStrats[c]||r&&r[c];a[c]=f?f(a[c],n[c]):n[c]}return a}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(a,n){return n?a?function(){return extend$2(isFunction$2(a)?a.call(this,this):a,isFunction$2(n)?n.call(this,this):n)}:n:a}function mergeInject(a,n){return mergeObjectOptions(normalizeInject(a),normalizeInject(n))}function normalizeInject(a){if(isArray$4(a)){const n={};for(let r=0;r<a.length;r++)n[a[r]]=a[r];return n}return a}function mergeAsArray(a,n){return a?[...new Set([].concat(a,n))]:n}function mergeObjectOptions(a,n){return a?extend$2(extend$2(Object.create(null),a),n):n}function mergeWatchOptions(a,n){if(!a)return n;if(!n)return a;const r=extend$2(Object.create(null),a);for(const s in n)r[s]=mergeAsArray(a[s],n[s]);return r}function initProps$1(a,n,r,s=!1){const l={},u={};def(u,InternalObjectKey,1),a.propsDefaults=Object.create(null),setFullProps(a,n,l,u);for(const c in a.propsOptions[0])c in l||(l[c]=void 0);r?a.props=s?l:shallowReactive(l):a.type.props?a.props=l:a.props=u,a.attrs=u}function updateProps$2(a,n,r,s){const{props:l,attrs:u,vnode:{patchFlag:c}}=a,f=toRaw(l),[d]=a.propsOptions;let v=!1;if((s||c>0)&&!(c&16)){if(c&8){const g=a.vnode.dynamicProps;for(let y=0;y<g.length;y++){let _=g[y];if(isEmitListener(a.emitsOptions,_))continue;const S=n[_];if(d)if(hasOwn$1(u,_))S!==u[_]&&(u[_]=S,v=!0);else{const x=camelize(_);l[x]=resolvePropValue(d,f,x,S,a,!1)}else S!==u[_]&&(u[_]=S,v=!0)}}}else{setFullProps(a,n,l,u)&&(v=!0);let g;for(const y in f)(!n||!hasOwn$1(n,y)&&((g=hyphenate(y))===y||!hasOwn$1(n,g)))&&(d?r&&(r[y]!==void 0||r[g]!==void 0)&&(l[y]=resolvePropValue(d,f,y,void 0,a,!0)):delete l[y]);if(u!==f)for(const y in u)(!n||!hasOwn$1(n,y)&&!0)&&(delete u[y],v=!0)}v&&trigger$2(a,"set","$attrs")}function setFullProps(a,n,r,s){const[l,u]=a.propsOptions;let c=!1,f;if(n)for(let d in n){if(isReservedProp(d))continue;const v=n[d];let g;l&&hasOwn$1(l,g=camelize(d))?!u||!u.includes(g)?r[g]=v:(f||(f={}))[g]=v:isEmitListener(a.emitsOptions,d)||(!(d in s)||v!==s[d])&&(s[d]=v,c=!0)}if(u){const d=toRaw(r),v=f||EMPTY_OBJ$1;for(let g=0;g<u.length;g++){const y=u[g];r[y]=resolvePropValue(l,d,y,v[y],a,!hasOwn$1(v,y))}}return c}function resolvePropValue(a,n,r,s,l,u){const c=a[r];if(c!=null){const f=hasOwn$1(c,"default");if(f&&s===void 0){const d=c.default;if(c.type!==Function&&isFunction$2(d)){const{propsDefaults:v}=l;r in v?s=v[r]:(setCurrentInstance(l),s=v[r]=d.call(null,n),unsetCurrentInstance())}else s=d}c[0]&&(u&&!f?s=!1:c[1]&&(s===""||s===hyphenate(r))&&(s=!0))}return s}function normalizePropsOptions(a,n,r=!1){const s=n.propsCache,l=s.get(a);if(l)return l;const u=a.props,c={},f=[];let d=!1;if(!isFunction$2(a)){const g=y=>{d=!0;const[_,S]=normalizePropsOptions(y,n,!0);extend$2(c,_),S&&f.push(...S)};!r&&n.mixins.length&&n.mixins.forEach(g),a.extends&&g(a.extends),a.mixins&&a.mixins.forEach(g)}if(!u&&!d)return s.set(a,EMPTY_ARR),EMPTY_ARR;if(isArray$4(u))for(let g=0;g<u.length;g++){const y=camelize(u[g]);validatePropName(y)&&(c[y]=EMPTY_OBJ$1)}else if(u)for(const g in u){const y=camelize(g);if(validatePropName(y)){const _=u[g],S=c[y]=isArray$4(_)||isFunction$2(_)?{type:_}:_;if(S){const x=getTypeIndex(Boolean,S.type),A=getTypeIndex(String,S.type);S[0]=x>-1,S[1]=A<0||x<A,(x>-1||hasOwn$1(S,"default"))&&f.push(y)}}}const v=[c,f];return s.set(a,v),v}function validatePropName(a){return a[0]!=="$"}function getType(a){const n=a&&a.toString().match(/^\s*function (\w+)/);return n?n[1]:a===null?"null":""}function isSameType(a,n){return getType(a)===getType(n)}function getTypeIndex(a,n){return isArray$4(n)?n.findIndex(r=>isSameType(r,a)):isFunction$2(n)&&isSameType(n,a)?0:-1}const isInternalKey=a=>a[0]==="_"||a==="$stable",normalizeSlotValue=a=>isArray$4(a)?a.map(normalizeVNode):[normalizeVNode(a)],normalizeSlot$1=(a,n,r)=>{if(n._n)return n;const s=withCtx((...l)=>normalizeSlotValue(n(...l)),r);return s._c=!1,s},normalizeObjectSlots=(a,n,r)=>{const s=a._ctx;for(const l in a){if(isInternalKey(l))continue;const u=a[l];if(isFunction$2(u))n[l]=normalizeSlot$1(l,u,s);else if(u!=null){const c=normalizeSlotValue(u);n[l]=()=>c}}},normalizeVNodeSlots=(a,n)=>{const r=normalizeSlotValue(n);a.slots.default=()=>r},initSlots=(a,n)=>{if(a.vnode.shapeFlag&32){const r=n._;r?(a.slots=toRaw(n),def(n,"_",r)):normalizeObjectSlots(n,a.slots={})}else a.slots={},n&&normalizeVNodeSlots(a,n);def(a.slots,InternalObjectKey,1)},updateSlots=(a,n,r)=>{const{vnode:s,slots:l}=a;let u=!0,c=EMPTY_OBJ$1;if(s.shapeFlag&32){const f=n._;f?r&&f===1?u=!1:(extend$2(l,n),!r&&f===1&&delete l._):(u=!n.$stable,normalizeObjectSlots(n,l)),c=n}else n&&(normalizeVNodeSlots(a,n),c={default:1});if(u)for(const f in l)!isInternalKey(f)&&!(f in c)&&delete l[f]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(a,n){return function(s,l=null){isFunction$2(s)||(s=Object.assign({},s)),l!=null&&!isObject$5(l)&&(l=null);const u=createAppContext(),c=new Set;let f=!1;const d=u.app={_uid:uid++,_component:s,_props:l,_container:null,_context:u,_instance:null,version,get config(){return u.config},set config(v){},use(v,...g){return c.has(v)||(v&&isFunction$2(v.install)?(c.add(v),v.install(d,...g)):isFunction$2(v)&&(c.add(v),v(d,...g))),d},mixin(v){return u.mixins.includes(v)||u.mixins.push(v),d},component(v,g){return g?(u.components[v]=g,d):u.components[v]},directive(v,g){return g?(u.directives[v]=g,d):u.directives[v]},mount(v,g,y){if(!f){const _=createVNode$1(s,l);return _.appContext=u,g&&n?n(_,v):a(_,v,y),f=!0,d._container=v,v.__vue_app__=d,getExposeProxy(_.component)||_.component.proxy}},unmount(){f&&(a(null,d._container),delete d._container.__vue_app__)},provide(v,g){return u.provides[v]=g,d}};return d}}function setRef(a,n,r,s,l=!1){if(isArray$4(a)){a.forEach((_,S)=>setRef(_,n&&(isArray$4(n)?n[S]:n),r,s,l));return}if(isAsyncWrapper(s)&&!l)return;const u=s.shapeFlag&4?getExposeProxy(s.component)||s.component.proxy:s.el,c=l?null:u,{i:f,r:d}=a,v=n&&n.r,g=f.refs===EMPTY_OBJ$1?f.refs={}:f.refs,y=f.setupState;if(v!=null&&v!==d&&(isString$3(v)?(g[v]=null,hasOwn$1(y,v)&&(y[v]=null)):isRef(v)&&(v.value=null)),isFunction$2(d))callWithErrorHandling(d,f,12,[c,g]);else{const _=isString$3(d),S=isRef(d);if(_||S){const x=()=>{if(a.f){const A=_?g[d]:d.value;l?isArray$4(A)&&remove(A,u):isArray$4(A)?A.includes(u)||A.push(u):_?(g[d]=[u],hasOwn$1(y,d)&&(y[d]=g[d])):(d.value=[u],a.k&&(g[a.k]=d.value))}else _?(g[d]=c,hasOwn$1(y,d)&&(y[d]=c)):S&&(d.value=c,a.k&&(g[a.k]=c))};c?(x.id=-1,queuePostRenderEffect(x,r)):x()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(a){return baseCreateRenderer(a)}function baseCreateRenderer(a,n){const r=getGlobalThis();r.__VUE__=!0;const{insert:s,remove:l,patchProp:u,createElement:c,createText:f,createComment:d,setText:v,setElementText:g,parentNode:y,nextSibling:_,setScopeId:S=NOOP,cloneNode:x,insertStaticContent:A}=a,b=(Z,X,re,ce=null,le=null,Te=null,Ce=!1,Ae=null,xe=!!X.dynamicChildren)=>{if(Z===X)return;Z&&!isSameVNodeType(Z,X)&&(ce=ue(Z),Me(Z,le,Te,!0),Z=null),X.patchFlag===-2&&(xe=!1,X.dynamicChildren=null);const{type:_e,ref:Le,shapeFlag:ie}=X;switch(_e){case Text:w(Z,X,re,ce);break;case Comment:E(Z,X,re,ce);break;case Static:Z==null&&M(X,re,ce,Ce);break;case Fragment:z(Z,X,re,ce,le,Te,Ce,Ae,xe);break;default:ie&1?I(Z,X,re,ce,le,Te,Ce,Ae,xe):ie&6?U(Z,X,re,ce,le,Te,Ce,Ae,xe):(ie&64||ie&128)&&_e.process(Z,X,re,ce,le,Te,Ce,Ae,xe,$e)}Le!=null&&le&&setRef(Le,Z&&Z.ref,Te,X||Z,!X)},w=(Z,X,re,ce)=>{if(Z==null)s(X.el=f(X.children),re,ce);else{const le=X.el=Z.el;X.children!==Z.children&&v(le,X.children)}},E=(Z,X,re,ce)=>{Z==null?s(X.el=d(X.children||""),re,ce):X.el=Z.el},M=(Z,X,re,ce)=>{[Z.el,Z.anchor]=A(Z.children,X,re,ce,Z.el,Z.anchor)},P=({el:Z,anchor:X},re,ce)=>{let le;for(;Z&&Z!==X;)le=_(Z),s(Z,re,ce),Z=le;s(X,re,ce)},R=({el:Z,anchor:X})=>{let re;for(;Z&&Z!==X;)re=_(Z),l(Z),Z=re;l(X)},I=(Z,X,re,ce,le,Te,Ce,Ae,xe)=>{Ce=Ce||X.type==="svg",Z==null?L(X,re,ce,le,Te,Ce,Ae,xe):B(Z,X,le,Te,Ce,Ae,xe)},L=(Z,X,re,ce,le,Te,Ce,Ae)=>{let xe,_e;const{type:Le,props:ie,shapeFlag:we,transition:Oe,patchFlag:Fe,dirs:We}=Z;if(Z.el&&x!==void 0&&Fe===-1)xe=Z.el=x(Z.el);else{if(xe=Z.el=c(Z.type,Te,ie&&ie.is,ie),we&8?g(xe,Z.children):we&16&&N(Z.children,xe,null,ce,le,Te&&Le!=="foreignObject",Ce,Ae),We&&invokeDirectiveHook(Z,null,ce,"created"),ie){for(const Je in ie)Je!=="value"&&!isReservedProp(Je)&&u(xe,Je,null,ie[Je],Te,Z.children,ce,le,se);"value"in ie&&u(xe,"value",null,ie.value),(_e=ie.onVnodeBeforeMount)&&invokeVNodeHook(_e,ce,Z)}O(xe,Z,Z.scopeId,Ce,ce)}We&&invokeDirectiveHook(Z,null,ce,"beforeMount");const Xe=(!le||le&&!le.pendingBranch)&&Oe&&!Oe.persisted;Xe&&Oe.beforeEnter(xe),s(xe,X,re),((_e=ie&&ie.onVnodeMounted)||Xe||We)&&queuePostRenderEffect(()=>{_e&&invokeVNodeHook(_e,ce,Z),Xe&&Oe.enter(xe),We&&invokeDirectiveHook(Z,null,ce,"mounted")},le)},O=(Z,X,re,ce,le)=>{if(re&&S(Z,re),ce)for(let Te=0;Te<ce.length;Te++)S(Z,ce[Te]);if(le){let Te=le.subTree;if(X===Te){const Ce=le.vnode;O(Z,Ce,Ce.scopeId,Ce.slotScopeIds,le.parent)}}},N=(Z,X,re,ce,le,Te,Ce,Ae,xe=0)=>{for(let _e=xe;_e<Z.length;_e++){const Le=Z[_e]=Ae?cloneIfMounted(Z[_e]):normalizeVNode(Z[_e]);b(null,Le,X,re,ce,le,Te,Ce,Ae)}},B=(Z,X,re,ce,le,Te,Ce)=>{const Ae=X.el=Z.el;let{patchFlag:xe,dynamicChildren:_e,dirs:Le}=X;xe|=Z.patchFlag&16;const ie=Z.props||EMPTY_OBJ$1,we=X.props||EMPTY_OBJ$1;let Oe;re&&toggleRecurse(re,!1),(Oe=we.onVnodeBeforeUpdate)&&invokeVNodeHook(Oe,re,X,Z),Le&&invokeDirectiveHook(X,Z,re,"beforeUpdate"),re&&toggleRecurse(re,!0);const Fe=le&&X.type!=="foreignObject";if(_e?F(Z.dynamicChildren,_e,Ae,re,ce,Fe,Te):Ce||ne(Z,X,Ae,null,re,ce,Fe,Te,!1),xe>0){if(xe&16)V(Ae,X,ie,we,re,ce,le);else if(xe&2&&ie.class!==we.class&&u(Ae,"class",null,we.class,le),xe&4&&u(Ae,"style",ie.style,we.style,le),xe&8){const We=X.dynamicProps;for(let Xe=0;Xe<We.length;Xe++){const Je=We[Xe],yt=ie[Je],Wt=we[Je];(Wt!==yt||Je==="value")&&u(Ae,Je,yt,Wt,le,Z.children,re,ce,se)}}xe&1&&Z.children!==X.children&&g(Ae,X.children)}else!Ce&&_e==null&&V(Ae,X,ie,we,re,ce,le);((Oe=we.onVnodeUpdated)||Le)&&queuePostRenderEffect(()=>{Oe&&invokeVNodeHook(Oe,re,X,Z),Le&&invokeDirectiveHook(X,Z,re,"updated")},ce)},F=(Z,X,re,ce,le,Te,Ce)=>{for(let Ae=0;Ae<X.length;Ae++){const xe=Z[Ae],_e=X[Ae],Le=xe.el&&(xe.type===Fragment||!isSameVNodeType(xe,_e)||xe.shapeFlag&70)?y(xe.el):re;b(xe,_e,Le,null,ce,le,Te,Ce,!0)}},V=(Z,X,re,ce,le,Te,Ce)=>{if(re!==ce){for(const Ae in ce){if(isReservedProp(Ae))continue;const xe=ce[Ae],_e=re[Ae];xe!==_e&&Ae!=="value"&&u(Z,Ae,_e,xe,Ce,X.children,le,Te,se)}if(re!==EMPTY_OBJ$1)for(const Ae in re)!isReservedProp(Ae)&&!(Ae in ce)&&u(Z,Ae,re[Ae],null,Ce,X.children,le,Te,se);"value"in ce&&u(Z,"value",re.value,ce.value)}},z=(Z,X,re,ce,le,Te,Ce,Ae,xe)=>{const _e=X.el=Z?Z.el:f(""),Le=X.anchor=Z?Z.anchor:f("");let{patchFlag:ie,dynamicChildren:we,slotScopeIds:Oe}=X;Oe&&(Ae=Ae?Ae.concat(Oe):Oe),Z==null?(s(_e,re,ce),s(Le,re,ce),N(X.children,re,Le,le,Te,Ce,Ae,xe)):ie>0&&ie&64&&we&&Z.dynamicChildren?(F(Z.dynamicChildren,we,re,le,Te,Ce,Ae),(X.key!=null||le&&X===le.subTree)&&traverseStaticChildren(Z,X,!0)):ne(Z,X,re,Le,le,Te,Ce,Ae,xe)},U=(Z,X,re,ce,le,Te,Ce,Ae,xe)=>{X.slotScopeIds=Ae,Z==null?X.shapeFlag&512?le.ctx.activate(X,re,ce,Ce,xe):Y(X,re,ce,le,Te,Ce,xe):q(Z,X,xe)},Y=(Z,X,re,ce,le,Te,Ce)=>{const Ae=Z.component=createComponentInstance(Z,ce,le);if(isKeepAlive(Z)&&(Ae.ctx.renderer=$e),setupComponent(Ae),Ae.asyncDep){if(le&&le.registerDep(Ae,Q),!Z.el){const xe=Ae.subTree=createVNode$1(Comment);E(null,xe,X,re)}return}Q(Ae,Z,X,re,le,Te,Ce)},q=(Z,X,re)=>{const ce=X.component=Z.component;if(shouldUpdateComponent(Z,X,re))if(ce.asyncDep&&!ce.asyncResolved){j(ce,X,re);return}else ce.next=X,invalidateJob(ce.update),ce.update();else X.el=Z.el,ce.vnode=X},Q=(Z,X,re,ce,le,Te,Ce)=>{const Ae=()=>{if(Z.isMounted){let{next:Le,bu:ie,u:we,parent:Oe,vnode:Fe}=Z,We=Le,Xe;toggleRecurse(Z,!1),Le?(Le.el=Fe.el,j(Z,Le,Ce)):Le=Fe,ie&&invokeArrayFns(ie),(Xe=Le.props&&Le.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Xe,Oe,Le,Fe),toggleRecurse(Z,!0);const Je=renderComponentRoot(Z),yt=Z.subTree;Z.subTree=Je,b(yt,Je,y(yt.el),ue(yt),Z,le,Te),Le.el=Je.el,We===null&&updateHOCHostEl(Z,Je.el),we&&queuePostRenderEffect(we,le),(Xe=Le.props&&Le.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Xe,Oe,Le,Fe),le)}else{let Le;const{el:ie,props:we}=X,{bm:Oe,m:Fe,parent:We}=Z,Xe=isAsyncWrapper(X);if(toggleRecurse(Z,!1),Oe&&invokeArrayFns(Oe),!Xe&&(Le=we&&we.onVnodeBeforeMount)&&invokeVNodeHook(Le,We,X),toggleRecurse(Z,!0),ie&&ye){const Je=()=>{Z.subTree=renderComponentRoot(Z),ye(ie,Z.subTree,Z,le,null)};Xe?X.type.__asyncLoader().then(()=>!Z.isUnmounted&&Je()):Je()}else{const Je=Z.subTree=renderComponentRoot(Z);b(null,Je,re,ce,Z,le,Te),X.el=Je.el}if(Fe&&queuePostRenderEffect(Fe,le),!Xe&&(Le=we&&we.onVnodeMounted)){const Je=X;queuePostRenderEffect(()=>invokeVNodeHook(Le,We,Je),le)}(X.shapeFlag&256||We&&isAsyncWrapper(We.vnode)&&We.vnode.shapeFlag&256)&&Z.a&&queuePostRenderEffect(Z.a,le),Z.isMounted=!0,X=re=ce=null}},xe=Z.effect=new ReactiveEffect(Ae,()=>queueJob(_e),Z.scope),_e=Z.update=()=>xe.run();_e.id=Z.uid,toggleRecurse(Z,!0),_e()},j=(Z,X,re)=>{X.component=Z;const ce=Z.vnode.props;Z.vnode=X,Z.next=null,updateProps$2(Z,X.props,ce,re),updateSlots(Z,X.children,re),pauseTracking(),flushPreFlushCbs(void 0,Z.update),resetTracking()},ne=(Z,X,re,ce,le,Te,Ce,Ae,xe=!1)=>{const _e=Z&&Z.children,Le=Z?Z.shapeFlag:0,ie=X.children,{patchFlag:we,shapeFlag:Oe}=X;if(we>0){if(we&128){de(_e,ie,re,ce,le,Te,Ce,Ae,xe);return}else if(we&256){fe(_e,ie,re,ce,le,Te,Ce,Ae,xe);return}}Oe&8?(Le&16&&se(_e,le,Te),ie!==_e&&g(re,ie)):Le&16?Oe&16?de(_e,ie,re,ce,le,Te,Ce,Ae,xe):se(_e,le,Te,!0):(Le&8&&g(re,""),Oe&16&&N(ie,re,ce,le,Te,Ce,Ae,xe))},fe=(Z,X,re,ce,le,Te,Ce,Ae,xe)=>{Z=Z||EMPTY_ARR,X=X||EMPTY_ARR;const _e=Z.length,Le=X.length,ie=Math.min(_e,Le);let we;for(we=0;we<ie;we++){const Oe=X[we]=xe?cloneIfMounted(X[we]):normalizeVNode(X[we]);b(Z[we],Oe,re,null,le,Te,Ce,Ae,xe)}_e>Le?se(Z,le,Te,!0,!1,ie):N(X,re,ce,le,Te,Ce,Ae,xe,ie)},de=(Z,X,re,ce,le,Te,Ce,Ae,xe)=>{let _e=0;const Le=X.length;let ie=Z.length-1,we=Le-1;for(;_e<=ie&&_e<=we;){const Oe=Z[_e],Fe=X[_e]=xe?cloneIfMounted(X[_e]):normalizeVNode(X[_e]);if(isSameVNodeType(Oe,Fe))b(Oe,Fe,re,null,le,Te,Ce,Ae,xe);else break;_e++}for(;_e<=ie&&_e<=we;){const Oe=Z[ie],Fe=X[we]=xe?cloneIfMounted(X[we]):normalizeVNode(X[we]);if(isSameVNodeType(Oe,Fe))b(Oe,Fe,re,null,le,Te,Ce,Ae,xe);else break;ie--,we--}if(_e>ie){if(_e<=we){const Oe=we+1,Fe=Oe<Le?X[Oe].el:ce;for(;_e<=we;)b(null,X[_e]=xe?cloneIfMounted(X[_e]):normalizeVNode(X[_e]),re,Fe,le,Te,Ce,Ae,xe),_e++}}else if(_e>we)for(;_e<=ie;)Me(Z[_e],le,Te,!0),_e++;else{const Oe=_e,Fe=_e,We=new Map;for(_e=Fe;_e<=we;_e++){const dt=X[_e]=xe?cloneIfMounted(X[_e]):normalizeVNode(X[_e]);dt.key!=null&&We.set(dt.key,_e)}let Xe,Je=0;const yt=we-Fe+1;let Wt=!1,Ar=0;const Xt=new Array(yt);for(_e=0;_e<yt;_e++)Xt[_e]=0;for(_e=Oe;_e<=ie;_e++){const dt=Z[_e];if(Je>=yt){Me(dt,le,Te,!0);continue}let Tt;if(dt.key!=null)Tt=We.get(dt.key);else for(Xe=Fe;Xe<=we;Xe++)if(Xt[Xe-Fe]===0&&isSameVNodeType(dt,X[Xe])){Tt=Xe;break}Tt===void 0?Me(dt,le,Te,!0):(Xt[Tt-Fe]=_e+1,Tt>=Ar?Ar=Tt:Wt=!0,b(dt,X[Tt],re,null,le,Te,Ce,Ae,xe),Je++)}const br=Wt?getSequence(Xt):EMPTY_ARR;for(Xe=br.length-1,_e=yt-1;_e>=0;_e--){const dt=Fe+_e,Tt=X[dt],en=dt+1<Le?X[dt+1].el:ce;Xt[_e]===0?b(null,Tt,re,en,le,Te,Ce,Ae,xe):Wt&&(Xe<0||_e!==br[Xe]?be(Tt,re,en,2):Xe--)}}},be=(Z,X,re,ce,le=null)=>{const{el:Te,type:Ce,transition:Ae,children:xe,shapeFlag:_e}=Z;if(_e&6){be(Z.component.subTree,X,re,ce);return}if(_e&128){Z.suspense.move(X,re,ce);return}if(_e&64){Ce.move(Z,X,re,$e);return}if(Ce===Fragment){s(Te,X,re);for(let ie=0;ie<xe.length;ie++)be(xe[ie],X,re,ce);s(Z.anchor,X,re);return}if(Ce===Static){P(Z,X,re);return}if(ce!==2&&_e&1&&Ae)if(ce===0)Ae.beforeEnter(Te),s(Te,X,re),queuePostRenderEffect(()=>Ae.enter(Te),le);else{const{leave:ie,delayLeave:we,afterLeave:Oe}=Ae,Fe=()=>s(Te,X,re),We=()=>{ie(Te,()=>{Fe(),Oe&&Oe()})};we?we(Te,Fe,We):We()}else s(Te,X,re)},Me=(Z,X,re,ce=!1,le=!1)=>{const{type:Te,props:Ce,ref:Ae,children:xe,dynamicChildren:_e,shapeFlag:Le,patchFlag:ie,dirs:we}=Z;if(Ae!=null&&setRef(Ae,null,re,Z,!0),Le&256){X.ctx.deactivate(Z);return}const Oe=Le&1&&we,Fe=!isAsyncWrapper(Z);let We;if(Fe&&(We=Ce&&Ce.onVnodeBeforeUnmount)&&invokeVNodeHook(We,X,Z),Le&6)me(Z.component,re,ce);else{if(Le&128){Z.suspense.unmount(re,ce);return}Oe&&invokeDirectiveHook(Z,null,X,"beforeUnmount"),Le&64?Z.type.remove(Z,X,re,le,$e,ce):_e&&(Te!==Fragment||ie>0&&ie&64)?se(_e,X,re,!1,!0):(Te===Fragment&&ie&384||!le&&Le&16)&&se(xe,X,re),ce&&Pe(Z)}(Fe&&(We=Ce&&Ce.onVnodeUnmounted)||Oe)&&queuePostRenderEffect(()=>{We&&invokeVNodeHook(We,X,Z),Oe&&invokeDirectiveHook(Z,null,X,"unmounted")},re)},Pe=Z=>{const{type:X,el:re,anchor:ce,transition:le}=Z;if(X===Fragment){ae(re,ce);return}if(X===Static){R(Z);return}const Te=()=>{l(re),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(Z.shapeFlag&1&&le&&!le.persisted){const{leave:Ce,delayLeave:Ae}=le,xe=()=>Ce(re,Te);Ae?Ae(Z.el,Te,xe):xe()}else Te()},ae=(Z,X)=>{let re;for(;Z!==X;)re=_(Z),l(Z),Z=re;l(X)},me=(Z,X,re)=>{const{bum:ce,scope:le,update:Te,subTree:Ce,um:Ae}=Z;ce&&invokeArrayFns(ce),le.stop(),Te&&(Te.active=!1,Me(Ce,Z,X,re)),Ae&&queuePostRenderEffect(Ae,X),queuePostRenderEffect(()=>{Z.isUnmounted=!0},X),X&&X.pendingBranch&&!X.isUnmounted&&Z.asyncDep&&!Z.asyncResolved&&Z.suspenseId===X.pendingId&&(X.deps--,X.deps===0&&X.resolve())},se=(Z,X,re,ce=!1,le=!1,Te=0)=>{for(let Ce=Te;Ce<Z.length;Ce++)Me(Z[Ce],X,re,ce,le)},ue=Z=>Z.shapeFlag&6?ue(Z.component.subTree):Z.shapeFlag&128?Z.suspense.next():_(Z.anchor||Z.el),Ee=(Z,X,re)=>{Z==null?X._vnode&&Me(X._vnode,null,null,!0):b(X._vnode||null,Z,X,null,null,null,re),flushPostFlushCbs(),X._vnode=Z},$e={p:b,um:Me,m:be,r:Pe,mt:Y,mc:N,pc:ne,pbc:F,n:ue,o:a};let pe,ye;return n&&([pe,ye]=n($e)),{render:Ee,hydrate:pe,createApp:createAppAPI(Ee,pe)}}function toggleRecurse({effect:a,update:n},r){a.allowRecurse=n.allowRecurse=r}function traverseStaticChildren(a,n,r=!1){const s=a.children,l=n.children;if(isArray$4(s)&&isArray$4(l))for(let u=0;u<s.length;u++){const c=s[u];let f=l[u];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=l[u]=cloneIfMounted(l[u]),f.el=c.el),r||traverseStaticChildren(c,f))}}function getSequence(a){const n=a.slice(),r=[0];let s,l,u,c,f;const d=a.length;for(s=0;s<d;s++){const v=a[s];if(v!==0){if(l=r[r.length-1],a[l]<v){n[s]=l,r.push(s);continue}for(u=0,c=r.length-1;u<c;)f=u+c>>1,a[r[f]]<v?u=f+1:c=f;v<a[r[u]]&&(u>0&&(n[s]=r[u-1]),r[u]=s)}}for(u=r.length,c=r[u-1];u-- >0;)r[u]=c,c=n[c];return r}const isTeleport=a=>a.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(a=!1){blockStack.push(currentBlock=a?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(a){isBlockTreeEnabled+=a}function setupBlock(a){return a.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(a),a}function createElementBlock(a,n,r,s,l,u){return setupBlock(createBaseVNode(a,n,r,s,l,u,!0))}function createBlock(a,n,r,s,l){return setupBlock(createVNode$1(a,n,r,s,l,!0))}function isVNode(a){return a?a.__v_isVNode===!0:!1}function isSameVNodeType(a,n){return a.type===n.type&&a.key===n.key}const InternalObjectKey="__vInternal",normalizeKey=({key:a})=>a!=null?a:null,normalizeRef=({ref:a,ref_key:n,ref_for:r})=>a!=null?isString$3(a)||isRef(a)||isFunction$2(a)?{i:currentRenderingInstance,r:a,k:n,f:!!r}:a:null;function createBaseVNode(a,n=null,r=null,s=0,l=null,u=a===Fragment?0:1,c=!1,f=!1){const d={__v_isVNode:!0,__v_skip:!0,type:a,props:n,key:n&&normalizeKey(n),ref:n&&normalizeRef(n),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:s,dynamicProps:l,dynamicChildren:null,appContext:null};return f?(normalizeChildren(d,r),u&128&&a.normalize(d)):r&&(d.shapeFlag|=isString$3(r)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(d.patchFlag>0||u&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode$1=_createVNode;function _createVNode(a,n=null,r=null,s=0,l=null,u=!1){if((!a||a===NULL_DYNAMIC_COMPONENT)&&(a=Comment),isVNode(a)){const f=cloneVNode(a,n,!0);return r&&normalizeChildren(f,r),isBlockTreeEnabled>0&&!u&&currentBlock&&(f.shapeFlag&6?currentBlock[currentBlock.indexOf(a)]=f:currentBlock.push(f)),f.patchFlag|=-2,f}if(isClassComponent(a)&&(a=a.__vccOpts),n){n=guardReactiveProps(n);let{class:f,style:d}=n;f&&!isString$3(f)&&(n.class=normalizeClass(f)),isObject$5(d)&&(isProxy(d)&&!isArray$4(d)&&(d=extend$2({},d)),n.style=normalizeStyle$1(d))}const c=isString$3(a)?1:isSuspense(a)?128:isTeleport(a)?64:isObject$5(a)?4:isFunction$2(a)?2:0;return createBaseVNode(a,n,r,s,l,c,u,!0)}function guardReactiveProps(a){return a?isProxy(a)||InternalObjectKey in a?extend$2({},a):a:null}function cloneVNode(a,n,r=!1){const{props:s,ref:l,patchFlag:u,children:c}=a,f=n?mergeProps(s||{},n):s;return{__v_isVNode:!0,__v_skip:!0,type:a.type,props:f,key:f&&normalizeKey(f),ref:n&&n.ref?r&&l?isArray$4(l)?l.concat(normalizeRef(n)):[l,normalizeRef(n)]:normalizeRef(n):l,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:c,target:a.target,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:n&&a.type!==Fragment?u===-1?16:u|16:u,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:a.transition,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&cloneVNode(a.ssContent),ssFallback:a.ssFallback&&cloneVNode(a.ssFallback),el:a.el,anchor:a.anchor}}function createTextVNode(a=" ",n=0){return createVNode$1(Text,null,a,n)}function createStaticVNode(a,n){const r=createVNode$1(Static,null,a);return r.staticCount=n,r}function createCommentVNode(a="",n=!1){return n?(openBlock(),createBlock(Comment,null,a)):createVNode$1(Comment,null,a)}function normalizeVNode(a){return a==null||typeof a=="boolean"?createVNode$1(Comment):isArray$4(a)?createVNode$1(Fragment,null,a.slice()):typeof a=="object"?cloneIfMounted(a):createVNode$1(Text,null,String(a))}function cloneIfMounted(a){return a.el===null||a.memo?a:cloneVNode(a)}function normalizeChildren(a,n){let r=0;const{shapeFlag:s}=a;if(n==null)n=null;else if(isArray$4(n))r=16;else if(typeof n=="object")if(s&65){const l=n.default;l&&(l._c&&(l._d=!1),normalizeChildren(a,l()),l._c&&(l._d=!0));return}else{r=32;const l=n._;!l&&!(InternalObjectKey in n)?n._ctx=currentRenderingInstance:l===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,a.patchFlag|=1024))}else isFunction$2(n)?(n={default:n,_ctx:currentRenderingInstance},r=32):(n=String(n),s&64?(r=16,n=[createTextVNode(n)]):r=8);a.children=n,a.shapeFlag|=r}function mergeProps(...a){const n={};for(let r=0;r<a.length;r++){const s=a[r];for(const l in s)if(l==="class")n.class!==s.class&&(n.class=normalizeClass([n.class,s.class]));else if(l==="style")n.style=normalizeStyle$1([n.style,s.style]);else if(isOn(l)){const u=n[l],c=s[l];c&&u!==c&&!(isArray$4(u)&&u.includes(c))&&(n[l]=u?[].concat(u,c):c)}else l!==""&&(n[l]=s[l])}return n}function invokeVNodeHook(a,n,r,s=null){callWithAsyncErrorHandling(a,n,7,[r,s])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(a,n,r){const s=a.type,l=(n?n.appContext:a.appContext)||emptyAppContext,u={uid:uid$1++,vnode:a,type:s,parent:n,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(s,l),emitsOptions:normalizeEmitsOptions(s,l),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$1,inheritAttrs:s.inheritAttrs,ctx:EMPTY_OBJ$1,data:EMPTY_OBJ$1,props:EMPTY_OBJ$1,attrs:EMPTY_OBJ$1,slots:EMPTY_OBJ$1,refs:EMPTY_OBJ$1,setupState:EMPTY_OBJ$1,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=n?n.root:u,u.emit=emit$1.bind(null,u),a.ce&&a.ce(u),u}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=a=>{currentInstance=a,a.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(a){return a.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(a,n=!1){isInSSRComponentSetup=n;const{props:r,children:s}=a.vnode,l=isStatefulComponent(a);initProps$1(a,r,l,n),initSlots(a,s);const u=l?setupStatefulComponent(a,n):void 0;return isInSSRComponentSetup=!1,u}function setupStatefulComponent(a,n){const r=a.type;a.accessCache=Object.create(null),a.proxy=markRaw(new Proxy(a.ctx,PublicInstanceProxyHandlers));const{setup:s}=r;if(s){const l=a.setupContext=s.length>1?createSetupContext(a):null;setCurrentInstance(a),pauseTracking();const u=callWithErrorHandling(s,a,0,[a.props,l]);if(resetTracking(),unsetCurrentInstance(),isPromise(u)){if(u.then(unsetCurrentInstance,unsetCurrentInstance),n)return u.then(c=>{handleSetupResult(a,c,n)}).catch(c=>{handleError(c,a,0)});a.asyncDep=u}else handleSetupResult(a,u,n)}else finishComponentSetup(a,n)}function handleSetupResult(a,n,r){isFunction$2(n)?a.type.__ssrInlineRender?a.ssrRender=n:a.render=n:isObject$5(n)&&(a.setupState=proxyRefs(n)),finishComponentSetup(a,r)}let compile;function finishComponentSetup(a,n,r){const s=a.type;if(!a.render){if(!n&&compile&&!s.render){const l=s.template;if(l){const{isCustomElement:u,compilerOptions:c}=a.appContext.config,{delimiters:f,compilerOptions:d}=s,v=extend$2(extend$2({isCustomElement:u,delimiters:f},c),d);s.render=compile(l,v)}}a.render=s.render||NOOP}setCurrentInstance(a),pauseTracking(),applyOptions(a),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(a){return new Proxy(a.attrs,{get(n,r){return track(a,"get","$attrs"),n[r]}})}function createSetupContext(a){const n=s=>{a.exposed=s||{}};let r;return{get attrs(){return r||(r=createAttrsProxy(a))},slots:a.slots,emit:a.emit,expose:n}}function getExposeProxy(a){if(a.exposed)return a.exposeProxy||(a.exposeProxy=new Proxy(proxyRefs(markRaw(a.exposed)),{get(n,r){if(r in n)return n[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](a)}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=a=>a.replace(classifyRE,n=>n.toUpperCase()).replace(/[-_]/g,"");function getComponentName(a,n=!0){return isFunction$2(a)?a.displayName||a.name:a.name||n&&a.__name}function formatComponentName(a,n,r=!1){let s=getComponentName(n);if(!s&&n.__file){const l=n.__file.match(/([^/\\]+)\.\w+$/);l&&(s=l[1])}if(!s&&a&&a.parent){const l=u=>{for(const c in u)if(u[c]===n)return c};s=l(a.components||a.parent.type.components)||l(a.appContext.components)}return s?classify(s):r?"App":"Anonymous"}function isClassComponent(a){return isFunction$2(a)&&"__vccOpts"in a}const computed=(a,n)=>computed$1(a,n,isInSSRComponentSetup);function useSlots(){return getContext().slots}function useAttrs$1(){return getContext().attrs}function getContext(){const a=getCurrentInstance();return a.setupContext||(a.setupContext=createSetupContext(a))}function h(a,n,r){const s=arguments.length;return s===2?isObject$5(n)&&!isArray$4(n)?isVNode(n)?createVNode$1(a,null,[n]):createVNode$1(a,n):createVNode$1(a,null,n):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&isVNode(r)&&(r=[r]),createVNode$1(a,n,r))}const version="3.2.37",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(a,n,r)=>{n.insertBefore(a,r||null)},remove:a=>{const n=a.parentNode;n&&n.removeChild(a)},createElement:(a,n,r,s)=>{const l=n?doc.createElementNS(svgNS,a):doc.createElement(a,r?{is:r}:void 0);return a==="select"&&s&&s.multiple!=null&&l.setAttribute("multiple",s.multiple),l},createText:a=>doc.createTextNode(a),createComment:a=>doc.createComment(a),setText:(a,n)=>{a.nodeValue=n},setElementText:(a,n)=>{a.textContent=n},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>doc.querySelector(a),setScopeId(a,n){a.setAttribute(n,"")},cloneNode(a){const n=a.cloneNode(!0);return"_value"in a&&(n._value=a._value),n},insertStaticContent(a,n,r,s,l,u){const c=r?r.previousSibling:n.lastChild;if(l&&(l===u||l.nextSibling))for(;n.insertBefore(l.cloneNode(!0),r),!(l===u||!(l=l.nextSibling)););else{templateContainer.innerHTML=s?`<svg>${a}</svg>`:a;const f=templateContainer.content;if(s){const d=f.firstChild;for(;d.firstChild;)f.appendChild(d.firstChild);f.removeChild(d)}n.insertBefore(f,r)}return[c?c.nextSibling:n.firstChild,r?r.previousSibling:n.lastChild]}};function patchClass(a,n,r){const s=a._vtc;s&&(n=(n?[n,...s]:[...s]).join(" ")),n==null?a.removeAttribute("class"):r?a.setAttribute("class",n):a.className=n}function patchStyle(a,n,r){const s=a.style,l=isString$3(r);if(r&&!l){for(const u in r)setStyle(s,u,r[u]);if(n&&!isString$3(n))for(const u in n)r[u]==null&&setStyle(s,u,"")}else{const u=s.display;l?n!==r&&(s.cssText=r):n&&a.removeAttribute("style"),"_vod"in a&&(s.display=u)}}const importantRE=/\s*!important$/;function setStyle(a,n,r){if(isArray$4(r))r.forEach(s=>setStyle(a,n,s));else if(r==null&&(r=""),n.startsWith("--"))a.setProperty(n,r);else{const s=autoPrefix(a,n);importantRE.test(r)?a.setProperty(hyphenate(s),r.replace(importantRE,""),"important"):a[s]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(a,n){const r=prefixCache[n];if(r)return r;let s=camelize(n);if(s!=="filter"&&s in a)return prefixCache[n]=s;s=capitalize(s);for(let l=0;l<prefixes.length;l++){const u=prefixes[l]+s;if(u in a)return prefixCache[n]=u}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(a,n,r,s,l){if(s&&n.startsWith("xlink:"))r==null?a.removeAttributeNS(xlinkNS,n.slice(6,n.length)):a.setAttributeNS(xlinkNS,n,r);else{const u=isSpecialBooleanAttr(n);r==null||u&&!includeBooleanAttr(r)?a.removeAttribute(n):a.setAttribute(n,u?"":r)}}function patchDOMProp(a,n,r,s,l,u,c){if(n==="innerHTML"||n==="textContent"){s&&c(s,l,u),a[n]=r==null?"":r;return}if(n==="value"&&a.tagName!=="PROGRESS"&&!a.tagName.includes("-")){a._value=r;const d=r==null?"":r;(a.value!==d||a.tagName==="OPTION")&&(a.value=d),r==null&&a.removeAttribute(n);return}let f=!1;if(r===""||r==null){const d=typeof a[n];d==="boolean"?r=includeBooleanAttr(r):r==null&&d==="string"?(r="",f=!0):d==="number"&&(r=0,f=!0)}try{a[n]=r}catch{}f&&a.removeAttribute(n)}const[_getNow,skipTimestampCheck]=(()=>{let a=Date.now,n=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(a=performance.now.bind(performance));const r=navigator.userAgent.match(/firefox\/(\d+)/i);n=!!(r&&Number(r[1])<=53)}return[a,n]})();let cachedNow=0;const p=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p.then(reset),cachedNow=_getNow());function addEventListener$1(a,n,r,s){a.addEventListener(n,r,s)}function removeEventListener$1(a,n,r,s){a.removeEventListener(n,r,s)}function patchEvent(a,n,r,s,l=null){const u=a._vei||(a._vei={}),c=u[n];if(s&&c)c.value=s;else{const[f,d]=parseName(n);if(s){const v=u[n]=createInvoker(s,l);addEventListener$1(a,f,v,d)}else c&&(removeEventListener$1(a,f,c,d),u[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(a){let n;if(optionsModifierRE.test(a)){n={};let r;for(;r=a.match(optionsModifierRE);)a=a.slice(0,a.length-r[0].length),n[r[0].toLowerCase()]=!0}return[hyphenate(a.slice(2)),n]}function createInvoker(a,n){const r=s=>{const l=s.timeStamp||_getNow();(skipTimestampCheck||l>=r.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(s,r.value),n,5,[s])};return r.value=a,r.attached=getNow(),r}function patchStopImmediatePropagation(a,n){if(isArray$4(n)){const r=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{r.call(a),a._stopped=!0},n.map(s=>l=>!l._stopped&&s&&s(l))}else return n}const nativeOnRE=/^on[a-z]/,patchProp=(a,n,r,s,l=!1,u,c,f,d)=>{n==="class"?patchClass(a,s,l):n==="style"?patchStyle(a,r,s):isOn(n)?isModelListener(n)||patchEvent(a,n,r,s,c):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(a,n,s,l))?patchDOMProp(a,n,s,u,c,f,d):(n==="true-value"?a._trueValue=s:n==="false-value"&&(a._falseValue=s),patchAttr(a,n,s,l))};function shouldSetAsProp(a,n,r,s){return s?!!(n==="innerHTML"||n==="textContent"||n in a&&nativeOnRE.test(n)&&isFunction$2(r)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&a.tagName==="INPUT"||n==="type"&&a.tagName==="TEXTAREA"||nativeOnRE.test(n)&&isString$3(r)?!1:n in a}const TRANSITION="transition",ANIMATION="animation",Transition=(a,{slots:n})=>h(BaseTransition,resolveTransitionProps(a),n);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Transition.props=extend$2({},BaseTransition.props,DOMTransitionPropsValidators);const callHook=(a,n=[])=>{isArray$4(a)?a.forEach(r=>r(...n)):a&&a(...n)},hasExplicitCallback=a=>a?isArray$4(a)?a.some(n=>n.length>1):a.length>1:!1;function resolveTransitionProps(a){const n={};for(const V in a)V in DOMTransitionPropsValidators||(n[V]=a[V]);if(a.css===!1)return n;const{name:r="v",type:s,duration:l,enterFromClass:u=`${r}-enter-from`,enterActiveClass:c=`${r}-enter-active`,enterToClass:f=`${r}-enter-to`,appearFromClass:d=u,appearActiveClass:v=c,appearToClass:g=f,leaveFromClass:y=`${r}-leave-from`,leaveActiveClass:_=`${r}-leave-active`,leaveToClass:S=`${r}-leave-to`}=a,x=normalizeDuration(l),A=x&&x[0],b=x&&x[1],{onBeforeEnter:w,onEnter:E,onEnterCancelled:M,onLeave:P,onLeaveCancelled:R,onBeforeAppear:I=w,onAppear:L=E,onAppearCancelled:O=M}=n,N=(V,z,U)=>{removeTransitionClass(V,z?g:f),removeTransitionClass(V,z?v:c),U&&U()},B=(V,z)=>{V._isLeaving=!1,removeTransitionClass(V,y),removeTransitionClass(V,S),removeTransitionClass(V,_),z&&z()},F=V=>(z,U)=>{const Y=V?L:E,q=()=>N(z,V,U);callHook(Y,[z,q]),nextFrame(()=>{removeTransitionClass(z,V?d:u),addTransitionClass(z,V?g:f),hasExplicitCallback(Y)||whenTransitionEnds(z,s,A,q)})};return extend$2(n,{onBeforeEnter(V){callHook(w,[V]),addTransitionClass(V,u),addTransitionClass(V,c)},onBeforeAppear(V){callHook(I,[V]),addTransitionClass(V,d),addTransitionClass(V,v)},onEnter:F(!1),onAppear:F(!0),onLeave(V,z){V._isLeaving=!0;const U=()=>B(V,z);addTransitionClass(V,y),forceReflow(),addTransitionClass(V,_),nextFrame(()=>{!V._isLeaving||(removeTransitionClass(V,y),addTransitionClass(V,S),hasExplicitCallback(P)||whenTransitionEnds(V,s,b,U))}),callHook(P,[V,U])},onEnterCancelled(V){N(V,!1),callHook(M,[V])},onAppearCancelled(V){N(V,!0),callHook(O,[V])},onLeaveCancelled(V){B(V),callHook(R,[V])}})}function normalizeDuration(a){if(a==null)return null;if(isObject$5(a))return[NumberOf(a.enter),NumberOf(a.leave)];{const n=NumberOf(a);return[n,n]}}function NumberOf(a){return toNumber(a)}function addTransitionClass(a,n){n.split(/\s+/).forEach(r=>r&&a.classList.add(r)),(a._vtc||(a._vtc=new Set)).add(n)}function removeTransitionClass(a,n){n.split(/\s+/).forEach(s=>s&&a.classList.remove(s));const{_vtc:r}=a;r&&(r.delete(n),r.size||(a._vtc=void 0))}function nextFrame(a){requestAnimationFrame(()=>{requestAnimationFrame(a)})}let endId=0;function whenTransitionEnds(a,n,r,s){const l=a._endId=++endId,u=()=>{l===a._endId&&s()};if(r)return setTimeout(u,r);const{type:c,timeout:f,propCount:d}=getTransitionInfo(a,n);if(!c)return s();const v=c+"end";let g=0;const y=()=>{a.removeEventListener(v,_),u()},_=S=>{S.target===a&&++g>=d&&y()};setTimeout(()=>{g<d&&y()},f+1),a.addEventListener(v,_)}function getTransitionInfo(a,n){const r=window.getComputedStyle(a),s=x=>(r[x]||"").split(", "),l=s(TRANSITION+"Delay"),u=s(TRANSITION+"Duration"),c=getTimeout(l,u),f=s(ANIMATION+"Delay"),d=s(ANIMATION+"Duration"),v=getTimeout(f,d);let g=null,y=0,_=0;n===TRANSITION?c>0&&(g=TRANSITION,y=c,_=u.length):n===ANIMATION?v>0&&(g=ANIMATION,y=v,_=d.length):(y=Math.max(c,v),g=y>0?c>v?TRANSITION:ANIMATION:null,_=g?g===TRANSITION?u.length:d.length:0);const S=g===TRANSITION&&/\b(transform|all)(,|$)/.test(r[TRANSITION+"Property"]);return{type:g,timeout:y,propCount:_,hasTransform:S}}function getTimeout(a,n){for(;a.length<n.length;)a=a.concat(a);return Math.max(...n.map((r,s)=>toMs(r)+toMs(a[s])))}function toMs(a){return Number(a.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const getModelAssigner=a=>{const n=a.props["onUpdate:modelValue"]||!1;return isArray$4(n)?r=>invokeArrayFns(n,r):n};function onCompositionStart(a){a.target.composing=!0}function onCompositionEnd(a){const n=a.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const vModelText={created(a,{modifiers:{lazy:n,trim:r,number:s}},l){a._assign=getModelAssigner(l);const u=s||l.props&&l.props.type==="number";addEventListener$1(a,n?"change":"input",c=>{if(c.target.composing)return;let f=a.value;r&&(f=f.trim()),u&&(f=toNumber(f)),a._assign(f)}),r&&addEventListener$1(a,"change",()=>{a.value=a.value.trim()}),n||(addEventListener$1(a,"compositionstart",onCompositionStart),addEventListener$1(a,"compositionend",onCompositionEnd),addEventListener$1(a,"change",onCompositionEnd))},mounted(a,{value:n}){a.value=n==null?"":n},beforeUpdate(a,{value:n,modifiers:{lazy:r,trim:s,number:l}},u){if(a._assign=getModelAssigner(u),a.composing||document.activeElement===a&&a.type!=="range"&&(r||s&&a.value.trim()===n||(l||a.type==="number")&&toNumber(a.value)===n))return;const c=n==null?"":n;a.value!==c&&(a.value=c)}},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:a=>a.stopPropagation(),prevent:a=>a.preventDefault(),self:a=>a.target!==a.currentTarget,ctrl:a=>!a.ctrlKey,shift:a=>!a.shiftKey,alt:a=>!a.altKey,meta:a=>!a.metaKey,left:a=>"button"in a&&a.button!==0,middle:a=>"button"in a&&a.button!==1,right:a=>"button"in a&&a.button!==2,exact:(a,n)=>systemModifiers.some(r=>a[`${r}Key`]&&!n.includes(r))},withModifiers=(a,n)=>(r,...s)=>{for(let l=0;l<n.length;l++){const u=modifierGuards[n[l]];if(u&&u(r,n))return}return a(r,...s)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(a,n)=>r=>{if(!("key"in r))return;const s=hyphenate(r.key);if(n.some(l=>l===s||keyNames[l]===s))return a(r)},vShow={beforeMount(a,{value:n},{transition:r}){a._vod=a.style.display==="none"?"":a.style.display,r&&n?r.beforeEnter(a):setDisplay(a,n)},mounted(a,{value:n},{transition:r}){r&&n&&r.enter(a)},updated(a,{value:n,oldValue:r},{transition:s}){!n!=!r&&(s?n?(s.beforeEnter(a),setDisplay(a,!0),s.enter(a)):s.leave(a,()=>{setDisplay(a,!1)}):setDisplay(a,n))},beforeUnmount(a,{value:n}){setDisplay(a,n)}};function setDisplay(a,n){a.style.display=n?a._vod:"none"}const rendererOptions=extend$2({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$1=(...a)=>{ensureRenderer().render(...a)},createApp=(...a)=>{const n=ensureRenderer().createApp(...a),{mount:r}=n;return n.mount=s=>{const l=normalizeContainer(s);if(!l)return;const u=n._component;!isFunction$2(u)&&!u.render&&!u.template&&(u.template=l.innerHTML),l.innerHTML="";const c=r(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),c},n};function normalizeContainer(a){return isString$3(a)?document.querySelector(a):a}const style="";function fromPairs(a){for(var n=-1,r=a==null?0:a.length,s={};++n<r;){var l=a[n];s[l[0]]=l[1]}return s}function isNil(a){return a==null}var _a$1;const isClient=typeof window<"u",isNumber$2=a=>typeof a=="number",isString$2=a=>typeof a=="string",noop$2=()=>{};isClient&&((_a$1=window==null?void 0:window.navigator)==null?void 0:_a$1.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function tryOnScopeDispose(a){return getCurrentScope()?(onScopeDispose(a),!0):!1}function useTimeoutFn(a,n,r={}){const{immediate:s=!0}=r,l=ref(!1);let u=null;function c(){u&&(clearTimeout(u),u=null)}function f(){l.value=!1,c()}function d(...v){c(),l.value=!0,u=setTimeout(()=>{l.value=!1,u=null,a(...v)},unref(n))}return s&&(l.value=!0,isClient&&d()),tryOnScopeDispose(f),{isPending:l,start:d,stop:f}}function unrefElement(a){var n;const r=unref(a);return(n=r==null?void 0:r.$el)!=null?n:r}const defaultWindow=isClient?window:void 0;function useEventListener(...a){let n,r,s,l;if(isString$2(a[0])?([r,s,l]=a,n=defaultWindow):[n,r,s,l]=a,!n)return noop$2;let u=noop$2;const c=watch(()=>unrefElement(n),d=>{u(),d&&(d.addEventListener(r,s,l),u=()=>{d.removeEventListener(r,s,l),u=noop$2})},{immediate:!0,flush:"post"}),f=()=>{c(),u()};return tryOnScopeDispose(f),f}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};_global[globalKey];var __getOwnPropSymbols$e=Object.getOwnPropertySymbols,__hasOwnProp$e=Object.prototype.hasOwnProperty,__propIsEnum$e=Object.prototype.propertyIsEnumerable,__objRest$2=(a,n)=>{var r={};for(var s in a)__hasOwnProp$e.call(a,s)&&n.indexOf(s)<0&&(r[s]=a[s]);if(a!=null&&__getOwnPropSymbols$e)for(var s of __getOwnPropSymbols$e(a))n.indexOf(s)<0&&__propIsEnum$e.call(a,s)&&(r[s]=a[s]);return r};function useResizeObserver(a,n,r={}){const s=r,{window:l=defaultWindow}=s,u=__objRest$2(s,["window"]);let c;const f=l&&"ResizeObserver"in l,d=()=>{c&&(c.disconnect(),c=void 0)},v=watch(()=>unrefElement(a),y=>{d(),f&&l&&y&&(c=new ResizeObserver(n),c.observe(y,u))},{immediate:!0,flush:"post"}),g=()=>{d(),v()};return tryOnScopeDispose(g),{isSupported:f,stop:g}}var SwipeDirection;(function(a){a.UP="UP",a.RIGHT="RIGHT",a.DOWN="DOWN",a.LEFT="LEFT",a.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));const isUndefined$1=a=>a===void 0,isElement=a=>typeof Element>"u"?!1:a instanceof Element,keysOf=a=>Object.keys(a);function debugWarn(a,n){}function addUnit(a,n="px"){if(!a)return"";if(isString$3(a))return a;if(isNumber$2(a))return`${a}${n}`}/*! Element Plus Icons Vue v2.0.6 */var export_helper_default=(a,n)=>{let r=a.__vccOpts||a;for(let[s,l]of n)r[s]=l;return r},_sfc_main48={name:"CircleCheck"},_hoisted_148={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_248=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_347=createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"},null,-1),_hoisted_414=[_hoisted_248,_hoisted_347];function _sfc_render48(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_148,_hoisted_414)}var circle_check_default=export_helper_default(_sfc_main48,[["render",_sfc_render48],["__file","circle-check.vue"]]),_sfc_main49={name:"CircleCloseFilled"},_hoisted_149={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_249=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336L512 457.664z"},null,-1),_hoisted_348=[_hoisted_249];function _sfc_render49(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_149,_hoisted_348)}var circle_close_filled_default=export_helper_default(_sfc_main49,[["render",_sfc_render49],["__file","circle-close-filled.vue"]]),_sfc_main50={name:"CircleClose"},_hoisted_150={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_250=createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248L466.752 512z"},null,-1),_hoisted_349=createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896z"},null,-1),_hoisted_415=[_hoisted_250,_hoisted_349];function _sfc_render50(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_150,_hoisted_415)}var circle_close_default=export_helper_default(_sfc_main50,[["render",_sfc_render50],["__file","circle-close.vue"]]),_sfc_main55={name:"Close"},_hoisted_155={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_255=createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"},null,-1),_hoisted_354=[_hoisted_255];function _sfc_render55(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_155,_hoisted_354)}var close_default=export_helper_default(_sfc_main55,[["render",_sfc_render55],["__file","close.vue"]]),_sfc_main130={name:"Hide"},_hoisted_1130={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2130=createBaseVNode("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),_hoisted_3129=createBaseVNode("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),_hoisted_436=[_hoisted_2130,_hoisted_3129];function _sfc_render130(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_1130,_hoisted_436)}var hide_default=export_helper_default(_sfc_main130,[["render",_sfc_render130],["__file","hide.vue"]]),_sfc_main140={name:"InfoFilled"},_hoisted_1140={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2140=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"},null,-1),_hoisted_3139=[_hoisted_2140];function _sfc_render140(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_1140,_hoisted_3139)}var info_filled_default=export_helper_default(_sfc_main140,[["render",_sfc_render140],["__file","info-filled.vue"]]),_sfc_main147={name:"Loading"},_hoisted_1147={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2147=createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32zm0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32zm448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32zm-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32zM195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0zm-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"},null,-1),_hoisted_3146=[_hoisted_2147];function _sfc_render147(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_1147,_hoisted_3146)}var loading_default=export_helper_default(_sfc_main147,[["render",_sfc_render147],["__file","loading.vue"]]),_sfc_main220={name:"Search"},_hoisted_1220={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2220=createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704z"},null,-1),_hoisted_3219=[_hoisted_2220];function _sfc_render220(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_1220,_hoisted_3219)}var search_default=export_helper_default(_sfc_main220,[["render",_sfc_render220],["__file","search.vue"]]),_sfc_main243={name:"SuccessFilled"},_hoisted_1243={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2243=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),_hoisted_3242=[_hoisted_2243];function _sfc_render243(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_1243,_hoisted_3242)}var success_filled_default=export_helper_default(_sfc_main243,[["render",_sfc_render243],["__file","success-filled.vue"]]),_sfc_main274={name:"View"},_hoisted_1274={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2274=createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),_hoisted_3273=[_hoisted_2274];function _sfc_render274(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_1274,_hoisted_3273)}var view_default=export_helper_default(_sfc_main274,[["render",_sfc_render274],["__file","view.vue"]]),_sfc_main277={name:"WarningFilled"},_hoisted_1277={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},_hoisted_2277=createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896zm0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256zm0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4z"},null,-1),_hoisted_3276=[_hoisted_2277];function _sfc_render277(a,n,r,s,l,u){return openBlock(),createElementBlock("svg",_hoisted_1277,_hoisted_3276)}var warning_filled_default=export_helper_default(_sfc_main277,[["render",_sfc_render277],["__file","warning-filled.vue"]]);const epPropKey="__epPropKey",definePropType=a=>a,isEpProp=a=>isObject$5(a)&&!!a[epPropKey],buildProp=(a,n)=>{if(!isObject$5(a)||isEpProp(a))return a;const{values:r,required:s,default:l,type:u,validator:c}=a,d={type:u,required:!!s,validator:r||c?v=>{let g=!1,y=[];if(r&&(y=Array.from(r),hasOwn$1(a,"default")&&y.push(l),g||(g=y.includes(v))),c&&(g||(g=c(v))),!g&&y.length>0){const _=[...new Set(y)].map(S=>JSON.stringify(S)).join(", ");warn$1(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${_}], got value ${JSON.stringify(v)}.`)}return g}:void 0,[epPropKey]:!0};return hasOwn$1(a,"default")&&(d.default=l),d},buildProps=a=>fromPairs(Object.entries(a).map(([n,r])=>[n,buildProp(r,n)])),iconPropType=definePropType([String,Object,Function]),TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(a,n)=>{if(a.install=r=>{for(const s of[a,...Object.values(n!=null?n:{})])r.component(s.name,s)},n)for(const[r,s]of Object.entries(n))a[r]=s;return a},withInstallFunction=(a,n)=>(a.install=r=>{a._context=r._context,r.config.globalProperties[n]=a},a),withNoopInstall=a=>(a.install=NOOP,a),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},UPDATE_MODEL_EVENT="update:modelValue",componentSizes=["","default","small","large"],isKorean=a=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(a),mutable=a=>a,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(a={})=>{const{excludeListeners:n=!1,excludeKeys:r}=a,s=computed(()=>((r==null?void 0:r.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),l=getCurrentInstance();return computed(l?()=>{var u;return fromPairs(Object.entries((u=l.proxy)==null?void 0:u.$attrs).filter(([c])=>!s.value.includes(c)&&!(n&&LISTENER_PREFIX.test(c))))}:()=>({}))},configProviderContextKey=Symbol(),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),rowContextKey=Symbol("rowContextKey"),useProp=a=>{const n=getCurrentInstance();return computed(()=>{var r,s;return(s=((r=n.proxy)==null?void 0:r.$props)[a])!=null?s:void 0})},globalConfig=ref();function useGlobalConfig(a,n=void 0){const r=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return a?computed(()=>{var s,l;return(l=(s=r.value)==null?void 0:s[a])!=null?l:n}):r}const provideGlobalConfig=(a,n,r=!1)=>{var s;const l=!!getCurrentInstance(),u=l?useGlobalConfig():void 0,c=(s=n==null?void 0:n.provide)!=null?s:l?provide:void 0;if(!c)return;const f=computed(()=>{const d=unref(a);return u!=null&&u.value?mergeConfig$3(u.value,d):d});return c(configProviderContextKey,f),(r||!globalConfig.value)&&(globalConfig.value=f.value),f},mergeConfig$3=(a,n)=>{var r;const s=[...new Set([...keysOf(a),...keysOf(n)])],l={};for(const u of s)l[u]=(r=n[u])!=null?r:a[u];return l},useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),useSize=(a,n={})=>{const r=ref(void 0),s=n.prop?r:useProp("size"),l=n.global?r:useGlobalConfig("size"),u=n.form?{size:void 0}:inject(formContextKey,void 0),c=n.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>s.value||unref(a)||(c==null?void 0:c.size)||(u==null?void 0:u.size)||l.value||"")},useDisabled=a=>{const n=useProp("disabled"),r=inject(formContextKey,void 0);return computed(()=>n.value||unref(a)||(r==null?void 0:r.disabled)||!1)},defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useId=a=>{const n=inject(ID_INJECTION_KEY,defaultIdInjection);return computed(()=>unref(a)||`el-id-${n.prefix}-${n.current++}`)},useFormItem=()=>{const a=inject(formContextKey,void 0),n=inject(formItemContextKey,void 0);return{form:a,formItem:n}},useFormItemInputId=(a,{formItemContext:n,disableIdGeneration:r,disableIdManagement:s})=>{r||(r=ref(!1)),s||(s=ref(!1));const l=ref();let u;const c=computed(()=>{var f;return!!(!a.label&&n&&n.inputIds&&((f=n.inputIds)==null?void 0:f.length)<=1)});return onMounted(()=>{u=watch([toRef(a,"id"),r],([f,d])=>{const v=f!=null?f:d?void 0:useId().value;v!==l.value&&(n!=null&&n.removeInputId&&(l.value&&n.removeInputId(l.value),!(s!=null&&s.value)&&!d&&v&&n.addInputId(v)),l.value=v)},{immediate:!0})}),onUnmounted(()=>{u&&u(),n!=null&&n.removeInputId&&l.value&&n.removeInputId(l.value)}),{isLabeledByFormItem:c,inputId:l}},defaultNamespace="el",statePrefix="is-",_bem=(a,n,r,s,l)=>{let u=`${a}-${n}`;return r&&(u+=`-${r}`),s&&(u+=`__${s}`),l&&(u+=`--${l}`),u},useNamespace=a=>{const n=useGlobalConfig("namespace"),r=computed(()=>n.value||defaultNamespace);return{namespace:r,b:(A="")=>_bem(unref(r),a,A,"",""),e:A=>A?_bem(unref(r),a,"",A,""):"",m:A=>A?_bem(unref(r),a,"","",A):"",be:(A,b)=>A&&b?_bem(unref(r),a,A,b,""):"",em:(A,b)=>A&&b?_bem(unref(r),a,"",A,b):"",bm:(A,b)=>A&&b?_bem(unref(r),a,A,"",b):"",bem:(A,b,w)=>A&&b&&w?_bem(unref(r),a,A,b,w):"",is:(A,...b)=>{const w=b.length>=1?b[0]:!0;return A&&w?`${statePrefix}${A}`:""},cssVar:A=>{const b={};for(const w in A)b[`--${r.value}-${w}`]=A[w];return b},cssVarName:A=>`--${r.value}-${A}`,cssVarBlock:A=>{const b={};for(const w in A)b[`--${r.value}-${a}-${w}`]=A[w];return b},cssVarBlockName:A=>`--${r.value}-${a}-${A}`}},zIndex=ref(0),useZIndex=()=>{const a=useGlobalConfig("zIndex",2e3),n=computed(()=>a.value+zIndex.value);return{initialZIndex:a,currentZIndex:n,nextZIndex:()=>(zIndex.value++,n.value)}};function useCursor(a){const n=ref();function r(){if(a.value==null)return;const{selectionStart:l,selectionEnd:u,value:c}=a.value;if(l==null||u==null)return;const f=c.slice(0,Math.max(0,l)),d=c.slice(Math.max(0,u));n.value={selectionStart:l,selectionEnd:u,value:c,beforeTxt:f,afterTxt:d}}function s(){if(a.value==null||n.value==null)return;const{value:l}=a.value,{beforeTxt:u,afterTxt:c,selectionStart:f}=n.value;if(u==null||c==null||f==null)return;let d=l.length;if(l.endsWith(c))d=l.length-c.length;else if(l.startsWith(u))d=u.length;else{const v=u[f-1],g=l.indexOf(v,f-1);g!==-1&&(d=g+1)}a.value.setSelectionRange(d,d)}return[r,s]}var _export_sfc$1=(a,n)=>{const r=a.__vccOpts||a;for(const[s,l]of n)r[s]=l;return r};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$a={name:"ElIcon",inheritAttrs:!1},_sfc_main$c=defineComponent({...__default__$a,props:iconProps,setup(a){const n=a,r=useNamespace("icon"),s=computed(()=>!n.size&&!n.color?{}:{fontSize:isUndefined$1(n.size)?void 0:addUnit(n.size),"--color":n.color});return(l,u)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(r).b(),style:unref(s)},l.$attrs),[renderSlot(l.$slots,"default")],16))}});var Icon=_export_sfc$1(_sfc_main$c,[["__file","/home/runner/work/element-plus/element-plus/packages/components/icon/src/icon.vue"]]);const ElIcon=withInstall(Icon);let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(a){const n=window.getComputedStyle(a),r=n.getPropertyValue("box-sizing"),s=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),l=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(c=>`${c}:${n.getPropertyValue(c)}`).join(";"),paddingSize:s,borderSize:l,boxSizing:r}}function calcTextareaHeight(a,n=1,r){var s;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:l,borderSize:u,boxSizing:c,contextStyle:f}=calculateNodeStyling(a);hiddenTextarea.setAttribute("style",`${f};${HIDDEN_STYLE}`),hiddenTextarea.value=a.value||a.placeholder||"";let d=hiddenTextarea.scrollHeight;const v={};c==="border-box"?d=d+u:c==="content-box"&&(d=d-l),hiddenTextarea.value="";const g=hiddenTextarea.scrollHeight-l;if(isNumber$2(n)){let y=g*n;c==="border-box"&&(y=y+l+u),d=Math.max(y,d),v.minHeight=`${y}px`}if(isNumber$2(r)){let y=g*r;c==="border-box"&&(y=y+l+u),d=Math.min(y,d)}return v.height=`${d}px`,(s=hiddenTextarea.parentNode)==null||s.removeChild(hiddenTextarea),hiddenTextarea=void 0,v}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:iconPropType,default:""},prefixIcon:{type:iconPropType,default:""},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})}}),inputEmits={[UPDATE_MODEL_EVENT]:a=>isString$3(a),input:a=>isString$3(a),change:a=>isString$3(a),focus:a=>a instanceof FocusEvent,blur:a=>a instanceof FocusEvent,clear:()=>!0,mouseleave:a=>a instanceof MouseEvent,mouseenter:a=>a instanceof MouseEvent,keydown:a=>a instanceof Event,compositionstart:a=>a instanceof CompositionEvent,compositionupdate:a=>a instanceof CompositionEvent,compositionend:a=>a instanceof CompositionEvent},_hoisted_1$3=["role"],_hoisted_2$2=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],_hoisted_3$1=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],__default__$9={name:"ElInput",inheritAttrs:!1},_sfc_main$b=defineComponent({...__default__$9,props:inputProps,emits:inputEmits,setup(a,{expose:n,emit:r}){const s=a,l={suffix:"append",prefix:"prepend"},u=getCurrentInstance(),c=useAttrs$1(),f=useSlots(),d=computed(()=>{const ie={};return s.containerRole==="combobox"&&(ie["aria-haspopup"]=c["aria-haspopup"],ie["aria-owns"]=c["aria-owns"],ie["aria-expanded"]=c["aria-expanded"]),ie}),v=useAttrs({excludeKeys:computed(()=>Object.keys(d.value))}),{form:g,formItem:y}=useFormItem(),{inputId:_}=useFormItemInputId(s,{formItemContext:y}),S=useSize(),x=useDisabled(),A=useNamespace("input"),b=useNamespace("textarea"),w=shallowRef(),E=shallowRef(),M=ref(!1),P=ref(!1),R=ref(!1),I=ref(!1),L=ref(),O=shallowRef(s.inputStyle),N=computed(()=>w.value||E.value),B=computed(()=>{var ie;return(ie=g==null?void 0:g.statusIcon)!=null?ie:!1}),F=computed(()=>(y==null?void 0:y.validateState)||""),V=computed(()=>F.value&&ValidateComponentsMap[F.value]),z=computed(()=>I.value?view_default:hide_default),U=computed(()=>[c.style,s.inputStyle]),Y=computed(()=>[s.inputStyle,O.value,{resize:s.resize}]),q=computed(()=>isNil(s.modelValue)?"":String(s.modelValue)),Q=computed(()=>s.clearable&&!x.value&&!s.readonly&&!!q.value&&(M.value||P.value)),j=computed(()=>s.showPassword&&!x.value&&!s.readonly&&!!q.value&&(!!q.value||M.value)),ne=computed(()=>s.showWordLimit&&!!v.value.maxlength&&(s.type==="text"||s.type==="textarea")&&!x.value&&!s.readonly&&!s.showPassword),fe=computed(()=>Array.from(q.value).length),de=computed(()=>!!ne.value&&fe.value>Number(v.value.maxlength)),be=computed(()=>!!f.suffix||!!s.suffixIcon||Q.value||s.showPassword||ne.value||!!F.value&&B.value),[Me,Pe]=useCursor(w);useResizeObserver(E,ie=>{if(!ne.value||s.resize!=="both")return;const we=ie[0],{width:Oe}=we.contentRect;L.value={right:`calc(100% - ${Oe+15+6}px)`}});const ae=()=>{const{type:ie,autosize:we}=s;if(!(!isClient||ie!=="textarea"))if(we){const Oe=isObject$5(we)?we.minRows:void 0,Fe=isObject$5(we)?we.maxRows:void 0;O.value={...calcTextareaHeight(E.value,Oe,Fe)}}else O.value={minHeight:calcTextareaHeight(E.value).minHeight}},me=()=>{const ie=N.value;!ie||ie.value===q.value||(ie.value=q.value)},se=ie=>{const{el:we}=u.vnode;if(!we)return;const Fe=Array.from(we.querySelectorAll(`.${A.e(ie)}`)).find(Xe=>Xe.parentNode===we);if(!Fe)return;const We=l[ie];f[We]?Fe.style.transform=`translateX(${ie==="suffix"?"-":""}${we.querySelector(`.${A.be("group",We)}`).offsetWidth}px)`:Fe.removeAttribute("style")},ue=()=>{se("prefix"),se("suffix")},Ee=async ie=>{Me();let{value:we}=ie.target;s.formatter&&(we=s.parser?s.parser(we):we,we=s.formatter(we)),!R.value&&we!==q.value&&(r(UPDATE_MODEL_EVENT,we),r("input",we),await nextTick(),me(),Pe())},$e=ie=>{r("change",ie.target.value)},pe=ie=>{r("compositionstart",ie),R.value=!0},ye=ie=>{var we;r("compositionupdate",ie);const Oe=(we=ie.target)==null?void 0:we.value,Fe=Oe[Oe.length-1]||"";R.value=!isKorean(Fe)},Z=ie=>{r("compositionend",ie),R.value&&(R.value=!1,Ee(ie))},X=()=>{I.value=!I.value,re()},re=async()=>{var ie;await nextTick(),(ie=N.value)==null||ie.focus()},ce=()=>{var ie;return(ie=N.value)==null?void 0:ie.blur()},le=ie=>{M.value=!0,r("focus",ie)},Te=ie=>{var we;M.value=!1,r("blur",ie),s.validateEvent&&((we=y==null?void 0:y.validate)==null||we.call(y,"blur").catch(Oe=>void 0))},Ce=ie=>{P.value=!1,r("mouseleave",ie)},Ae=ie=>{P.value=!0,r("mouseenter",ie)},xe=ie=>{r("keydown",ie)},_e=()=>{var ie;(ie=N.value)==null||ie.select()},Le=()=>{r(UPDATE_MODEL_EVENT,""),r("change",""),r("clear"),r("input","")};return watch(()=>s.modelValue,()=>{var ie;nextTick(()=>ae()),s.validateEvent&&((ie=y==null?void 0:y.validate)==null||ie.call(y,"change").catch(we=>void 0))}),watch(q,()=>me()),watch(()=>s.type,async()=>{await nextTick(),me(),ae(),ue()}),onMounted(async()=>{!s.formatter&&s.parser,me(),ue(),await nextTick(),ae()}),onUpdated(async()=>{await nextTick(),ue()}),n({input:w,textarea:E,ref:N,textareaStyle:Y,autosize:toRef(s,"autosize"),focus:re,blur:ce,select:_e,clear:Le,resizeTextarea:ae}),(ie,we)=>withDirectives((openBlock(),createElementBlock("div",mergeProps(unref(d),{class:[ie.type==="textarea"?unref(b).b():unref(A).b(),unref(A).m(unref(S)),unref(A).is("disabled",unref(x)),unref(A).is("exceed",unref(de)),{[unref(A).b("group")]:ie.$slots.prepend||ie.$slots.append,[unref(A).bm("group","append")]:ie.$slots.append,[unref(A).bm("group","prepend")]:ie.$slots.prepend,[unref(A).m("prefix")]:ie.$slots.prefix||ie.prefixIcon,[unref(A).m("suffix")]:ie.$slots.suffix||ie.suffixIcon||ie.clearable||ie.showPassword,[unref(A).bm("suffix","password-clear")]:unref(Q)&&unref(j)},ie.$attrs.class],style:unref(U),role:ie.containerRole,onMouseenter:Ae,onMouseleave:Ce}),[createCommentVNode(" input "),ie.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),ie.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(A).be("group","prepend"))},[renderSlot(ie.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([unref(A).e("wrapper"),unref(A).is("focus",M.value)])},[createCommentVNode(" prefix slot "),ie.$slots.prefix||ie.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(A).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(A).e("prefix-inner"))},[renderSlot(ie.$slots,"prefix"),ie.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(A).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ie.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(_),ref_key:"input",ref:w,class:unref(A).e("inner")},unref(v),{type:ie.showPassword?I.value?"text":"password":ie.type,disabled:unref(x),formatter:ie.formatter,parser:ie.parser,readonly:ie.readonly,autocomplete:ie.autocomplete,tabindex:ie.tabindex,"aria-label":ie.label,placeholder:ie.placeholder,style:ie.inputStyle,onCompositionstart:pe,onCompositionupdate:ye,onCompositionend:Z,onInput:Ee,onFocus:le,onBlur:Te,onChange:$e,onKeydown:xe}),null,16,_hoisted_2$2),createCommentVNode(" suffix slot "),unref(be)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(A).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(A).e("suffix-inner"))},[!unref(Q)||!unref(j)||!unref(ne)?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(ie.$slots,"suffix"),ie.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(A).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(ie.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),unref(Q)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(A).e("icon"),unref(A).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:Le},{default:withCtx(()=>[createVNode$1(unref(circle_close_default))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(j)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(A).e("icon"),unref(A).e("password")]),onClick:X},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(z))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(ne)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref(A).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref(A).e("count-inner"))},toDisplayString(unref(fe))+" / "+toDisplayString(unref(v).maxlength),3)],2)):createCommentVNode("v-if",!0),unref(F)&&unref(V)&&unref(B)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(A).e("icon"),unref(A).e("validateIcon"),unref(A).is("loading",unref(F)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(V))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),ie.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(A).be("group","append"))},[renderSlot(ie.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(_),ref_key:"textarea",ref:E,class:unref(b).e("inner")},unref(v),{tabindex:ie.tabindex,disabled:unref(x),readonly:ie.readonly,autocomplete:ie.autocomplete,style:unref(Y),"aria-label":ie.label,placeholder:ie.placeholder,onCompositionstart:pe,onCompositionupdate:ye,onCompositionend:Z,onInput:Ee,onFocus:le,onBlur:Te,onChange:$e,onKeydown:xe}),null,16,_hoisted_3$1),unref(ne)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle$1(L.value),class:normalizeClass(unref(A).e("count"))},toDisplayString(unref(fe))+" / "+toDisplayString(unref(v).maxlength),7)):createCommentVNode("v-if",!0)],64))],16,_hoisted_1$3)),[[vShow,ie.type!=="hidden"]])}});var Input=_export_sfc$1(_sfc_main$b,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const ElInput=withInstall(Input),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),_hoisted_1$2=["textContent"],__default__$8={name:"ElBadge"},_sfc_main$a=defineComponent({...__default__$8,props:badgeProps,setup(a,{expose:n}){const r=a,s=useNamespace("badge"),l=computed(()=>r.isDot?"":isNumber$2(r.value)&&isNumber$2(r.max)?r.max<r.value?`${r.max}+`:`${r.value}`:`${r.value}`);return n({content:l}),(u,c)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(s).b())},[renderSlot(u.$slots,"default"),createVNode$1(Transition,{name:`${unref(s).namespace.value}-zoom-in-center`,persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref(s).e("content"),unref(s).em("content",u.type),unref(s).is("fixed",!!u.$slots.default),unref(s).is("dot",u.isDot)]),textContent:toDisplayString(unref(l))},null,10,_hoisted_1$2),[[vShow,!u.hidden&&(unref(l)||u.isDot)]])]),_:1},8,["name"])],2))}});var Badge=_export_sfc$1(_sfc_main$a,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const ElBadge=withInstall(Badge);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}const colProps=buildProps({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:definePropType([Number,Object]),default:()=>mutable({})},sm:{type:definePropType([Number,Object]),default:()=>mutable({})},md:{type:definePropType([Number,Object]),default:()=>mutable({})},lg:{type:definePropType([Number,Object]),default:()=>mutable({})},xl:{type:definePropType([Number,Object]),default:()=>mutable({})}}),__default__$7={name:"ElCol"},_sfc_main$9=defineComponent({...__default__$7,props:colProps,setup(a){const n=a,{gutter:r}=inject(rowContextKey,{gutter:computed(()=>0)}),s=useNamespace("col"),l=computed(()=>{const c={};return r.value&&(c.paddingLeft=c.paddingRight=`${r.value/2}px`),c}),u=computed(()=>{const c=[];return["span","offset","pull","push"].forEach(v=>{const g=n[v];isNumber$2(g)&&(v==="span"?c.push(s.b(`${n[v]}`)):g>0&&c.push(s.b(`${v}-${n[v]}`)))}),["xs","sm","md","lg","xl"].forEach(v=>{isNumber$2(n[v])?c.push(s.b(`${v}-${n[v]}`)):isObject$5(n[v])&&Object.entries(n[v]).forEach(([g,y])=>{c.push(g!=="span"?s.b(`${v}-${g}-${y}`):s.b(`${v}-${y}`))})}),r.value&&c.push(s.is("guttered")),c});return(c,f)=>(openBlock(),createBlock(resolveDynamicComponent(c.tag),{class:normalizeClass([unref(s).b(),unref(u)]),style:normalizeStyle$1(unref(l))},{default:withCtx(()=>[renderSlot(c.$slots,"default")]),_:3},8,["class","style"]))}});var Col=_export_sfc$1(_sfc_main$9,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const ElCol=withInstall(Col),messageConfig={},configProviderProps=buildProps({a11y:{type:Boolean,default:!0},locale:{type:definePropType(Object)},size:useSizeProp,button:{type:definePropType(Object)},experimentalFeatures:{type:definePropType(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:definePropType(Object)},zIndex:Number,namespace:{type:String,default:"el"}});defineComponent({name:"ElConfigProvider",props:configProviderProps,setup(a,{slots:n}){watch(()=>a.message,s=>{Object.assign(messageConfig,s!=null?s:{})},{immediate:!0,deep:!0});const r=provideGlobalConfig(a);return()=>renderSlot(n,"default",{config:r==null?void 0:r.value})}});const __default__$6={name:"ElContainer"},_sfc_main$8=defineComponent({...__default__$6,props:{direction:{type:String}},setup(a){const n=a,r=useSlots(),s=useNamespace("container"),l=computed(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:r&&r.default?r.default().some(c=>{const f=c.type.name;return f==="ElHeader"||f==="ElFooter"}):!1);return(u,c)=>(openBlock(),createElementBlock("section",{class:normalizeClass([unref(s).b(),unref(s).is("vertical",unref(l))])},[renderSlot(u.$slots,"default")],2))}});var Container=_export_sfc$1(_sfc_main$8,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/container.vue"]]);const __default__$5={name:"ElAside"},_sfc_main$7=defineComponent({...__default__$5,props:{width:{type:String,default:null}},setup(a){const n=a,r=useNamespace("aside"),s=computed(()=>n.width?r.cssVarBlock({width:n.width}):{});return(l,u)=>(openBlock(),createElementBlock("aside",{class:normalizeClass(unref(r).b()),style:normalizeStyle$1(unref(s))},[renderSlot(l.$slots,"default")],6))}});var Aside=_export_sfc$1(_sfc_main$7,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/aside.vue"]]);const __default__$4={name:"ElFooter"},_sfc_main$6=defineComponent({...__default__$4,props:{height:{type:String,default:null}},setup(a){const n=a,r=useNamespace("footer"),s=computed(()=>n.height?r.cssVarBlock({height:n.height}):{});return(l,u)=>(openBlock(),createElementBlock("footer",{class:normalizeClass(unref(r).b()),style:normalizeStyle$1(unref(s))},[renderSlot(l.$slots,"default")],6))}});var Footer=_export_sfc$1(_sfc_main$6,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/footer.vue"]]);const __default__$3={name:"ElHeader"},_sfc_main$5=defineComponent({...__default__$3,props:{height:{type:String,default:null}},setup(a){const n=a,r=useNamespace("header"),s=computed(()=>n.height?r.cssVarBlock({height:n.height}):{});return(l,u)=>(openBlock(),createElementBlock("header",{class:normalizeClass(unref(r).b()),style:normalizeStyle$1(unref(s))},[renderSlot(l.$slots,"default")],6))}});var Header=_export_sfc$1(_sfc_main$5,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/header.vue"]]);const __default__$2={name:"ElMain"},_sfc_main$4=defineComponent({...__default__$2,setup(a){const n=useNamespace("main");return(r,s)=>(openBlock(),createElementBlock("main",{class:normalizeClass(unref(n).b())},[renderSlot(r.$slots,"default")],2))}});var Main=_export_sfc$1(_sfc_main$4,[["__file","/home/runner/work/element-plus/element-plus/packages/components/container/src/main.vue"]]);const ElContainer=withInstall(Container,{Aside,Footer,Header,Main});withNoopInstall(Aside);const ElFooter=withNoopInstall(Footer),ElHeader=withNoopInstall(Header),ElMain=withNoopInstall(Main),RowJustify=["start","center","end","space-around","space-between","space-evenly"],RowAlign=["top","middle","bottom"],rowProps=buildProps({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:RowJustify,default:"start"},align:{type:String,values:RowAlign,default:"top"}}),__default__$1={name:"ElRow"},_sfc_main$3=defineComponent({...__default__$1,props:rowProps,setup(a){const n=a,r=useNamespace("row"),s=computed(()=>n.gutter);provide(rowContextKey,{gutter:s});const l=computed(()=>{const u={};return n.gutter&&(u.marginRight=u.marginLeft=`-${n.gutter/2}px`),u});return(u,c)=>(openBlock(),createBlock(resolveDynamicComponent(u.tag),{class:normalizeClass([unref(r).b(),unref(r).is(`justify-${n.justify}`,u.justify!=="start"),unref(r).is(`align-${n.align}`,u.align!=="top")]),style:normalizeStyle$1(unref(l))},{default:withCtx(()=>[renderSlot(u.$slots,"default")]),_:3},8,["class","style"]))}});var Row=_export_sfc$1(_sfc_main$3,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const ElRow=withInstall(Row),messageTypes=["success","info","warning","error"],messageDefaults=mutable({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:"",id:"",message:"",onClose:void 0,showClose:!1,type:"info",offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},center:{type:Boolean,default:messageDefaults.center},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),required:!1},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},offset:{type:Number,default:messageDefaults.offset},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},instances$2=shallowReactive([]),getInstance=a=>{const n=instances$2.findIndex(l=>l.id===a),r=instances$2[n];let s;return n>0&&(s=instances$2[n-1]),{current:r,prev:s}},getLastOffset=a=>{const{prev:n}=getInstance(a);return n?n.vm.exposeProxy.bottom:0},_hoisted_1$1=["id"],_hoisted_2$1=["innerHTML"],__default__={name:"ElMessage"},_sfc_main$2=defineComponent({...__default__,props:messageProps,emits:messageEmits,setup(a,{expose:n}){const r=a,{Close:s}=TypeComponents,l=useNamespace("message"),u=ref(),c=ref(!1),f=ref(0);let d;const v=computed(()=>r.type?r.type==="error"?"danger":r.type:"info"),g=computed(()=>{const P=r.type;return{[l.bm("icon",P)]:P&&TypeComponentsMap[P]}}),y=computed(()=>r.icon||TypeComponentsMap[r.type]||""),_=computed(()=>getLastOffset(r.id)),S=computed(()=>r.offset+_.value),x=computed(()=>f.value+S.value),A=computed(()=>({top:`${S.value}px`,zIndex:r.zIndex}));function b(){r.duration!==0&&({stop:d}=useTimeoutFn(()=>{E()},r.duration))}function w(){d==null||d()}function E(){c.value=!1}function M({code:P}){P===EVENT_CODE.esc&&E()}return onMounted(()=>{b(),c.value=!0}),watch(()=>r.repeatNum,()=>{w(),b()}),useEventListener(document,"keydown",M),useResizeObserver(u,()=>{f.value=u.value.getBoundingClientRect().height}),n({visible:c,bottom:x,close:E}),(P,R)=>(openBlock(),createBlock(Transition,{name:unref(l).b("fade"),onBeforeLeave:P.onClose,onAfterLeave:R[0]||(R[0]=I=>P.$emit("destroy")),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:P.id,ref_key:"messageRef",ref:u,class:normalizeClass([unref(l).b(),{[unref(l).m(P.type)]:P.type&&!P.icon},unref(l).is("center",P.center),unref(l).is("closable",P.showClose),P.customClass]),style:normalizeStyle$1(unref(A)),role:"alert",onMouseenter:w,onMouseleave:b},[P.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:P.repeatNum,type:unref(v),class:normalizeClass(unref(l).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),unref(y)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(l).e("icon"),unref(g)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(y))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(P.$slots,"default",{},()=>[P.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref(l).e("content")),innerHTML:P.message},null,10,_hoisted_2$1)],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(l).e("content"))},toDisplayString(P.message),3))]),P.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(l).e("closeBtn")),onClick:withModifiers(E,["stop"])},{default:withCtx(()=>[createVNode$1(unref(s))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,_hoisted_1$1),[[vShow,c.value]])]),_:3},8,["name","onBeforeLeave"]))}});var MessageConstructor=_export_sfc$1(_sfc_main$2,[["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);let seed=1;const normalizeOptions=a=>{const n=!a||isString$3(a)||isVNode(a)||isFunction$2(a)?{message:a}:a,r={...messageDefaults,...n};if(!r.appendTo)r.appendTo=document.body;else if(isString$3(r.appendTo)){let s=document.querySelector(r.appendTo);isElement(s)||(s=document.body),r.appendTo=s}return r},closeMessage=a=>{const n=instances$2.indexOf(a);if(n===-1)return;instances$2.splice(n,1);const{handler:r}=a;r.close()},createMessage=({appendTo:a,...n},r)=>{const{nextZIndex:s}=useZIndex(),l=`message_${seed++}`,u=n.onClose,c=document.createElement("div"),f={...n,zIndex:s()+n.zIndex,id:l,onClose:()=>{u==null||u(),closeMessage(y)},onDestroy:()=>{render$1(null,c)}},d=createVNode$1(MessageConstructor,f,isFunction$2(f.message)||isVNode(f.message)?{default:f.message}:null);d.appContext=r||message._context,render$1(d,c),a.appendChild(c.firstElementChild);const v=d.component,y={id:l,vnode:d,vm:v,handler:{close:()=>{v.exposeProxy.visible=!1}},props:d.component.props};return y},message=(a={},n)=>{if(!isClient)return{close:()=>{}};if(isNumber$2(messageConfig.max)&&instances$2.length>=messageConfig.max)return{close:()=>{}};const r=normalizeOptions(a);if(r.grouping&&instances$2.length){const l=instances$2.find(({vnode:u})=>{var c;return((c=u.props)==null?void 0:c.message)===r.message});if(l)return l.props.repeatNum+=1,l.props.type=r.type,l.handler}const s=createMessage(r,n);return instances$2.push(s),s.handler};messageTypes.forEach(a=>{message[a]=(n={},r)=>{const s=normalizeOptions(n);return message({...s,type:a},r)}});function closeAll(a){for(const n of instances$2)(!a||a===n.props.type)&&n.handler.close()}message.closeAll=closeAll;message._context=null;const ElMessage=withInstallFunction(message,"$message"),base$1="",elContainer="",elAside="",elFooter="",elHeader="",elMain="",elRow="",elCol="",elInput="";var axios$3={exports:{}},axios$2={exports:{}},bind$4=function(n,r){return function(){for(var l=new Array(arguments.length),u=0;u<l.length;u++)l[u]=arguments[u];return n.apply(r,l)}},bind$3=bind$4,toString=Object.prototype.toString,kindOf=function(a){return function(n){var r=toString.call(n);return a[r]||(a[r]=r.slice(8,-1).toLowerCase())}}(Object.create(null));function kindOfTest(a){return a=a.toLowerCase(),function(r){return kindOf(r)===a}}function isArray$3(a){return Array.isArray(a)}function isUndefined(a){return typeof a>"u"}function isBuffer(a){return a!==null&&!isUndefined(a)&&a.constructor!==null&&!isUndefined(a.constructor)&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(a){var n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(a):n=a&&a.buffer&&isArrayBuffer(a.buffer),n}function isString$1(a){return typeof a=="string"}function isNumber$1(a){return typeof a=="number"}function isObject$4(a){return a!==null&&typeof a=="object"}function isPlainObject(a){if(kindOf(a)!=="object")return!1;var n=Object.getPrototypeOf(a);return n===null||n===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction$1(a){return toString.call(a)==="[object Function]"}function isStream(a){return isObject$4(a)&&isFunction$1(a.pipe)}function isFormData(a){var n="[object FormData]";return a&&(typeof FormData=="function"&&a instanceof FormData||toString.call(a)===n||isFunction$1(a.toString)&&a.toString()===n)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim$2(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach(a,n){if(!(a===null||typeof a>"u"))if(typeof a!="object"&&(a=[a]),isArray$3(a))for(var r=0,s=a.length;r<s;r++)n.call(null,a[r],r,a);else for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&n.call(null,a[l],l,a)}function merge$1(){var a={};function n(l,u){isPlainObject(a[u])&&isPlainObject(l)?a[u]=merge$1(a[u],l):isPlainObject(l)?a[u]=merge$1({},l):isArray$3(l)?a[u]=l.slice():a[u]=l}for(var r=0,s=arguments.length;r<s;r++)forEach(arguments[r],n);return a}function extend$1(a,n,r){return forEach(n,function(l,u){r&&typeof l=="function"?a[u]=bind$3(l,r):a[u]=l}),a}function stripBOM(a){return a.charCodeAt(0)===65279&&(a=a.slice(1)),a}function inherits$1(a,n,r,s){a.prototype=Object.create(n.prototype,s),a.prototype.constructor=a,r&&Object.assign(a.prototype,r)}function toFlatObject(a,n,r){var s,l,u,c={};n=n||{};do{for(s=Object.getOwnPropertyNames(a),l=s.length;l-- >0;)u=s[l],c[u]||(n[u]=a[u],c[u]=!0);a=Object.getPrototypeOf(a)}while(a&&(!r||r(a,n))&&a!==Object.prototype);return n}function endsWith(a,n,r){a=String(a),(r===void 0||r>a.length)&&(r=a.length),r-=n.length;var s=a.indexOf(n,r);return s!==-1&&s===r}function toArray(a){if(!a)return null;var n=a.length;if(isUndefined(n))return null;for(var r=new Array(n);n-- >0;)r[n]=a[n];return r}var isTypedArray$1=function(a){return function(n){return a&&n instanceof a}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),utils$b={isArray:isArray$3,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isObject:isObject$4,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction:isFunction$1,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge:merge$1,extend:extend$1,trim:trim$2,stripBOM,inherits:inherits$1,toFlatObject,kindOf,kindOfTest,endsWith,toArray,isTypedArray:isTypedArray$1,isFileList},utils$a=utils$b;function encode(a){return encodeURIComponent(a).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function(n,r,s){if(!r)return n;var l;if(s)l=s(r);else if(utils$a.isURLSearchParams(r))l=r.toString();else{var u=[];utils$a.forEach(r,function(d,v){d===null||typeof d>"u"||(utils$a.isArray(d)?v=v+"[]":d=[d],utils$a.forEach(d,function(y){utils$a.isDate(y)?y=y.toISOString():utils$a.isObject(y)&&(y=JSON.stringify(y)),u.push(encode(v)+"="+encode(y))}))}),l=u.join("&")}if(l){var c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n},utils$9=utils$b;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)};InterceptorManager$1.prototype.forEach=function(n){utils$9.forEach(this.handlers,function(s){s!==null&&n(s)})};var InterceptorManager_1=InterceptorManager$1,utils$8=utils$b,normalizeHeaderName$1=function(n,r){utils$8.forEach(n,function(l,u){u!==r&&u.toUpperCase()===r.toUpperCase()&&(n[r]=l,delete n[u])})},utils$7=utils$b;function AxiosError$2(a,n,r,s,l){Error.call(this),this.message=a,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),l&&(this.response=l)}utils$7.inherits(AxiosError$2,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$2.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(a){descriptors[a]={value:a}});Object.defineProperties(AxiosError$2,descriptors);Object.defineProperty(prototype,"isAxiosError",{value:!0});AxiosError$2.from=function(a,n,r,s,l,u){var c=Object.create(prototype);return utils$7.toFlatObject(a,c,function(d){return d!==Error.prototype}),AxiosError$2.call(c,a.message,n,r,s,l),c.name=a.name,u&&Object.assign(c,u),c};var AxiosError_1=AxiosError$2,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utils$6=utils$b;function toFormData$1(a,n){n=n||new FormData;var r=[];function s(u){return u===null?"":utils$6.isDate(u)?u.toISOString():utils$6.isArrayBuffer(u)||utils$6.isTypedArray(u)?typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function l(u,c){if(utils$6.isPlainObject(u)||utils$6.isArray(u)){if(r.indexOf(u)!==-1)throw Error("Circular reference detected in "+c);r.push(u),utils$6.forEach(u,function(d,v){if(!utils$6.isUndefined(d)){var g=c?c+"."+v:v,y;if(d&&!c&&typeof d=="object"){if(utils$6.endsWith(v,"{}"))d=JSON.stringify(d);else if(utils$6.endsWith(v,"[]")&&(y=utils$6.toArray(d))){y.forEach(function(_){!utils$6.isUndefined(_)&&n.append(g,s(_))});return}}l(d,g)}}),r.pop()}else n.append(c,s(u))}return l(a),n}var toFormData_1=toFormData$1,settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var a=AxiosError_1;return settle=function(r,s,l){var u=l.config.validateStatus;!l.status||!u||u(l.status)?r(l):s(new a("Request failed with status code "+l.status,[a.ERR_BAD_REQUEST,a.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var a=utils$b;return cookies=a.isStandardBrowserEnv()?function(){return{write:function(s,l,u,c,f,d){var v=[];v.push(s+"="+encodeURIComponent(l)),a.isNumber(u)&&v.push("expires="+new Date(u).toGMTString()),a.isString(c)&&v.push("path="+c),a.isString(f)&&v.push("domain="+f),d===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(s){var l=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(s){this.write(s,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL$1=function(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)},combineURLs$1=function(n,r){return r?n.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):n},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(n,r){return n&&!isAbsoluteURL(r)?combineURLs(n,r):r},parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var a=utils$b,n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(s){var l={},u,c,f;return s&&a.forEach(s.split(`
`),function(v){if(f=v.indexOf(":"),u=a.trim(v.substr(0,f)).toLowerCase(),c=a.trim(v.substr(f+1)),u){if(l[u]&&n.indexOf(u)>=0)return;u==="set-cookie"?l[u]=(l[u]?l[u]:[]).concat([c]):l[u]=l[u]?l[u]+", "+c:c}}),l},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var a=utils$b;return isURLSameOrigin=a.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a"),l;function u(c){var f=c;return r&&(s.setAttribute("href",f),f=s.href),s.setAttribute("href",f),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return l=u(window.location.href),function(f){var d=a.isString(f)?u(f):f;return d.protocol===l.protocol&&d.host===l.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var CanceledError_1,hasRequiredCanceledError;function requireCanceledError(){if(hasRequiredCanceledError)return CanceledError_1;hasRequiredCanceledError=1;var a=AxiosError_1,n=utils$b;function r(s){a.call(this,s==null?"canceled":s,a.ERR_CANCELED),this.name="CanceledError"}return n.inherits(r,a,{__CANCEL__:!0}),CanceledError_1=r,CanceledError_1}var parseProtocol,hasRequiredParseProtocol;function requireParseProtocol(){return hasRequiredParseProtocol||(hasRequiredParseProtocol=1,parseProtocol=function(n){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}),parseProtocol}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var a=utils$b,n=requireSettle(),r=requireCookies(),s=buildURL$1,l=buildFullPath$1,u=requireParseHeaders(),c=requireIsURLSameOrigin(),f=transitional,d=AxiosError_1,v=requireCanceledError(),g=requireParseProtocol();return xhr=function(_){return new Promise(function(x,A){var b=_.data,w=_.headers,E=_.responseType,M;function P(){_.cancelToken&&_.cancelToken.unsubscribe(M),_.signal&&_.signal.removeEventListener("abort",M)}a.isFormData(b)&&a.isStandardBrowserEnv()&&delete w["Content-Type"];var R=new XMLHttpRequest;if(_.auth){var I=_.auth.username||"",L=_.auth.password?unescape(encodeURIComponent(_.auth.password)):"";w.Authorization="Basic "+btoa(I+":"+L)}var O=l(_.baseURL,_.url);R.open(_.method.toUpperCase(),s(O,_.params,_.paramsSerializer),!0),R.timeout=_.timeout;function N(){if(!!R){var V="getAllResponseHeaders"in R?u(R.getAllResponseHeaders()):null,z=!E||E==="text"||E==="json"?R.responseText:R.response,U={data:z,status:R.status,statusText:R.statusText,headers:V,config:_,request:R};n(function(q){x(q),P()},function(q){A(q),P()},U),R=null}}if("onloadend"in R?R.onloadend=N:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(N)},R.onabort=function(){!R||(A(new d("Request aborted",d.ECONNABORTED,_,R)),R=null)},R.onerror=function(){A(new d("Network Error",d.ERR_NETWORK,_,R,R)),R=null},R.ontimeout=function(){var z=_.timeout?"timeout of "+_.timeout+"ms exceeded":"timeout exceeded",U=_.transitional||f;_.timeoutErrorMessage&&(z=_.timeoutErrorMessage),A(new d(z,U.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,_,R)),R=null},a.isStandardBrowserEnv()){var B=(_.withCredentials||c(O))&&_.xsrfCookieName?r.read(_.xsrfCookieName):void 0;B&&(w[_.xsrfHeaderName]=B)}"setRequestHeader"in R&&a.forEach(w,function(z,U){typeof b>"u"&&U.toLowerCase()==="content-type"?delete w[U]:R.setRequestHeader(U,z)}),a.isUndefined(_.withCredentials)||(R.withCredentials=!!_.withCredentials),E&&E!=="json"&&(R.responseType=_.responseType),typeof _.onDownloadProgress=="function"&&R.addEventListener("progress",_.onDownloadProgress),typeof _.onUploadProgress=="function"&&R.upload&&R.upload.addEventListener("progress",_.onUploadProgress),(_.cancelToken||_.signal)&&(M=function(V){!R||(A(!V||V&&V.type?new v:V),R.abort(),R=null)},_.cancelToken&&_.cancelToken.subscribe(M),_.signal&&(_.signal.aborted?M():_.signal.addEventListener("abort",M))),b||(b=null);var F=g(O);if(F&&["http","https","file"].indexOf(F)===-1){A(new d("Unsupported protocol "+F+":",d.ERR_BAD_REQUEST,_));return}R.send(b)})},xhr}var _null,hasRequired_null;function require_null(){return hasRequired_null||(hasRequired_null=1,_null=null),_null}var utils$5=utils$b,normalizeHeaderName=normalizeHeaderName$1,AxiosError$1=AxiosError_1,transitionalDefaults=transitional,toFormData=toFormData_1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(a,n){!utils$5.isUndefined(a)&&utils$5.isUndefined(a["Content-Type"])&&(a["Content-Type"]=n)}function getDefaultAdapter(){var a;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(a=requireXhr()),a}function stringifySafely(a,n,r){if(utils$5.isString(a))try{return(n||JSON.parse)(a),utils$5.trim(a)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(a)}var defaults$4={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function(n,r){if(normalizeHeaderName(r,"Accept"),normalizeHeaderName(r,"Content-Type"),utils$5.isFormData(n)||utils$5.isArrayBuffer(n)||utils$5.isBuffer(n)||utils$5.isStream(n)||utils$5.isFile(n)||utils$5.isBlob(n))return n;if(utils$5.isArrayBufferView(n))return n.buffer;if(utils$5.isURLSearchParams(n))return setContentTypeIfUnset(r,"application/x-www-form-urlencoded;charset=utf-8"),n.toString();var s=utils$5.isObject(n),l=r&&r["Content-Type"],u;if((u=utils$5.isFileList(n))||s&&l==="multipart/form-data"){var c=this.env&&this.env.FormData;return toFormData(u?{"files[]":n}:n,c&&new c)}else if(s||l==="application/json")return setContentTypeIfUnset(r,"application/json"),stringifySafely(n);return n}],transformResponse:[function(n){var r=this.transitional||defaults$4.transitional,s=r&&r.silentJSONParsing,l=r&&r.forcedJSONParsing,u=!s&&this.responseType==="json";if(u||l&&utils$5.isString(n)&&n.length)try{return JSON.parse(n)}catch(c){if(u)throw c.name==="SyntaxError"?AxiosError$1.from(c,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):c}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:require_null()},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$5.forEach(["delete","get","head"],function(n){defaults$4.headers[n]={}});utils$5.forEach(["post","put","patch"],function(n){defaults$4.headers[n]=utils$5.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$4,utils$4=utils$b,defaults$3=defaults_1,transformData$1=function(n,r,s){var l=this||defaults$3;return utils$4.forEach(s,function(c){n=c.call(l,n,r)}),n},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(n){return!!(n&&n.__CANCEL__)}),isCancel$1}var utils$3=utils$b,transformData=transformData$1,isCancel=requireIsCancel(),defaults$2=defaults_1,CanceledError=requireCanceledError();function throwIfCancellationRequested(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new CanceledError}var dispatchRequest$1=function(n){throwIfCancellationRequested(n),n.headers=n.headers||{},n.data=transformData.call(n,n.data,n.headers,n.transformRequest),n.headers=utils$3.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],function(l){delete n.headers[l]});var r=n.adapter||defaults$2.adapter;return r(n).then(function(l){return throwIfCancellationRequested(n),l.data=transformData.call(n,l.data,l.headers,n.transformResponse),l},function(l){return isCancel(l)||(throwIfCancellationRequested(n),l&&l.response&&(l.response.data=transformData.call(n,l.response.data,l.response.headers,n.transformResponse))),Promise.reject(l)})},utils$2=utils$b,mergeConfig$2=function(n,r){r=r||{};var s={};function l(g,y){return utils$2.isPlainObject(g)&&utils$2.isPlainObject(y)?utils$2.merge(g,y):utils$2.isPlainObject(y)?utils$2.merge({},y):utils$2.isArray(y)?y.slice():y}function u(g){if(utils$2.isUndefined(r[g])){if(!utils$2.isUndefined(n[g]))return l(void 0,n[g])}else return l(n[g],r[g])}function c(g){if(!utils$2.isUndefined(r[g]))return l(void 0,r[g])}function f(g){if(utils$2.isUndefined(r[g])){if(!utils$2.isUndefined(n[g]))return l(void 0,n[g])}else return l(void 0,r[g])}function d(g){if(g in r)return l(n[g],r[g]);if(g in n)return l(void 0,n[g])}var v={url:c,method:c,data:c,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:d};return utils$2.forEach(Object.keys(n).concat(Object.keys(r)),function(y){var _=v[y]||u,S=_(y);utils$2.isUndefined(S)&&_!==d||(s[y]=S)}),s},data,hasRequiredData;function requireData(){return hasRequiredData||(hasRequiredData=1,data={version:"0.27.2"}),data}var VERSION=requireData().version,AxiosError=AxiosError_1,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(a,n){validators$1[a]=function(s){return typeof s===a||"a"+(n<1?"n ":" ")+a}});var deprecatedWarnings={};validators$1.transitional=function(n,r,s){function l(u,c){return"[Axios v"+VERSION+"] Transitional option '"+u+"'"+c+(s?". "+s:"")}return function(u,c,f){if(n===!1)throw new AxiosError(l(c," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(l(c," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(u,c,f):!0}};function assertOptions(a,n,r){if(typeof a!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(a),l=s.length;l-- >0;){var u=s[l],c=n[u];if(c){var f=a[u],d=f===void 0||c(f,u,a);if(d!==!0)throw new AxiosError("option "+u+" must be "+d,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+u,AxiosError.ERR_BAD_OPTION)}}var validator$1={assertOptions,validators:validators$1},utils$1=utils$b,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,buildFullPath=buildFullPath$1,validator=validator$1,validators=validator.validators;function Axios$1(a){this.defaults=a,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=mergeConfig$1(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var s=r.transitional;s!==void 0&&validator.assertOptions(s,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var l=[],u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(r)===!1||(u=u&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});var c=[];this.interceptors.response.forEach(function(S){c.push(S.fulfilled,S.rejected)});var f;if(!u){var d=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(d,l),d=d.concat(c),f=Promise.resolve(r);d.length;)f=f.then(d.shift(),d.shift());return f}for(var v=r;l.length;){var g=l.shift(),y=l.shift();try{v=g(v)}catch(_){y(_);break}}try{f=dispatchRequest(v)}catch(_){return Promise.reject(_)}for(;c.length;)f=f.then(c.shift(),c.shift());return f};Axios$1.prototype.getUri=function(n){n=mergeConfig$1(this.defaults,n);var r=buildFullPath(n.baseURL,n.url);return buildURL(r,n.params,n.paramsSerializer)};utils$1.forEach(["delete","get","head","options"],function(n){Axios$1.prototype[n]=function(r,s){return this.request(mergeConfig$1(s||{},{method:n,url:r,data:(s||{}).data}))}});utils$1.forEach(["post","put","patch"],function(n){function r(s){return function(u,c,f){return this.request(mergeConfig$1(f||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:c}))}}Axios$1.prototype[n]=r(),Axios$1.prototype[n+"Form"]=r(!0)});var Axios_1=Axios$1,CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var a=requireCanceledError();function n(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(c){s=c});var l=this;this.promise.then(function(u){if(!!l._listeners){var c,f=l._listeners.length;for(c=0;c<f;c++)l._listeners[c](u);l._listeners=null}}),this.promise.then=function(u){var c,f=new Promise(function(d){l.subscribe(d),c=d}).then(u);return f.cancel=function(){l.unsubscribe(c)},f},r(function(c){l.reason||(l.reason=new a(c),s(l.reason))})}return n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]},n.prototype.unsubscribe=function(s){if(!!this._listeners){var l=this._listeners.indexOf(s);l!==-1&&this._listeners.splice(l,1)}},n.source=function(){var s,l=new n(function(c){s=c});return{token:l,cancel:s}},CancelToken_1=n,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(n){return function(s){return n.apply(null,s)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){if(hasRequiredIsAxiosError)return isAxiosError;hasRequiredIsAxiosError=1;var a=utils$b;return isAxiosError=function(r){return a.isObject(r)&&r.isAxiosError===!0},isAxiosError}var utils=utils$b,bind$2=bind$4,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$1=defaults_1;function createInstance(a){var n=new Axios(a),r=bind$2(Axios.prototype.request,n);return utils.extend(r,Axios.prototype,n),utils.extend(r,n),r.create=function(l){return createInstance(mergeConfig(a,l))},r}var axios$1=createInstance(defaults$1);axios$1.Axios=Axios;axios$1.CanceledError=requireCanceledError();axios$1.CancelToken=requireCancelToken();axios$1.isCancel=requireIsCancel();axios$1.VERSION=requireData().version;axios$1.toFormData=toFormData_1;axios$1.AxiosError=AxiosError_1;axios$1.Cancel=axios$1.CanceledError;axios$1.all=function(n){return Promise.all(n)};axios$1.spread=requireSpread();axios$1.isAxiosError=requireIsAxiosError();axios$2.exports=axios$1;axios$2.exports.default=axios$1;(function(a){a.exports=axios$2.exports})(axios$3);const axios=getDefaultExportFromCjs(axios$3.exports);var md5$1={exports:{}};/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_MD5_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}(root.JS_MD5_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(a){return typeof a=="object"&&a.buffer&&a.buffer.constructor===ArrayBuffer});var createOutputMethod=function(a){return function(n){return new Md5(!0).update(n)[a]()}},createMethod=function(){var a=createOutputMethod("hex");NODE_JS&&(a=nodeWrap(a)),a.create=function(){return new Md5},a.update=function(s){return a.create().update(s)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];a[r]=createOutputMethod(r)}return a},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(a){if(typeof a=="string")return crypto.createHash("md5").update(a,"utf8").digest("hex");if(a==null)throw ERROR;return a.constructor===ArrayBuffer&&(a=new Uint8Array(a)),Array.isArray(a)||ArrayBuffer.isView(a)||a.constructor===Buffer?crypto.createHash("md5").update(new Buffer(a)).digest("hex"):method(a)};return nodeMethod};function Md5(a){if(a)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var n=new ArrayBuffer(68);this.buffer8=new Uint8Array(n),this.blocks=new Uint32Array(n)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(a){if(!this.finalized){var n,r=typeof a;if(r!=="string"){if(r==="object"){if(a===null)throw ERROR;if(ARRAY_BUFFER&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!Array.isArray(a)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(a)))throw ERROR}else throw ERROR;n=!0}for(var s,l=0,u,c=a.length,f=this.blocks,d=this.buffer8;l<c;){if(this.hashed&&(this.hashed=!1,f[0]=f[16],f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0),n)if(ARRAY_BUFFER)for(u=this.start;l<c&&u<64;++l)d[u++]=a[l];else for(u=this.start;l<c&&u<64;++l)f[u>>2]|=a[l]<<SHIFT[u++&3];else if(ARRAY_BUFFER)for(u=this.start;l<c&&u<64;++l)s=a.charCodeAt(l),s<128?d[u++]=s:s<2048?(d[u++]=192|s>>6,d[u++]=128|s&63):s<55296||s>=57344?(d[u++]=224|s>>12,d[u++]=128|s>>6&63,d[u++]=128|s&63):(s=65536+((s&1023)<<10|a.charCodeAt(++l)&1023),d[u++]=240|s>>18,d[u++]=128|s>>12&63,d[u++]=128|s>>6&63,d[u++]=128|s&63);else for(u=this.start;l<c&&u<64;++l)s=a.charCodeAt(l),s<128?f[u>>2]|=s<<SHIFT[u++&3]:s<2048?(f[u>>2]|=(192|s>>6)<<SHIFT[u++&3],f[u>>2]|=(128|s&63)<<SHIFT[u++&3]):s<55296||s>=57344?(f[u>>2]|=(224|s>>12)<<SHIFT[u++&3],f[u>>2]|=(128|s>>6&63)<<SHIFT[u++&3],f[u>>2]|=(128|s&63)<<SHIFT[u++&3]):(s=65536+((s&1023)<<10|a.charCodeAt(++l)&1023),f[u>>2]|=(240|s>>18)<<SHIFT[u++&3],f[u>>2]|=(128|s>>12&63)<<SHIFT[u++&3],f[u>>2]|=(128|s>>6&63)<<SHIFT[u++&3],f[u>>2]|=(128|s&63)<<SHIFT[u++&3]);this.lastByteIndex=u,this.bytes+=u-this.start,u>=64?(this.start=u-64,this.hash(),this.hashed=!0):this.start=u}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,n=this.lastByteIndex;a[n>>2]|=EXTRA[n&3],n>=56&&(this.hashed||this.hash(),a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),a[14]=this.bytes<<3,a[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var a,n,r,s,l,u,c=this.blocks;this.first?(a=c[0]-680876937,a=(a<<7|a>>>25)-271733879<<0,s=(-1732584194^a&2004318071)+c[1]-117830708,s=(s<<12|s>>>20)+a<<0,r=(-271733879^s&(a^-271733879))+c[2]-1126478375,r=(r<<17|r>>>15)+s<<0,n=(a^r&(s^a))+c[3]-1316259209,n=(n<<22|n>>>10)+r<<0):(a=this.h0,n=this.h1,r=this.h2,s=this.h3,a+=(s^n&(r^s))+c[0]-680876936,a=(a<<7|a>>>25)+n<<0,s+=(r^a&(n^r))+c[1]-389564586,s=(s<<12|s>>>20)+a<<0,r+=(n^s&(a^n))+c[2]+606105819,r=(r<<17|r>>>15)+s<<0,n+=(a^r&(s^a))+c[3]-1044525330,n=(n<<22|n>>>10)+r<<0),a+=(s^n&(r^s))+c[4]-176418897,a=(a<<7|a>>>25)+n<<0,s+=(r^a&(n^r))+c[5]+1200080426,s=(s<<12|s>>>20)+a<<0,r+=(n^s&(a^n))+c[6]-1473231341,r=(r<<17|r>>>15)+s<<0,n+=(a^r&(s^a))+c[7]-45705983,n=(n<<22|n>>>10)+r<<0,a+=(s^n&(r^s))+c[8]+1770035416,a=(a<<7|a>>>25)+n<<0,s+=(r^a&(n^r))+c[9]-1958414417,s=(s<<12|s>>>20)+a<<0,r+=(n^s&(a^n))+c[10]-42063,r=(r<<17|r>>>15)+s<<0,n+=(a^r&(s^a))+c[11]-1990404162,n=(n<<22|n>>>10)+r<<0,a+=(s^n&(r^s))+c[12]+1804603682,a=(a<<7|a>>>25)+n<<0,s+=(r^a&(n^r))+c[13]-40341101,s=(s<<12|s>>>20)+a<<0,r+=(n^s&(a^n))+c[14]-1502002290,r=(r<<17|r>>>15)+s<<0,n+=(a^r&(s^a))+c[15]+1236535329,n=(n<<22|n>>>10)+r<<0,a+=(r^s&(n^r))+c[1]-165796510,a=(a<<5|a>>>27)+n<<0,s+=(n^r&(a^n))+c[6]-1069501632,s=(s<<9|s>>>23)+a<<0,r+=(a^n&(s^a))+c[11]+643717713,r=(r<<14|r>>>18)+s<<0,n+=(s^a&(r^s))+c[0]-373897302,n=(n<<20|n>>>12)+r<<0,a+=(r^s&(n^r))+c[5]-701558691,a=(a<<5|a>>>27)+n<<0,s+=(n^r&(a^n))+c[10]+38016083,s=(s<<9|s>>>23)+a<<0,r+=(a^n&(s^a))+c[15]-660478335,r=(r<<14|r>>>18)+s<<0,n+=(s^a&(r^s))+c[4]-405537848,n=(n<<20|n>>>12)+r<<0,a+=(r^s&(n^r))+c[9]+568446438,a=(a<<5|a>>>27)+n<<0,s+=(n^r&(a^n))+c[14]-1019803690,s=(s<<9|s>>>23)+a<<0,r+=(a^n&(s^a))+c[3]-187363961,r=(r<<14|r>>>18)+s<<0,n+=(s^a&(r^s))+c[8]+1163531501,n=(n<<20|n>>>12)+r<<0,a+=(r^s&(n^r))+c[13]-1444681467,a=(a<<5|a>>>27)+n<<0,s+=(n^r&(a^n))+c[2]-51403784,s=(s<<9|s>>>23)+a<<0,r+=(a^n&(s^a))+c[7]+1735328473,r=(r<<14|r>>>18)+s<<0,n+=(s^a&(r^s))+c[12]-1926607734,n=(n<<20|n>>>12)+r<<0,l=n^r,a+=(l^s)+c[5]-378558,a=(a<<4|a>>>28)+n<<0,s+=(l^a)+c[8]-2022574463,s=(s<<11|s>>>21)+a<<0,u=s^a,r+=(u^n)+c[11]+1839030562,r=(r<<16|r>>>16)+s<<0,n+=(u^r)+c[14]-35309556,n=(n<<23|n>>>9)+r<<0,l=n^r,a+=(l^s)+c[1]-1530992060,a=(a<<4|a>>>28)+n<<0,s+=(l^a)+c[4]+1272893353,s=(s<<11|s>>>21)+a<<0,u=s^a,r+=(u^n)+c[7]-155497632,r=(r<<16|r>>>16)+s<<0,n+=(u^r)+c[10]-1094730640,n=(n<<23|n>>>9)+r<<0,l=n^r,a+=(l^s)+c[13]+681279174,a=(a<<4|a>>>28)+n<<0,s+=(l^a)+c[0]-358537222,s=(s<<11|s>>>21)+a<<0,u=s^a,r+=(u^n)+c[3]-722521979,r=(r<<16|r>>>16)+s<<0,n+=(u^r)+c[6]+76029189,n=(n<<23|n>>>9)+r<<0,l=n^r,a+=(l^s)+c[9]-640364487,a=(a<<4|a>>>28)+n<<0,s+=(l^a)+c[12]-421815835,s=(s<<11|s>>>21)+a<<0,u=s^a,r+=(u^n)+c[15]+530742520,r=(r<<16|r>>>16)+s<<0,n+=(u^r)+c[2]-995338651,n=(n<<23|n>>>9)+r<<0,a+=(r^(n|~s))+c[0]-198630844,a=(a<<6|a>>>26)+n<<0,s+=(n^(a|~r))+c[7]+1126891415,s=(s<<10|s>>>22)+a<<0,r+=(a^(s|~n))+c[14]-1416354905,r=(r<<15|r>>>17)+s<<0,n+=(s^(r|~a))+c[5]-57434055,n=(n<<21|n>>>11)+r<<0,a+=(r^(n|~s))+c[12]+1700485571,a=(a<<6|a>>>26)+n<<0,s+=(n^(a|~r))+c[3]-1894986606,s=(s<<10|s>>>22)+a<<0,r+=(a^(s|~n))+c[10]-1051523,r=(r<<15|r>>>17)+s<<0,n+=(s^(r|~a))+c[1]-2054922799,n=(n<<21|n>>>11)+r<<0,a+=(r^(n|~s))+c[8]+1873313359,a=(a<<6|a>>>26)+n<<0,s+=(n^(a|~r))+c[15]-30611744,s=(s<<10|s>>>22)+a<<0,r+=(a^(s|~n))+c[6]-1560198380,r=(r<<15|r>>>17)+s<<0,n+=(s^(r|~a))+c[13]+1309151649,n=(n<<21|n>>>11)+r<<0,a+=(r^(n|~s))+c[4]-145523070,a=(a<<6|a>>>26)+n<<0,s+=(n^(a|~r))+c[11]-1120210379,s=(s<<10|s>>>22)+a<<0,r+=(a^(s|~n))+c[2]+718787259,r=(r<<15|r>>>17)+s<<0,n+=(s^(r|~a))+c[9]-343485551,n=(n<<21|n>>>11)+r<<0,this.first?(this.h0=a+1732584193<<0,this.h1=n-271733879<<0,this.h2=r-1732584194<<0,this.h3=s+271733878<<0,this.first=!1):(this.h0=this.h0+a<<0,this.h1=this.h1+n<<0,this.h2=this.h2+r<<0,this.h3=this.h3+s<<0)},Md5.prototype.hex=function(){this.finalize();var a=this.h0,n=this.h1,r=this.h2,s=this.h3;return HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var a=this.h0,n=this.h1,r=this.h2,s=this.h3;return[a&255,a>>8&255,a>>16&255,a>>24&255,n&255,n>>8&255,n>>16&255,n>>24&255,r&255,r>>8&255,r>>16&255,r>>24&255,s&255,s>>8&255,s>>16&255,s>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var a=new ArrayBuffer(16),n=new Uint32Array(a);return n[0]=this.h0,n[1]=this.h1,n[2]=this.h2,n[3]=this.h3,a},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var a,n,r,s="",l=this.array(),u=0;u<15;)a=l[u++],n=l[u++],r=l[u++],s+=BASE64_ENCODE_CHAR[a>>>2]+BASE64_ENCODE_CHAR[(a<<4|n>>>4)&63]+BASE64_ENCODE_CHAR[(n<<2|r>>>6)&63]+BASE64_ENCODE_CHAR[r&63];return a=l[u],s+=BASE64_ENCODE_CHAR[a>>>2]+BASE64_ENCODE_CHAR[a<<4&63]+"==",s};var exports=createMethod();COMMON_JS?module.exports=exports:root.md5=exports})()})(md5$1);const md5=md5$1.exports;function e$1(a,n){a=a.replace(/=/g,"");var r=[];switch(n.constructor){case String:case Number:case Boolean:r.push(encodeURIComponent(a)+"="+encodeURIComponent(n));break;case Array:n.forEach(function(s){r=r.concat(e$1(a+"[]=",s))});break;case Object:Object.keys(n).forEach(function(s){var l=n[s];r=r.concat(e$1(a+"["+s+"]",l))})}return r}function t(a){var n=[];return a.forEach(function(r){typeof r=="string"?n.push(r):n=n.concat(t(r))}),n}function o(a,n,r){if(n===void 0&&(n={}),typeof a!="string")throw new Error('[Vue-jsonp] Type of param "url" is not string.');if(typeof n!="object"||!n)throw new Error("[Vue-jsonp] Invalid params, should be an object.");return r=typeof r=="number"?r:5e3,new Promise(function(s,l){var u=typeof n.callbackQuery=="string"?n.callbackQuery:"callback",c=typeof n.callbackName=="string"?n.callbackName:"jsonp_"+(Math.floor(1e5*Math.random())*Date.now()).toString(16);n[u]=c,delete n.callbackQuery,delete n.callbackName;var f=[];Object.keys(n).forEach(function(x){f=f.concat(e$1(x,n[x]))});var d=t(f).join("&"),v=function(){g(),clearTimeout(_),l({status:400,statusText:"Bad Request"})},g=function(){S.removeEventListener("error",v)},y=function(){document.body.removeChild(S),delete window[c]},_=null;r>-1&&(_=setTimeout(function(){g(),y(),l({statusText:"Request Timeout",status:408})},r)),window[c]=function(x){clearTimeout(_),g(),y(),s(x)};var S=document.createElement("script");S.addEventListener("error",v),S.src=a+(/\?/.test(a)?"&":"?")+d,document.body.appendChild(S)})}const elBadge="",elMessage="",index_vue_vue_type_style_index_0_scoped_77569a90_lang="",index_vue_vue_type_style_index_1_lang="",_export_sfc=(a,n)=>{const r=a.__vccOpts||a;for(const[s,l]of n)r[s]=l;return r},_withScopeId=a=>(pushScopeId("data-v-77569a90"),a=a(),popScopeId(),a),_hoisted_1=createStaticVNode('<div class="solar-syst" data-v-77569a90><div class="sun" data-v-77569a90></div><div class="mercury" data-v-77569a90></div><div class="venus" data-v-77569a90></div><div class="earth" data-v-77569a90></div><div class="mars" data-v-77569a90></div><div class="jupiter" data-v-77569a90></div><div class="saturn" data-v-77569a90></div><div class="uranus" data-v-77569a90></div><div class="neptune" data-v-77569a90></div><div class="pluto" data-v-77569a90></div><div class="asteroids-belt" data-v-77569a90></div></div>',1),_hoisted_2={class:"box"},_hoisted_3={class:"translation"},_hoisted_4=_withScopeId(()=>createBaseVNode("div",{class:"box3"},[createBaseVNode("span",{style:{"user-select":"none"}},"\u7FFB\u8BD1")],-1)),_hoisted_5={class:"box4"},_hoisted_6={class:"from"},_hoisted_7={class:"to"},_hoisted_8=_withScopeId(()=>createBaseVNode("div",{class:"box2"},[createBaseVNode("div",null,[createBaseVNode("div",null,[createBaseVNode("a",{target:"_blank",href:"https://leetcode.cn/"},[createBaseVNode("img",{src:"https://leetcode-cn.com/favicon.ico",alt:"logo",class:"css-1n67oxn-LightImg eewwj120"})])]),createBaseVNode("span",{class:"title"},"LeetCode")]),createBaseVNode("div",null,[createBaseVNode("div",null,[createBaseVNode("a",{target:"_blank",href:"https://www.bilibili.com/?spm_id_from=333.1007.0.0",class:"left-entry__title"},[createBaseVNode("img",{style:{width:"100%"},src:"https://toolb.cn/favicon/bilibili.com",alt:""})])]),createBaseVNode("span",{class:"title"},"bilibili")]),createBaseVNode("div",null,[createBaseVNode("div",null,[createBaseVNode("a",{target:"_blank",href:"https://hamibot.com/dashboard/scripts/console","aria-current":"page",class:"flex-shrink-0 focus:outline-none nuxt-link-exact-active nuxt-link-active -mr-16 sm:-mr-0","aria-label":"Dashboard"},[createBaseVNode("svg",{viewBox:"0 0 32 32",class:"fill-current h-8 md:h-10 w-auto"},[createBaseVNode("path",{d:"M22.7 6.4V2.6h-4.5v3.8h-4.5V2.6H9.3v3.8C4.1 6.6 0 10.8 0 16c0 5.2 4.1 9.4 9.3 9.6v3.8h4.5v-3.8h4.5v3.8h4.5v-3.8c5.2-.2 9.3-4.4 9.3-9.6-.1-5.2-4.2-9.4-9.4-9.6zm4.8 9.6c0 2.8-2.3 5.1-5.1 5.1H9.6c-2.8 0-5.1-2.3-5.1-5.1s2.3-5.1 5.1-5.1h12.8c2.8 0 5.1 2.3 5.1 5.1z",fill:"rgb(0,83,208)"}),createBaseVNode("path",{d:"M9.6 14.2h4.2v3.5H9.6zM18.2 14.2h4.2v3.5h-4.2z",fill:"rgb(0,83,208)"})])])]),createBaseVNode("span",{class:"title"},"Hamibit")]),createBaseVNode("div",null,[createBaseVNode("div",{class:"element"},[createBaseVNode("a",{target:"_blank",href:"https://element-plus.gitee.io/zh-CN/"},[createBaseVNode("img",{itemprop:"image",src:"https://avatars.githubusercontent.com/u/68583457?s=200&v=4",alt:"@element-plus"})])]),createBaseVNode("span",{class:"title"},"Element-plus")]),createBaseVNode("div",null,[createBaseVNode("div",null,[createBaseVNode("a",{target:"_blank",class:"mr-4 color-fg-inherit",href:"https://github.com/","aria-label":"Homepage","data-ga-click":"(Logged out) Header, go to homepage, icon:logo-wordmark"},[createBaseVNode("svg",{height:"32","aria-hidden":"true",viewBox:"0 0 16 16",version:"1.1",width:"32","data-view-component":"true",class:"octicon octicon-mark-github"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"})])])]),createBaseVNode("span",{class:"title"},"github")]),createBaseVNode("div",null,[createBaseVNode("div",{class:"blog"},[createBaseVNode("a",{target:"_blank",href:"https://www.cnblogs.com/",role:"banner"},[createBaseVNode("img",{src:"https://www.cnblogs.com/images/logo.svg?v=R9M0WmLAIPVydmdzE2keuvnjl-bPR7_35oHqtiBzGsM",alt:"cnblogs"})])]),createBaseVNode("span",{class:"title"},"\u535A\u5BA2\u56ED")])],-1)),_hoisted_9=createTextVNode("\u5BFB\u8BBF\u8BB0\u5F55\u67E5\u8BE2"),_sfc_main$1={__name:"index",emits:["change"],setup(a,{emit:n}){const r=ref(""),s=ref(""),l=ref(""),u=ref("auto"),c=ref("zh"),f=ref(!1),d=ref(""),v=ref(),g=ref();window.onresize=function(){document.querySelector("body").offsetWidth<700?f.value=!0:f.value=!1},window.onkeydown=function(E){E.code=="ArrowUp"&&u.value!="en"&&(u.value="en",c.value="zh",ElMessage.success("\u5DF2\u5207\u6362\u4E3A\u82F1\u8BD1\u4E2D")),E.code=="ArrowDown"&&u.value!="zh"&&(u.value="zh",c.value="en",ElMessage.success("\u5DF2\u5207\u6362\u4E3A\u4E2D\u8BD1\u82F1"))};function y(){let E="https://cn.bing.com/search?q="+r.value;r.value="",g.value.blur(),setTimeout(function(){window.open(E)},10)}async function _(){if(s.value!=""){let E=md5("20220724001281860"+s.value+1435660288+"ioxY0J7iVgXUimAUyPOc");o("https://api.fanyi.baidu.com/api/trans/vip/translate",{q:s.value,from:u.value,to:c.value,appid:"20220724001281860",salt:1435660288,sign:E}).then(M=>{M.error_code==null?l.value=M.trans_result[0].dst:l.value=""})}else l.value=""}var S=null,x=!0;function A(){S=setInterval(b,200)}function b(){var E="\u4EBA\u7C7B\u7684\u60B2\u6B22\u5E76\u4E0D\u76F8\u901A\uFF0C\u6211\u53EA\u89C9\u5F97\u4ED6\u4EEC\u5435\u95F9 ";const M=ref(200);d.value.length===E.length?(x=!1,M.value=2e3,w(M.value)):d.value.length==0&&(x=!0,M.value=2e3,w(M.value)),x&&(d.value=E.substring(0,d.value.length+1),M.value=200,w(M.value)),!x&&d.value.length!=E.length&&(d.value=E.substring(0,d.value.length-1),M.value=150,w(M.value)),!x&&d.value.length==E.length&&(M.value=2e3,w(M.value),d.value=E.substring(0,d.value.length-1))}function w(E){clearInterval(S),S=setInterval(b,E)}return onMounted(()=>{var E=document.querySelector("body");E.onclick=function(M){var P=["Vt=(2qU/m)1/2"," Vt=(Vx1+Vy1)^1/2=[V01+(gt)1]^1/2 "," ","\u0669\uFF08^\u1D17^\uFF09\u06F6","\uFF08\uFFE3\uFF5E\uFFE3\uFF09","o(^\u25BD^)o","(\xAC\u203F\xAC)","(>_<\u3001)","(\u0E51> \u706C <)","\uFF08*>.<*\uFF09","o(>.<)o","\u10E6\u309D\u25E1\u2579)\u30CE\u2661"],R=parseInt(Math.random()*P.length),I=document.createElement("p");I.innerText=P[R],I.style.background="-webkit-linear-gradient(345deg,#ffb199 0%,#9795f0 30%, #fbc8d4 60%, #ffb199 100%)",I.style.backgroundClip="text",I.style.webkitBackgroundClip="text",I.style.webkitTextFillColor="transparent",I.style.userSelect="none",I.style.position="absolute",I.style.top=M.pageY-20+"px",I.style.left=M.pageX-20+"px",I.style.fontSize=15+"px",I.style.zIndex=1e4,E.appendChild(I);var L=I.offsetTop,O=1,N=0,B=setInterval(()=>{L=L-3,I.style.top=L+"px",N++,O=O-.02,I.style.opacity=O,N==50&&(E.removeChild(I),clearInterval(B))},20)},A()}),(E,M)=>{const P=ElHeader,R=ElInput,I=ElCol,L=ElRow,O=ElMain,N=resolveComponent("router-link"),B=ElFooter,F=ElContainer;return openBlock(),createElementBlock(Fragment,null,[_hoisted_1,createBaseVNode("div",{class:"common-layout",ref_key:"box",ref:v},[createVNode$1(F,null,{default:withCtx(()=>[createVNode$1(P,null,{default:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("span",null,[createBaseVNode("p",null,toDisplayString(d.value)+"|",1)])])]),_:1}),createVNode$1(O,null,{default:withCtx(()=>[createVNode$1(R,{onKeydown:withKeys(y,["enter"]),ref_key:"select",ref:g,modelValue:r.value,"onUpdate:modelValue":M[0]||(M[0]=V=>r.value=V),class:"search",placeholder:"\u8F93\u5165\u641C\u7D22\u8BCD","suffix-icon":unref(search_default),onFocus:M[1]||(M[1]=V=>v.value.style.backgroundColor="rgba(0,0,0,0.5)"),onBlur:M[2]||(M[2]=V=>v.value.style.backgroundColor="rgba(0,0,0,0)")},null,8,["onKeydown","modelValue","suffix-icon"]),createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[_hoisted_4,createBaseVNode("div",_hoisted_5,[createVNode$1(L,null,{default:withCtx(()=>[createVNode$1(I,{span:12},{default:withCtx(()=>[createBaseVNode("div",_hoisted_6,[withDirectives(createBaseVNode("textarea",{class:"text","onUpdate:modelValue":M[3]||(M[3]=V=>s.value=V),onChange:_,placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},null,544),[[vModelText,s.value]])])]),_:1}),createVNode$1(I,{span:12},{default:withCtx(()=>[createBaseVNode("div",_hoisted_7,[withDirectives(createBaseVNode("textarea",{class:"text",readonly:"","onUpdate:modelValue":M[4]||(M[4]=V=>l.value=V)},null,512),[[vModelText,l.value]])])]),_:1})]),_:1})])]),_hoisted_8])]),_:1}),createVNode$1(B,null,{default:withCtx(()=>[createTextVNode(" \xA9 "+toDisplayString(new Date().getFullYear())+" Heart \xA0",1),createVNode$1(N,{to:"/arknight",target:"_blank",class:"ark"},{default:withCtx(()=>[_hoisted_9]),_:1})]),_:1})]),_:1})],512)],64)}}},index=_export_sfc(_sfc_main$1,[["__scopeId","data-v-77569a90"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(a,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])},extendStatics(a,n)};function __extends(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(a,n);function r(){this.constructor=a}a.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Browser=function(){function a(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return a}(),Env=function(){function a(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return a}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(a,n){var r=n.browser,s=a.match(/Firefox\/([\d.]+)/),l=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),u=a.match(/Edge?\/([\d.]+)/),c=/micromessenger/i.test(a);s&&(r.firefox=!0,r.version=s[1]),l&&(r.ie=!0,r.version=l[1]),u&&(r.edge=!0,r.version=u[1],r.newEdge=+u[1].split(".")[0]>18),c&&(r.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,n.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),n.domSupported=typeof document<"u";var f=document.documentElement.style;n.transform3dSupported=(r.ie&&"transition"in f||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in f)&&!("OTransition"in f),n.transformSupported=n.transform3dSupported||r.ie&&+r.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(a){var n={};if(typeof JSON>"u")return n;for(var r=0;r<a.length;r++){var s=String.fromCharCode(r+32),l=(a.charCodeAt(r)-OFFSET)/SCALE;n[s]=l}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var a,n;return function(r,s){if(!a){var l=platformApi.createCanvas();a=l&&l.getContext("2d")}if(a)return n!==s&&(n=a.font=s||DEFAULT_FONT),a.measureText(r);r=r||"",s=s||DEFAULT_FONT;var u=/(\d+)px/.exec(s),c=u&&+u[1]||DEFAULT_FONT_SIZE,f=0;if(s.indexOf("mono")>=0)f=c*r.length;else for(var d=0;d<r.length;d++){var v=DEFAULT_TEXT_WIDTH_MAP[r[d]];f+=v==null?c:v*c}return{width:f}}}(),loadImage:function(a,n,r){var s=new Image;return s.onload=n,s.onerror=r,s.src=a,s}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(a,n){return a["[object "+n+"]"]=!0,a},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(a,n){return a["[object "+n+"Array]"]=!0,a},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];typeof console<"u"&&console.error.apply(console,a)}function clone$4(a){if(a==null||typeof a!="object")return a;var n=a,r=objToString.call(a);if(r==="[object Array]"){if(!isPrimitive(a)){n=[];for(var s=0,l=a.length;s<l;s++)n[s]=clone$4(a[s])}}else if(TYPED_ARRAY[r]){if(!isPrimitive(a)){var u=a.constructor;if(u.from)n=u.from(a);else{n=new u(a.length);for(var s=0,l=a.length;s<l;s++)n[s]=a[s]}}}else if(!BUILTIN_OBJECT[r]&&!isPrimitive(a)&&!isDom(a)){n={};for(var c in a)a.hasOwnProperty(c)&&c!==protoKey&&(n[c]=clone$4(a[c]))}return n}function merge(a,n,r){if(!isObject$3(n)||!isObject$3(a))return r?clone$4(n):a;for(var s in n)if(n.hasOwnProperty(s)&&s!==protoKey){var l=a[s],u=n[s];isObject$3(u)&&isObject$3(l)&&!isArray$2(u)&&!isArray$2(l)&&!isDom(u)&&!isDom(l)&&!isBuiltInObject(u)&&!isBuiltInObject(l)&&!isPrimitive(u)&&!isPrimitive(l)?merge(l,u,r):(r||!(s in a))&&(a[s]=clone$4(n[s]))}return a}function mergeAll(a,n){for(var r=a[0],s=1,l=a.length;s<l;s++)r=merge(r,a[s],n);return r}function extend(a,n){if(Object.assign)Object.assign(a,n);else for(var r in n)n.hasOwnProperty(r)&&r!==protoKey&&(a[r]=n[r]);return a}function defaults(a,n,r){for(var s=keys(n),l=0;l<s.length;l++){var u=s[l];(r?n[u]!=null:a[u]==null)&&(a[u]=n[u])}return a}platformApi.createCanvas;function indexOf(a,n){if(a){if(a.indexOf)return a.indexOf(n);for(var r=0,s=a.length;r<s;r++)if(a[r]===n)return r}return-1}function inherits(a,n){var r=a.prototype;function s(){}s.prototype=n.prototype,a.prototype=new s;for(var l in r)r.hasOwnProperty(l)&&(a.prototype[l]=r[l]);a.prototype.constructor=a,a.superClass=n}function mixin(a,n,r){if(a="prototype"in a?a.prototype:a,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var s=Object.getOwnPropertyNames(n),l=0;l<s.length;l++){var u=s[l];u!=="constructor"&&(r?n[u]!=null:a[u]==null)&&(a[u]=n[u])}else defaults(a,n,r)}function isArrayLike(a){return!a||typeof a=="string"?!1:typeof a.length=="number"}function each$f(a,n,r){if(!!(a&&n))if(a.forEach&&a.forEach===nativeForEach)a.forEach(n,r);else if(a.length===+a.length)for(var s=0,l=a.length;s<l;s++)n.call(r,a[s],s,a);else for(var u in a)a.hasOwnProperty(u)&&n.call(r,a[u],u,a)}function map$1(a,n,r){if(!a)return[];if(!n)return slice(a);if(a.map&&a.map===nativeMap)return a.map(n,r);for(var s=[],l=0,u=a.length;l<u;l++)s.push(n.call(r,a[l],l,a));return s}function reduce(a,n,r,s){if(!!(a&&n)){for(var l=0,u=a.length;l<u;l++)r=n.call(s,r,a[l],l,a);return r}}function filter(a,n,r){if(!a)return[];if(!n)return slice(a);if(a.filter&&a.filter===nativeFilter)return a.filter(n,r);for(var s=[],l=0,u=a.length;l<u;l++)n.call(r,a[l],l,a)&&s.push(a[l]);return s}function find(a,n,r){if(!!(a&&n)){for(var s=0,l=a.length;s<l;s++)if(n.call(r,a[s],s,a))return a[s]}}function keys(a){if(!a)return[];if(Object.keys)return Object.keys(a);var n=[];for(var r in a)a.hasOwnProperty(r)&&n.push(r);return n}function bindPolyfill(a,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return function(){return a.apply(n,r.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){return a.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray$2(a){return Array.isArray?Array.isArray(a):objToString.call(a)==="[object Array]"}function isFunction(a){return typeof a=="function"}function isString(a){return typeof a=="string"}function isStringSafe(a){return objToString.call(a)==="[object String]"}function isNumber(a){return typeof a=="number"}function isObject$3(a){var n=typeof a;return n==="function"||!!a&&n==="object"}function isBuiltInObject(a){return!!BUILTIN_OBJECT[objToString.call(a)]}function isTypedArray(a){return!!TYPED_ARRAY[objToString.call(a)]}function isDom(a){return typeof a=="object"&&typeof a.nodeType=="number"&&typeof a.ownerDocument=="object"}function isGradientObject(a){return a.colorStops!=null}function isImagePatternObject(a){return a.image!=null}function isRegExp(a){return objToString.call(a)==="[object RegExp]"}function eqNaN(a){return a!==a}function retrieve(){for(var a=[],n=0;n<arguments.length;n++)a[n]=arguments[n];for(var r=0,s=a.length;r<s;r++)if(a[r]!=null)return a[r]}function retrieve2(a,n){return a!=null?a:n}function retrieve3(a,n,r){return a!=null?a:n!=null?n:r}function slice(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return nativeSlice.apply(a,n)}function normalizeCssArray$1(a){if(typeof a=="number")return[a,a,a,a];var n=a.length;return n===2?[a[0],a[1],a[0],a[1]]:n===3?[a[0],a[1],a[2],a[1]]:a}function assert(a,n){if(!a)throw new Error(n)}function trim$1(a){return a==null?null:typeof a.trim=="function"?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(a){a[primitiveKey]=!0}function isPrimitive(a){return a[primitiveKey]}var MapPolyfill=function(){function a(){this.data={}}return a.prototype.delete=function(n){var r=this.has(n);return r&&delete this.data[n],r},a.prototype.has=function(n){return this.data.hasOwnProperty(n)},a.prototype.get=function(n){return this.data[n]},a.prototype.set=function(n,r){return this.data[n]=r,this},a.prototype.keys=function(){return keys(this.data)},a.prototype.forEach=function(n){var r=this.data;for(var s in r)r.hasOwnProperty(s)&&n(r[s],s)},a}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function a(n){var r=isArray$2(n);this.data=maybeNativeMap();var s=this;n instanceof a?n.each(l):n&&each$f(n,l);function l(u,c){r?s.set(u,c):s.set(c,u)}}return a.prototype.hasKey=function(n){return this.data.has(n)},a.prototype.get=function(n){return this.data.get(n)},a.prototype.set=function(n,r){return this.data.set(n,r),r},a.prototype.each=function(n,r){this.data.forEach(function(s,l){n.call(r,s,l)})},a.prototype.keys=function(){var n=this.data.keys();return isNativeMapSupported?Array.from(n):n},a.prototype.removeKey=function(n){this.data.delete(n)},a}();function createHashMap(a){return new HashMap(a)}function concatArray(a,n){for(var r=new a.constructor(a.length+n.length),s=0;s<a.length;s++)r[s]=a[s];for(var l=a.length,s=0;s<n.length;s++)r[s+l]=n[s];return r}function createObject(a,n){var r;if(Object.create)r=Object.create(a);else{var s=function(){};s.prototype=a,r=new s}return n&&extend(r,n),r}function disableUserSelect(a){var n=a.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function hasOwn(a,n){return a.hasOwnProperty(n)}function noop$1(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$2(a,n){return a==null&&(a=0),n==null&&(n=0),[a,n]}function copy$1(a,n){return a[0]=n[0],a[1]=n[1],a}function clone$3(a){return[a[0],a[1]]}function set$1(a,n,r){return a[0]=n,a[1]=r,a}function add(a,n,r){return a[0]=n[0]+r[0],a[1]=n[1]+r[1],a}function scaleAndAdd$1(a,n,r,s){return a[0]=n[0]+r[0]*s,a[1]=n[1]+r[1]*s,a}function sub(a,n,r){return a[0]=n[0]-r[0],a[1]=n[1]-r[1],a}function len(a){return Math.sqrt(lenSquare(a))}function lenSquare(a){return a[0]*a[0]+a[1]*a[1]}function scale$2(a,n,r){return a[0]=n[0]*r,a[1]=n[1]*r,a}function normalize$3(a,n){var r=len(n);return r===0?(a[0]=0,a[1]=0):(a[0]=n[0]/r,a[1]=n[1]/r),a}function distance(a,n){return Math.sqrt((a[0]-n[0])*(a[0]-n[0])+(a[1]-n[1])*(a[1]-n[1]))}var dist$1=distance;function distanceSquare(a,n){return(a[0]-n[0])*(a[0]-n[0])+(a[1]-n[1])*(a[1]-n[1])}var distSquare=distanceSquare;function lerp$1(a,n,r,s){return a[0]=n[0]+s*(r[0]-n[0]),a[1]=n[1]+s*(r[1]-n[1]),a}function applyTransform$1(a,n,r){var s=n[0],l=n[1];return a[0]=r[0]*s+r[2]*l+r[4],a[1]=r[1]*s+r[3]*l+r[5],a}function min$1(a,n,r){return a[0]=Math.min(n[0],r[0]),a[1]=Math.min(n[1],r[1]),a}function max$1(a,n,r){return a[0]=Math.max(n[0],r[0]),a[1]=Math.max(n[1],r[1]),a}var Param=function(){function a(n,r){this.target=n,this.topTarget=r&&r.topTarget}return a}(),Draggable=function(){function a(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return a.prototype._dragStart=function(n){for(var r=n.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param(r,n),"dragstart",n.event))},a.prototype._drag=function(n){var r=this._draggingTarget;if(r){var s=n.offsetX,l=n.offsetY,u=s-this._x,c=l-this._y;this._x=s,this._y=l,r.drift(u,c,n),this.handler.dispatchToElement(new Param(r,n),"drag",n.event);var f=this.handler.findHover(s,l,r).target,d=this._dropTarget;this._dropTarget=f,r!==f&&(d&&f!==d&&this.handler.dispatchToElement(new Param(d,n),"dragleave",n.event),f&&f!==d&&this.handler.dispatchToElement(new Param(f,n),"dragenter",n.event))}},a.prototype._dragEnd=function(n){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Param(r,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},a}();const Draggable$1=Draggable;var Eventful=function(){function a(n){n&&(this._$eventProcessor=n)}return a.prototype.on=function(n,r,s,l){this._$handlers||(this._$handlers={});var u=this._$handlers;if(typeof r=="function"&&(l=s,s=r,r=null),!s||!n)return this;var c=this._$eventProcessor;r!=null&&c&&c.normalizeQuery&&(r=c.normalizeQuery(r)),u[n]||(u[n]=[]);for(var f=0;f<u[n].length;f++)if(u[n][f].h===s)return this;var d={h:s,query:r,ctx:l||this,callAtLast:s.zrEventfulCallAtLast},v=u[n].length-1,g=u[n][v];return g&&g.callAtLast?u[n].splice(v,0,d):u[n].push(d),this},a.prototype.isSilent=function(n){var r=this._$handlers;return!r||!r[n]||!r[n].length},a.prototype.off=function(n,r){var s=this._$handlers;if(!s)return this;if(!n)return this._$handlers={},this;if(r){if(s[n]){for(var l=[],u=0,c=s[n].length;u<c;u++)s[n][u].h!==r&&l.push(s[n][u]);s[n]=l}s[n]&&s[n].length===0&&delete s[n]}else delete s[n];return this},a.prototype.trigger=function(n){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(!this._$handlers)return this;var l=this._$handlers[n],u=this._$eventProcessor;if(l)for(var c=r.length,f=l.length,d=0;d<f;d++){var v=l[d];if(!(u&&u.filter&&v.query!=null&&!u.filter(n,v.query)))switch(c){case 0:v.h.call(v.ctx);break;case 1:v.h.call(v.ctx,r[0]);break;case 2:v.h.call(v.ctx,r[0],r[1]);break;default:v.h.apply(v.ctx,r);break}}return u&&u.afterTrigger&&u.afterTrigger(n),this},a.prototype.triggerWithContext=function(n){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];if(!this._$handlers)return this;var l=this._$handlers[n],u=this._$eventProcessor;if(l)for(var c=r.length,f=r[c-1],d=l.length,v=0;v<d;v++){var g=l[v];if(!(u&&u.filter&&g.query!=null&&!u.filter(n,g.query)))switch(c){case 0:g.h.call(f);break;case 1:g.h.call(f,r[0]);break;case 2:g.h.call(f,r[0],r[1]);break;default:g.h.apply(f,r.slice(1,c-1));break}}return u&&u.afterTrigger&&u.afterTrigger(n),this},a}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(a,n,r,s,l,u){var c=s+"-"+l,f=a.length;if(u.hasOwnProperty(c))return u[c];if(n===1){var d=Math.round(Math.log((1<<f)-1&~l)/LN2);return a[r][d]}for(var v=s|1<<r,g=r+1;s&1<<g;)g++;for(var y=0,_=0,S=0;_<f;_++){var x=1<<_;x&l||(y+=(S%2?-1:1)*a[r][_]*determinant(a,n-1,g,v,l|x,u),S++)}return u[c]=y,y}function buildTransformer(a,n){var r=[[a[0],a[1],1,0,0,0,-n[0]*a[0],-n[0]*a[1]],[0,0,0,a[0],a[1],1,-n[1]*a[0],-n[1]*a[1]],[a[2],a[3],1,0,0,0,-n[2]*a[2],-n[2]*a[3]],[0,0,0,a[2],a[3],1,-n[3]*a[2],-n[3]*a[3]],[a[4],a[5],1,0,0,0,-n[4]*a[4],-n[4]*a[5]],[0,0,0,a[4],a[5],1,-n[5]*a[4],-n[5]*a[5]],[a[6],a[7],1,0,0,0,-n[6]*a[6],-n[6]*a[7]],[0,0,0,a[6],a[7],1,-n[7]*a[6],-n[7]*a[7]]],s={},l=determinant(r,8,0,0,0,s);if(l!==0){for(var u=[],c=0;c<8;c++)for(var f=0;f<8;f++)u[f]==null&&(u[f]=0),u[f]+=((c+f)%2?-1:1)*determinant(r,7,c===0?1:0,1<<c,1<<f,s)/l*n[c];return function(d,v,g){var y=v*u[6]+g*u[7]+1;d[0]=(v*u[0]+g*u[1]+u[2])/y,d[1]=(v*u[3]+g*u[4]+u[5])/y}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(a,n,r,s,l){return transformCoordWithViewport(_calcOut$1,n,s,l,!0)&&transformCoordWithViewport(a,r,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(a,n,r,s,l){if(n.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(n)){var u=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),c=prepareCoordMarkers(n,u),f=preparePointerTransformer(c,u,l);if(f)return f(a,r,s),!0}return!1}function prepareCoordMarkers(a,n){var r=n.markers;if(r)return r;r=n.markers=[];for(var s=["left","right"],l=["top","bottom"],u=0;u<4;u++){var c=document.createElement("div"),f=c.style,d=u%2,v=(u>>1)%2;f.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",s[d]+":0",l[v]+":0",s[1-d]+":auto",l[1-v]+":auto",""].join("!important;"),a.appendChild(c),r.push(c)}return r}function preparePointerTransformer(a,n,r){for(var s=r?"invTrans":"trans",l=n[s],u=n.srcCoords,c=[],f=[],d=!0,v=0;v<4;v++){var g=a[v].getBoundingClientRect(),y=2*v,_=g.left,S=g.top;c.push(_,S),d=d&&u&&_===u[y]&&S===u[y+1],f.push(a[v].offsetLeft,a[v].offsetTop)}return d&&l?l:(n.srcCoords=c,n[s]=r?buildTransformer(f,c):buildTransformer(c,f))}function isCanvasEl(a){return a.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(a){return a==null?"":(a+"").replace(replaceReg,function(n,r){return replaceMap[r]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(a,n,r,s){return r=r||{},s?calculateZrXY(a,n,r):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(r.zrX=n.layerX,r.zrY=n.layerY):n.offsetX!=null?(r.zrX=n.offsetX,r.zrY=n.offsetY):calculateZrXY(a,n,r),r}function calculateZrXY(a,n,r){if(env$1.domSupported&&a.getBoundingClientRect){var s=n.clientX,l=n.clientY;if(isCanvasEl(a)){var u=a.getBoundingClientRect();r.zrX=s-u.left,r.zrY=l-u.top;return}else if(transformCoordWithViewport(_calcOut,a,s,l)){r.zrX=_calcOut[0],r.zrY=_calcOut[1];return}}r.zrX=r.zrY=0}function getNativeEvent(a){return a||window.event}function normalizeEvent(a,n,r){if(n=getNativeEvent(n),n.zrX!=null)return n;var s=n.type,l=s&&s.indexOf("touch")>=0;if(l){var c=s!=="touchend"?n.targetTouches[0]:n.changedTouches[0];c&&clientToLocal(a,c,n,r)}else{clientToLocal(a,n,n,r);var u=getWheelDeltaMayPolyfill(n);n.zrDelta=u?u/120:-(n.detail||0)/3}var f=n.button;return n.which==null&&f!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=f&1?1:f&2?3:f&4?2:0),n}function getWheelDeltaMayPolyfill(a){var n=a.wheelDelta;if(n)return n;var r=a.deltaX,s=a.deltaY;if(r==null||s==null)return n;var l=Math.abs(s!==0?s:r),u=s>0?-1:s<0?1:r>0?-1:1;return 3*l*u}function addEventListener(a,n,r,s){a.addEventListener(n,r,s)}function removeEventListener(a,n,r,s){a.removeEventListener(n,r,s)}var stop=function(a){a.preventDefault(),a.stopPropagation(),a.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(a){return a.which===2||a.which===3}var GestureMgr=function(){function a(){this._track=[]}return a.prototype.recognize=function(n,r,s){return this._doTrack(n,r,s),this._recognize(n)},a.prototype.clear=function(){return this._track.length=0,this},a.prototype._doTrack=function(n,r,s){var l=n.touches;if(!!l){for(var u={points:[],touches:[],target:r,event:n},c=0,f=l.length;c<f;c++){var d=l[c],v=clientToLocal(s,d,{});u.points.push([v.zrX,v.zrY]),u.touches.push(d)}this._track.push(u)}},a.prototype._recognize=function(n){for(var r in recognizers)if(recognizers.hasOwnProperty(r)){var s=recognizers[r](this._track,n);if(s)return s}},a}();function dist(a){var n=a[1][0]-a[0][0],r=a[1][1]-a[0][1];return Math.sqrt(n*n+r*r)}function center$1(a){return[(a[0][0]+a[1][0])/2,(a[0][1]+a[1][1])/2]}var recognizers={pinch:function(a,n){var r=a.length;if(!!r){var s=(a[r-1]||{}).points,l=(a[r-2]||{}).points||s;if(l&&l.length>1&&s&&s.length>1){var u=dist(s)/dist(l);!isFinite(u)&&(u=1),n.pinchScale=u;var c=center$1(s);return n.pinchX=c[0],n.pinchY=c[1],{type:"pinch",target:a[0].target,event:n}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function copy(a,n){return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5],a}function mul(a,n,r){var s=n[0]*r[0]+n[2]*r[1],l=n[1]*r[0]+n[3]*r[1],u=n[0]*r[2]+n[2]*r[3],c=n[1]*r[2]+n[3]*r[3],f=n[0]*r[4]+n[2]*r[5]+n[4],d=n[1]*r[4]+n[3]*r[5]+n[5];return a[0]=s,a[1]=l,a[2]=u,a[3]=c,a[4]=f,a[5]=d,a}function translate(a,n,r){return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4]+r[0],a[5]=n[5]+r[1],a}function rotate(a,n,r){var s=n[0],l=n[2],u=n[4],c=n[1],f=n[3],d=n[5],v=Math.sin(r),g=Math.cos(r);return a[0]=s*g+c*v,a[1]=-s*v+c*g,a[2]=l*g+f*v,a[3]=-l*v+g*f,a[4]=g*u+v*d,a[5]=g*d-v*u,a}function scale$1(a,n,r){var s=r[0],l=r[1];return a[0]=n[0]*s,a[1]=n[1]*l,a[2]=n[2]*s,a[3]=n[3]*l,a[4]=n[4]*s,a[5]=n[5]*l,a}function invert(a,n){var r=n[0],s=n[2],l=n[4],u=n[1],c=n[3],f=n[5],d=r*c-u*s;return d?(d=1/d,a[0]=c*d,a[1]=-u*d,a[2]=-s*d,a[3]=r*d,a[4]=(s*f-c*l)*d,a[5]=(u*l-r*f)*d,a):null}function clone$2(a){var n=create$1();return copy(n,a),n}var Point=function(){function a(n,r){this.x=n||0,this.y=r||0}return a.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.set=function(n,r){return this.x=n,this.y=r,this},a.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},a.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},a.prototype.scale=function(n){this.x*=n,this.y*=n},a.prototype.scaleAndAdd=function(n,r){this.x+=n.x*r,this.y+=n.y*r},a.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},a.prototype.dot=function(n){return this.x*n.x+this.y*n.y},a.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},a.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},a.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},a.prototype.distance=function(n){var r=this.x-n.x,s=this.y-n.y;return Math.sqrt(r*r+s*s)},a.prototype.distanceSquare=function(n){var r=this.x-n.x,s=this.y-n.y;return r*r+s*s},a.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},a.prototype.transform=function(n){if(!!n){var r=this.x,s=this.y;return this.x=n[0]*r+n[2]*s+n[4],this.y=n[1]*r+n[3]*s+n[5],this}},a.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},a.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},a.set=function(n,r,s){n.x=r,n.y=s},a.copy=function(n,r){n.x=r.x,n.y=r.y},a.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},a.lenSquare=function(n){return n.x*n.x+n.y*n.y},a.dot=function(n,r){return n.x*r.x+n.y*r.y},a.add=function(n,r,s){n.x=r.x+s.x,n.y=r.y+s.y},a.sub=function(n,r,s){n.x=r.x-s.x,n.y=r.y-s.y},a.scale=function(n,r,s){n.x=r.x*s,n.y=r.y*s},a.scaleAndAdd=function(n,r,s,l){n.x=r.x+s.x*l,n.y=r.y+s.y*l},a.lerp=function(n,r,s,l){var u=1-l;n.x=u*r.x+l*s.x,n.y=u*r.y+l*s.y},a}();const Point$1=Point;var mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point$1,rb=new Point$1,lb=new Point$1,rt=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function a(n,r,s,l){s<0&&(n=n+s,s=-s),l<0&&(r=r+l,l=-l),this.x=n,this.y=r,this.width=s,this.height=l}return a.prototype.union=function(n){var r=mathMin$a(n.x,this.x),s=mathMin$a(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(n.x+n.width,this.x+this.width)-r:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(n.y+n.height,this.y+this.height)-s:this.height=n.height,this.x=r,this.y=s},a.prototype.applyTransform=function(n){a.applyTransform(this,this,n)},a.prototype.calculateTransform=function(n){var r=this,s=n.width/r.width,l=n.height/r.height,u=create$1();return translate(u,u,[-r.x,-r.y]),scale$1(u,u,[s,l]),translate(u,u,[n.x,n.y]),u},a.prototype.intersect=function(n,r){if(!n)return!1;n instanceof a||(n=a.create(n));var s=this,l=s.x,u=s.x+s.width,c=s.y,f=s.y+s.height,d=n.x,v=n.x+n.width,g=n.y,y=n.y+n.height,_=!(u<d||v<l||f<g||y<c);if(r){var S=1/0,x=0,A=Math.abs(u-d),b=Math.abs(v-l),w=Math.abs(f-g),E=Math.abs(y-c),M=Math.min(A,b),P=Math.min(w,E);u<d||v<l?M>x&&(x=M,A<b?Point$1.set(maxTv$1,-A,0):Point$1.set(maxTv$1,b,0)):M<S&&(S=M,A<b?Point$1.set(minTv$1,A,0):Point$1.set(minTv$1,-b,0)),f<g||y<c?P>x&&(x=P,w<E?Point$1.set(maxTv$1,0,-w):Point$1.set(maxTv$1,0,E)):M<S&&(S=M,w<E?Point$1.set(minTv$1,0,w):Point$1.set(minTv$1,0,-E))}return r&&Point$1.copy(r,_?minTv$1:maxTv$1),_},a.prototype.contain=function(n,r){var s=this;return n>=s.x&&n<=s.x+s.width&&r>=s.y&&r<=s.y+s.height},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.copy=function(n){a.copy(this,n)},a.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},a.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},a.prototype.isZero=function(){return this.width===0||this.height===0},a.create=function(n){return new a(n.x,n.y,n.width,n.height)},a.copy=function(n,r){n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height},a.applyTransform=function(n,r,s){if(!s){n!==r&&a.copy(n,r);return}if(s[1]<1e-5&&s[1]>-1e-5&&s[2]<1e-5&&s[2]>-1e-5){var l=s[0],u=s[3],c=s[4],f=s[5];n.x=r.x*l+c,n.y=r.y*u+f,n.width=r.width*l,n.height=r.height*u,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt.x=lb.x=r.x,lt.y=rt.y=r.y,rb.x=rt.x=r.x+r.width,rb.y=lb.y=r.y+r.height,lt.transform(s),rt.transform(s),rb.transform(s),lb.transform(s),n.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),n.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var d=mathMax$a(lt.x,rb.x,lb.x,rt.x),v=mathMax$a(lt.y,rb.y,lb.y,rt.y);n.width=d-n.x,n.height=v-n.y},a}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(a,n,r){return{type:a,event:r,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.handler=null,r}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful$1),HoveredResult=function(){function a(n,r){this.x=n,this.y=r}return a}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(a){__extends(n,a);function n(r,s,l,u,c){var f=a.call(this)||this;return f._hovered=new HoveredResult(0,0),f.storage=r,f.painter=s,f.painterRoot=u,f._pointerSize=c,l=l||new EmptyProxy,f.proxy=null,f.setHandlerProxy(l),f._draggingMgr=new Draggable$1(f),f}return n.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(each$f(handlerNames,function(s){r.on&&r.on(s,this[s],this)},this),r.handler=this),this.proxy=r},n.prototype.mousemove=function(r){var s=r.zrX,l=r.zrY,u=isOutsideBoundary(this,s,l),c=this._hovered,f=c.target;f&&!f.__zr&&(c=this.findHover(c.x,c.y),f=c.target);var d=this._hovered=u?new HoveredResult(s,l):this.findHover(s,l),v=d.target,g=this.proxy;g.setCursor&&g.setCursor(v?v.cursor:"default"),f&&v!==f&&this.dispatchToElement(c,"mouseout",r),this.dispatchToElement(d,"mousemove",r),v&&v!==f&&this.dispatchToElement(d,"mouseover",r)},n.prototype.mouseout=function(r){var s=r.zrEventControl;s!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),s!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(r,s){var l=this[r];l&&l.call(this,s)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(r){var s=this.proxy;s.setCursor&&s.setCursor(r)},n.prototype.dispatchToElement=function(r,s,l){r=r||{};var u=r.target;if(!(u&&u.silent)){for(var c="on"+s,f=makeEventPacket(s,r,l);u&&(u[c]&&(f.cancelBubble=!!u[c].call(u,f)),u.trigger(s,f),u=u.__hostTarget?u.__hostTarget:u.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(s,f),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(d){typeof d[c]=="function"&&d[c].call(d,f),d.trigger&&d.trigger(s,f)}))}},n.prototype.findHover=function(r,s,l){var u=this.storage.getDisplayList(),c=new HoveredResult(r,s);if(setHoverTarget(u,c,r,s,l),this._pointerSize&&!c.target){for(var f=[],d=this._pointerSize,v=d/2,g=new BoundingRect$1(r-v,s-v,d,d),y=u.length-1;y>=0;y--){var _=u[y];_!==l&&!_.ignore&&!_.ignoreCoarsePointer&&(!_.parent||!_.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(_.getBoundingRect()),_.transform&&tmpRect$1.applyTransform(_.transform),tmpRect$1.intersect(g)&&f.push(_))}if(f.length)for(var S=4,x=Math.PI/12,A=Math.PI*2,b=0;b<v;b+=S)for(var w=0;w<A;w+=x){var E=r+b*Math.cos(w),M=s+b*Math.sin(w);if(setHoverTarget(f,c,E,M,l),c.target)return c}}return c},n.prototype.processGesture=function(r,s){this._gestureMgr||(this._gestureMgr=new GestureMgr);var l=this._gestureMgr;s==="start"&&l.clear();var u=l.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(s==="end"&&l.clear(),u){var c=u.type;r.gestureEvent=c;var f=new HoveredResult;f.target=u.target,this.dispatchToElement(f,c,u.event)}},n}(Eventful$1);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(a){Handler.prototype[a]=function(n){var r=n.zrX,s=n.zrY,l=isOutsideBoundary(this,r,s),u,c;if((a!=="mouseup"||!l)&&(u=this.findHover(r,s),c=u.target),a==="mousedown")this._downEl=c,this._downPoint=[n.zrX,n.zrY],this._upEl=c;else if(a==="mouseup")this._upEl=c;else if(a==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(u,a,n)}});function isHover(a,n,r){if(a[a.rectHover?"rectContain":"contain"](n,r)){for(var s=a,l=void 0,u=!1;s;){if(s.ignoreClip&&(u=!0),!u){var c=s.getClipPath();if(c&&!c.contain(n,r))return!1;s.silent&&(l=!0)}var f=s.__hostTarget;s=f||s.parent}return l?SILENT:!0}return!1}function setHoverTarget(a,n,r,s,l){for(var u=a.length-1;u>=0;u--){var c=a[u],f=void 0;if(c!==l&&!c.ignore&&(f=isHover(c,r,s))&&(!n.topTarget&&(n.topTarget=c),f!==SILENT)){n.target=c;break}}}function isOutsideBoundary(a,n,r){var s=a.painter;return n<0||n>s.getWidth()||r<0||r>s.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(a){for(var n=0;a>=DEFAULT_MIN_MERGE;)n|=a&1,a>>=1;return a+n}function makeAscendingRun(a,n,r,s){var l=n+1;if(l===r)return 1;if(s(a[l++],a[n])<0){for(;l<r&&s(a[l],a[l-1])<0;)l++;reverseRun(a,n,l)}else for(;l<r&&s(a[l],a[l-1])>=0;)l++;return l-n}function reverseRun(a,n,r){for(r--;n<r;){var s=a[n];a[n++]=a[r],a[r--]=s}}function binaryInsertionSort(a,n,r,s,l){for(s===n&&s++;s<r;s++){for(var u=a[s],c=n,f=s,d;c<f;)d=c+f>>>1,l(u,a[d])<0?f=d:c=d+1;var v=s-c;switch(v){case 3:a[c+3]=a[c+2];case 2:a[c+2]=a[c+1];case 1:a[c+1]=a[c];break;default:for(;v>0;)a[c+v]=a[c+v-1],v--}a[c]=u}}function gallopLeft(a,n,r,s,l,u){var c=0,f=0,d=1;if(u(a,n[r+l])>0){for(f=s-l;d<f&&u(a,n[r+l+d])>0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),c+=l,d+=l}else{for(f=l+1;d<f&&u(a,n[r+l-d])<=0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var v=c;c=l-d,d=l-v}for(c++;c<d;){var g=c+(d-c>>>1);u(a,n[r+g])>0?c=g+1:d=g}return d}function gallopRight(a,n,r,s,l,u){var c=0,f=0,d=1;if(u(a,n[r+l])<0){for(f=l+1;d<f&&u(a,n[r+l-d])<0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f);var v=c;c=l-d,d=l-v}else{for(f=s-l;d<f&&u(a,n[r+l+d])>=0;)c=d,d=(d<<1)+1,d<=0&&(d=f);d>f&&(d=f),c+=l,d+=l}for(c++;c<d;){var g=c+(d-c>>>1);u(a,n[r+g])<0?d=g:c=g+1}return d}function TimSort(a,n){var r=DEFAULT_MIN_GALLOPING,s,l,u=0;a.length;var c=[];s=[],l=[];function f(S,x){s[u]=S,l[u]=x,u+=1}function d(){for(;u>1;){var S=u-2;if(S>=1&&l[S-1]<=l[S]+l[S+1]||S>=2&&l[S-2]<=l[S]+l[S-1])l[S-1]<l[S+1]&&S--;else if(l[S]>l[S+1])break;g(S)}}function v(){for(;u>1;){var S=u-2;S>0&&l[S-1]<l[S+1]&&S--,g(S)}}function g(S){var x=s[S],A=l[S],b=s[S+1],w=l[S+1];l[S]=A+w,S===u-3&&(s[S+1]=s[S+2],l[S+1]=l[S+2]),u--;var E=gallopRight(a[b],a,x,A,0,n);x+=E,A-=E,A!==0&&(w=gallopLeft(a[x+A-1],a,b,w,w-1,n),w!==0&&(A<=w?y(x,A,b,w):_(x,A,b,w)))}function y(S,x,A,b){var w=0;for(w=0;w<x;w++)c[w]=a[S+w];var E=0,M=A,P=S;if(a[P++]=a[M++],--b===0){for(w=0;w<x;w++)a[P+w]=c[E+w];return}if(x===1){for(w=0;w<b;w++)a[P+w]=a[M+w];a[P+b]=c[E];return}for(var R=r,I,L,O;;){I=0,L=0,O=!1;do if(n(a[M],c[E])<0){if(a[P++]=a[M++],L++,I=0,--b===0){O=!0;break}}else if(a[P++]=c[E++],I++,L=0,--x===1){O=!0;break}while((I|L)<R);if(O)break;do{if(I=gallopRight(a[M],c,E,x,0,n),I!==0){for(w=0;w<I;w++)a[P+w]=c[E+w];if(P+=I,E+=I,x-=I,x<=1){O=!0;break}}if(a[P++]=a[M++],--b===0){O=!0;break}if(L=gallopLeft(c[E],a,M,b,0,n),L!==0){for(w=0;w<L;w++)a[P+w]=a[M+w];if(P+=L,M+=L,b-=L,b===0){O=!0;break}}if(a[P++]=c[E++],--x===1){O=!0;break}R--}while(I>=DEFAULT_MIN_GALLOPING||L>=DEFAULT_MIN_GALLOPING);if(O)break;R<0&&(R=0),R+=2}if(r=R,r<1&&(r=1),x===1){for(w=0;w<b;w++)a[P+w]=a[M+w];a[P+b]=c[E]}else{if(x===0)throw new Error;for(w=0;w<x;w++)a[P+w]=c[E+w]}}function _(S,x,A,b){var w=0;for(w=0;w<b;w++)c[w]=a[A+w];var E=S+x-1,M=b-1,P=A+b-1,R=0,I=0;if(a[P--]=a[E--],--x===0){for(R=P-(b-1),w=0;w<b;w++)a[R+w]=c[w];return}if(b===1){for(P-=x,E-=x,I=P+1,R=E+1,w=x-1;w>=0;w--)a[I+w]=a[R+w];a[P]=c[M];return}for(var L=r;;){var O=0,N=0,B=!1;do if(n(c[M],a[E])<0){if(a[P--]=a[E--],O++,N=0,--x===0){B=!0;break}}else if(a[P--]=c[M--],N++,O=0,--b===1){B=!0;break}while((O|N)<L);if(B)break;do{if(O=x-gallopRight(c[M],a,S,x,x-1,n),O!==0){for(P-=O,E-=O,x-=O,I=P+1,R=E+1,w=O-1;w>=0;w--)a[I+w]=a[R+w];if(x===0){B=!0;break}}if(a[P--]=c[M--],--b===1){B=!0;break}if(N=b-gallopLeft(a[E],c,0,b,b-1,n),N!==0){for(P-=N,M-=N,b-=N,I=P+1,R=M+1,w=0;w<N;w++)a[I+w]=c[R+w];if(b<=1){B=!0;break}}if(a[P--]=a[E--],--x===0){B=!0;break}L--}while(O>=DEFAULT_MIN_GALLOPING||N>=DEFAULT_MIN_GALLOPING);if(B)break;L<0&&(L=0),L+=2}if(r=L,r<1&&(r=1),b===1){for(P-=x,E-=x,I=P+1,R=E+1,w=x-1;w>=0;w--)a[I+w]=a[R+w];a[P]=c[M]}else{if(b===0)throw new Error;for(R=P-(b-1),w=0;w<b;w++)a[R+w]=c[w]}}return{mergeRuns:d,forceMergeRuns:v,pushRun:f}}function sort$2(a,n,r,s){r||(r=0),s||(s=a.length);var l=s-r;if(!(l<2)){var u=0;if(l<DEFAULT_MIN_MERGE){u=makeAscendingRun(a,r,s,n),binaryInsertionSort(a,r,s,r+u,n);return}var c=TimSort(a,n),f=minRunLength(l);do{if(u=makeAscendingRun(a,r,s,n),u<f){var d=l;d>f&&(d=f),binaryInsertionSort(a,r,r+d,r+u,n),u=d}c.pushRun(r,u),c.mergeRuns(),l-=u,r+=u}while(l!==0);c.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(a,n){return a.zlevel===n.zlevel?a.z===n.z?a.z2-n.z2:a.z-n.z:a.zlevel-n.zlevel}var Storage=function(){function a(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return a.prototype.traverse=function(n,r){for(var s=0;s<this._roots.length;s++)this._roots[s].traverse(n,r)},a.prototype.getDisplayList=function(n,r){r=r||!1;var s=this._displayList;return(n||!s.length)&&this.updateDisplayList(r),s},a.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var r=this._roots,s=this._displayList,l=0,u=r.length;l<u;l++)this._updateAndAddDisplayable(r[l],null,n);s.length=this._displayListLen,sort$2(s,shapeCompareFunc)},a.prototype._updateAndAddDisplayable=function(n,r,s){if(!(n.ignore&&!s)){n.beforeUpdate(),n.update(),n.afterUpdate();var l=n.getClipPath();if(n.ignoreClip)r=null;else if(l){r?r=r.slice():r=[];for(var u=l,c=n;u;)u.parent=c,u.updateTransform(),r.push(u),c=u,u=u.getClipPath()}if(n.childrenRef){for(var f=n.childrenRef(),d=0;d<f.length;d++){var v=f[d];n.__dirty&&(v.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(v,r,s)}n.__dirty=0}else{var g=n;r&&r.length?g.__clipPaths=r:g.__clipPaths&&g.__clipPaths.length>0&&(g.__clipPaths=[]),isNaN(g.z)&&(logInvalidZError(),g.z=0),isNaN(g.z2)&&(logInvalidZError(),g.z2=0),isNaN(g.zlevel)&&(logInvalidZError(),g.zlevel=0),this._displayList[this._displayListLen++]=g}var y=n.getDecalElement&&n.getDecalElement();y&&this._updateAndAddDisplayable(y,r,s);var _=n.getTextGuideLine();_&&this._updateAndAddDisplayable(_,r,s);var S=n.getTextContent();S&&this._updateAndAddDisplayable(S,r,s)}},a.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},a.prototype.delRoot=function(n){if(n instanceof Array){for(var r=0,s=n.length;r<s;r++)this.delRoot(n[r]);return}var l=indexOf(this._roots,n);l>=0&&this._roots.splice(l,1)},a.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},a.prototype.getRoots=function(){return this._roots},a.prototype.dispose=function(){this._displayList=null,this._roots=null},a}();const Storage$1=Storage;var requestAnimationFrame$1;requestAnimationFrame$1=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){return setTimeout(a,16)};const requestAnimationFrame$2=requestAnimationFrame$1;var easingFuncs={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return(a*=2)<1?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return(a*=2)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return(a*=2)<1?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return(a*=2)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return .5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return a===0?0:Math.pow(1024,a-1)},exponentialOut:function(a){return a===1?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return a===0?0:a===1?1:(a*=2)<1?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*(a-1))+2)},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var n,r=.1,s=.4;return a===0?0:a===1?1:(!r||r<1?(r=1,n=s/4):n=s*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(a-=1))*Math.sin((a-n)*(2*Math.PI)/s)))},elasticOut:function(a){var n,r=.1,s=.4;return a===0?0:a===1?1:(!r||r<1?(r=1,n=s/4):n=s*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*a)*Math.sin((a-n)*(2*Math.PI)/s)+1)},elasticInOut:function(a){var n,r=.1,s=.4;return a===0?0:a===1?1:(!r||r<1?(r=1,n=s/4):n=s*Math.asin(1/r)/(2*Math.PI),(a*=2)<1?-.5*(r*Math.pow(2,10*(a-=1))*Math.sin((a-n)*(2*Math.PI)/s)):r*Math.pow(2,-10*(a-=1))*Math.sin((a-n)*(2*Math.PI)/s)*.5+1)},backIn:function(a){var n=1.70158;return a*a*((n+1)*a-n)},backOut:function(a){var n=1.70158;return--a*a*((n+1)*a+n)+1},backInOut:function(a){var n=2.5949095;return(a*=2)<1?.5*(a*a*((n+1)*a-n)):.5*((a-=2)*a*((n+1)*a+n)+2)},bounceIn:function(a){return 1-easingFuncs.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return a<.5?easingFuncs.bounceIn(a*2)*.5:easingFuncs.bounceOut(a*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(a){return a>-EPSILON$4&&a<EPSILON$4}function isNotAroundZero$1(a){return a>EPSILON$4||a<-EPSILON$4}function cubicAt(a,n,r,s,l){var u=1-l;return u*u*(u*a+3*l*n)+l*l*(l*s+3*u*r)}function cubicDerivativeAt(a,n,r,s,l){var u=1-l;return 3*(((n-a)*u+2*(r-n)*l)*u+(s-r)*l*l)}function cubicRootAt(a,n,r,s,l,u){var c=s+3*(n-r)-a,f=3*(r-n*2+a),d=3*(n-a),v=a-l,g=f*f-3*c*d,y=f*d-9*c*v,_=d*d-3*f*v,S=0;if(isAroundZero$1(g)&&isAroundZero$1(y))if(isAroundZero$1(f))u[0]=0;else{var x=-d/f;x>=0&&x<=1&&(u[S++]=x)}else{var A=y*y-4*g*_;if(isAroundZero$1(A)){var b=y/g,x=-f/c+b,w=-b/2;x>=0&&x<=1&&(u[S++]=x),w>=0&&w<=1&&(u[S++]=w)}else if(A>0){var E=mathSqrt$3(A),M=g*f+1.5*c*(-y+E),P=g*f+1.5*c*(-y-E);M<0?M=-mathPow$2(-M,ONE_THIRD):M=mathPow$2(M,ONE_THIRD),P<0?P=-mathPow$2(-P,ONE_THIRD):P=mathPow$2(P,ONE_THIRD);var x=(-f-(M+P))/(3*c);x>=0&&x<=1&&(u[S++]=x)}else{var R=(2*g*f-3*c*y)/(2*mathSqrt$3(g*g*g)),I=Math.acos(R)/3,L=mathSqrt$3(g),O=Math.cos(I),x=(-f-2*L*O)/(3*c),w=(-f+L*(O+THREE_SQRT*Math.sin(I)))/(3*c),N=(-f+L*(O-THREE_SQRT*Math.sin(I)))/(3*c);x>=0&&x<=1&&(u[S++]=x),w>=0&&w<=1&&(u[S++]=w),N>=0&&N<=1&&(u[S++]=N)}}return S}function cubicExtrema(a,n,r,s,l){var u=6*r-12*n+6*a,c=9*n+3*s-3*a-9*r,f=3*n-3*a,d=0;if(isAroundZero$1(c)){if(isNotAroundZero$1(u)){var v=-f/u;v>=0&&v<=1&&(l[d++]=v)}}else{var g=u*u-4*c*f;if(isAroundZero$1(g))l[0]=-u/(2*c);else if(g>0){var y=mathSqrt$3(g),v=(-u+y)/(2*c),_=(-u-y)/(2*c);v>=0&&v<=1&&(l[d++]=v),_>=0&&_<=1&&(l[d++]=_)}}return d}function cubicSubdivide(a,n,r,s,l,u){var c=(n-a)*l+a,f=(r-n)*l+n,d=(s-r)*l+r,v=(f-c)*l+c,g=(d-f)*l+f,y=(g-v)*l+v;u[0]=a,u[1]=c,u[2]=v,u[3]=y,u[4]=y,u[5]=g,u[6]=d,u[7]=s}function cubicProjectPoint(a,n,r,s,l,u,c,f,d,v,g){var y,_=.005,S=1/0,x,A,b,w;_v0[0]=d,_v0[1]=v;for(var E=0;E<1;E+=.05)_v1[0]=cubicAt(a,r,l,c,E),_v1[1]=cubicAt(n,s,u,f,E),b=distSquare(_v0,_v1),b<S&&(y=E,S=b);S=1/0;for(var M=0;M<32&&!(_<EPSILON_NUMERIC);M++)x=y-_,A=y+_,_v1[0]=cubicAt(a,r,l,c,x),_v1[1]=cubicAt(n,s,u,f,x),b=distSquare(_v1,_v0),x>=0&&b<S?(y=x,S=b):(_v2[0]=cubicAt(a,r,l,c,A),_v2[1]=cubicAt(n,s,u,f,A),w=distSquare(_v2,_v0),A<=1&&w<S?(y=A,S=w):_*=.5);return g&&(g[0]=cubicAt(a,r,l,c,y),g[1]=cubicAt(n,s,u,f,y)),mathSqrt$3(S)}function cubicLength(a,n,r,s,l,u,c,f,d){for(var v=a,g=n,y=0,_=1/d,S=1;S<=d;S++){var x=S*_,A=cubicAt(a,r,l,c,x),b=cubicAt(n,s,u,f,x),w=A-v,E=b-g;y+=Math.sqrt(w*w+E*E),v=A,g=b}return y}function quadraticAt$1(a,n,r,s){var l=1-s;return l*(l*a+2*s*n)+s*s*r}function quadraticDerivativeAt(a,n,r,s){return 2*((1-s)*(n-a)+s*(r-n))}function quadraticRootAt(a,n,r,s,l){var u=a-2*n+r,c=2*(n-a),f=a-s,d=0;if(isAroundZero$1(u)){if(isNotAroundZero$1(c)){var v=-f/c;v>=0&&v<=1&&(l[d++]=v)}}else{var g=c*c-4*u*f;if(isAroundZero$1(g)){var v=-c/(2*u);v>=0&&v<=1&&(l[d++]=v)}else if(g>0){var y=mathSqrt$3(g),v=(-c+y)/(2*u),_=(-c-y)/(2*u);v>=0&&v<=1&&(l[d++]=v),_>=0&&_<=1&&(l[d++]=_)}}return d}function quadraticExtremum(a,n,r){var s=a+r-2*n;return s===0?.5:(a-n)/s}function quadraticSubdivide(a,n,r,s,l){var u=(n-a)*s+a,c=(r-n)*s+n,f=(c-u)*s+u;l[0]=a,l[1]=u,l[2]=f,l[3]=f,l[4]=c,l[5]=r}function quadraticProjectPoint(a,n,r,s,l,u,c,f,d){var v,g=.005,y=1/0;_v0[0]=c,_v0[1]=f;for(var _=0;_<1;_+=.05){_v1[0]=quadraticAt$1(a,r,l,_),_v1[1]=quadraticAt$1(n,s,u,_);var S=distSquare(_v0,_v1);S<y&&(v=_,y=S)}y=1/0;for(var x=0;x<32&&!(g<EPSILON_NUMERIC);x++){var A=v-g,b=v+g;_v1[0]=quadraticAt$1(a,r,l,A),_v1[1]=quadraticAt$1(n,s,u,A);var S=distSquare(_v1,_v0);if(A>=0&&S<y)v=A,y=S;else{_v2[0]=quadraticAt$1(a,r,l,b),_v2[1]=quadraticAt$1(n,s,u,b);var w=distSquare(_v2,_v0);b<=1&&w<y?(v=b,y=w):g*=.5}}return d&&(d[0]=quadraticAt$1(a,r,l,v),d[1]=quadraticAt$1(n,s,u,v)),mathSqrt$3(y)}function quadraticLength(a,n,r,s,l,u,c){for(var f=a,d=n,v=0,g=1/c,y=1;y<=c;y++){var _=y*g,S=quadraticAt$1(a,r,l,_),x=quadraticAt$1(n,s,u,_),A=S-f,b=x-d;v+=Math.sqrt(A*A+b*b),f=S,d=x}return v}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(a){var n=a&&regexp.exec(a);if(n){var r=n[1].split(","),s=+trim$1(r[0]),l=+trim$1(r[1]),u=+trim$1(r[2]),c=+trim$1(r[3]);if(isNaN(s+l+u+c))return;var f=[];return function(d){return d<=0?0:d>=1?1:cubicRootAt(0,s,u,1,d,f)&&cubicAt(0,l,c,1,f[0])}}}var Clip=function(){function a(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop$1,this.ondestroy=n.ondestroy||noop$1,this.onrestart=n.onrestart||noop$1,n.easing&&this.setEasing(n.easing)}return a.prototype.step=function(n,r){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var s=this._life,l=n-this._startTime-this._pausedTime,u=l/s;u<0&&(u=0),u=Math.min(u,1);var c=this.easingFunc,f=c?c(u):u;if(this.onframe(f),u===1)if(this.loop){var d=l%s;this._startTime=n-d,this._pausedTime=0,this.onrestart()}else return!0;return!1},a.prototype.pause=function(){this._paused=!0},a.prototype.resume=function(){this._paused=!1},a.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction(n)?n:easingFuncs$1[n]||createCubicEasingFunc(n)},a}();const Clip$1=Clip;var Entry=function(){function a(n){this.value=n}return a}(),LinkedList=function(){function a(){this._len=0}return a.prototype.insert=function(n){var r=new Entry(n);return this.insertEntry(r),r},a.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},a.prototype.remove=function(n){var r=n.prev,s=n.next;r?r.next=s:this.head=s,s?s.prev=r:this.tail=r,n.next=n.prev=null,this._len--},a.prototype.len=function(){return this._len},a.prototype.clear=function(){this.head=this.tail=null,this._len=0},a}(),LRU=function(){function a(n){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=n}return a.prototype.put=function(n,r){var s=this._list,l=this._map,u=null;if(l[n]==null){var c=s.len(),f=this._lastRemovedEntry;if(c>=this._maxSize&&c>0){var d=s.head;s.remove(d),delete l[d.key],u=d.value,this._lastRemovedEntry=d}f?f.value=r:f=new Entry(r),f.key=n,s.insertEntry(f),l[n]=f}return u},a.prototype.get=function(n){var r=this._map[n],s=this._list;if(r!=null)return r!==s.tail&&(s.remove(r),s.insertEntry(r)),r.value},a.prototype.clear=function(){this._list.clear(),this._map={}},a.prototype.len=function(){return this._list.len()},a}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(a){return a=Math.round(a),a<0?0:a>255?255:a}function clampCssAngle(a){return a=Math.round(a),a<0?0:a>360?360:a}function clampCssFloat(a){return a<0?0:a>1?1:a}function parseCssInt(a){var n=a;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(a){var n=a;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(a,n,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?a+(n-a)*r*6:r*2<1?n:r*3<2?a+(n-a)*(2/3-r)*6:a}function lerpNumber(a,n,r){return a+(n-a)*r}function setRgba(a,n,r,s,l){return a[0]=n,a[1]=r,a[2]=s,a[3]=l,a}function copyRgba(a,n){return a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(a,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(a,lastRemovedArr||n.slice())}function parse(a,n){if(!!a){n=n||[];var r=colorCache.get(a);if(r)return copyRgba(n,r);a=a+"";var s=a.replace(/ /g,"").toLowerCase();if(s in kCSSColorTable)return copyRgba(n,kCSSColorTable[s]),putToCache(a,n),n;var l=s.length;if(s.charAt(0)==="#"){if(l===4||l===5){var u=parseInt(s.slice(1,4),16);if(!(u>=0&&u<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,(u&3840)>>4|(u&3840)>>8,u&240|(u&240)>>4,u&15|(u&15)<<4,l===5?parseInt(s.slice(4),16)/15:1),putToCache(a,n),n}else if(l===7||l===9){var u=parseInt(s.slice(1,7),16);if(!(u>=0&&u<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,(u&16711680)>>16,(u&65280)>>8,u&255,l===9?parseInt(s.slice(7),16)/255:1),putToCache(a,n),n}return}var c=s.indexOf("("),f=s.indexOf(")");if(c!==-1&&f+1===l){var d=s.substr(0,c),v=s.substr(c+1,f-(c+1)).split(","),g=1;switch(d){case"rgba":if(v.length!==4)return v.length===3?setRgba(n,+v[0],+v[1],+v[2],1):setRgba(n,0,0,0,1);g=parseCssFloat(v.pop());case"rgb":if(v.length>=3)return setRgba(n,parseCssInt(v[0]),parseCssInt(v[1]),parseCssInt(v[2]),v.length===3?g:parseCssFloat(v[3])),putToCache(a,n),n;setRgba(n,0,0,0,1);return;case"hsla":if(v.length!==4){setRgba(n,0,0,0,1);return}return v[3]=parseCssFloat(v[3]),hsla2rgba(v,n),putToCache(a,n),n;case"hsl":if(v.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(v,n),putToCache(a,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(a,n){var r=(parseFloat(a[0])%360+360)%360/360,s=parseCssFloat(a[1]),l=parseCssFloat(a[2]),u=l<=.5?l*(s+1):l+s-l*s,c=l*2-u;return n=n||[],setRgba(n,clampCssByte(cssHueToRgb(c,u,r+1/3)*255),clampCssByte(cssHueToRgb(c,u,r)*255),clampCssByte(cssHueToRgb(c,u,r-1/3)*255),1),a.length===4&&(n[3]=a[3]),n}function rgba2hsla(a){if(!!a){var n=a[0]/255,r=a[1]/255,s=a[2]/255,l=Math.min(n,r,s),u=Math.max(n,r,s),c=u-l,f=(u+l)/2,d,v;if(c===0)d=0,v=0;else{f<.5?v=c/(u+l):v=c/(2-u-l);var g=((u-n)/6+c/2)/c,y=((u-r)/6+c/2)/c,_=((u-s)/6+c/2)/c;n===u?d=_-y:r===u?d=1/3+g-_:s===u&&(d=2/3+y-g),d<0&&(d+=1),d>1&&(d-=1)}var S=[d*360,v,f];return a[3]!=null&&S.push(a[3]),S}}function lift(a,n){var r=parse(a);if(r){for(var s=0;s<3;s++)n<0?r[s]=r[s]*(1-n)|0:r[s]=(255-r[s])*n+r[s]|0,r[s]>255?r[s]=255:r[s]<0&&(r[s]=0);return stringify(r,r.length===4?"rgba":"rgb")}}function fastLerp(a,n,r){if(!(!(n&&n.length)||!(a>=0&&a<=1))){r=r||[];var s=a*(n.length-1),l=Math.floor(s),u=Math.ceil(s),c=n[l],f=n[u],d=s-l;return r[0]=clampCssByte(lerpNumber(c[0],f[0],d)),r[1]=clampCssByte(lerpNumber(c[1],f[1],d)),r[2]=clampCssByte(lerpNumber(c[2],f[2],d)),r[3]=clampCssFloat(lerpNumber(c[3],f[3],d)),r}}function lerp(a,n,r){if(!(!(n&&n.length)||!(a>=0&&a<=1))){var s=a*(n.length-1),l=Math.floor(s),u=Math.ceil(s),c=parse(n[l]),f=parse(n[u]),d=s-l,v=stringify([clampCssByte(lerpNumber(c[0],f[0],d)),clampCssByte(lerpNumber(c[1],f[1],d)),clampCssByte(lerpNumber(c[2],f[2],d)),clampCssFloat(lerpNumber(c[3],f[3],d))],"rgba");return r?{color:v,leftIndex:l,rightIndex:u,value:s}:v}}function modifyHSL(a,n,r,s){var l=parse(a);if(a)return l=rgba2hsla(l),n!=null&&(l[0]=clampCssAngle(n)),r!=null&&(l[1]=parseCssFloat(r)),s!=null&&(l[2]=parseCssFloat(s)),stringify(hsla2rgba(l),"rgba")}function modifyAlpha(a,n){var r=parse(a);if(r&&n!=null)return r[3]=clampCssFloat(n),stringify(r,"rgba")}function stringify(a,n){if(!(!a||!a.length)){var r=a[0]+","+a[1]+","+a[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(r+=","+a[3]),n+"("+r+")"}}function lum(a,n){var r=parse(a);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*n:0}var mathRound$1=Math.round;function normalizeColor(a){var n;if(!a||a==="transparent")a="none";else if(typeof a=="string"&&a.indexOf("rgba")>-1){var r=parse(a);r&&(a="rgb("+r[0]+","+r[1]+","+r[2]+")",n=r[3])}return{color:a,opacity:n==null?1:n}}var EPSILON$3=1e-4;function isAroundZero(a){return a<EPSILON$3&&a>-EPSILON$3}function round3(a){return mathRound$1(a*1e3)/1e3}function round4(a){return mathRound$1(a*1e4)/1e4}function getMatrixStr(a){return"matrix("+round3(a[0])+","+round3(a[1])+","+round3(a[2])+","+round3(a[3])+","+round4(a[4])+","+round4(a[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(a,n,r){return r==="top"?a+=n/2:r==="bottom"&&(a-=n/2),a}function hasShadow(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY)}function getShadowKey(a){var n=a.style,r=a.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function isImagePattern(a){return a&&!!a.image}function isSVGPattern(a){return a&&!!a.svgElement}function isPattern(a){return isImagePattern(a)||isSVGPattern(a)}function isLinearGradient(a){return a.type==="linear"}function isRadialGradient(a){return a.type==="radial"}function isGradient(a){return a&&(a.type==="linear"||a.type==="radial")}function getIdURL(a){return"url(#"+a+")"}function getPathPrecision(a){var n=a.getGlobalScale(),r=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function getSRTTransformString(a){var n=a.x||0,r=a.y||0,s=(a.rotation||0)*RADIAN_TO_DEGREE,l=retrieve2(a.scaleX,1),u=retrieve2(a.scaleY,1),c=a.skewX||0,f=a.skewY||0,d=[];return(n||r)&&d.push("translate("+n+"px,"+r+"px)"),s&&d.push("rotate("+s+")"),(l!==1||u!==1)&&d.push("scale("+l+","+u+")"),(c||f)&&d.push("skew("+mathRound$1(c*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(f*RADIAN_TO_DEGREE)+"deg)"),d.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction(window.btoa)?function(a){return window.btoa(unescape(encodeURIComponent(a)))}:typeof Buffer<"u"?function(a){return Buffer.from(a).toString("base64")}:function(a){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(a,n,r){return(n-a)*r+a}function interpolate1DArray(a,n,r,s){for(var l=n.length,u=0;u<l;u++)a[u]=interpolateNumber$1(n[u],r[u],s);return a}function interpolate2DArray(a,n,r,s){for(var l=n.length,u=l&&n[0].length,c=0;c<l;c++){a[c]||(a[c]=[]);for(var f=0;f<u;f++)a[c][f]=interpolateNumber$1(n[c][f],r[c][f],s)}return a}function add1DArray(a,n,r,s){for(var l=n.length,u=0;u<l;u++)a[u]=n[u]+r[u]*s;return a}function add2DArray(a,n,r,s){for(var l=n.length,u=l&&n[0].length,c=0;c<l;c++){a[c]||(a[c]=[]);for(var f=0;f<u;f++)a[c][f]=n[c][f]+r[c][f]*s}return a}function fillColorStops(a,n){for(var r=a.length,s=n.length,l=r>s?n:a,u=Math.min(r,s),c=l[u-1]||{color:[0,0,0,0],offset:0},f=u;f<Math.max(r,s);f++)l.push({offset:c.offset,color:c.color.slice()})}function fillArray(a,n,r){var s=a,l=n;if(!(!s.push||!l.push)){var u=s.length,c=l.length;if(u!==c){var f=u>c;if(f)s.length=c;else for(var d=u;d<c;d++)s.push(r===1?l[d]:arraySlice.call(l[d]))}for(var v=s[0]&&s[0].length,d=0;d<s.length;d++)if(r===1)isNaN(s[d])&&(s[d]=l[d]);else for(var g=0;g<v;g++)isNaN(s[d][g])&&(s[d][g]=l[d][g])}}function cloneValue(a){if(isArrayLike(a)){var n=a.length;if(isArrayLike(a[0])){for(var r=[],s=0;s<n;s++)r.push(arraySlice.call(a[s]));return r}return arraySlice.call(a)}return a}function rgba2String(a){return a[0]=Math.floor(a[0])||0,a[1]=Math.floor(a[1])||0,a[2]=Math.floor(a[2])||0,a[3]=a[3]==null?1:a[3],"rgba("+a.join(",")+")"}function guessArrayDim(a){return isArrayLike(a&&a[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(a){return a===VALUE_TYPE_LINEAR_GRADIENT||a===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(a){return a===VALUE_TYPE_1D_ARRAY||a===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function a(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return a.prototype.isFinished=function(){return this._finished},a.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},a.prototype.needsAnimate=function(){return this.keyframes.length>=1},a.prototype.getAdditiveTrack=function(){return this._additiveTrack},a.prototype.addKeyframe=function(n,r,s){this._needsSort=!0;var l=this.keyframes,u=l.length,c=!1,f=VALUE_TYPE_UNKOWN,d=r;if(isArrayLike(r)){var v=guessArrayDim(r);f=v,(v===1&&!isNumber(r[0])||v===2&&!isNumber(r[0][0]))&&(c=!0)}else if(isNumber(r)&&!eqNaN(r))f=VALUE_TYPE_NUMBER;else if(isString(r))if(!isNaN(+r))f=VALUE_TYPE_NUMBER;else{var g=parse(r);g&&(d=g,f=VALUE_TYPE_COLOR)}else if(isGradientObject(r)){var y=extend({},d);y.colorStops=map$1(r.colorStops,function(S){return{offset:S.offset,color:parse(S.color)}}),isLinearGradient(r)?f=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(r)&&(f=VALUE_TYPE_RADIAL_GRADIENT),d=y}u===0?this.valType=f:(f!==this.valType||f===VALUE_TYPE_UNKOWN)&&(c=!0),this.discrete=this.discrete||c;var _={time:n,value:d,rawValue:r,percent:0};return s&&(_.easing=s,_.easingFunc=isFunction(s)?s:easingFuncs$1[s]||createCubicEasingFunc(s)),l.push(_),_},a.prototype.prepare=function(n,r){var s=this.keyframes;this._needsSort&&s.sort(function(A,b){return A.time-b.time});for(var l=this.valType,u=s.length,c=s[u-1],f=this.discrete,d=isArrayValueType(l),v=isGradientValueType(l),g=0;g<u;g++){var y=s[g],_=y.value,S=c.value;y.percent=y.time/n,f||(d&&g!==u-1?fillArray(_,S,l):v&&fillColorStops(_.colorStops,S.colorStops))}if(!f&&l!==VALUE_TYPE_RADIAL_GRADIENT&&r&&this.needsAnimate()&&r.needsAnimate()&&l===r.valType&&!r._finished){this._additiveTrack=r;for(var x=s[0].value,g=0;g<u;g++)l===VALUE_TYPE_NUMBER?s[g].additiveValue=s[g].value-x:l===VALUE_TYPE_COLOR?s[g].additiveValue=add1DArray([],s[g].value,x,-1):isArrayValueType(l)&&(s[g].additiveValue=l===VALUE_TYPE_1D_ARRAY?add1DArray([],s[g].value,x,-1):add2DArray([],s[g].value,x,-1))}},a.prototype.step=function(n,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var s=this._additiveTrack!=null,l=s?"additiveValue":"value",u=this.valType,c=this.keyframes,f=c.length,d=this.propName,v=u===VALUE_TYPE_COLOR,g,y=this._lastFr,_=Math.min,S,x;if(f===1)S=x=c[0];else{if(r<0)g=0;else if(r<this._lastFrP){var A=_(y+1,f-1);for(g=A;g>=0&&!(c[g].percent<=r);g--);g=_(g,f-2)}else{for(g=y;g<f&&!(c[g].percent>r);g++);g=_(g-1,f-2)}x=c[g+1],S=c[g]}if(!!(S&&x)){this._lastFr=g,this._lastFrP=r;var b=x.percent-S.percent,w=b===0?1:_((r-S.percent)/b,1);x.easingFunc&&(w=x.easingFunc(w));var E=s?this._additiveValue:v?tmpRgba:n[d];if((isArrayValueType(u)||v)&&!E&&(E=this._additiveValue=[]),this.discrete)n[d]=w<1?S.rawValue:x.rawValue;else if(isArrayValueType(u))u===VALUE_TYPE_1D_ARRAY?interpolate1DArray(E,S[l],x[l],w):interpolate2DArray(E,S[l],x[l],w);else if(isGradientValueType(u)){var M=S[l],P=x[l],R=u===VALUE_TYPE_LINEAR_GRADIENT;n[d]={type:R?"linear":"radial",x:interpolateNumber$1(M.x,P.x,w),y:interpolateNumber$1(M.y,P.y,w),colorStops:map$1(M.colorStops,function(L,O){var N=P.colorStops[O];return{offset:interpolateNumber$1(L.offset,N.offset,w),color:rgba2String(interpolate1DArray([],L.color,N.color,w))}}),global:P.global},R?(n[d].x2=interpolateNumber$1(M.x2,P.x2,w),n[d].y2=interpolateNumber$1(M.y2,P.y2,w)):n[d].r=interpolateNumber$1(M.r,P.r,w)}else if(v)interpolate1DArray(E,S[l],x[l],w),s||(n[d]=rgba2String(E));else{var I=interpolateNumber$1(S[l],x[l],w);s?this._additiveValue=I:n[d]=I}s&&this._addToTarget(n)}}},a.prototype._addToTarget=function(n){var r=this.valType,s=this.propName,l=this._additiveValue;r===VALUE_TYPE_NUMBER?n[s]=n[s]+l:r===VALUE_TYPE_COLOR?(parse(n[s],tmpRgba),add1DArray(tmpRgba,tmpRgba,l,1),n[s]=rgba2String(tmpRgba)):r===VALUE_TYPE_1D_ARRAY?add1DArray(n[s],n[s],l,1):r===VALUE_TYPE_2D_ARRAY&&add2DArray(n[s],n[s],l,1)},a}(),Animator=function(){function a(n,r,s,l){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=r,r&&l){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=l,this._allowDiscrete=s}return a.prototype.getMaxTime=function(){return this._maxTime},a.prototype.getDelay=function(){return this._delay},a.prototype.getLoop=function(){return this._loop},a.prototype.getTarget=function(){return this._target},a.prototype.changeTarget=function(n){this._target=n},a.prototype.when=function(n,r,s){return this.whenWithKeys(n,r,keys(r),s)},a.prototype.whenWithKeys=function(n,r,s,l){for(var u=this._tracks,c=0;c<s.length;c++){var f=s[c],d=u[f];if(!d){d=u[f]=new Track(f);var v=void 0,g=this._getAdditiveTrack(f);if(g){var y=g.keyframes,_=y[y.length-1];v=_&&_.value,g.valType===VALUE_TYPE_COLOR&&v&&(v=rgba2String(v))}else v=this._target[f];if(v==null)continue;n>0&&d.addKeyframe(0,cloneValue(v),l),this._trackKeys.push(f)}d.addKeyframe(n,cloneValue(r[f]),l)}return this._maxTime=Math.max(this._maxTime,n),this},a.prototype.pause=function(){this._clip.pause(),this._paused=!0},a.prototype.resume=function(){this._clip.resume(),this._paused=!1},a.prototype.isPaused=function(){return!!this._paused},a.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},a.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var r=n.length,s=0;s<r;s++)n[s].call(this)},a.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,r=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,r)for(var s=0;s<r.length;s++)r[s].call(this)},a.prototype._setTracksFinished=function(){for(var n=this._tracks,r=this._trackKeys,s=0;s<r.length;s++)n[r[s]].setFinished()},a.prototype._getAdditiveTrack=function(n){var r,s=this._additiveAnimators;if(s)for(var l=0;l<s.length;l++){var u=s[l].getTrack(n);u&&(r=u)}return r},a.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var r=this,s=[],l=this._maxTime||0,u=0;u<this._trackKeys.length;u++){var c=this._trackKeys[u],f=this._tracks[c],d=this._getAdditiveTrack(c),v=f.keyframes,g=v.length;if(f.prepare(l,d),f.needsAnimate())if(!this._allowDiscrete&&f.discrete){var y=v[g-1];y&&(r._target[f.propName]=y.rawValue),f.setFinished()}else s.push(f)}if(s.length||this._force){var _=new Clip$1({life:l,loop:this._loop,delay:this._delay||0,onframe:function(S){r._started=2;var x=r._additiveAnimators;if(x){for(var A=!1,b=0;b<x.length;b++)if(x[b]._clip){A=!0;break}A||(r._additiveAnimators=null)}for(var b=0;b<s.length;b++)s[b].step(r._target,S);var w=r._onframeCbs;if(w)for(var b=0;b<w.length;b++)w[b](r._target,S)},ondestroy:function(){r._doneCallback()}});this._clip=_,this.animation&&this.animation.addClip(_),n&&_.setEasing(n)}else this._doneCallback();return this}},a.prototype.stop=function(n){if(!!this._clip){var r=this._clip;n&&r.onframe(1),this._abortedCallback()}},a.prototype.delay=function(n){return this._delay=n,this},a.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},a.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},a.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},a.prototype.getClip=function(){return this._clip},a.prototype.getTrack=function(n){return this._tracks[n]},a.prototype.getTracks=function(){var n=this;return map$1(this._trackKeys,function(r){return n._tracks[r]})},a.prototype.stopTracks=function(n,r){if(!n.length||!this._clip)return!0;for(var s=this._tracks,l=this._trackKeys,u=0;u<n.length;u++){var c=s[n[u]];c&&!c.isFinished()&&(r?c.step(this._target,1):this._started===1&&c.step(this._target,0),c.setFinished())}for(var f=!0,u=0;u<l.length;u++)if(!s[l[u]].isFinished()){f=!1;break}return f&&this._abortedCallback(),f},a.prototype.saveTo=function(n,r,s){if(!!n){r=r||this._trackKeys;for(var l=0;l<r.length;l++){var u=r[l],c=this._tracks[u];if(!(!c||c.isFinished())){var f=c.keyframes,d=f[s?0:f.length-1];d&&(n[u]=cloneValue(d.rawValue))}}}},a.prototype.__changeFinalValue=function(n,r){r=r||keys(n);for(var s=0;s<r.length;s++){var l=r[s],u=this._tracks[l];if(!!u){var c=u.keyframes;if(c.length>1){var f=c.pop();u.addKeyframe(f.time,n[l]),u.prepare(this._maxTime,u.getAdditiveTrack())}}}},a}();function getTime(){return new Date().getTime()}var Animation=function(a){__extends(n,a);function n(r){var s=a.call(this)||this;return s._running=!1,s._time=0,s._pausedTime=0,s._pauseStart=0,s._paused=!1,r=r||{},s.stage=r.stage||{},s}return n.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},n.prototype.addAnimator=function(r){r.animation=this;var s=r.getClip();s&&this.addClip(s)},n.prototype.removeClip=function(r){if(!!r.animation){var s=r.prev,l=r.next;s?s.next=l:this._head=l,l?l.prev=s:this._tail=s,r.next=r.prev=r.animation=null}},n.prototype.removeAnimator=function(r){var s=r.getClip();s&&this.removeClip(s),r.animation=null},n.prototype.update=function(r){for(var s=getTime()-this._pausedTime,l=s-this._time,u=this._head;u;){var c=u.next,f=u.step(s,l);f&&(u.ondestroy(),this.removeClip(u)),u=c}this._time=s,r||(this.trigger("frame",l),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var r=this;this._running=!0;function s(){r._running&&(requestAnimationFrame$2(s),!r._paused&&r.update())}requestAnimationFrame$2(s)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var r=this._head;r;){var s=r.next;r.prev=r.next=r.animation=null,r=s}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(r,s){s=s||{},this.start();var l=new Animator(r,s.loop);return this.addAnimator(l),l},n}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var a=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},s=map$1(a,function(l){var u=l.replace("mouse","pointer");return r.hasOwnProperty(u)?u:l});return{mouse:a,touch:n,pointer:s}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(a){var n=a.pointerType;return n==="pen"||n==="touch"}function setTouchTimer(a){a.touching=!0,a.touchTimer!=null&&(clearTimeout(a.touchTimer),a.touchTimer=null),a.touchTimer=setTimeout(function(){a.touching=!1,a.touchTimer=null},700)}function markTouch(a){a&&(a.zrByTouch=!0)}function normalizeGlobalEvent(a,n){return normalizeEvent(a.dom,new FakeGlobalEvent(a,n),!0)}function isLocalEl(a,n){for(var r=n,s=!1;r&&r.nodeType!==9&&!(s=r.domBelongToZr||r!==n&&r===a.painterRoot);)r=r.parentNode;return s}var FakeGlobalEvent=function(){function a(n,r){this.stopPropagation=noop$1,this.stopImmediatePropagation=noop$1,this.preventDefault=noop$1,this.type=r.type,this.target=this.currentTarget=n.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return a}(),localDOMHandlers={mousedown:function(a){a=normalizeEvent(this.dom,a),this.__mayPointerCapture=[a.zrX,a.zrY],this.trigger("mousedown",a)},mousemove:function(a){a=normalizeEvent(this.dom,a);var n=this.__mayPointerCapture;n&&(a.zrX!==n[0]||a.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",a)},mouseup:function(a){a=normalizeEvent(this.dom,a),this.__togglePointerCapture(!1),this.trigger("mouseup",a)},mouseout:function(a){a=normalizeEvent(this.dom,a);var n=a.toElement||a.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(a.zrEventControl="no_globalout"),this.trigger("mouseout",a))},wheel:function(a){wheelEventSupported=!0,a=normalizeEvent(this.dom,a),this.trigger("mousewheel",a)},mousewheel:function(a){wheelEventSupported||(a=normalizeEvent(this.dom,a),this.trigger("mousewheel",a))},touchstart:function(a){a=normalizeEvent(this.dom,a),markTouch(a),this.__lastTouchMoment=new Date,this.handler.processGesture(a,"start"),localDOMHandlers.mousemove.call(this,a),localDOMHandlers.mousedown.call(this,a)},touchmove:function(a){a=normalizeEvent(this.dom,a),markTouch(a),this.handler.processGesture(a,"change"),localDOMHandlers.mousemove.call(this,a)},touchend:function(a){a=normalizeEvent(this.dom,a),markTouch(a),this.handler.processGesture(a,"end"),localDOMHandlers.mouseup.call(this,a),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,a)},pointerdown:function(a){localDOMHandlers.mousedown.call(this,a)},pointermove:function(a){isPointerFromTouch(a)||localDOMHandlers.mousemove.call(this,a)},pointerup:function(a){localDOMHandlers.mouseup.call(this,a)},pointerout:function(a){isPointerFromTouch(a)||localDOMHandlers.mouseout.call(this,a)}};each$f(["click","dblclick","contextmenu"],function(a){localDOMHandlers[a]=function(n){n=normalizeEvent(this.dom,n),this.trigger(a,n)}});var globalDOMHandlers={pointermove:function(a){isPointerFromTouch(a)||globalDOMHandlers.mousemove.call(this,a)},pointerup:function(a){globalDOMHandlers.mouseup.call(this,a)},mousemove:function(a){this.trigger("mousemove",a)},mouseup:function(a){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",a),n&&(a.zrEventControl="only_globalout",this.trigger("mouseout",a))}};function mountLocalDOMEventListeners(a,n){var r=n.domHandlers;env$1.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(s){mountSingleDOMEventListener(n,s,function(l){r[s].call(a,l)})}):(env$1.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(s){mountSingleDOMEventListener(n,s,function(l){r[s].call(a,l),setTouchTimer(n)})}),each$f(localNativeListenerNames.mouse,function(s){mountSingleDOMEventListener(n,s,function(l){l=getNativeEvent(l),n.touching||r[s].call(a,l)})}))}function mountGlobalDOMEventListeners(a,n){env$1.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,r):env$1.touchEventsSupported||each$f(globalNativeListenerNames.mouse,r);function r(s){function l(u){u=getNativeEvent(u),isLocalEl(a,u.target)||(u=normalizeGlobalEvent(a,u),n.domHandlers[s].call(a,u))}mountSingleDOMEventListener(n,s,l,{capture:!0})}}function mountSingleDOMEventListener(a,n,r,s){a.mounted[n]=r,a.listenerOpts[n]=s,addEventListener(a.domTarget,n,r,s)}function unmountDOMEventListeners(a){var n=a.mounted;for(var r in n)n.hasOwnProperty(r)&&removeEventListener(a.domTarget,r,n[r],a.listenerOpts[r]);a.mounted={}}var DOMHandlerScope=function(){function a(n,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=r}return a}(),HandlerDomProxy=function(a){__extends(n,a);function n(r,s){var l=a.call(this)||this;return l.__pointerCapturing=!1,l.dom=r,l.painterRoot=s,l._localHandlerScope=new DOMHandlerScope(r,localDOMHandlers),globalEventSupported&&(l._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(l,l._localHandlerScope),l}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},n.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var s=this._globalHandlerScope;r?mountGlobalDOMEventListeners(this,s):unmountDOMEventListeners(s)}},n}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(a){return a>EPSILON$2||a<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function a(){}return a.prototype.getLocalTransform=function(n){return a.getLocalTransform(this,n)},a.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},a.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},a.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},a.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},a.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},a.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,r=this.needLocalTransform(),s=this.transform;if(!(r||n)){s&&mIdentity(s);return}s=s||create$1(),r?this.getLocalTransform(s):mIdentity(s),n&&(r?mul(s,n,s):copy(s,n)),this.transform=s,this._resolveGlobalScaleRatio(s)},a.prototype._resolveGlobalScaleRatio=function(n){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(scaleTmp);var s=scaleTmp[0]<0?-1:1,l=scaleTmp[1]<0?-1:1,u=((scaleTmp[0]-s)*r+s)/scaleTmp[0]||0,c=((scaleTmp[1]-l)*r+l)/scaleTmp[1]||0;n[0]*=u,n[1]*=u,n[2]*=c,n[3]*=c}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,n)},a.prototype.getComputedTransform=function(){for(var n=this,r=[];n;)r.push(n),n=n.parent;for(;n=r.pop();)n.updateTransform();return this.transform},a.prototype.setLocalTransform=function(n){if(!!n){var r=n[0]*n[0]+n[1]*n[1],s=n[2]*n[2]+n[3]*n[3],l=Math.atan2(n[1],n[0]),u=Math.PI/2+l-Math.atan2(n[3],n[2]);s=Math.sqrt(s)*Math.cos(u),r=Math.sqrt(r),this.skewX=u,this.skewY=0,this.rotation=-l,this.x=+n[4],this.y=+n[5],this.scaleX=r,this.scaleY=s,this.originX=0,this.originY=0}},a.prototype.decomposeTransform=function(){if(!!this.transform){var n=this.parent,r=this.transform;n&&n.transform&&(mul(tmpTransform,n.invTransform,r),r=tmpTransform);var s=this.originX,l=this.originY;(s||l)&&(originTransform[4]=s,originTransform[5]=l,mul(tmpTransform,r,originTransform),tmpTransform[4]-=s,tmpTransform[5]-=l,r=tmpTransform),this.setLocalTransform(r)}},a.prototype.getGlobalScale=function(n){var r=this.transform;return n=n||[],r?(n[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),n[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(n[0]=-n[0]),r[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},a.prototype.transformCoordToLocal=function(n,r){var s=[n,r],l=this.invTransform;return l&&applyTransform$1(s,s,l),s},a.prototype.transformCoordToGlobal=function(n,r){var s=[n,r],l=this.transform;return l&&applyTransform$1(s,s,l),s},a.prototype.getLineScale=function(){var n=this.transform;return n&&abs(n[0]-1)>1e-10&&abs(n[3]-1)>1e-10?Math.sqrt(abs(n[0]*n[3]-n[2]*n[1])):1},a.prototype.copyTransform=function(n){copyTransform(this,n)},a.getLocalTransform=function(n,r){r=r||[];var s=n.originX||0,l=n.originY||0,u=n.scaleX,c=n.scaleY,f=n.anchorX,d=n.anchorY,v=n.rotation||0,g=n.x,y=n.y,_=n.skewX?Math.tan(n.skewX):0,S=n.skewY?Math.tan(-n.skewY):0;if(s||l||f||d){var x=s+f,A=l+d;r[4]=-x*u-_*A*c,r[5]=-A*c-S*x*u}else r[4]=r[5]=0;return r[0]=u,r[3]=c,r[1]=S*u,r[2]=_*c,v&&rotate(r,r,v),r[4]+=s+g,r[5]+=l+y,r},a.initDefaultProps=function(){var n=a.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),a}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(a,n){for(var r=0;r<TRANSFORMABLE_PROPS.length;r++){var s=TRANSFORMABLE_PROPS[r];a[s]=n[s]}}const Transformable$1=Transformable;var textWidthCache={};function getWidth(a,n){n=n||DEFAULT_FONT;var r=textWidthCache[n];r||(r=textWidthCache[n]=new LRU$1(500));var s=r.get(a);return s==null&&(s=platformApi.measureText(a,n).width,r.put(a,s)),s}function innerGetBoundingRect(a,n,r,s){var l=getWidth(a,n),u=getLineHeight(n),c=adjustTextX(0,l,r),f=adjustTextY(0,u,s),d=new BoundingRect$1(c,f,l,u);return d}function getBoundingRect(a,n,r,s){var l=((a||"")+"").split(`
`),u=l.length;if(u===1)return innerGetBoundingRect(l[0],n,r,s);for(var c=new BoundingRect$1(0,0,0,0),f=0;f<l.length;f++){var d=innerGetBoundingRect(l[f],n,r,s);f===0?c.copy(d):c.union(d)}return c}function adjustTextX(a,n,r){return r==="right"?a-=n:r==="center"&&(a-=n/2),a}function adjustTextY(a,n,r){return r==="middle"?a-=n/2:r==="bottom"&&(a-=n),a}function getLineHeight(a){return getWidth("\u56FD",a)}function parsePercent$1(a,n){return typeof a=="string"?a.lastIndexOf("%")>=0?parseFloat(a)/100*n:parseFloat(a):a}function calculateTextPosition(a,n,r){var s=n.position||"inside",l=n.distance!=null?n.distance:5,u=r.height,c=r.width,f=u/2,d=r.x,v=r.y,g="left",y="top";if(s instanceof Array)d+=parsePercent$1(s[0],r.width),v+=parsePercent$1(s[1],r.height),g=null,y=null;else switch(s){case"left":d-=l,v+=f,g="right",y="middle";break;case"right":d+=l+c,v+=f,y="middle";break;case"top":d+=c/2,v-=l,g="center",y="bottom";break;case"bottom":d+=c/2,v+=u+l,g="center";break;case"inside":d+=c/2,v+=f,g="center",y="middle";break;case"insideLeft":d+=l,v+=f,y="middle";break;case"insideRight":d+=c-l,v+=f,g="right",y="middle";break;case"insideTop":d+=c/2,v+=l,g="center";break;case"insideBottom":d+=c/2,v+=u-l,g="center",y="bottom";break;case"insideTopLeft":d+=l,v+=l;break;case"insideTopRight":d+=c-l,v+=l,g="right";break;case"insideBottomLeft":d+=l,v+=u-l,y="bottom";break;case"insideBottomRight":d+=c-l,v+=u-l,g="right",y="bottom";break}return a=a||{},a.x=d,a.y=v,a.align=g,a.verticalAlign=y,a}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(a,n){return a[n]=!0,a},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function a(n){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return a.prototype._init=function(n){this.attr(n)},a.prototype.drift=function(n,r,s){switch(this.draggable){case"horizontal":r=0;break;case"vertical":n=0;break}var l=this.transform;l||(l=this.transform=[1,0,0,1,0,0]),l[4]+=n,l[5]+=r,this.decomposeTransform(),this.markRedraw()},a.prototype.beforeUpdate=function(){},a.prototype.afterUpdate=function(){},a.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},a.prototype.updateInnerText=function(n){var r=this._textContent;if(r&&(!r.ignore||n)){this.textConfig||(this.textConfig={});var s=this.textConfig,l=s.local,u=r.innerTransformable,c=void 0,f=void 0,d=!1;u.parent=l?this:null;var v=!1;if(u.copyTransform(r),s.position!=null){var g=tmpBoundingRect;s.layoutRect?g.copy(s.layoutRect):g.copy(this.getBoundingRect()),l||g.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,s,g):calculateTextPosition(tmpTextPosCalcRes,s,g),u.x=tmpTextPosCalcRes.x,u.y=tmpTextPosCalcRes.y,c=tmpTextPosCalcRes.align,f=tmpTextPosCalcRes.verticalAlign;var y=s.origin;if(y&&s.rotation!=null){var _=void 0,S=void 0;y==="center"?(_=g.width*.5,S=g.height*.5):(_=parsePercent$1(y[0],g.width),S=parsePercent$1(y[1],g.height)),v=!0,u.originX=-u.x+_+(l?0:g.x),u.originY=-u.y+S+(l?0:g.y)}}s.rotation!=null&&(u.rotation=s.rotation);var x=s.offset;x&&(u.x+=x[0],u.y+=x[1],v||(u.originX=-x[0],u.originY=-x[1]));var A=s.inside==null?typeof s.position=="string"&&s.position.indexOf("inside")>=0:s.inside,b=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),w=void 0,E=void 0,M=void 0;A&&this.canBeInsideText()?(w=s.insideFill,E=s.insideStroke,(w==null||w==="auto")&&(w=this.getInsideTextFill()),(E==null||E==="auto")&&(E=this.getInsideTextStroke(w),M=!0)):(w=s.outsideFill,E=s.outsideStroke,(w==null||w==="auto")&&(w=this.getOutsideFill()),(E==null||E==="auto")&&(E=this.getOutsideStroke(w),M=!0)),w=w||"#000",(w!==b.fill||E!==b.stroke||M!==b.autoStroke||c!==b.align||f!==b.verticalAlign)&&(d=!0,b.fill=w,b.stroke=E,b.autoStroke=M,b.align=c,b.verticalAlign=f,r.setDefaultTextStyle(b)),r.__dirty|=REDRAW_BIT,d&&r.dirtyStyle(!0)}},a.prototype.canBeInsideText=function(){return!0},a.prototype.getInsideTextFill=function(){return"#fff"},a.prototype.getInsideTextStroke=function(n){return"#000"},a.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},a.prototype.getOutsideStroke=function(n){var r=this.__zr&&this.__zr.getBackgroundColor(),s=typeof r=="string"&&parse(r);s||(s=[255,255,255,1]);for(var l=s[3],u=this.__zr.isDarkMode(),c=0;c<3;c++)s[c]=s[c]*l+(u?0:255)*(1-l);return s[3]=1,stringify(s,"rgba")},a.prototype.traverse=function(n,r){},a.prototype.attrKV=function(n,r){n==="textConfig"?this.setTextConfig(r):n==="textContent"?this.setTextContent(r):n==="clipPath"?this.setClipPath(r):n==="extra"?(this.extra=this.extra||{},extend(this.extra,r)):this[n]=r},a.prototype.hide=function(){this.ignore=!0,this.markRedraw()},a.prototype.show=function(){this.ignore=!1,this.markRedraw()},a.prototype.attr=function(n,r){if(typeof n=="string")this.attrKV(n,r);else if(isObject$3(n))for(var s=n,l=keys(s),u=0;u<l.length;u++){var c=l[u];this.attrKV(c,n[c])}return this.markRedraw(),this},a.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var r=this._normalState,s=0;s<this.animators.length;s++){var l=this.animators[s],u=l.__fromStateTransition;if(!(l.getLoop()||u&&u!==PRESERVED_NORMAL_STATE)){var c=l.targetName,f=c?r[c]:r;l.saveTo(f)}}},a.prototype._innerSaveToNormal=function(n){var r=this._normalState;r||(r=this._normalState={}),n.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(n,r,PRIMARY_STATES_KEYS$1)},a.prototype._savePrimaryToNormal=function(n,r,s){for(var l=0;l<s.length;l++){var u=s[l];n[u]!=null&&!(u in r)&&(r[u]=this[u])}},a.prototype.hasState=function(){return this.currentStates.length>0},a.prototype.getState=function(n){return this.states[n]},a.prototype.ensureState=function(n){var r=this.states;return r[n]||(r[n]={}),r[n]},a.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE,!1,n)},a.prototype.useState=function(n,r,s,l){var u=n===PRESERVED_NORMAL_STATE,c=this.hasState();if(!(!c&&u)){var f=this.currentStates,d=this.stateTransition;if(!(indexOf(f,n)>=0&&(r||f.length===1))){var v;if(this.stateProxy&&!u&&(v=this.stateProxy(n)),v||(v=this.states&&this.states[n]),!v&&!u){logError("State "+n+" not exists.");return}u||this.saveCurrentToNormalState(v);var g=!!(v&&v.hoverLayer||l);g&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,v,this._normalState,r,!s&&!this.__inHover&&d&&d.duration>0,d);var y=this._textContent,_=this._textGuide;return y&&y.useState(n,r,s,g),_&&_.useState(n,r,s,g),u?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!g&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),v}}},a.prototype.useStates=function(n,r,s){if(!n.length)this.clearStates();else{var l=[],u=this.currentStates,c=n.length,f=c===u.length;if(f){for(var d=0;d<c;d++)if(n[d]!==u[d]){f=!1;break}}if(f)return;for(var d=0;d<c;d++){var v=n[d],g=void 0;this.stateProxy&&(g=this.stateProxy(v,n)),g||(g=this.states[v]),g&&l.push(g)}var y=l[c-1],_=!!(y&&y.hoverLayer||s);_&&this._toggleHoverLayerFlag(!0);var S=this._mergeStates(l),x=this.stateTransition;this.saveCurrentToNormalState(S),this._applyStateObj(n.join(","),S,this._normalState,!1,!r&&!this.__inHover&&x&&x.duration>0,x);var A=this._textContent,b=this._textGuide;A&&A.useStates(n,r,_),b&&b.useStates(n,r,_),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!_&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},a.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var r=this.animators[n];r.targetName&&r.changeTarget(this[r.targetName])}},a.prototype.removeState=function(n){var r=indexOf(this.currentStates,n);if(r>=0){var s=this.currentStates.slice();s.splice(r,1),this.useStates(s)}},a.prototype.replaceState=function(n,r,s){var l=this.currentStates.slice(),u=indexOf(l,n),c=indexOf(l,r)>=0;u>=0?c?l.splice(u,1):l[u]=r:s&&!c&&l.push(r),this.useStates(l)},a.prototype.toggleState=function(n,r){r?this.useState(n,!0):this.removeState(n)},a.prototype._mergeStates=function(n){for(var r={},s,l=0;l<n.length;l++){var u=n[l];extend(r,u),u.textConfig&&(s=s||{},extend(s,u.textConfig))}return s&&(r.textConfig=s),r},a.prototype._applyStateObj=function(n,r,s,l,u,c){var f=!(r&&l);r&&r.textConfig?(this.textConfig=extend({},l?this.textConfig:s.textConfig),extend(this.textConfig,r.textConfig)):f&&s.textConfig&&(this.textConfig=s.textConfig);for(var d={},v=!1,g=0;g<PRIMARY_STATES_KEYS$1.length;g++){var y=PRIMARY_STATES_KEYS$1[g],_=u&&DEFAULT_ANIMATABLE_MAP[y];r&&r[y]!=null?_?(v=!0,d[y]=r[y]):this[y]=r[y]:f&&s[y]!=null&&(_?(v=!0,d[y]=s[y]):this[y]=s[y])}if(!u)for(var g=0;g<this.animators.length;g++){var S=this.animators[g],x=S.targetName;S.getLoop()||S.__changeFinalValue(x?(r||s)[x]:r||s)}v&&this._transitionState(n,d,c)},a.prototype._attachComponent=function(n){if(!(n.__zr&&!n.__hostTarget)&&n!==this){var r=this.__zr;r&&n.addSelfToZr(r),n.__zr=r,n.__hostTarget=this}},a.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},a.prototype.getClipPath=function(){return this._clipPath},a.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},a.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},a.prototype.getTextContent=function(){return this._textContent},a.prototype.setTextContent=function(n){var r=this._textContent;r!==n&&(r&&r!==n&&this.removeTextContent(),n.innerTransformable=new Transformable$1,this._attachComponent(n),this._textContent=n,this.markRedraw())},a.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend(this.textConfig,n),this.markRedraw()},a.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},a.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},a.prototype.getTextGuideLine=function(){return this._textGuide},a.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},a.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},a.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},a.prototype.dirty=function(){this.markRedraw()},a.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var r=this._textContent,s=this._textGuide;r&&(r.__inHover=n),s&&(s.__inHover=n)},a.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var r=this.animators;if(r)for(var s=0;s<r.length;s++)n.animation.addAnimator(r[s]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},a.prototype.removeSelfFromZr=function(n){if(!!this.__zr){this.__zr=null;var r=this.animators;if(r)for(var s=0;s<r.length;s++)n.animation.removeAnimator(r[s]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},a.prototype.animate=function(n,r,s){var l=n?this[n]:this,u=new Animator(l,r,s);return n&&(u.targetName=n),this.addAnimator(u,n),u},a.prototype.addAnimator=function(n,r){var s=this.__zr,l=this;n.during(function(){l.updateDuringAnimation(r)}).done(function(){var u=l.animators,c=indexOf(u,n);c>=0&&u.splice(c,1)}),this.animators.push(n),s&&s.animation.addAnimator(n),s&&s.wakeUp()},a.prototype.updateDuringAnimation=function(n){this.markRedraw()},a.prototype.stopAnimation=function(n,r){for(var s=this.animators,l=s.length,u=[],c=0;c<l;c++){var f=s[c];!n||n===f.scope?f.stop(r):u.push(f)}return this.animators=u,this},a.prototype.animateTo=function(n,r,s){animateTo(this,n,r,s)},a.prototype.animateFrom=function(n,r,s){animateTo(this,n,r,s,!0)},a.prototype._transitionState=function(n,r,s,l){for(var u=animateTo(this,r,s,l),c=0;c<u.length;c++)u[c].__fromStateTransition=n},a.prototype.getBoundingRect=function(){return null},a.prototype.getPaintRect=function(){return null},a.initDefaultProps=function(){var n=a.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT;function r(s,l,u,c){Object.defineProperty(n,s,{get:function(){if(!this[l]){var d=this[l]=[];f(this,d)}return this[l]},set:function(d){this[u]=d[0],this[c]=d[1],this[l]=d,f(this,d)}});function f(d,v){Object.defineProperty(v,0,{get:function(){return d[u]},set:function(g){d[u]=g}}),Object.defineProperty(v,1,{get:function(){return d[c]},set:function(g){d[c]=g}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),a}();mixin(Element$1,Eventful$1);mixin(Element$1,Transformable$1);function animateTo(a,n,r,s,l){r=r||{};var u=[];animateToShallow(a,"",a,n,r,s,u,l);var c=u.length,f=!1,d=r.done,v=r.aborted,g=function(){f=!0,c--,c<=0&&(f?d&&d():v&&v())},y=function(){c--,c<=0&&(f?d&&d():v&&v())};c||d&&d(),u.length>0&&r.during&&u[0].during(function(x,A){r.during(A)});for(var _=0;_<u.length;_++){var S=u[_];g&&S.done(g),y&&S.aborted(y),r.force&&S.duration(r.duration),S.start(r.easing)}return u}function copyArrShallow(a,n,r){for(var s=0;s<r;s++)a[s]=n[s]}function is2DArray(a){return isArrayLike(a[0])}function copyValue(a,n,r){if(isArrayLike(n[r]))if(isArrayLike(a[r])||(a[r]=[]),isTypedArray(n[r])){var s=n[r].length;a[r].length!==s&&(a[r]=new n[r].constructor(s),copyArrShallow(a[r],n[r],s))}else{var l=n[r],u=a[r],c=l.length;if(is2DArray(l))for(var f=l[0].length,d=0;d<c;d++)u[d]?copyArrShallow(u[d],l[d],f):u[d]=Array.prototype.slice.call(l[d]);else copyArrShallow(u,l,c);u.length=l.length}else a[r]=n[r]}function isValueSame(a,n){return a===n||isArrayLike(a)&&isArrayLike(n)&&is1DArraySame(a,n)}function is1DArraySame(a,n){var r=a.length;if(r!==n.length)return!1;for(var s=0;s<r;s++)if(a[s]!==n[s])return!1;return!0}function animateToShallow(a,n,r,s,l,u,c,f){for(var d=keys(s),v=l.duration,g=l.delay,y=l.additive,_=l.setToFinal,S=!isObject$3(u),x=a.animators,A=[],b=0;b<d.length;b++){var w=d[b],E=s[w];if(E!=null&&r[w]!=null&&(S||u[w]))if(isObject$3(E)&&!isArrayLike(E)&&!isGradientObject(E)){if(n){f||(r[w]=E,a.updateDuringAnimation(n));continue}animateToShallow(a,w,r[w],E,l,u&&u[w],c,f)}else A.push(w);else f||(r[w]=E,a.updateDuringAnimation(n),A.push(w))}var M=A.length;if(!y&&M)for(var P=0;P<x.length;P++){var R=x[P];if(R.targetName===n){var I=R.stopTracks(A);if(I){var L=indexOf(x,R);x.splice(L,1)}}}if(l.force||(A=filter(A,function(F){return!isValueSame(s[F],r[F])}),M=A.length),M>0||l.force&&!c.length){var O=void 0,N=void 0,B=void 0;if(f){N={},_&&(O={});for(var P=0;P<M;P++){var w=A[P];N[w]=r[w],_?O[w]=s[w]:r[w]=s[w]}}else if(_){B={};for(var P=0;P<M;P++){var w=A[P];B[w]=cloneValue(r[w]),copyValue(r,s,w)}}var R=new Animator(r,!1,!1,y?filter(x,function(V){return V.targetName===n}):null);R.targetName=n,l.scope&&(R.scope=l.scope),_&&O&&R.whenWithKeys(0,O,A),B&&R.whenWithKeys(0,B,A),R.whenWithKeys(v==null?500:v,f?N:s,A).delay(g||0),a.addAnimator(R,n),c.push(R)}}const Element$2=Element$1;var Group$3=function(a){__extends(n,a);function n(r){var s=a.call(this)||this;return s.isGroup=!0,s._children=[],s.attr(r),s}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(r){return this._children[r]},n.prototype.childOfName=function(r){for(var s=this._children,l=0;l<s.length;l++)if(s[l].name===r)return s[l]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},n.prototype.addBefore=function(r,s){if(r&&r!==this&&r.parent!==this&&s&&s.parent===this){var l=this._children,u=l.indexOf(s);u>=0&&(l.splice(u,0,r),this._doAdd(r))}return this},n.prototype.replace=function(r,s){var l=indexOf(this._children,r);return l>=0&&this.replaceAt(s,l),this},n.prototype.replaceAt=function(r,s){var l=this._children,u=l[s];if(r&&r!==this&&r.parent!==this&&r!==u){l[s]=r,u.parent=null;var c=this.__zr;c&&u.removeSelfFromZr(c),this._doAdd(r)}return this},n.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var s=this.__zr;s&&s!==r.__zr&&r.addSelfToZr(s),s&&s.refresh()},n.prototype.remove=function(r){var s=this.__zr,l=this._children,u=indexOf(l,r);return u<0?this:(l.splice(u,1),r.parent=null,s&&r.removeSelfFromZr(s),s&&s.refresh(),this)},n.prototype.removeAll=function(){for(var r=this._children,s=this.__zr,l=0;l<r.length;l++){var u=r[l];s&&u.removeSelfFromZr(s),u.parent=null}return r.length=0,this},n.prototype.eachChild=function(r,s){for(var l=this._children,u=0;u<l.length;u++){var c=l[u];r.call(s,c,u)}return this},n.prototype.traverse=function(r,s){for(var l=0;l<this._children.length;l++){var u=this._children[l],c=r.call(s,u);u.isGroup&&!c&&u.traverse(r,s)}return this},n.prototype.addSelfToZr=function(r){a.prototype.addSelfToZr.call(this,r);for(var s=0;s<this._children.length;s++){var l=this._children[s];l.addSelfToZr(r)}},n.prototype.removeSelfFromZr=function(r){a.prototype.removeSelfFromZr.call(this,r);for(var s=0;s<this._children.length;s++){var l=this._children[s];l.removeSelfFromZr(r)}},n.prototype.getBoundingRect=function(r){for(var s=new BoundingRect$1(0,0,0,0),l=r||this._children,u=[],c=null,f=0;f<l.length;f++){var d=l[f];if(!(d.ignore||d.invisible)){var v=d.getBoundingRect(),g=d.getLocalTransform(u);g?(BoundingRect$1.applyTransform(s,v,g),c=c||s.clone(),c.union(s)):(c=c||v.clone(),c.union(v))}}return c||s},n}(Element$2);Group$3.prototype.type="group";const Group$4=Group$3;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(a){delete instances$1[a]}function isDarkMode(a){if(!a)return!1;if(typeof a=="string")return lum(a,1)<DARK_MODE_THRESHOLD;if(a.colorStops){for(var n=a.colorStops,r=0,s=n.length,l=0;l<s;l++)r+=lum(n[l].color,1);return r/=s,r<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function a(n,r,s){var l=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,s=s||{},this.dom=r,this.id=n;var u=new Storage$1,c=s.renderer||"canvas";painterCtors[c]||(c=keys(painterCtors)[0]),s.useDirtyRect=s.useDirtyRect==null?!1:s.useDirtyRect;var f=new painterCtors[c](r,u,s,n),d=s.ssr||f.ssrOnly;this.storage=u,this.painter=f;var v=!env$1.node&&!env$1.worker&&!d?new HandlerProxy(f.getViewportRoot(),f.root):null,g=s.useCoarsePointer,y=g==null||g==="auto"?env$1.touchEventsSupported:!!g,_=44,S;y&&(S=retrieve2(s.pointerSize,_)),this.handler=new Handler$1(u,f,v,f.root,S),this.animation=new Animation$1({stage:{update:d?null:function(){return l._flush(!0)}}}),d||this.animation.start()}return a.prototype.add=function(n){!n||(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},a.prototype.remove=function(n){!n||(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},a.prototype.configLayer=function(n,r){this.painter.configLayer&&this.painter.configLayer(n,r),this.refresh()},a.prototype.setBackgroundColor=function(n){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode(n)},a.prototype.getBackgroundColor=function(){return this._backgroundColor},a.prototype.setDarkMode=function(n){this._darkMode=n},a.prototype.isDarkMode=function(){return this._darkMode},a.prototype.refreshImmediately=function(n){n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},a.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},a.prototype.flush=function(){this._flush(!1)},a.prototype._flush=function(n){var r,s=getTime();this._needsRefresh&&(r=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var l=getTime();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:l-s})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},a.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},a.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},a.prototype.refreshHover=function(){this._needsRefreshHover=!0},a.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},a.prototype.resize=function(n){n=n||{},this.painter.resize(n.width,n.height),this.handler.resize()},a.prototype.clearAnimation=function(){this.animation.clear()},a.prototype.getWidth=function(){return this.painter.getWidth()},a.prototype.getHeight=function(){return this.painter.getHeight()},a.prototype.setCursorStyle=function(n){this.handler.setCursorStyle(n)},a.prototype.findHover=function(n,r){return this.handler.findHover(n,r)},a.prototype.on=function(n,r,s){return this.handler.on(n,r,s),this},a.prototype.off=function(n,r){this.handler.off(n,r)},a.prototype.trigger=function(n,r){this.handler.trigger(n,r)},a.prototype.clear=function(){for(var n=this.storage.getRoots(),r=0;r<n.length;r++)n[r]instanceof Group$4&&n[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},a.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,delInstance(this.id)},a}();function init$2(a,n){var r=new ZRender(guid(),a,n);return instances$1[r.id]=r,r}function registerPainter(a,n){painterCtors[a]=n}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(a){return a.replace(/^\s+|\s+$/g,"")}function linearMap$2(a,n,r,s){var l=n[0],u=n[1],c=r[0],f=r[1],d=u-l,v=f-c;if(d===0)return v===0?c:(c+f)/2;if(s)if(d>0){if(a<=l)return c;if(a>=u)return f}else{if(a>=l)return c;if(a<=u)return f}else{if(a===l)return c;if(a===u)return f}return(a-l)/d*v+c}function parsePercent(a,n){switch(a){case"center":case"middle":a="50%";break;case"left":case"top":a="0%";break;case"right":case"bottom":a="100%";break}return isString(a)?_trim(a).match(/%$/)?parseFloat(a)/100*n:parseFloat(a):a==null?NaN:+a}function round$3(a,n,r){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),a=(+a).toFixed(n),r?a:+a}function asc$2(a){return a.sort(function(n,r){return n-r}),a}function getPrecision(a){if(a=+a,isNaN(a))return 0;if(a>1e-14){for(var n=1,r=0;r<15;r++,n*=10)if(Math.round(a*n)/n===a)return r}return getPrecisionSafe(a)}function getPrecisionSafe(a){var n=a.toString().toLowerCase(),r=n.indexOf("e"),s=r>0?+n.slice(r+1):0,l=r>0?r:n.length,u=n.indexOf("."),c=u<0?0:l-1-u;return Math.max(0,c-s)}function getPixelPrecision(a,n){var r=Math.log,s=Math.LN10,l=Math.floor(r(a[1]-a[0])/s),u=Math.round(r(Math.abs(n[1]-n[0]))/s),c=Math.min(Math.max(-l+u,0),20);return isFinite(c)?c:20}function getPercentSeats(a,n){var r=reduce(a,function(S,x){return S+(isNaN(x)?0:x)},0);if(r===0)return[];for(var s=Math.pow(10,n),l=map$1(a,function(S){return(isNaN(S)?0:S)/r*s*100}),u=s*100,c=map$1(l,function(S){return Math.floor(S)}),f=reduce(c,function(S,x){return S+x},0),d=map$1(l,function(S,x){return S-c[x]});f<u;){for(var v=Number.NEGATIVE_INFINITY,g=null,y=0,_=d.length;y<_;++y)d[y]>v&&(v=d[y],g=y);++c[g],d[g]=0,++f}return map$1(c,function(S){return S/s})}function addSafe(a,n){var r=Math.max(getPrecision(a),getPrecision(n)),s=a+n;return r>ROUND_SUPPORTED_PRECISION_MAX?s:round$3(s,r)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(a){var n=Math.PI*2;return(a%n+n)%n}function isRadianAroundZero(a){return a>-RADIAN_EPSILON&&a<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(a){if(a instanceof Date)return a;if(isString(a)){var n=TIME_REG.exec(a);if(!n)return new Date(NaN);if(n[8]){var r=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(r-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,r,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(a==null)return new Date(NaN);return new Date(Math.round(a))}function quantity(a){return Math.pow(10,quantityExponent(a))}function quantityExponent(a){if(a===0)return 0;var n=Math.floor(Math.log(a)/Math.LN10);return a/Math.pow(10,n)>=10&&n++,n}function nice(a,n){var r=quantityExponent(a),s=Math.pow(10,r),l=a/s,u;return n?l<1.5?u=1:l<2.5?u=2:l<4?u=3:l<7?u=5:u=10:l<1?u=1:l<2?u=2:l<3?u=3:l<5?u=5:u=10,a=u*s,r>=-20?+a.toFixed(r<0?-r:0):a}function quantile(a,n){var r=(a.length-1)*n+1,s=Math.floor(r),l=+a[s-1],u=r-s;return u?l+u*(a[s]-l):l}function reformIntervals(a){a.sort(function(d,v){return f(d,v,0)?-1:1});for(var n=-1/0,r=1,s=0;s<a.length;){for(var l=a[s].interval,u=a[s].close,c=0;c<2;c++)l[c]<=n&&(l[c]=n,u[c]=c?1:1-r),n=l[c],r=u[c];l[0]===l[1]&&u[0]*u[1]!==1?a.splice(s,1):s++}return a;function f(d,v,g){return d.interval[g]<v.interval[g]||d.interval[g]===v.interval[g]&&(d.close[g]-v.close[g]===(g?-1:1)||!g&&f(d,v,1))}}function numericToNumber(a){var n=parseFloat(a);return n==a&&(n!==0||!isString(a)||a.indexOf("x")<=0)?n:NaN}function isNumeric(a){return!isNaN(numericToNumber(a))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(a,n){return n===0?a:getGreatestCommonDividor(n,a%n)}function getLeastCommonMultiple(a,n){return a==null?n:n==null?a:a*n/getGreatestCommonDividor(a,n)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(a,n,r){if(hasConsole){if(r){if(storedLogs[n])return;storedLogs[n]=!0}console[a](ECHARTS_PREFIX+n)}}function warn(a,n){outputLog("warn",a,n)}function throwError(a){throw new Error(a)}function interpolateNumber(a,n,r){return(n-a)*r+a}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(a){return a instanceof Array?a:a==null?[]:[a]}function defaultEmphasis(a,n,r){if(a){a[n]=a[n]||{},a.emphasis=a.emphasis||{},a.emphasis[n]=a.emphasis[n]||{};for(var s=0,l=r.length;s<l;s++){var u=r[s];!a.emphasis[n].hasOwnProperty(u)&&a[n].hasOwnProperty(u)&&(a.emphasis[n][u]=a[n][u])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(a){return isObject$3(a)&&!isArray$2(a)&&!(a instanceof Date)?a.value:a}function isDataItemOption(a){return isObject$3(a)&&!(a instanceof Array)}function mappingToExists(a,n,r){var s=r==="normalMerge",l=r==="replaceMerge",u=r==="replaceAll";a=a||[],n=(n||[]).slice();var c=createHashMap();each$f(n,function(d,v){if(!isObject$3(d)){n[v]=null;return}});var f=prepareResult(a,c,r);return(s||l)&&mappingById(f,a,c,n),s&&mappingByName(f,n),s||l?mappingByIndex(f,n,l):u&&mappingInReplaceAllMode(f,n),makeIdAndName(f),f}function prepareResult(a,n,r){var s=[];if(r==="replaceAll")return s;for(var l=0;l<a.length;l++){var u=a[l];u&&u.id!=null&&n.set(u.id,l),s.push({existing:r==="replaceMerge"||isComponentIdInternal(u)?null:u,newOption:null,keyInfo:null,brandNew:null})}return s}function mappingById(a,n,r,s){each$f(s,function(l,u){if(!(!l||l.id==null)){var c=makeComparableKey(l.id),f=r.get(c);if(f!=null){var d=a[f];assert(!d.newOption,'Duplicated option on id "'+c+'".'),d.newOption=l,d.existing=n[f],s[u]=null}}})}function mappingByName(a,n){each$f(n,function(r,s){if(!(!r||r.name==null))for(var l=0;l<a.length;l++){var u=a[l].existing;if(!a[l].newOption&&u&&(u.id==null||r.id==null)&&!isComponentIdInternal(r)&&!isComponentIdInternal(u)&&keyExistAndEqual("name",u,r)){a[l].newOption=r,n[s]=null;return}}})}function mappingByIndex(a,n,r){each$f(n,function(s){if(!!s){for(var l,u=0;(l=a[u])&&(l.newOption||isComponentIdInternal(l.existing)||l.existing&&s.id!=null&&!keyExistAndEqual("id",s,l.existing));)u++;l?(l.newOption=s,l.brandNew=r):a.push({newOption:s,brandNew:r,existing:null,keyInfo:null}),u++}})}function mappingInReplaceAllMode(a,n){each$f(n,function(r){a.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(a){var n=createHashMap();each$f(a,function(r){var s=r.existing;s&&n.set(s.id,r)}),each$f(a,function(r){var s=r.newOption;assert(!s||s.id==null||!n.get(s.id)||n.get(s.id)===r,"id duplicates: "+(s&&s.id)),s&&s.id!=null&&n.set(s.id,r),!r.keyInfo&&(r.keyInfo={})}),each$f(a,function(r,s){var l=r.existing,u=r.newOption,c=r.keyInfo;if(!!isObject$3(u)){if(c.name=u.name!=null?makeComparableKey(u.name):l?l.name:DUMMY_COMPONENT_NAME_PREFIX+s,l)c.id=makeComparableKey(l.id);else if(u.id!=null)c.id=makeComparableKey(u.id);else{var f=0;do c.id="\0"+c.name+"\0"+f++;while(n.get(c.id))}n.set(c.id,r)}})}function keyExistAndEqual(a,n,r){var s=convertOptionIdName(n[a],null),l=convertOptionIdName(r[a],null);return s!=null&&l!=null&&s===l}function makeComparableKey(a){return convertOptionIdName(a,"")}function convertOptionIdName(a,n){return a==null?n:isString(a)?a:isNumber(a)||isStringSafe(a)?a+"":n}function isNameSpecified(a){var n=a.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(a){return a&&a.id!=null&&makeComparableKey(a.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(a){return INTERNAL_COMPONENT_ID_PREFIX+a}function setComponentTypeToKeyInfo(a,n,r){each$f(a,function(s){var l=s.newOption;isObject$3(l)&&(s.keyInfo.mainType=n,s.keyInfo.subType=determineSubType(n,l,s.existing,r))})}function determineSubType(a,n,r,s){var l=n.type?n.type:r?r.subType:s.determineSubType(a,n);return l}function compressBatches(a,n){var r={},s={};return l(a||[],r),l(n||[],s,r),[u(r),u(s)];function l(c,f,d){for(var v=0,g=c.length;v<g;v++){var y=convertOptionIdName(c[v].seriesId,null);if(y==null)return;for(var _=normalizeToArray(c[v].dataIndex),S=d&&d[y],x=0,A=_.length;x<A;x++){var b=_[x];S&&S[b]?S[b]=null:(f[y]||(f[y]={}))[b]=1}}}function u(c,f){var d=[];for(var v in c)if(c.hasOwnProperty(v)&&c[v]!=null)if(f)d.push(+v);else{var g=u(c[v],!0);g.length&&d.push({seriesId:v,dataIndex:g})}return d}}function queryDataIndex(a,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$2(n.dataIndex)?map$1(n.dataIndex,function(r){return a.indexOfRawIndex(r)}):a.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$2(n.name)?map$1(n.name,function(r){return a.indexOfName(r)}):a.indexOfName(n.name)}function makeInner(){var a="__ec_inner_"+innerUniqueIndex++;return function(n){return n[a]||(n[a]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(a,n,r){var s=preParseFinder(n,r),l=s.mainTypeSpecified,u=s.queryOptionMap,c=s.others,f=c,d=r?r.defaultMainType:null;return!l&&d&&u.set(d,{}),u.each(function(v,g){var y=queryReferringComponents(a,g,v,{useDefault:d===g,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});f[g+"Models"]=y.models,f[g+"Model"]=y.models[0]}),f}function preParseFinder(a,n){var r;if(isString(a)){var s={};s[a+"Index"]=0,r=s}else r=a;var l=createHashMap(),u={},c=!1;return each$f(r,function(f,d){if(d==="dataIndex"||d==="dataIndexInside"){u[d]=f;return}var v=d.match(/^(\w+)(Index|Id|Name)$/)||[],g=v[1],y=(v[2]||"").toLowerCase();if(!(!g||!y||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,g)<0)){c=c||!!g;var _=l.get(g)||l.set(g,{});_[y]=f}}),{mainTypeSpecified:c,queryOptionMap:l,others:u}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(a,n,r,s){s=s||SINGLE_REFERRING;var l=r.index,u=r.id,c=r.name,f={models:null,specified:l!=null||u!=null||c!=null};if(!f.specified){var d=void 0;return f.models=s.useDefault&&(d=a.getComponent(n))?[d]:[],f}return l==="none"||l===!1?(assert(s.enableNone,'`"none"` or `false` is not a valid value on index option.'),f.models=[],f):(l==="all"&&(assert(s.enableAll,'`"all"` is not a valid value on index option.'),l=u=c=null),f.models=a.queryComponents({mainType:n,index:l,id:u,name:c}),f)}function setAttribute(a,n,r){a.setAttribute?a.setAttribute(n,r):a[n]=r}function getAttribute(a,n){return a.getAttribute?a.getAttribute(n):a[n]}function getTooltipRenderMode(a){return a==="auto"?env$1.domSupported?"html":"richText":a||"html"}function groupData(a,n){var r=createHashMap(),s=[];return each$f(a,function(l){var u=n(l);(r.get(u)||(s.push(u),r.set(u,[]))).push(l)}),{keys:s,buckets:r}}function interpolateRawValues(a,n,r,s,l){var u=n==null||n==="auto";if(s==null)return s;if(isNumber(s)){var c=interpolateNumber(r||0,s,l);return round$3(c,u?Math.max(getPrecision(r||0),getPrecision(s)):n)}else{if(isString(s))return l<1?r:s;for(var f=[],d=r,v=s,g=Math.max(d?d.length:0,v.length),y=0;y<g;++y){var _=a.getDimensionInfo(y);if(_&&_.type==="ordinal")f[y]=(l<1&&d?d:v)[y];else{var S=d&&d[y]?d[y]:0,x=v[y],c=interpolateNumber(S,x,l);f[y]=round$3(c,u?Math.max(getPrecision(S),getPrecision(x)):n)}}return f}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(a){var n={main:"",sub:""};if(a){var r=a.split(TYPE_DELIMITER);n.main=r[0]||"",n.sub=r[1]||""}return n}function checkClassType(a){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(a),'componentType "'+a+'" illegal')}function isExtendedClass(a){return!!(a&&a[IS_EXTENDED_CLASS])}function enableClassExtend(a,n){a.$constructor=a,a.extend=function(r){var s=this,l;return isESClass(s)?l=function(u){__extends(c,u);function c(){return u.apply(this,arguments)||this}return c}(s):(l=function(){(r.$constructor||s).apply(this,arguments)},inherits(l,this)),extend(l.prototype,r),l[IS_EXTENDED_CLASS]=!0,l.extend=this.extend,l.superCall=superCall,l.superApply=superApply,l.superClass=s,l}}function isESClass(a){return isFunction(a)&&/^class\s/.test(Function.prototype.toString.call(a))}function mountExtend(a,n){a.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(a){var n=["__\0is_clz",classBase++].join("_");a.prototype[n]=!0,a.isInstance=function(r){return!!(r&&r[n])}}function superCall(a,n){for(var r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];return this.superClass.prototype[n].apply(a,r)}function superApply(a,n,r){return this.superClass.prototype[n].apply(a,r)}function enableClassManagement(a){var n={};a.registerClass=function(s){var l=s.type||s.prototype.type;if(l){checkClassType(l),s.prototype.type=l;var u=parseClassType(l);if(!u.sub)n[u.main]=s;else if(u.sub!==IS_CONTAINER){var c=r(u);c[u.sub]=s}}return s},a.getClass=function(s,l,u){var c=n[s];if(c&&c[IS_CONTAINER]&&(c=l?c[l]:null),u&&!c)throw new Error(l?"Component "+s+"."+(l||"")+" is used but not imported.":s+".type should be specified.");return c},a.getClassesByMainType=function(s){var l=parseClassType(s),u=[],c=n[l.main];return c&&c[IS_CONTAINER]?each$f(c,function(f,d){d!==IS_CONTAINER&&u.push(f)}):u.push(c),u},a.hasClass=function(s){var l=parseClassType(s);return!!n[l.main]},a.getAllClassMainTypes=function(){var s=[];return each$f(n,function(l,u){s.push(u)}),s},a.hasSubTypes=function(s){var l=parseClassType(s),u=n[l.main];return u&&u[IS_CONTAINER]};function r(s){var l=n[s.main];return(!l||!l[IS_CONTAINER])&&(l=n[s.main]={},l[IS_CONTAINER]=!0),l}}function makeStyleMapper(a,n){for(var r=0;r<a.length;r++)a[r][1]||(a[r][1]=a[r][0]);return n=n||!1,function(s,l,u){for(var c={},f=0;f<a.length;f++){var d=a[f][1];if(!(l&&indexOf(l,d)>=0||u&&indexOf(u,d)<0)){var v=s.getShallow(d,n);v!=null&&(c[a[f][0]]=v)}}return c}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function a(){}return a.prototype.getAreaStyle=function(n,r){return getAreaStyle(this,n,r)},a}(),globalImageCache=new LRU$1(50);function findExistImage(a){if(typeof a=="string"){var n=globalImageCache.get(a);return n&&n.image}else return a}function createOrUpdateImage(a,n,r,s,l){if(a)if(typeof a=="string"){if(n&&n.__zrImageSrc===a||!r)return n;var u=globalImageCache.get(a),c={hostEl:r,cb:s,cbPayload:l};return u?(n=u.image,!isImageReady(n)&&u.pending.push(c)):(n=platformApi.loadImage(a,imageOnLoad,imageOnLoad),n.__zrImageSrc=a,globalImageCache.put(a,n.__cachedImgObj={image:n,pending:[c]})),n}else return a;else return n}function imageOnLoad(){var a=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<a.pending.length;n++){var r=a.pending[n],s=r.cb;s&&s(this,r.cbPayload),r.hostEl.dirty()}a.pending.length=0}function isImageReady(a){return a&&a.width&&a.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(a,n,r,s,l){if(!n)return"";var u=(a+"").split(`
`);l=prepareTruncateOptions(n,r,s,l);for(var c=0,f=u.length;c<f;c++)u[c]=truncateSingleLine(u[c],l);return u.join(`
`)}function prepareTruncateOptions(a,n,r,s){s=s||{};var l=extend({},s);l.font=n,r=retrieve2(r,"..."),l.maxIterations=retrieve2(s.maxIterations,2);var u=l.minChar=retrieve2(s.minChar,0);l.cnCharWidth=getWidth("\u56FD",n);var c=l.ascCharWidth=getWidth("a",n);l.placeholder=retrieve2(s.placeholder,"");for(var f=a=Math.max(0,a-1),d=0;d<u&&f>=c;d++)f-=c;var v=getWidth(r,n);return v>f&&(r="",v=0),f=a-v,l.ellipsis=r,l.ellipsisWidth=v,l.contentWidth=f,l.containerWidth=a,l}function truncateSingleLine(a,n){var r=n.containerWidth,s=n.font,l=n.contentWidth;if(!r)return"";var u=getWidth(a,s);if(u<=r)return a;for(var c=0;;c++){if(u<=l||c>=n.maxIterations){a+=n.ellipsis;break}var f=c===0?estimateLength(a,l,n.ascCharWidth,n.cnCharWidth):u>0?Math.floor(a.length*l/u):0;a=a.substr(0,f),u=getWidth(a,s)}return a===""&&(a=n.placeholder),a}function estimateLength(a,n,r,s){for(var l=0,u=0,c=a.length;u<c&&l<n;u++){var f=a.charCodeAt(u);l+=0<=f&&f<=127?r:s}return u}function parsePlainText(a,n){a!=null&&(a+="");var r=n.overflow,s=n.padding,l=n.font,u=r==="truncate",c=getLineHeight(l),f=retrieve2(n.lineHeight,c),d=!!n.backgroundColor,v=n.lineOverflow==="truncate",g=n.width,y;g!=null&&(r==="break"||r==="breakAll")?y=a?wrapText(a,n.font,g,r==="breakAll",0).lines:[]:y=a?a.split(`
`):[];var _=y.length*f,S=retrieve2(n.height,_);if(_>S&&v){var x=Math.floor(S/f);y=y.slice(0,x)}if(a&&u&&g!=null)for(var A=prepareTruncateOptions(g,l,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),b=0;b<y.length;b++)y[b]=truncateSingleLine(y[b],A);for(var w=S,E=0,b=0;b<y.length;b++)E=Math.max(getWidth(y[b],l),E);g==null&&(g=E);var M=E;return s&&(w+=s[0]+s[2],M+=s[1]+s[3],g+=s[1]+s[3]),d&&(M=g),{lines:y,height:S,outerWidth:M,outerHeight:w,lineHeight:f,calculatedLineHeight:c,contentWidth:E,contentHeight:_,width:g}}var RichTextToken=function(){function a(){}return a}(),RichTextLine=function(){function a(n){this.tokens=[],n&&(this.tokens=n)}return a}(),RichTextContentBlock=function(){function a(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return a}();function parseRichText(a,n){var r=new RichTextContentBlock;if(a!=null&&(a+=""),!a)return r;for(var s=n.width,l=n.height,u=n.overflow,c=(u==="break"||u==="breakAll")&&s!=null?{width:s,accumWidth:0,breakAll:u==="breakAll"}:null,f=STYLE_REG.lastIndex=0,d;(d=STYLE_REG.exec(a))!=null;){var v=d.index;v>f&&pushTokens(r,a.substring(f,v),n,c),pushTokens(r,d[2],n,c,d[1]),f=STYLE_REG.lastIndex}f<a.length&&pushTokens(r,a.substring(f,a.length),n,c);var g=[],y=0,_=0,S=n.padding,x=u==="truncate",A=n.lineOverflow==="truncate";function b(j,ne,fe){j.width=ne,j.lineHeight=fe,y+=fe,_=Math.max(_,ne)}e:for(var w=0;w<r.lines.length;w++){for(var E=r.lines[w],M=0,P=0,R=0;R<E.tokens.length;R++){var I=E.tokens[R],L=I.styleName&&n.rich[I.styleName]||{},O=I.textPadding=L.padding,N=O?O[1]+O[3]:0,B=I.font=L.font||n.font;I.contentHeight=getLineHeight(B);var F=retrieve2(L.height,I.contentHeight);if(I.innerHeight=F,O&&(F+=O[0]+O[2]),I.height=F,I.lineHeight=retrieve3(L.lineHeight,n.lineHeight,F),I.align=L&&L.align||n.align,I.verticalAlign=L&&L.verticalAlign||"middle",A&&l!=null&&y+I.lineHeight>l){R>0?(E.tokens=E.tokens.slice(0,R),b(E,P,M),r.lines=r.lines.slice(0,w+1)):r.lines=r.lines.slice(0,w);break e}var V=L.width,z=V==null||V==="auto";if(typeof V=="string"&&V.charAt(V.length-1)==="%")I.percentWidth=V,g.push(I),I.contentWidth=getWidth(I.text,B);else{if(z){var U=L.backgroundColor,Y=U&&U.image;Y&&(Y=findExistImage(Y),isImageReady(Y)&&(I.width=Math.max(I.width,Y.width*F/Y.height)))}var q=x&&s!=null?s-P:null;q!=null&&q<I.width?!z||q<N?(I.text="",I.width=I.contentWidth=0):(I.text=truncateText(I.text,q-N,B,n.ellipsis,{minChar:n.truncateMinChar}),I.width=I.contentWidth=getWidth(I.text,B)):I.contentWidth=getWidth(I.text,B)}I.width+=N,P+=I.width,L&&(M=Math.max(M,I.lineHeight))}b(E,P,M)}r.outerWidth=r.width=retrieve2(s,_),r.outerHeight=r.height=retrieve2(l,y),r.contentHeight=y,r.contentWidth=_,S&&(r.outerWidth+=S[1]+S[3],r.outerHeight+=S[0]+S[2]);for(var w=0;w<g.length;w++){var I=g[w],Q=I.percentWidth;I.width=parseInt(Q,10)/100*r.width}return r}function pushTokens(a,n,r,s,l){var u=n==="",c=l&&r.rich[l]||{},f=a.lines,d=c.font||r.font,v=!1,g,y;if(s){var _=c.padding,S=_?_[1]+_[3]:0;if(c.width!=null&&c.width!=="auto"){var x=parsePercent$1(c.width,s.width)+S;f.length>0&&x+s.accumWidth>s.width&&(g=n.split(`
`),v=!0),s.accumWidth=x}else{var A=wrapText(n,d,s.width,s.breakAll,s.accumWidth);s.accumWidth=A.accumWidth+S,y=A.linesWidths,g=A.lines}}else g=n.split(`
`);for(var b=0;b<g.length;b++){var w=g[b],E=new RichTextToken;if(E.styleName=l,E.text=w,E.isLineHolder=!w&&!u,typeof c.width=="number"?E.width=c.width:E.width=y?y[b]:getWidth(w,d),!b&&!v){var M=(f[f.length-1]||(f[0]=new RichTextLine)).tokens,P=M.length;P===1&&M[0].isLineHolder?M[0]=E:(w||!P||u)&&M.push(E)}else f.push(new RichTextLine([E]))}}function isLatin(a){var n=a.charCodeAt(0);return n>=33&&n<=383}var breakCharMap=reduce(",&?/;] ".split(""),function(a,n){return a[n]=!0,a},{});function isWordBreakChar(a){return isLatin(a)?!!breakCharMap[a]:!0}function wrapText(a,n,r,s,l){for(var u=[],c=[],f="",d="",v=0,g=0,y=0;y<a.length;y++){var _=a.charAt(y);if(_===`
`){d&&(f+=d,g+=v),u.push(f),c.push(g),f="",d="",v=0,g=0;continue}var S=getWidth(_,n),x=s?!1:!isWordBreakChar(_);if(u.length?g+S>r:l+g+S>r){g?(f||d)&&(x?(f||(f=d,d="",v=0,g=v),u.push(f),c.push(g-v),d+=_,v+=S,f="",g=v):(d&&(f+=d,d="",v=0),u.push(f),c.push(g),f=_,g=S)):x?(u.push(d),c.push(v),d=_,v=S):(u.push(_),c.push(S));continue}g+=S,x?(d+=_,v+=S):(d&&(f+=d,d="",v=0),f+=_)}return!u.length&&!f&&(f=a,d="",v=0),d&&(f+=d),f&&(u.push(f),c.push(g)),u.length===1&&(g+=l),{accumWidth:g,lines:u,linesWidths:c}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype._init=function(r){for(var s=keys(r),l=0;l<s.length;l++){var u=s[l];u==="style"?this.useStyle(r[u]):a.prototype.attrKV.call(this,u,r[u])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(r,s,l,u){var c=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,r,s)||c&&!c[0]&&!c[3])return!1;if(l&&this.__clipPaths){for(var f=0;f<this.__clipPaths.length;++f)if(this.__clipPaths[f].isZeroArea())return!1}if(u&&this.parent)for(var d=this.parent;d;){if(d.ignore)return!1;d=d.parent}return!0},n.prototype.contain=function(r,s){return this.rectContain(r,s)},n.prototype.traverse=function(r,s){r.call(s,this)},n.prototype.rectContain=function(r,s){var l=this.transformCoordToLocal(r,s),u=this.getBoundingRect();return u.contain(l[0],l[1])},n.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var s=this.transform,l=this.getBoundingRect(),u=this.style,c=u.shadowBlur||0,f=u.shadowOffsetX||0,d=u.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),s?BoundingRect$1.applyTransform(r,l,s):r.copy(l),(c||f||d)&&(r.width+=c*2+Math.abs(f),r.height+=c*2+Math.abs(d),r.x=Math.min(r.x,r.x+f-c),r.y=Math.min(r.y,r.y+d-c));var v=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-v),r.y=Math.floor(r.y-v),r.width=Math.ceil(r.width+1+v*2),r.height=Math.ceil(r.height+1+v*2))}return r},n.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(r){return this.animate("style",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(r,s){r!=="style"?a.prototype.attrKV.call(this,r,s):this.style?this.setStyle(s):this.useStyle(s)},n.prototype.setStyle=function(r,s){return typeof r=="string"?this.style[r]=s:extend(this.style,r),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},n.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},n.prototype.createStyle=function(r){return createObject(DEFAULT_COMMON_STYLE,r)},n.prototype.useStyle=function(r){r[STYLE_MAGIC_KEY]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},n.prototype.isStyleObject=function(r){return r[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(r){a.prototype._innerSaveToNormal.call(this,r);var s=this._normalState;r.style&&!s.style&&(s.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,s,PRIMARY_STATES_KEYS)},n.prototype._applyStateObj=function(r,s,l,u,c,f){a.prototype._applyStateObj.call(this,r,s,l,u,c,f);var d=!(s&&u),v;if(s&&s.style?c?u?v=s.style:(v=this._mergeStyle(this.createStyle(),l.style),this._mergeStyle(v,s.style)):(v=this._mergeStyle(this.createStyle(),u?this.style:l.style),this._mergeStyle(v,s.style)):d&&(v=l.style),v)if(c){var g=this.style;if(this.style=this.createStyle(d?{}:g),d)for(var y=keys(g),_=0;_<y.length;_++){var S=y[_];S in v&&(v[S]=v[S],this.style[S]=g[S])}for(var x=keys(v),_=0;_<x.length;_++){var S=x[_];this.style[S]=this.style[S]}this._transitionState(r,{style:v},f,this.getAnimationStyleProps())}else this.useStyle(v);for(var A=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,_=0;_<A.length;_++){var S=A[_];s&&s[S]!=null?this[S]=s[S]:d&&l[S]!=null&&(this[S]=l[S])}},n.prototype._mergeStates=function(r){for(var s=a.prototype._mergeStates.call(this,r),l,u=0;u<r.length;u++){var c=r[u];c.style&&(l=l||{},this._mergeStyle(l,c.style))}return l&&(s.style=l),s},n.prototype._mergeStyle=function(r,s){return extend(r,s),r},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=function(){var r=n.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),n}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(a,n,r){return tmpRect.copy(a.getBoundingRect()),a.transform&&tmpRect.applyTransform(a.transform),viewRect.width=n,viewRect.height=r,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(a,n,r){if(a.length!==0){for(var s=a[0],l=s[0],u=s[0],c=s[1],f=s[1],d=1;d<a.length;d++)s=a[d],l=mathMin$9(l,s[0]),u=mathMax$9(u,s[0]),c=mathMin$9(c,s[1]),f=mathMax$9(f,s[1]);n[0]=l,n[1]=c,r[0]=u,r[1]=f}}function fromLine(a,n,r,s,l,u){l[0]=mathMin$9(a,r),l[1]=mathMin$9(n,s),u[0]=mathMax$9(a,r),u[1]=mathMax$9(n,s)}var xDim=[],yDim=[];function fromCubic(a,n,r,s,l,u,c,f,d,v){var g=cubicExtrema,y=cubicAt,_=g(a,r,l,c,xDim);d[0]=1/0,d[1]=1/0,v[0]=-1/0,v[1]=-1/0;for(var S=0;S<_;S++){var x=y(a,r,l,c,xDim[S]);d[0]=mathMin$9(x,d[0]),v[0]=mathMax$9(x,v[0])}_=g(n,s,u,f,yDim);for(var S=0;S<_;S++){var A=y(n,s,u,f,yDim[S]);d[1]=mathMin$9(A,d[1]),v[1]=mathMax$9(A,v[1])}d[0]=mathMin$9(a,d[0]),v[0]=mathMax$9(a,v[0]),d[0]=mathMin$9(c,d[0]),v[0]=mathMax$9(c,v[0]),d[1]=mathMin$9(n,d[1]),v[1]=mathMax$9(n,v[1]),d[1]=mathMin$9(f,d[1]),v[1]=mathMax$9(f,v[1])}function fromQuadratic(a,n,r,s,l,u,c,f){var d=quadraticExtremum,v=quadraticAt$1,g=mathMax$9(mathMin$9(d(a,r,l),1),0),y=mathMax$9(mathMin$9(d(n,s,u),1),0),_=v(a,r,l,g),S=v(n,s,u,y);c[0]=mathMin$9(a,l,_),c[1]=mathMin$9(n,u,S),f[0]=mathMax$9(a,l,_),f[1]=mathMax$9(n,u,S)}function fromArc(a,n,r,s,l,u,c,f,d){var v=min$1,g=max$1,y=Math.abs(l-u);if(y%PI2$8<1e-4&&y>1e-4){f[0]=a-r,f[1]=n-s,d[0]=a+r,d[1]=n+s;return}if(start[0]=mathCos$4(l)*r+a,start[1]=mathSin$4(l)*s+n,end[0]=mathCos$4(u)*r+a,end[1]=mathSin$4(u)*s+n,v(f,start,end),g(d,start,end),l=l%PI2$8,l<0&&(l=l+PI2$8),u=u%PI2$8,u<0&&(u=u+PI2$8),l>u&&!c?u+=PI2$8:l<u&&c&&(l+=PI2$8),c){var _=u;u=l,l=_}for(var S=0;S<u;S+=Math.PI/2)S>l&&(extremity[0]=mathCos$4(S)*r+a,extremity[1]=mathSin$4(S)*s+n,v(f,extremity,f),g(d,extremity,d))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(a){var n=Math.round(a/PI$8*1e8)/1e8;return n%2*PI$8}function normalizeArcAngles(a,n){var r=modPI2(a[0]);r<0&&(r+=PI2$7);var s=r-a[0],l=a[1];l+=s,!n&&l-r>=PI2$7?l=r+PI2$7:n&&r-l>=PI2$7?l=r-PI2$7:!n&&r>l?l=r+(PI2$7-modPI2(r-l)):n&&r<l&&(l=r-(PI2$7-modPI2(l-r))),a[0]=r,a[1]=l}var PathProxy=function(){function a(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return a.prototype.increaseVersion=function(){this._version++},a.prototype.getVersion=function(){return this._version},a.prototype.setScale=function(n,r,s){s=s||0,s>0&&(this._ux=mathAbs$2(s/devicePixelRatio/n)||0,this._uy=mathAbs$2(s/devicePixelRatio/r)||0)},a.prototype.setDPR=function(n){this.dpr=n},a.prototype.setContext=function(n){this._ctx=n},a.prototype.getContext=function(){return this._ctx},a.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},a.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},a.prototype.moveTo=function(n,r){return this._drawPendingPt(),this.addData(CMD$4.M,n,r),this._ctx&&this._ctx.moveTo(n,r),this._x0=n,this._y0=r,this._xi=n,this._yi=r,this},a.prototype.lineTo=function(n,r){var s=mathAbs$2(n-this._xi),l=mathAbs$2(r-this._yi),u=s>this._ux||l>this._uy;if(this.addData(CMD$4.L,n,r),this._ctx&&u&&this._ctx.lineTo(n,r),u)this._xi=n,this._yi=r,this._pendingPtDist=0;else{var c=s*s+l*l;c>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=r,this._pendingPtDist=c)}return this},a.prototype.bezierCurveTo=function(n,r,s,l,u,c){return this._drawPendingPt(),this.addData(CMD$4.C,n,r,s,l,u,c),this._ctx&&this._ctx.bezierCurveTo(n,r,s,l,u,c),this._xi=u,this._yi=c,this},a.prototype.quadraticCurveTo=function(n,r,s,l){return this._drawPendingPt(),this.addData(CMD$4.Q,n,r,s,l),this._ctx&&this._ctx.quadraticCurveTo(n,r,s,l),this._xi=s,this._yi=l,this},a.prototype.arc=function(n,r,s,l,u,c){this._drawPendingPt(),tmpAngles[0]=l,tmpAngles[1]=u,normalizeArcAngles(tmpAngles,c),l=tmpAngles[0],u=tmpAngles[1];var f=u-l;return this.addData(CMD$4.A,n,r,s,s,l,f,0,c?0:1),this._ctx&&this._ctx.arc(n,r,s,l,u,c),this._xi=mathCos$3(u)*s+n,this._yi=mathSin$3(u)*s+r,this},a.prototype.arcTo=function(n,r,s,l,u){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,r,s,l,u),this},a.prototype.rect=function(n,r,s,l){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,r,s,l),this.addData(CMD$4.R,n,r,s,l),this},a.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var n=this._ctx,r=this._x0,s=this._y0;return n&&n.closePath(),this._xi=r,this._yi=s,this},a.prototype.fill=function(n){n&&n.fill(),this.toStatic()},a.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},a.prototype.len=function(){return this._len},a.prototype.setData=function(n){var r=n.length;!(this.data&&this.data.length===r)&&hasTypedArray&&(this.data=new Float32Array(r));for(var s=0;s<r;s++)this.data[s]=n[s];this._len=r},a.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var r=n.length,s=0,l=this._len,u=0;u<r;u++)s+=n[u].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(l+s));for(var u=0;u<r;u++)for(var c=n[u].data,f=0;f<c.length;f++)this.data[l++]=c[f];this._len=l},a.prototype.addData=function(n,r,s,l,u,c,f,d,v){if(!!this._saveData){var g=this.data;this._len+arguments.length>g.length&&(this._expandData(),g=this.data);for(var y=0;y<arguments.length;y++)g[this._len++]=arguments[y]}},a.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},a.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],r=0;r<this._len;r++)n[r]=this.data[r];this.data=n}},a.prototype.toStatic=function(){if(!!this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(n)))}},a.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var n=this.data,r=0,s=0,l=0,u=0,c;for(c=0;c<this._len;){var f=n[c++],d=c===1;switch(d&&(r=n[c],s=n[c+1],l=r,u=s),f){case CMD$4.M:r=l=n[c++],s=u=n[c++],min2[0]=l,min2[1]=u,max2[0]=l,max2[1]=u;break;case CMD$4.L:fromLine(r,s,n[c],n[c+1],min2,max2),r=n[c++],s=n[c++];break;case CMD$4.C:fromCubic(r,s,n[c++],n[c++],n[c++],n[c++],n[c],n[c+1],min2,max2),r=n[c++],s=n[c++];break;case CMD$4.Q:fromQuadratic(r,s,n[c++],n[c++],n[c],n[c+1],min2,max2),r=n[c++],s=n[c++];break;case CMD$4.A:var v=n[c++],g=n[c++],y=n[c++],_=n[c++],S=n[c++],x=n[c++]+S;c+=1;var A=!n[c++];d&&(l=mathCos$3(S)*y+v,u=mathSin$3(S)*_+g),fromArc(v,g,y,_,S,x,A,min2,max2),r=mathCos$3(x)*y+v,s=mathSin$3(x)*_+g;break;case CMD$4.R:l=r=n[c++],u=s=n[c++];var b=n[c++],w=n[c++];fromLine(l,u,l+b,u+w,min2,max2);break;case CMD$4.Z:r=l,s=u;break}min$1(min,min,min2),max$1(max,max,max2)}return c===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},a.prototype._calculateLength=function(){var n=this.data,r=this._len,s=this._ux,l=this._uy,u=0,c=0,f=0,d=0;this._pathSegLen||(this._pathSegLen=[]);for(var v=this._pathSegLen,g=0,y=0,_=0;_<r;){var S=n[_++],x=_===1;x&&(u=n[_],c=n[_+1],f=u,d=c);var A=-1;switch(S){case CMD$4.M:u=f=n[_++],c=d=n[_++];break;case CMD$4.L:{var b=n[_++],w=n[_++],E=b-u,M=w-c;(mathAbs$2(E)>s||mathAbs$2(M)>l||_===r-1)&&(A=Math.sqrt(E*E+M*M),u=b,c=w);break}case CMD$4.C:{var P=n[_++],R=n[_++],b=n[_++],w=n[_++],I=n[_++],L=n[_++];A=cubicLength(u,c,P,R,b,w,I,L,10),u=I,c=L;break}case CMD$4.Q:{var P=n[_++],R=n[_++],b=n[_++],w=n[_++];A=quadraticLength(u,c,P,R,b,w,10),u=b,c=w;break}case CMD$4.A:var O=n[_++],N=n[_++],B=n[_++],F=n[_++],V=n[_++],z=n[_++],U=z+V;_+=1,n[_++],x&&(f=mathCos$3(V)*B+O,d=mathSin$3(V)*F+N),A=mathMax$8(B,F)*mathMin$8(PI2$7,Math.abs(z)),u=mathCos$3(U)*B+O,c=mathSin$3(U)*F+N;break;case CMD$4.R:{f=u=n[_++],d=c=n[_++];var Y=n[_++],q=n[_++];A=Y*2+q*2;break}case CMD$4.Z:{var E=f-u,M=d-c;A=Math.sqrt(E*E+M*M),u=f,c=d;break}}A>=0&&(v[y++]=A,g+=A)}return this._pathLen=g,g},a.prototype.rebuildPath=function(n,r){var s=this.data,l=this._ux,u=this._uy,c=this._len,f,d,v,g,y,_,S=r<1,x,A,b=0,w=0,E,M=0,P,R;if(S&&(this._pathSegLen||this._calculateLength(),x=this._pathSegLen,A=this._pathLen,E=r*A,!E))return;e:for(var I=0;I<c;){var L=s[I++],O=I===1;switch(O&&(v=s[I],g=s[I+1],f=v,d=g),L!==CMD$4.L&&M>0&&(n.lineTo(P,R),M=0),L){case CMD$4.M:f=v=s[I++],d=g=s[I++],n.moveTo(v,g);break;case CMD$4.L:{y=s[I++],_=s[I++];var N=mathAbs$2(y-v),B=mathAbs$2(_-g);if(N>l||B>u){if(S){var F=x[w++];if(b+F>E){var V=(E-b)/F;n.lineTo(v*(1-V)+y*V,g*(1-V)+_*V);break e}b+=F}n.lineTo(y,_),v=y,g=_,M=0}else{var z=N*N+B*B;z>M&&(P=y,R=_,M=z)}break}case CMD$4.C:{var U=s[I++],Y=s[I++],q=s[I++],Q=s[I++],j=s[I++],ne=s[I++];if(S){var F=x[w++];if(b+F>E){var V=(E-b)/F;cubicSubdivide(v,U,q,j,V,tmpOutX),cubicSubdivide(g,Y,Q,ne,V,tmpOutY),n.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}b+=F}n.bezierCurveTo(U,Y,q,Q,j,ne),v=j,g=ne;break}case CMD$4.Q:{var U=s[I++],Y=s[I++],q=s[I++],Q=s[I++];if(S){var F=x[w++];if(b+F>E){var V=(E-b)/F;quadraticSubdivide(v,U,q,V,tmpOutX),quadraticSubdivide(g,Y,Q,V,tmpOutY),n.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}b+=F}n.quadraticCurveTo(U,Y,q,Q),v=q,g=Q;break}case CMD$4.A:var fe=s[I++],de=s[I++],be=s[I++],Me=s[I++],Pe=s[I++],ae=s[I++],me=s[I++],se=!s[I++],ue=be>Me?be:Me,Ee=mathAbs$2(be-Me)>.001,$e=Pe+ae,pe=!1;if(S){var F=x[w++];b+F>E&&($e=Pe+ae*(E-b)/F,pe=!0),b+=F}if(Ee&&n.ellipse?n.ellipse(fe,de,be,Me,me,Pe,$e,se):n.arc(fe,de,ue,Pe,$e,se),pe)break e;O&&(f=mathCos$3(Pe)*be+fe,d=mathSin$3(Pe)*Me+de),v=mathCos$3($e)*be+fe,g=mathSin$3($e)*Me+de;break;case CMD$4.R:f=v=s[I],d=g=s[I+1],y=s[I++],_=s[I++];var ye=s[I++],Z=s[I++];if(S){var F=x[w++];if(b+F>E){var X=E-b;n.moveTo(y,_),n.lineTo(y+mathMin$8(X,ye),_),X-=ye,X>0&&n.lineTo(y+ye,_+mathMin$8(X,Z)),X-=Z,X>0&&n.lineTo(y+mathMax$8(ye-X,0),_+Z),X-=ye,X>0&&n.lineTo(y,_+mathMax$8(Z-X,0));break e}b+=F}n.rect(y,_,ye,Z);break;case CMD$4.Z:if(S){var F=x[w++];if(b+F>E){var V=(E-b)/F;n.lineTo(v*(1-V)+f*V,g*(1-V)+d*V);break e}b+=F}n.closePath(),v=f,g=d}}},a.prototype.clone=function(){var n=new a,r=this.data;return n.data=r.slice?r.slice():Array.prototype.slice.call(r),n._len=this._len,n},a.CMD=CMD$4,a.initDefaultProps=function(){var n=a.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),a}();function containStroke$4(a,n,r,s,l,u,c){if(l===0)return!1;var f=l,d=0,v=a;if(c>n+f&&c>s+f||c<n-f&&c<s-f||u>a+f&&u>r+f||u<a-f&&u<r-f)return!1;if(a!==r)d=(n-s)/(a-r),v=(a*s-r*n)/(a-r);else return Math.abs(u-a)<=f/2;var g=d*u-c+v,y=g*g/(d*d+1);return y<=f/2*f/2}function containStroke$3(a,n,r,s,l,u,c,f,d,v,g){if(d===0)return!1;var y=d;if(g>n+y&&g>s+y&&g>u+y&&g>f+y||g<n-y&&g<s-y&&g<u-y&&g<f-y||v>a+y&&v>r+y&&v>l+y&&v>c+y||v<a-y&&v<r-y&&v<l-y&&v<c-y)return!1;var _=cubicProjectPoint(a,n,r,s,l,u,c,f,v,g,null);return _<=y/2}function containStroke$2(a,n,r,s,l,u,c,f,d){if(c===0)return!1;var v=c;if(d>n+v&&d>s+v&&d>u+v||d<n-v&&d<s-v&&d<u-v||f>a+v&&f>r+v&&f>l+v||f<a-v&&f<r-v&&f<l-v)return!1;var g=quadraticProjectPoint(a,n,r,s,l,u,f,d,null);return g<=v/2}var PI2$6=Math.PI*2;function normalizeRadian(a){return a%=PI2$6,a<0&&(a+=PI2$6),a}var PI2$5=Math.PI*2;function containStroke$1(a,n,r,s,l,u,c,f,d){if(c===0)return!1;var v=c;f-=a,d-=n;var g=Math.sqrt(f*f+d*d);if(g-v>r||g+v<r)return!1;if(Math.abs(s-l)%PI2$5<1e-4)return!0;if(u){var y=s;s=normalizeRadian(l),l=normalizeRadian(y)}else s=normalizeRadian(s),l=normalizeRadian(l);s>l&&(l+=PI2$5);var _=Math.atan2(d,f);return _<0&&(_+=PI2$5),_>=s&&_<=l||_+PI2$5>=s&&_+PI2$5<=l}function windingLine(a,n,r,s,l,u){if(u>n&&u>s||u<n&&u<s||s===n)return 0;var c=(u-n)/(s-n),f=s<n?1:-1;(c===1||c===0)&&(f=s<n?.5:-.5);var d=c*(r-a)+a;return d===l?1/0:d>l?f:0}var CMD$3=PathProxy.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(a,n){return Math.abs(a-n)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var a=extrema[0];extrema[0]=extrema[1],extrema[1]=a}function windingCubic(a,n,r,s,l,u,c,f,d,v){if(v>n&&v>s&&v>u&&v>f||v<n&&v<s&&v<u&&v<f)return 0;var g=cubicRootAt(n,s,u,f,v,roots);if(g===0)return 0;for(var y=0,_=-1,S=void 0,x=void 0,A=0;A<g;A++){var b=roots[A],w=b===0||b===1?.5:1,E=cubicAt(a,r,l,c,b);E<d||(_<0&&(_=cubicExtrema(n,s,u,f,extrema),extrema[1]<extrema[0]&&_>1&&swapExtrema(),S=cubicAt(n,s,u,f,extrema[0]),_>1&&(x=cubicAt(n,s,u,f,extrema[1]))),_===2?b<extrema[0]?y+=S<n?w:-w:b<extrema[1]?y+=x<S?w:-w:y+=f<x?w:-w:b<extrema[0]?y+=S<n?w:-w:y+=f<S?w:-w)}return y}function windingQuadratic(a,n,r,s,l,u,c,f){if(f>n&&f>s&&f>u||f<n&&f<s&&f<u)return 0;var d=quadraticRootAt(n,s,u,f,roots);if(d===0)return 0;var v=quadraticExtremum(n,s,u);if(v>=0&&v<=1){for(var g=0,y=quadraticAt$1(n,s,u,v),_=0;_<d;_++){var S=roots[_]===0||roots[_]===1?.5:1,x=quadraticAt$1(a,r,l,roots[_]);x<c||(roots[_]<v?g+=y<n?S:-S:g+=u<y?S:-S)}return g}else{var S=roots[0]===0||roots[0]===1?.5:1,x=quadraticAt$1(a,r,l,roots[0]);return x<c?0:u<n?S:-S}}function windingArc(a,n,r,s,l,u,c,f){if(f-=n,f>r||f<-r)return 0;var d=Math.sqrt(r*r-f*f);roots[0]=-d,roots[1]=d;var v=Math.abs(s-l);if(v<1e-4)return 0;if(v>=PI2$4-1e-4){s=0,l=PI2$4;var g=u?1:-1;return c>=roots[0]+a&&c<=roots[1]+a?g:0}if(s>l){var y=s;s=l,l=y}s<0&&(s+=PI2$4,l+=PI2$4);for(var _=0,S=0;S<2;S++){var x=roots[S];if(x+a>c){var A=Math.atan2(f,x),g=u?1:-1;A<0&&(A=PI2$4+A),(A>=s&&A<=l||A+PI2$4>=s&&A+PI2$4<=l)&&(A>Math.PI/2&&A<Math.PI*1.5&&(g=-g),_+=g)}}return _}function containPath(a,n,r,s,l){for(var u=a.data,c=a.len(),f=0,d=0,v=0,g=0,y=0,_,S,x=0;x<c;){var A=u[x++],b=x===1;switch(A===CMD$3.M&&x>1&&(r||(f+=windingLine(d,v,g,y,s,l))),b&&(d=u[x],v=u[x+1],g=d,y=v),A){case CMD$3.M:g=u[x++],y=u[x++],d=g,v=y;break;case CMD$3.L:if(r){if(containStroke$4(d,v,u[x],u[x+1],n,s,l))return!0}else f+=windingLine(d,v,u[x],u[x+1],s,l)||0;d=u[x++],v=u[x++];break;case CMD$3.C:if(r){if(containStroke$3(d,v,u[x++],u[x++],u[x++],u[x++],u[x],u[x+1],n,s,l))return!0}else f+=windingCubic(d,v,u[x++],u[x++],u[x++],u[x++],u[x],u[x+1],s,l)||0;d=u[x++],v=u[x++];break;case CMD$3.Q:if(r){if(containStroke$2(d,v,u[x++],u[x++],u[x],u[x+1],n,s,l))return!0}else f+=windingQuadratic(d,v,u[x++],u[x++],u[x],u[x+1],s,l)||0;d=u[x++],v=u[x++];break;case CMD$3.A:var w=u[x++],E=u[x++],M=u[x++],P=u[x++],R=u[x++],I=u[x++];x+=1;var L=!!(1-u[x++]);_=Math.cos(R)*M+w,S=Math.sin(R)*P+E,b?(g=_,y=S):f+=windingLine(d,v,_,S,s,l);var O=(s-w)*P/M+w;if(r){if(containStroke$1(w,E,P,R,R+I,L,n,O,l))return!0}else f+=windingArc(w,E,P,R,R+I,L,O,l);d=Math.cos(R+I)*M+w,v=Math.sin(R+I)*P+E;break;case CMD$3.R:g=d=u[x++],y=v=u[x++];var N=u[x++],B=u[x++];if(_=g+N,S=y+B,r){if(containStroke$4(g,y,_,y,n,s,l)||containStroke$4(_,y,_,S,n,s,l)||containStroke$4(_,S,g,S,n,s,l)||containStroke$4(g,S,g,y,n,s,l))return!0}else f+=windingLine(_,y,_,S,s,l),f+=windingLine(g,S,g,y,s,l);break;case CMD$3.Z:if(r){if(containStroke$4(d,v,g,y,n,s,l))return!0}else f+=windingLine(d,v,g,y,s,l);d=g,v=y;break}}return!r&&!isAroundEqual$1(v,y)&&(f+=windingLine(d,v,g,y,s,l)||0),f!==0}function contain$2(a,n,r){return containPath(a,0,!1,n,r)}function containStroke(a,n,r,s){return containPath(a,n,!0,r,s)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.update=function(){var r=this;a.prototype.update.call(this);var s=this.style;if(s.decal){var l=this._decalEl=this._decalEl||new n;l.buildPath===n.prototype.buildPath&&(l.buildPath=function(d){r.buildPath(d,r.shape)}),l.silent=!0;var u=l.style;for(var c in s)u[c]!==s[c]&&(u[c]=s[c]);u.fill=s.fill?s.decal:null,u.decal=null,u.shadowColor=null,s.strokeFirst&&(u.stroke=null);for(var f=0;f<pathCopyParams.length;++f)l[pathCopyParams[f]]=this[pathCopyParams[f]];l.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(r){var s=keys(r);this.shape=this.getDefaultShape();var l=this.getDefaultStyle();l&&this.useStyle(l);for(var u=0;u<s.length;u++){var c=s[u],f=r[c];c==="style"?this.style?extend(this.style,f):this.useStyle(f):c==="shape"?extend(this.shape,f):a.prototype.attrKV.call(this,c,f)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(isString(r)){var s=lum(r,0);return s>.5?DARK_LABEL_COLOR:s>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(r)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(r){var s=this.style.fill;if(isString(s)){var l=this.__zr,u=!!(l&&l.isDarkMode()),c=lum(r,0)<DARK_MODE_THRESHOLD;if(u===c)return s}},n.prototype.buildPath=function(r,s,l){},n.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},n.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},n.prototype.hasStroke=function(){var r=this.style,s=r.stroke;return!(s==null||s==="none"||!(r.lineWidth>0))},n.prototype.hasFill=function(){var r=this.style,s=r.fill;return s!=null&&s!=="none"},n.prototype.getBoundingRect=function(){var r=this._rect,s=this.style,l=!r;if(l){var u=!1;this.path||(u=!0,this.createPathProxy());var c=this.path;(u||this.__dirty&SHAPE_CHANGED_BIT)&&(c.beginPath(),this.buildPath(c,this.shape,!1),this.pathUpdated()),r=c.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var f=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||l){f.copy(r);var d=s.strokeNoScale?this.getLineScale():1,v=s.lineWidth;if(!this.hasFill()){var g=this.strokeContainThreshold;v=Math.max(v,g==null?4:g)}d>1e-10&&(f.width+=v/d,f.height+=v/d,f.x-=v/d/2,f.y-=v/d/2)}return f}return r},n.prototype.contain=function(r,s){var l=this.transformCoordToLocal(r,s),u=this.getBoundingRect(),c=this.style;if(r=l[0],s=l[1],u.contain(r,s)){var f=this.path;if(this.hasStroke()){var d=c.lineWidth,v=c.strokeNoScale?this.getLineScale():1;if(v>1e-10&&(this.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),containStroke(f,d/v,r,s)))return!0}if(this.hasFill())return contain$2(f,r,s)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(r){return this.animate("shape",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(r,s){r==="shape"?this.setShape(s):a.prototype.attrKV.call(this,r,s)},n.prototype.setShape=function(r,s){var l=this.shape;return l||(l=this.shape={}),typeof r=="string"?l[r]=s:extend(l,r),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},n.prototype.createStyle=function(r){return createObject(DEFAULT_PATH_STYLE,r)},n.prototype._innerSaveToNormal=function(r){a.prototype._innerSaveToNormal.call(this,r);var s=this._normalState;r.shape&&!s.shape&&(s.shape=extend({},this.shape))},n.prototype._applyStateObj=function(r,s,l,u,c,f){a.prototype._applyStateObj.call(this,r,s,l,u,c,f);var d=!(s&&u),v;if(s&&s.shape?c?u?v=s.shape:(v=extend({},l.shape),extend(v,s.shape)):(v=extend({},u?this.shape:l.shape),extend(v,s.shape)):d&&(v=l.shape),v)if(c){this.shape=extend({},this.shape);for(var g={},y=keys(v),_=0;_<y.length;_++){var S=y[_];typeof v[S]=="object"?this.shape[S]=v[S]:g[S]=v[S]}this._transitionState(r,{shape:g},f)}else this.shape=v,this.dirtyShape()},n.prototype._mergeStates=function(r){for(var s=a.prototype._mergeStates.call(this,r),l,u=0;u<r.length;u++){var c=r[u];c.shape&&(l=l||{},this._mergeStyle(l,c.shape))}return l&&(s.shape=l),s},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(r){var s=function(u){__extends(c,u);function c(f){var d=u.call(this,f)||this;return r.init&&r.init.call(d,f),d}return c.prototype.getDefaultStyle=function(){return clone$4(r.style)},c.prototype.getDefaultShape=function(){return clone$4(r.shape)},c}(n);for(var l in r)typeof r[l]=="function"&&(s.prototype[l]=r[l]);return s},n.initDefaultProps=function(){var r=n.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),n}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var r=this.style,s=r.stroke;return s!=null&&s!=="none"&&r.lineWidth>0},n.prototype.hasFill=function(){var r=this.style,s=r.fill;return s!=null&&s!=="none"},n.prototype.createStyle=function(r){return createObject(DEFAULT_TSPAN_STYLE,r)},n.prototype.setBoundingRect=function(r){this._rect=r},n.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var s=r.text;s!=null?s+="":s="";var l=getBoundingRect(s,r.font,r.textAlign,r.textBaseline);if(l.x+=r.x||0,l.y+=r.y||0,this.hasStroke()){var u=r.lineWidth;l.x-=u/2,l.y-=u/2,l.width+=u,l.height+=u}this._rect=l}return this._rect},n.initDefaultProps=function(){var r=n.prototype;r.dirtyRectTolerance=10}(),n}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(a){return!!(a&&typeof a!="string"&&a.width&&a.height)}var ZRImage=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.createStyle=function(r){return createObject(DEFAULT_IMAGE_STYLE,r)},n.prototype._getSize=function(r){var s=this.style,l=s[r];if(l!=null)return l;var u=isImageLike$1(s.image)?s.image:this.__image;if(!u)return 0;var c=r==="width"?"height":"width",f=s[c];return f==null?u[r]:u[r]/u[c]*f},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new BoundingRect$1(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(a,n){var r=n.x,s=n.y,l=n.width,u=n.height,c=n.r,f,d,v,g;l<0&&(r=r+l,l=-l),u<0&&(s=s+u,u=-u),typeof c=="number"?f=d=v=g=c:c instanceof Array?c.length===1?f=d=v=g=c[0]:c.length===2?(f=v=c[0],d=g=c[1]):c.length===3?(f=c[0],d=g=c[1],v=c[2]):(f=c[0],d=c[1],v=c[2],g=c[3]):f=d=v=g=0;var y;f+d>l&&(y=f+d,f*=l/y,d*=l/y),v+g>l&&(y=v+g,v*=l/y,g*=l/y),d+v>u&&(y=d+v,d*=u/y,v*=u/y),f+g>u&&(y=f+g,f*=u/y,g*=u/y),a.moveTo(r+f,s),a.lineTo(r+l-d,s),d!==0&&a.arc(r+l-d,s+d,d,-Math.PI/2,0),a.lineTo(r+l,s+u-v),v!==0&&a.arc(r+l-v,s+u-v,v,0,Math.PI/2),a.lineTo(r+g,s+u),g!==0&&a.arc(r+g,s+u-g,g,Math.PI/2,Math.PI),a.lineTo(r,s+f),f!==0&&a.arc(r+f,s+f,f,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(a,n,r){if(!!n){var s=n.x1,l=n.x2,u=n.y1,c=n.y2;a.x1=s,a.x2=l,a.y1=u,a.y2=c;var f=r&&r.lineWidth;return f&&(round$2(s*2)===round$2(l*2)&&(a.x1=a.x2=subPixelOptimize$1(s,f,!0)),round$2(u*2)===round$2(c*2)&&(a.y1=a.y2=subPixelOptimize$1(u,f,!0))),a}}function subPixelOptimizeRect$1(a,n,r){if(!!n){var s=n.x,l=n.y,u=n.width,c=n.height;a.x=s,a.y=l,a.width=u,a.height=c;var f=r&&r.lineWidth;return f&&(a.x=subPixelOptimize$1(s,f,!0),a.y=subPixelOptimize$1(l,f,!0),a.width=Math.max(subPixelOptimize$1(s+u,f,!1)-a.x,u===0?0:1),a.height=Math.max(subPixelOptimize$1(l+c,f,!1)-a.y,c===0?0:1)),a}}function subPixelOptimize$1(a,n,r){if(!n)return a;var s=round$2(a*2);return(s+round$2(n))%2===0?s/2:(s+(r?1:-1))/2}var RectShape=function(){function a(){this.x=0,this.y=0,this.width=0,this.height=0}return a}(),subPixelOptimizeOutputShape$1={},Rect$2=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(r,s){var l,u,c,f;if(this.subPixelOptimize){var d=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,s,this.style);l=d.x,u=d.y,c=d.width,f=d.height,d.r=s.r,s=d}else l=s.x,u=s.y,c=s.width,f=s.height;s.r?buildPath$2(r,s):r.rect(l,u,c,f)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path$1);Rect$2.prototype.type="rect";const Rect$3=Rect$2;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(a){__extends(n,a);function n(r){var s=a.call(this)||this;return s.type="text",s._children=[],s._defaultStyle=DEFAULT_RICH_TEXT_COLOR,s.attr(r),s}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){a.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var s=this._children[r];s.zlevel=this.zlevel,s.z=this.z,s.z2=this.z2,s.culling=this.culling,s.cursor=this.cursor,s.invisible=this.invisible}},n.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):a.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(r){var s=this.innerTransformable;return s?s.getLocalTransform(r):a.prototype.getLocalTransform.call(this,r)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),a.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(r){a.prototype.addSelfToZr.call(this,r);for(var s=0;s<this._children.length;s++)this._children[s].__zr=r},n.prototype.removeSelfFromZr=function(r){a.prototype.removeSelfFromZr.call(this,r);for(var s=0;s<this._children.length;s++)this._children[s].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new BoundingRect$1(0,0,0,0),s=this._children,l=[],u=null,c=0;c<s.length;c++){var f=s[c],d=f.getBoundingRect(),v=f.getLocalTransform(l);v?(r.copy(d),r.applyTransform(v),u=u||r.clone(),u.union(r)):(u=u||d.clone(),u.union(d))}this._rect=u||r}return this._rect},n.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(r){},n.prototype._mergeStyle=function(r,s){if(!s)return r;var l=s.rich,u=r.rich||l&&{};return extend(r,s),l&&u?(this._mergeRich(u,l),r.rich=u):u&&(r.rich=u),r},n.prototype._mergeRich=function(r,s){for(var l=keys(s),u=0;u<l.length;u++){var c=l[u];r[c]=r[c]||{},extend(r[c],s[c])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(r){var s=this._children[this._childCursor];return(!s||!(s instanceof r))&&(s=new r),this._children[this._childCursor++]=s,s.__zr=this.__zr,s.parent=this,s},n.prototype._updatePlainTexts=function(){var r=this.style,s=r.font||DEFAULT_FONT,l=r.padding,u=getStyleText(r),c=parsePlainText(u,r),f=needDrawBackground(r),d=!!r.backgroundColor,v=c.outerHeight,g=c.outerWidth,y=c.contentWidth,_=c.lines,S=c.lineHeight,x=this._defaultStyle,A=r.x||0,b=r.y||0,w=r.align||x.align||"left",E=r.verticalAlign||x.verticalAlign||"top",M=A,P=adjustTextY(b,c.contentHeight,E);if(f||l){var R=adjustTextX(A,g,w),I=adjustTextY(b,v,E);f&&this._renderBackground(r,r,R,I,g,v)}P+=S/2,l&&(M=getTextXForPadding(A,w,l),E==="top"?P+=l[0]:E==="bottom"&&(P-=l[2]));for(var L=0,O=!1,N=getFill("fill"in r?r.fill:(O=!0,x.fill)),B=getStroke("stroke"in r?r.stroke:!d&&(!x.autoStroke||O)?(L=DEFAULT_STROKE_LINE_WIDTH,x.stroke):null),F=r.textShadowBlur>0,V=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),z=c.calculatedLineHeight,U=0;U<_.length;U++){var Y=this._getOrCreateChild(TSpan$1),q=Y.createStyle();Y.useStyle(q),q.text=_[U],q.x=M,q.y=P,w&&(q.textAlign=w),q.textBaseline="middle",q.opacity=r.opacity,q.strokeFirst=!0,F&&(q.shadowBlur=r.textShadowBlur||0,q.shadowColor=r.textShadowColor||"transparent",q.shadowOffsetX=r.textShadowOffsetX||0,q.shadowOffsetY=r.textShadowOffsetY||0),q.stroke=B,q.fill=N,B&&(q.lineWidth=r.lineWidth||L,q.lineDash=r.lineDash,q.lineDashOffset=r.lineDashOffset||0),q.font=s,setSeparateFont(q,r),P+=S,V&&Y.setBoundingRect(new BoundingRect$1(adjustTextX(q.x,r.width,q.textAlign),adjustTextY(q.y,z,q.textBaseline),y,z))}},n.prototype._updateRichTexts=function(){var r=this.style,s=getStyleText(r),l=parseRichText(s,r),u=l.width,c=l.outerWidth,f=l.outerHeight,d=r.padding,v=r.x||0,g=r.y||0,y=this._defaultStyle,_=r.align||y.align,S=r.verticalAlign||y.verticalAlign,x=adjustTextX(v,c,_),A=adjustTextY(g,f,S),b=x,w=A;d&&(b+=d[3],w+=d[0]);var E=b+u;needDrawBackground(r)&&this._renderBackground(r,r,x,A,c,f);for(var M=!!r.backgroundColor,P=0;P<l.lines.length;P++){for(var R=l.lines[P],I=R.tokens,L=I.length,O=R.lineHeight,N=R.width,B=0,F=b,V=E,z=L-1,U=void 0;B<L&&(U=I[B],!U.align||U.align==="left");)this._placeToken(U,r,O,w,F,"left",M),N-=U.width,F+=U.width,B++;for(;z>=0&&(U=I[z],U.align==="right");)this._placeToken(U,r,O,w,V,"right",M),N-=U.width,V-=U.width,z--;for(F+=(u-(F-b)-(E-V)-N)/2;B<=z;)U=I[B],this._placeToken(U,r,O,w,F+U.width/2,"center",M),F+=U.width,B++;w+=O}},n.prototype._placeToken=function(r,s,l,u,c,f,d){var v=s.rich[r.styleName]||{};v.text=r.text;var g=r.verticalAlign,y=u+l/2;g==="top"?y=u+r.height/2:g==="bottom"&&(y=u+l-r.height/2);var _=!r.isLineHolder&&needDrawBackground(v);_&&this._renderBackground(v,s,f==="right"?c-r.width:f==="center"?c-r.width/2:c,y-r.height/2,r.width,r.height);var S=!!v.backgroundColor,x=r.textPadding;x&&(c=getTextXForPadding(c,f,x),y-=r.height/2-x[0]-r.innerHeight/2);var A=this._getOrCreateChild(TSpan$1),b=A.createStyle();A.useStyle(b);var w=this._defaultStyle,E=!1,M=0,P=getFill("fill"in v?v.fill:"fill"in s?s.fill:(E=!0,w.fill)),R=getStroke("stroke"in v?v.stroke:"stroke"in s?s.stroke:!S&&!d&&(!w.autoStroke||E)?(M=DEFAULT_STROKE_LINE_WIDTH,w.stroke):null),I=v.textShadowBlur>0||s.textShadowBlur>0;b.text=r.text,b.x=c,b.y=y,I&&(b.shadowBlur=v.textShadowBlur||s.textShadowBlur||0,b.shadowColor=v.textShadowColor||s.textShadowColor||"transparent",b.shadowOffsetX=v.textShadowOffsetX||s.textShadowOffsetX||0,b.shadowOffsetY=v.textShadowOffsetY||s.textShadowOffsetY||0),b.textAlign=f,b.textBaseline="middle",b.font=r.font||DEFAULT_FONT,b.opacity=retrieve3(v.opacity,s.opacity,1),setSeparateFont(b,v),R&&(b.lineWidth=retrieve3(v.lineWidth,s.lineWidth,M),b.lineDash=retrieve2(v.lineDash,s.lineDash),b.lineDashOffset=s.lineDashOffset||0,b.stroke=R),P&&(b.fill=P);var L=r.contentWidth,O=r.contentHeight;A.setBoundingRect(new BoundingRect$1(adjustTextX(b.x,L,b.textAlign),adjustTextY(b.y,O,b.textBaseline),L,O))},n.prototype._renderBackground=function(r,s,l,u,c,f){var d=r.backgroundColor,v=r.borderWidth,g=r.borderColor,y=d&&d.image,_=d&&!y,S=r.borderRadius,x=this,A,b;if(_||r.lineHeight||v&&g){A=this._getOrCreateChild(Rect$3),A.useStyle(A.createStyle()),A.style.fill=null;var w=A.shape;w.x=l,w.y=u,w.width=c,w.height=f,w.r=S,A.dirtyShape()}if(_){var E=A.style;E.fill=d||null,E.fillOpacity=retrieve2(r.fillOpacity,1)}else if(y){b=this._getOrCreateChild(ZRImage$1),b.onload=function(){x.dirtyStyle()};var M=b.style;M.image=d.image,M.x=l,M.y=u,M.width=c,M.height=f}if(v&&g){var E=A.style;E.lineWidth=v,E.stroke=g,E.strokeOpacity=retrieve2(r.strokeOpacity,1),E.lineDash=r.borderDash,E.lineDashOffset=r.borderDashOffset||0,A.strokeContainThreshold=0,A.hasFill()&&A.hasStroke()&&(E.strokeFirst=!0,E.lineWidth*=2)}var P=(A||b).style;P.shadowBlur=r.shadowBlur||0,P.shadowColor=r.shadowColor||"transparent",P.shadowOffsetX=r.shadowOffsetX||0,P.shadowOffsetY=r.shadowOffsetY||0,P.opacity=retrieve3(r.opacity,s.opacity,1)},n.makeFont=function(r){var s="";return hasSeparateFont(r)&&(s=[r.fontStyle,r.fontWeight,parseFontSize(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),s&&trim$1(s)||r.textFont||r.font},n}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(a){return typeof a=="string"&&(a.indexOf("px")!==-1||a.indexOf("rem")!==-1||a.indexOf("em")!==-1)?a:isNaN(+a)?DEFAULT_FONT_SIZE+"px":a+"px"}function setSeparateFont(a,n){for(var r=0;r<FONT_PARTS.length;r++){var s=FONT_PARTS[r],l=n[s];l!=null&&(a[s]=l)}}function hasSeparateFont(a){return a.fontSize!=null||a.fontFamily||a.fontWeight}function normalizeTextStyle(a){return normalizeStyle(a),each$f(a.rich,normalizeStyle),a}function normalizeStyle(a){if(a){a.font=ZRText.makeFont(a);var n=a.align;n==="middle"&&(n="center"),a.align=n==null||VALID_TEXT_ALIGN[n]?n:"left";var r=a.verticalAlign;r==="center"&&(r="middle"),a.verticalAlign=r==null||VALID_TEXT_VERTICAL_ALIGN[r]?r:"top";var s=a.padding;s&&(a.padding=normalizeCssArray$1(a.padding))}}function getStroke(a,n){return a==null||n<=0||a==="transparent"||a==="none"?null:a.image||a.colorStops?"#000":a}function getFill(a){return a==null||a==="none"?null:a.image||a.colorStops?"#000":a}function getTextXForPadding(a,n,r){return n==="right"?a-r[1]:n==="center"?a+r[3]/2-r[1]/2:a+r[3]}function getStyleText(a){var n=a.text;return n!=null&&(n+=""),n}function needDrawBackground(a){return!!(a.backgroundColor||a.lineHeight||a.borderWidth&&a.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(a,n,r,s){if(s){var l=getECData(s);l.dataIndex=r,l.dataType=n,l.seriesIndex=a,s.type==="group"&&s.traverse(function(u){var c=getECData(u);c.seriesIndex=a,c.dataIndex=r,c.dataType=n})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(a){return a!=null&&a!=="none"}var liftedColorCache=new LRU$1(100);function liftColor(a){if(isString(a)){var n=liftedColorCache.get(a);return n||(n=lift(a,-.1),liftedColorCache.put(a,n)),n}else if(isGradientObject(a)){var r=extend({},a);return r.colorStops=map$1(a.colorStops,function(s){return{offset:s.offset,color:lift(s.color,-.1)}}),r}return a}function doChangeHoverState(a,n,r){a.onHoverStateChange&&(a.hoverState||0)!==r&&a.onHoverStateChange(n),a.hoverState=r}function singleEnterEmphasis(a){doChangeHoverState(a,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(a){a.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(a,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(a){doChangeHoverState(a,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(a){a.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(a,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(a){a.selected=!0}function singleLeaveSelect(a){a.selected=!1}function updateElementState(a,n,r){n(a,r)}function traverseUpdateState(a,n,r){updateElementState(a,n,r),a.isGroup&&a.traverse(function(s){updateElementState(s,n,r)})}function setStatesFlag(a,n){switch(n){case"emphasis":a.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":a.hoverState=HOVER_STATE_NORMAL;break;case"blur":a.hoverState=HOVER_STATE_BLUR;break;case"select":a.selected=!0}}function getFromStateStyle(a,n,r,s){for(var l=a.style,u={},c=0;c<n.length;c++){var f=n[c],d=l[f];u[f]=d==null?s&&s[f]:d}for(var c=0;c<a.animators.length;c++){var v=a.animators[c];v.__fromStateTransition&&v.__fromStateTransition.indexOf(r)<0&&v.targetName==="style"&&v.saveTo(u,n)}return u}function createEmphasisDefaultState(a,n,r,s){var l=r&&indexOf(r,"select")>=0,u=!1;if(a instanceof Path$1){var c=getSavedStates(a),f=l&&c.selectFill||c.normalFill,d=l&&c.selectStroke||c.normalStroke;if(hasFillOrStroke(f)||hasFillOrStroke(d)){s=s||{};var v=s.style||{};v.fill==="inherit"?(u=!0,s=extend({},s),v=extend({},v),v.fill=f):!hasFillOrStroke(v.fill)&&hasFillOrStroke(f)?(u=!0,s=extend({},s),v=extend({},v),v.fill=liftColor(f)):!hasFillOrStroke(v.stroke)&&hasFillOrStroke(d)&&(u||(s=extend({},s),v=extend({},v)),v.stroke=liftColor(d)),s.style=v}}if(s&&s.z2==null){u||(s=extend({},s));var g=a.z2EmphasisLift;s.z2=a.z2+(g!=null?g:Z2_EMPHASIS_LIFT)}return s}function createSelectDefaultState(a,n,r){if(r&&r.z2==null){r=extend({},r);var s=a.z2SelectLift;r.z2=a.z2+(s!=null?s:Z2_SELECT_LIFT)}return r}function createBlurDefaultState(a,n,r){var s=indexOf(a.currentStates,n)>=0,l=a.style.opacity,u=s?null:getFromStateStyle(a,["opacity"],n,{opacity:1});r=r||{};var c=r.style||{};return c.opacity==null&&(r=extend({},r),c=extend({opacity:s?l:u.opacity*.1},c),r.style=c),r}function elementStateProxy(a,n){var r=this.states[a];if(this.style){if(a==="emphasis")return createEmphasisDefaultState(this,a,n,r);if(a==="blur")return createBlurDefaultState(this,a,r);if(a==="select")return createSelectDefaultState(this,a,r)}return r}function setDefaultStateProxy(a){a.stateProxy=elementStateProxy;var n=a.getTextContent(),r=a.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),r&&(r.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(a,n){!shouldSilent(a,n)&&!a.__highByOuter&&traverseUpdateState(a,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(a,n){!shouldSilent(a,n)&&!a.__highByOuter&&traverseUpdateState(a,singleLeaveEmphasis)}function enterEmphasis(a,n){a.__highByOuter|=1<<(n||0),traverseUpdateState(a,singleEnterEmphasis)}function leaveEmphasis(a,n){!(a.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(a,singleLeaveEmphasis)}function enterBlur(a){traverseUpdateState(a,singleEnterBlur)}function leaveBlur(a){traverseUpdateState(a,singleLeaveBlur)}function enterSelect(a){traverseUpdateState(a,singleEnterSelect)}function leaveSelect(a){traverseUpdateState(a,singleLeaveSelect)}function shouldSilent(a,n){return a.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(a){var n=a.getModel(),r=[],s=[];n.eachComponent(function(l,u){var c=getComponentStates(u),f=l==="series",d=f?a.getViewOfSeriesModel(u):a.getViewOfComponentModel(u);!f&&s.push(d),c.isBlured&&(d.group.traverse(function(v){singleLeaveBlur(v)}),f&&r.push(u)),c.isBlured=!1}),each$f(s,function(l){l&&l.toggleBlurSeries&&l.toggleBlurSeries(r,!1,n)})}function blurSeries(a,n,r,s){var l=s.getModel();r=r||"coordinateSystem";function u(v,g){for(var y=0;y<g.length;y++){var _=v.getItemGraphicEl(g[y]);_&&leaveBlur(_)}}if(a!=null&&!(!n||n==="none")){var c=l.getSeriesByIndex(a),f=c.coordinateSystem;f&&f.master&&(f=f.master);var d=[];l.eachSeries(function(v){var g=c===v,y=v.coordinateSystem;y&&y.master&&(y=y.master);var _=y&&f?y===f:g;if(!(r==="series"&&!g||r==="coordinateSystem"&&!_||n==="series"&&g)){var S=s.getViewOfSeriesModel(v);if(S.group.traverse(function(b){singleEnterBlur(b)}),isArrayLike(n))u(v.getData(),n);else if(isObject$3(n))for(var x=keys(n),A=0;A<x.length;A++)u(v.getData(x[A]),n[x[A]]);d.push(v),getComponentStates(v).isBlured=!0}}),l.eachComponent(function(v,g){if(v!=="series"){var y=s.getViewOfComponentModel(g);y&&y.toggleBlurSeries&&y.toggleBlurSeries(d,!0,l)}})}}function blurComponent(a,n,r){if(!(a==null||n==null)){var s=r.getModel().getComponent(a,n);if(!!s){getComponentStates(s).isBlured=!0;var l=r.getViewOfComponentModel(s);!l||!l.focusBlurEnabled||l.group.traverse(function(u){singleEnterBlur(u)})}}}function blurSeriesFromHighlightPayload(a,n,r){var s=a.seriesIndex,l=a.getData(n.dataType);if(!!l){var u=queryDataIndex(l,n);u=(isArray$2(u)?u[0]:u)||0;var c=l.getItemGraphicEl(u);if(!c)for(var f=l.count(),d=0;!c&&d<f;)c=l.getItemGraphicEl(d++);if(c){var v=getECData(c);blurSeries(s,v.focus,v.blurScope,r)}else{var g=a.get(["emphasis","focus"]),y=a.get(["emphasis","blurScope"]);g!=null&&blurSeries(s,g,y,r)}}}function findComponentHighDownDispatchers(a,n,r,s){var l={focusSelf:!1,dispatchers:null};if(a==null||a==="series"||n==null||r==null)return l;var u=s.getModel().getComponent(a,n);if(!u)return l;var c=s.getViewOfComponentModel(u);if(!c||!c.findHighDownDispatchers)return l;for(var f=c.findHighDownDispatchers(r),d,v=0;v<f.length;v++)if(getECData(f[v]).focus==="self"){d=!0;break}return{focusSelf:d,dispatchers:f}}function handleGlobalMouseOverForHighDown(a,n,r){var s=getECData(a),l=findComponentHighDownDispatchers(s.componentMainType,s.componentIndex,s.componentHighDownName,r),u=l.dispatchers,c=l.focusSelf;u?(c&&blurComponent(s.componentMainType,s.componentIndex,r),each$f(u,function(f){return enterEmphasisWhenMouseOver(f,n)})):(blurSeries(s.seriesIndex,s.focus,s.blurScope,r),s.focus==="self"&&blurComponent(s.componentMainType,s.componentIndex,r),enterEmphasisWhenMouseOver(a,n))}function handleGlobalMouseOutForHighDown(a,n,r){allLeaveBlur(r);var s=getECData(a),l=findComponentHighDownDispatchers(s.componentMainType,s.componentIndex,s.componentHighDownName,r).dispatchers;l?each$f(l,function(u){return leaveEmphasisWhenMouseOut(u,n)}):leaveEmphasisWhenMouseOut(a,n)}function toggleSelectionFromPayload(a,n,r){if(!!isSelectChangePayload(n)){var s=n.dataType,l=a.getData(s),u=queryDataIndex(l,n);isArray$2(u)||(u=[u]),a[n.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":n.type===SELECT_ACTION_TYPE?"select":"unselect"](u,s)}}function updateSeriesElementSelection(a){var n=a.getAllData();each$f(n,function(r){var s=r.data,l=r.type;s.eachItemGraphicEl(function(u,c){a.isSelected(c,l)?enterSelect(u):leaveSelect(u)})})}function getAllSelectedIndices(a){var n=[];return a.eachSeries(function(r){var s=r.getAllData();each$f(s,function(l){l.data;var u=l.type,c=r.getSelectedDataIndices();if(c.length>0){var f={dataIndex:c,seriesIndex:r.seriesIndex};u!=null&&(f.dataType=u),n.push(f)}})}),n}function enableHoverEmphasis(a,n,r){setAsHighDownDispatcher(a,!0),traverseUpdateState(a,setDefaultStateProxy),enableHoverFocus(a,n,r)}function disableHoverEmphasis(a){setAsHighDownDispatcher(a,!1)}function toggleHoverEmphasis(a,n,r,s){s?disableHoverEmphasis(a):enableHoverEmphasis(a,n,r)}function enableHoverFocus(a,n,r){var s=getECData(a);n!=null?(s.focus=n,s.blurScope=r):s.focus&&(s.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(a,n,r,s){r=r||"itemStyle";for(var l=0;l<OTHER_STATES.length;l++){var u=OTHER_STATES[l],c=n.getModel([u,r]),f=a.ensureState(u);f.style=s?s(c):c[defaultStyleGetterMap[r]]()}}function setAsHighDownDispatcher(a,n){var r=n===!1,s=a;a.highDownSilentOnTouch&&(s.__highDownSilentOnTouch=a.highDownSilentOnTouch),(!r||s.__highDownDispatcher)&&(s.__highByOuter=s.__highByOuter||0,s.__highDownDispatcher=!r)}function isHighDownDispatcher(a){return!!(a&&a.__highDownDispatcher)}function enableComponentHighDownFeatures(a,n,r){var s=getECData(a);s.componentMainType=n.mainType,s.componentIndex=n.componentIndex,s.componentHighDownName=r}function getHighlightDigit(a){var n=_highlightKeyMap[a];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[a]=_highlightNextDigit++),n}function isSelectChangePayload(a){var n=a.type;return n===SELECT_ACTION_TYPE||n===UNSELECT_ACTION_TYPE||n===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(a){var n=a.type;return n===HIGHLIGHT_ACTION_TYPE||n===DOWNPLAY_ACTION_TYPE}function savePathStates(a){var n=getSavedStates(a);n.normalFill=a.style.fill,n.normalStroke=a.style.stroke;var r=a.states.select||{};n.selectFill=r.style&&r.style.fill||null,n.selectStroke=r.style&&r.style.stroke||null}var CMD$2=PathProxy.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(a,n){if(!!n){var r=a.data,s=a.len(),l,u,c,f,d,v,g=CMD$2.M,y=CMD$2.C,_=CMD$2.L,S=CMD$2.R,x=CMD$2.A,A=CMD$2.Q;for(c=0,f=0;c<s;){switch(l=r[c++],f=c,u=0,l){case g:u=1;break;case _:u=1;break;case y:u=3;break;case A:u=2;break;case x:var b=n[4],w=n[5],E=mathSqrt$2(n[0]*n[0]+n[1]*n[1]),M=mathSqrt$2(n[2]*n[2]+n[3]*n[3]),P=mathAtan2(-n[1]/M,n[0]/E);r[c]*=E,r[c++]+=b,r[c]*=M,r[c++]+=w,r[c++]*=E,r[c++]*=M,r[c++]+=P,r[c++]+=P,c+=2,f=c;break;case S:v[0]=r[c++],v[1]=r[c++],applyTransform$1(v,v,n),r[f++]=v[0],r[f++]=v[1],v[0]+=r[c++],v[1]+=r[c++],applyTransform$1(v,v,n),r[f++]=v[0],r[f++]=v[1]}for(d=0;d<u;d++){var R=points$2[d];R[0]=r[c++],R[1]=r[c++],applyTransform$1(R,R,n),r[f++]=R[0],r[f++]=R[1]}}a.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function vRatio(a,n){return(a[0]*n[0]+a[1]*n[1])/(vMag(a)*vMag(n))}function vAngle(a,n){return(a[0]*n[1]<a[1]*n[0]?-1:1)*Math.acos(vRatio(a,n))}function processArc(a,n,r,s,l,u,c,f,d,v,g){var y=d*(PI$7/180),_=mathCos$2(y)*(a-r)/2+mathSin$2(y)*(n-s)/2,S=-1*mathSin$2(y)*(a-r)/2+mathCos$2(y)*(n-s)/2,x=_*_/(c*c)+S*S/(f*f);x>1&&(c*=mathSqrt$1(x),f*=mathSqrt$1(x));var A=(l===u?-1:1)*mathSqrt$1((c*c*(f*f)-c*c*(S*S)-f*f*(_*_))/(c*c*(S*S)+f*f*(_*_)))||0,b=A*c*S/f,w=A*-f*_/c,E=(a+r)/2+mathCos$2(y)*b-mathSin$2(y)*w,M=(n+s)/2+mathSin$2(y)*b+mathCos$2(y)*w,P=vAngle([1,0],[(_-b)/c,(S-w)/f]),R=[(_-b)/c,(S-w)/f],I=[(-1*_-b)/c,(-1*S-w)/f],L=vAngle(R,I);if(vRatio(R,I)<=-1&&(L=PI$7),vRatio(R,I)>=1&&(L=0),L<0){var O=Math.round(L/PI$7*1e6)/1e6;L=PI$7*2+O%2*PI$7}g.addData(v,E,M,c,f,P,L,y,u)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(a){var n=new PathProxy;if(!a)return n;var r=0,s=0,l=r,u=s,c,f=PathProxy.CMD,d=a.match(commandReg);if(!d)return n;for(var v=0;v<d.length;v++){for(var g=d[v],y=g.charAt(0),_=void 0,S=g.match(numberReg$1)||[],x=S.length,A=0;A<x;A++)S[A]=parseFloat(S[A]);for(var b=0;b<x;){var w=void 0,E=void 0,M=void 0,P=void 0,R=void 0,I=void 0,L=void 0,O=r,N=s,B=void 0,F=void 0;switch(y){case"l":r+=S[b++],s+=S[b++],_=f.L,n.addData(_,r,s);break;case"L":r=S[b++],s=S[b++],_=f.L,n.addData(_,r,s);break;case"m":r+=S[b++],s+=S[b++],_=f.M,n.addData(_,r,s),l=r,u=s,y="l";break;case"M":r=S[b++],s=S[b++],_=f.M,n.addData(_,r,s),l=r,u=s,y="L";break;case"h":r+=S[b++],_=f.L,n.addData(_,r,s);break;case"H":r=S[b++],_=f.L,n.addData(_,r,s);break;case"v":s+=S[b++],_=f.L,n.addData(_,r,s);break;case"V":s=S[b++],_=f.L,n.addData(_,r,s);break;case"C":_=f.C,n.addData(_,S[b++],S[b++],S[b++],S[b++],S[b++],S[b++]),r=S[b-2],s=S[b-1];break;case"c":_=f.C,n.addData(_,S[b++]+r,S[b++]+s,S[b++]+r,S[b++]+s,S[b++]+r,S[b++]+s),r+=S[b-2],s+=S[b-1];break;case"S":w=r,E=s,B=n.len(),F=n.data,c===f.C&&(w+=r-F[B-4],E+=s-F[B-3]),_=f.C,O=S[b++],N=S[b++],r=S[b++],s=S[b++],n.addData(_,w,E,O,N,r,s);break;case"s":w=r,E=s,B=n.len(),F=n.data,c===f.C&&(w+=r-F[B-4],E+=s-F[B-3]),_=f.C,O=r+S[b++],N=s+S[b++],r+=S[b++],s+=S[b++],n.addData(_,w,E,O,N,r,s);break;case"Q":O=S[b++],N=S[b++],r=S[b++],s=S[b++],_=f.Q,n.addData(_,O,N,r,s);break;case"q":O=S[b++]+r,N=S[b++]+s,r+=S[b++],s+=S[b++],_=f.Q,n.addData(_,O,N,r,s);break;case"T":w=r,E=s,B=n.len(),F=n.data,c===f.Q&&(w+=r-F[B-4],E+=s-F[B-3]),r=S[b++],s=S[b++],_=f.Q,n.addData(_,w,E,r,s);break;case"t":w=r,E=s,B=n.len(),F=n.data,c===f.Q&&(w+=r-F[B-4],E+=s-F[B-3]),r+=S[b++],s+=S[b++],_=f.Q,n.addData(_,w,E,r,s);break;case"A":M=S[b++],P=S[b++],R=S[b++],I=S[b++],L=S[b++],O=r,N=s,r=S[b++],s=S[b++],_=f.A,processArc(O,N,r,s,I,L,M,P,R,_,n);break;case"a":M=S[b++],P=S[b++],R=S[b++],I=S[b++],L=S[b++],O=r,N=s,r+=S[b++],s+=S[b++],_=f.A,processArc(O,N,r,s,I,L,M,P,R,_,n);break}}(y==="z"||y==="Z")&&(_=f.Z,n.addData(_),r=l,s=u),c=_}return n.toStatic(),n}var SVGPath=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.applyTransform=function(r){},n}(Path$1);function isPathProxy(a){return a.setData!=null}function createPathOptions(a,n){var r=createPathProxyFromString(a),s=extend({},n);return s.buildPath=function(l){if(isPathProxy(l)){l.setData(r.data);var u=l.getContext();u&&l.rebuildPath(u,1)}else{var u=l;r.rebuildPath(u,1)}},s.applyTransform=function(l){transformPath(r,l),this.dirtyShape()},s}function createFromString(a,n){return new SVGPath(createPathOptions(a,n))}function extendFromString(a,n){var r=createPathOptions(a,n),s=function(l){__extends(u,l);function u(c){var f=l.call(this,c)||this;return f.applyTransform=r.applyTransform,f.buildPath=r.buildPath,f}return u}(SVGPath);return s}function mergePath$1(a,n){for(var r=[],s=a.length,l=0;l<s;l++){var u=a[l];r.push(u.getUpdatedPathProxy(!0))}var c=new Path$1(n);return c.createPathProxy(),c.buildPath=function(f){if(isPathProxy(f)){f.appendPath(r);var d=f.getContext();d&&f.rebuildPath(d,1)}},c}function clonePath(a,n){n=n||{};var r=new Path$1;return a.shape&&r.setShape(a.shape),r.setStyle(a.style),n.bakeTransform?transformPath(r.path,a.getComputedTransform()):n.toLocal?r.setLocalTransform(a.getComputedTransform()):r.copyTransform(a),r.buildPath=a.buildPath,r.applyTransform=r.applyTransform,r.z=a.z,r.z2=a.z2,r.zlevel=a.zlevel,r}var CircleShape=function(){function a(){this.cx=0,this.cy=0,this.r=0}return a}(),Circle=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(r,s){r.moveTo(s.cx+s.r,s.cy),r.arc(s.cx,s.cy,s.r,0,Math.PI*2)},n}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function a(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return a}(),Ellipse=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(r,s){var l=.5522848,u=s.cx,c=s.cy,f=s.rx,d=s.ry,v=f*l,g=d*l;r.moveTo(u-f,c),r.bezierCurveTo(u-f,c-g,u-v,c-d,u,c-d),r.bezierCurveTo(u+v,c-d,u+f,c-g,u+f,c),r.bezierCurveTo(u+f,c+g,u+v,c+d,u,c+d),r.bezierCurveTo(u-v,c+d,u-f,c+g,u-f,c),r.closePath()},n}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(a,n,r,s,l,u,c,f){var d=r-a,v=s-n,g=c-l,y=f-u,_=y*d-g*v;if(!(_*_<e))return _=(g*(n-u)-y*(a-l))/_,[a+_*d,n+_*v]}function computeCornerTangents(a,n,r,s,l,u,c){var f=a-r,d=n-s,v=(c?u:-u)/mathSqrt(f*f+d*d),g=v*d,y=-v*f,_=a+g,S=n+y,x=r+g,A=s+y,b=(_+x)/2,w=(S+A)/2,E=x-_,M=A-S,P=E*E+M*M,R=l-u,I=_*A-x*S,L=(M<0?-1:1)*mathSqrt(mathMax$7(0,R*R*P-I*I)),O=(I*M-E*L)/P,N=(-I*E-M*L)/P,B=(I*M+E*L)/P,F=(-I*E+M*L)/P,V=O-b,z=N-w,U=B-b,Y=F-w;return V*V+z*z>U*U+Y*Y&&(O=B,N=F),{cx:O,cy:N,x0:-g,y0:-y,x1:O*(l/R-1),y1:N*(l/R-1)}}function normalizeCornerRadius(a){var n;if(isArray$2(a)){var r=a.length;if(!r)return a;r===1?n=[a[0],a[0],0,0]:r===2?n=[a[0],a[0],a[1],a[1]]:r===3?n=a.concat(a[2]):n=a}else n=[a,a,a,a];return n}function buildPath$1(a,n){var r,s=mathMax$7(n.r,0),l=mathMax$7(n.r0||0,0),u=s>0,c=l>0;if(!(!u&&!c)){if(u||(s=l,l=0),l>s){var f=s;s=l,l=f}var d=n.startAngle,v=n.endAngle;if(!(isNaN(d)||isNaN(v))){var g=n.cx,y=n.cy,_=!!n.clockwise,S=mathAbs$1(v-d),x=S>PI2$3&&S%PI2$3;if(x>e&&(S=x),!(s>e))a.moveTo(g,y);else if(S>PI2$3-e)a.moveTo(g+s*mathCos$1(d),y+s*mathSin$1(d)),a.arc(g,y,s,d,v,!_),l>e&&(a.moveTo(g+l*mathCos$1(v),y+l*mathSin$1(v)),a.arc(g,y,l,v,d,_));else{var A=void 0,b=void 0,w=void 0,E=void 0,M=void 0,P=void 0,R=void 0,I=void 0,L=void 0,O=void 0,N=void 0,B=void 0,F=void 0,V=void 0,z=void 0,U=void 0,Y=s*mathCos$1(d),q=s*mathSin$1(d),Q=l*mathCos$1(v),j=l*mathSin$1(v),ne=S>e;if(ne){var fe=n.cornerRadius;fe&&(r=normalizeCornerRadius(fe),A=r[0],b=r[1],w=r[2],E=r[3]);var de=mathAbs$1(s-l)/2;if(M=mathMin$7(de,w),P=mathMin$7(de,E),R=mathMin$7(de,A),I=mathMin$7(de,b),N=L=mathMax$7(M,P),B=O=mathMax$7(R,I),(L>e||O>e)&&(F=s*mathCos$1(v),V=s*mathSin$1(v),z=l*mathCos$1(d),U=l*mathSin$1(d),S<PI$6)){var be=intersect(Y,q,z,U,F,V,Q,j);if(be){var Me=Y-be[0],Pe=q-be[1],ae=F-be[0],me=V-be[1],se=1/mathSin$1(mathACos((Me*ae+Pe*me)/(mathSqrt(Me*Me+Pe*Pe)*mathSqrt(ae*ae+me*me)))/2),ue=mathSqrt(be[0]*be[0]+be[1]*be[1]);N=mathMin$7(L,(s-ue)/(se+1)),B=mathMin$7(O,(l-ue)/(se-1))}}}if(!ne)a.moveTo(g+Y,y+q);else if(N>e){var Ee=mathMin$7(w,N),$e=mathMin$7(E,N),pe=computeCornerTangents(z,U,Y,q,s,Ee,_),ye=computeCornerTangents(F,V,Q,j,s,$e,_);a.moveTo(g+pe.cx+pe.x0,y+pe.cy+pe.y0),N<L&&Ee===$e?a.arc(g+pe.cx,y+pe.cy,N,mathATan2(pe.y0,pe.x0),mathATan2(ye.y0,ye.x0),!_):(Ee>0&&a.arc(g+pe.cx,y+pe.cy,Ee,mathATan2(pe.y0,pe.x0),mathATan2(pe.y1,pe.x1),!_),a.arc(g,y,s,mathATan2(pe.cy+pe.y1,pe.cx+pe.x1),mathATan2(ye.cy+ye.y1,ye.cx+ye.x1),!_),$e>0&&a.arc(g+ye.cx,y+ye.cy,$e,mathATan2(ye.y1,ye.x1),mathATan2(ye.y0,ye.x0),!_))}else a.moveTo(g+Y,y+q),a.arc(g,y,s,d,v,!_);if(!(l>e)||!ne)a.lineTo(g+Q,y+j);else if(B>e){var Ee=mathMin$7(A,B),$e=mathMin$7(b,B),pe=computeCornerTangents(Q,j,F,V,l,-$e,_),ye=computeCornerTangents(Y,q,z,U,l,-Ee,_);a.lineTo(g+pe.cx+pe.x0,y+pe.cy+pe.y0),B<O&&Ee===$e?a.arc(g+pe.cx,y+pe.cy,B,mathATan2(pe.y0,pe.x0),mathATan2(ye.y0,ye.x0),!_):($e>0&&a.arc(g+pe.cx,y+pe.cy,$e,mathATan2(pe.y0,pe.x0),mathATan2(pe.y1,pe.x1),!_),a.arc(g,y,l,mathATan2(pe.cy+pe.y1,pe.cx+pe.x1),mathATan2(ye.cy+ye.y1,ye.cx+ye.x1),_),Ee>0&&a.arc(g+ye.cx,y+ye.cy,Ee,mathATan2(ye.y1,ye.x1),mathATan2(ye.y0,ye.x0),!_))}else a.lineTo(g+Q,y+j),a.arc(g,y,l,v,d,_)}a.closePath()}}}var SectorShape=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return a}(),Sector=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(r,s){buildPath$1(r,s)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function a(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return a}(),Ring=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(r,s){var l=s.cx,u=s.cy,c=Math.PI*2;r.moveTo(l+s.r,u),r.arc(l,u,s.r,0,c,!1),r.moveTo(l+s.r0,u),r.arc(l,u,s.r0,0,c,!0)},n}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(a,n,r,s){var l=[],u=[],c=[],f=[],d,v,g,y;if(s){g=[1/0,1/0],y=[-1/0,-1/0];for(var _=0,S=a.length;_<S;_++)min$1(g,g,a[_]),max$1(y,y,a[_]);min$1(g,g,s[0]),max$1(y,y,s[1])}for(var _=0,S=a.length;_<S;_++){var x=a[_];if(r)d=a[_?_-1:S-1],v=a[(_+1)%S];else if(_===0||_===S-1){l.push(clone$3(a[_]));continue}else d=a[_-1],v=a[_+1];sub(u,v,d),scale$2(u,u,n);var A=distance(x,d),b=distance(x,v),w=A+b;w!==0&&(A/=w,b/=w),scale$2(c,u,-A),scale$2(f,u,b);var E=add([],x,c),M=add([],x,f);s&&(max$1(E,E,g),min$1(E,E,y),max$1(M,M,g),min$1(M,M,y)),l.push(E),l.push(M)}return r&&l.push(l.shift()),l}function buildPath(a,n,r){var s=n.smooth,l=n.points;if(l&&l.length>=2){if(s){var u=smoothBezier(l,s,r,n.smoothConstraint);a.moveTo(l[0][0],l[0][1]);for(var c=l.length,f=0;f<(r?c:c-1);f++){var d=u[f*2],v=u[f*2+1],g=l[(f+1)%c];a.bezierCurveTo(d[0],d[1],v[0],v[1],g[0],g[1])}}else{a.moveTo(l[0][0],l[0][1]);for(var f=1,y=l.length;f<y;f++)a.lineTo(l[f][0],l[f][1])}r&&a.closePath()}}var PolygonShape=function(){function a(){this.points=null,this.smooth=0,this.smoothConstraint=null}return a}(),Polygon=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(r,s){buildPath(r,s,!0)},n}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function a(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return a}(),Polyline$2=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(r,s){buildPath(r,s,!1)},n}(Path$1);Polyline$2.prototype.type="polyline";const Polyline$3=Polyline$2;var subPixelOptimizeOutputShape={},LineShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a}(),Line$2=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(r,s){var l,u,c,f;if(this.subPixelOptimize){var d=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,s,this.style);l=d.x1,u=d.y1,c=d.x2,f=d.y2}else l=s.x1,u=s.y1,c=s.x2,f=s.y2;var v=s.percent;v!==0&&(r.moveTo(l,u),v<1&&(c=l*(1-v)+c*v,f=u*(1-v)+f*v),r.lineTo(c,f))},n.prototype.pointAt=function(r){var s=this.shape;return[s.x1*(1-r)+s.x2*r,s.y1*(1-r)+s.y2*r]},n}(Path$1);Line$2.prototype.type="line";const Line$3=Line$2;var out=[],BezierCurveShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return a}();function someVectorAt(a,n,r){var s=a.cpx2,l=a.cpy2;return s!=null||l!=null?[(r?cubicDerivativeAt:cubicAt)(a.x1,a.cpx1,a.cpx2,a.x2,n),(r?cubicDerivativeAt:cubicAt)(a.y1,a.cpy1,a.cpy2,a.y2,n)]:[(r?quadraticDerivativeAt:quadraticAt$1)(a.x1,a.cpx1,a.x2,n),(r?quadraticDerivativeAt:quadraticAt$1)(a.y1,a.cpy1,a.y2,n)]}var BezierCurve=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(r,s){var l=s.x1,u=s.y1,c=s.x2,f=s.y2,d=s.cpx1,v=s.cpy1,g=s.cpx2,y=s.cpy2,_=s.percent;_!==0&&(r.moveTo(l,u),g==null||y==null?(_<1&&(quadraticSubdivide(l,d,c,_,out),d=out[1],c=out[2],quadraticSubdivide(u,v,f,_,out),v=out[1],f=out[2]),r.quadraticCurveTo(d,v,c,f)):(_<1&&(cubicSubdivide(l,d,g,c,_,out),d=out[1],g=out[2],c=out[3],cubicSubdivide(u,v,y,f,_,out),v=out[1],y=out[2],f=out[3]),r.bezierCurveTo(d,v,g,y,c,f)))},n.prototype.pointAt=function(r){return someVectorAt(this.shape,r,!1)},n.prototype.tangentAt=function(r){var s=someVectorAt(this.shape,r,!0);return normalize$3(s,s)},n}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function a(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),Arc=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(r,s){var l=s.cx,u=s.cy,c=Math.max(s.r,0),f=s.startAngle,d=s.endAngle,v=s.clockwise,g=Math.cos(f),y=Math.sin(f);r.moveTo(g*c+l,y*c+u),r.arc(l,u,c,f,d,!v)},n}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="compound",r}return n.prototype._updatePathDirty=function(){for(var r=this.shape.paths,s=this.shapeChanged(),l=0;l<r.length;l++)s=s||r[l].shapeChanged();s&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],s=this.getGlobalScale(),l=0;l<r.length;l++)r[l].path||r[l].createPathProxy(),r[l].path.setScale(s[0],s[1],r[l].segmentIgnoreThreshold)},n.prototype.buildPath=function(r,s){for(var l=s.paths||[],u=0;u<l.length;u++)l[u].buildPath(r,l[u].shape,!0)},n.prototype.afterBrush=function(){for(var r=this.shape.paths||[],s=0;s<r.length;s++)r[s].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},n}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function a(n){this.colorStops=n||[]}return a.prototype.addColorStop=function(n,r){this.colorStops.push({offset:n,color:r})},a}();const Gradient$1=Gradient;var LinearGradient=function(a){__extends(n,a);function n(r,s,l,u,c,f){var d=a.call(this,c)||this;return d.x=r==null?0:r,d.y=s==null?0:s,d.x2=l==null?1:l,d.y2=u==null?0:u,d.type="linear",d.global=f||!1,d}return n}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(a){__extends(n,a);function n(r,s,l,u,c){var f=a.call(this,u)||this;return f.x=r==null?.5:r,f.y=s==null?.5:s,f.r=l==null?.5:l,f.type="radial",f.global=c||!1,f}return n}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function a(n,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var s=0;s<4;s++)this._corners[s]=new Point$1;for(var s=0;s<2;s++)this._axes[s]=new Point$1;n&&this.fromBoundingRect(n,r)}return a.prototype.fromBoundingRect=function(n,r){var s=this._corners,l=this._axes,u=n.x,c=n.y,f=u+n.width,d=c+n.height;if(s[0].set(u,c),s[1].set(f,c),s[2].set(f,d),s[3].set(u,d),r)for(var v=0;v<4;v++)s[v].transform(r);Point$1.sub(l[0],s[1],s[0]),Point$1.sub(l[1],s[3],s[0]),l[0].normalize(),l[1].normalize();for(var v=0;v<2;v++)this._origin[v]=l[v].dot(s[0])},a.prototype.intersect=function(n,r){var s=!0,l=!r;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,n,minTv,maxTv,l,1)&&(s=!1,l)||!this._intersectCheckOneSide(n,this,minTv,maxTv,l,-1)&&(s=!1,l)||l||Point$1.copy(r,s?minTv:maxTv),s},a.prototype._intersectCheckOneSide=function(n,r,s,l,u,c){for(var f=!0,d=0;d<2;d++){var v=this._axes[d];if(this._getProjMinMaxOnAxis(d,n._corners,extent),this._getProjMinMaxOnAxis(d,r._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(f=!1,u)return f;var g=Math.abs(extent2[0]-extent[1]),y=Math.abs(extent[0]-extent2[1]);Math.min(g,y)>l.len()&&(g<y?Point$1.scale(l,v,-g*c):Point$1.scale(l,v,y*c))}else if(s){var g=Math.abs(extent2[0]-extent[1]),y=Math.abs(extent[0]-extent2[1]);Math.min(g,y)<s.len()&&(g<y?Point$1.scale(s,v,g*c):Point$1.scale(s,v,-y*c))}}return f},a.prototype._getProjMinMaxOnAxis=function(n,r,s){for(var l=this._axes[n],u=this._origin,c=r[0].dot(l)+u[n],f=c,d=c,v=1;v<r.length;v++){var g=r[v].dot(l)+u[n];f=Math.min(g,f),d=Math.max(g,d)}s[0]=f,s[1]=d},a}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return n.prototype.traverse=function(r,s){r.call(s,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(r,s){s?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},n.prototype.addDisplayables=function(r,s){s=s||!1;for(var l=0;l<r.length;l++)this.addDisplayable(r[l],s)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(r){for(var s=this._cursor;s<this._displayables.length;s++)r&&r(this._displayables[s]);for(var s=0;s<this._temporaryDisplayables.length;s++)r&&r(this._temporaryDisplayables[s])},n.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var s=this._displayables[r];s.parent=this,s.update(),s.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var s=this._temporaryDisplayables[r];s.parent=this,s.update(),s.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new BoundingRect$1(1/0,1/0,-1/0,-1/0),s=0;s<this._displayables.length;s++){var l=this._displayables[s],u=l.getBoundingRect().clone();l.needLocalTransform()&&u.applyTransform(l.getLocalTransform(m)),r.union(u)}this._rect=r}return this._rect},n.prototype.contain=function(r,s){var l=this.transformCoordToLocal(r,s),u=this.getBoundingRect();if(u.contain(l[0],l[1]))for(var c=0;c<this._displayables.length;c++){var f=this._displayables[c];if(f.contain(r,s))return!0}return!1},n}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(a,n,r,s,l){var u;if(n&&n.ecModel){var c=n.ecModel.getUpdatePayload();u=c&&c.animation}var f=n&&n.isAnimationEnabled(),d=a==="update";if(f){var v=void 0,g=void 0,y=void 0;s?(v=retrieve2(s.duration,200),g=retrieve2(s.easing,"cubicOut"),y=0):(v=n.getShallow(d?"animationDurationUpdate":"animationDuration"),g=n.getShallow(d?"animationEasingUpdate":"animationEasing"),y=n.getShallow(d?"animationDelayUpdate":"animationDelay")),u&&(u.duration!=null&&(v=u.duration),u.easing!=null&&(g=u.easing),u.delay!=null&&(y=u.delay)),isFunction(y)&&(y=y(r,l)),isFunction(v)&&(v=v(r));var _={duration:v||0,delay:y,easing:g};return _}else return null}function animateOrSetProps(a,n,r,s,l,u,c){var f=!1,d;isFunction(l)?(c=u,u=l,l=null):isObject$3(l)&&(u=l.cb,c=l.during,f=l.isFrom,d=l.removeOpt,l=l.dataIndex);var v=a==="leave";v||n.stopAnimation("leave");var g=getAnimationConfig(a,s,l,v?d||{}:null,s&&s.getAnimationDelayParams?s.getAnimationDelayParams(n,l):null);if(g&&g.duration>0){var y=g.duration,_=g.delay,S=g.easing,x={duration:y,delay:_||0,easing:S,done:u,force:!!u||!!c,setToFinal:!v,scope:a,during:c};f?n.animateFrom(r,x):n.animateTo(r,x)}else n.stopAnimation(),!f&&n.attr(r),c&&c(1),u&&u()}function updateProps$1(a,n,r,s,l,u){animateOrSetProps("update",a,n,r,s,l,u)}function initProps(a,n,r,s,l,u){animateOrSetProps("enter",a,n,r,s,l,u)}function isElementRemoved(a){if(!a.__zr)return!0;for(var n=0;n<a.animators.length;n++){var r=a.animators[n];if(r.scope==="leave")return!0}return!1}function removeElement(a,n,r,s,l,u){isElementRemoved(a)||animateOrSetProps("leave",a,n,r,s,l,u)}function fadeOutDisplayable(a,n,r,s){a.removeTextContent(),a.removeTextGuideLine(),removeElement(a,{style:{opacity:0}},n,r,s)}function removeElementWithFadeOut(a,n,r){function s(){a.parent&&a.parent.remove(a)}a.isGroup?a.traverse(function(l){l.isGroup||fadeOutDisplayable(l,n,r,s)}):fadeOutDisplayable(a,n,r,s)}function saveOldStyle(a){transitionStore(a).oldStyle=a.style}function getOldStyle(a){return transitionStore(a).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(a){return Path$1.extend(a)}var extendPathFromString=extendFromString;function extendPath(a,n){return extendPathFromString(a,n)}function registerShape(a,n){_customShapeMap[a]=n}function getShapeClass(a){if(_customShapeMap.hasOwnProperty(a))return _customShapeMap[a]}function makePath(a,n,r,s){var l=createFromString(a,n);return r&&(s==="center"&&(r=centerGraphic(r,l.getBoundingRect())),resizePath(l,r)),l}function makeImage(a,n,r){var s=new ZRImage$1({style:{image:a,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(l){if(r==="center"){var u={width:l.width,height:l.height};s.setStyle(centerGraphic(n,u))}}});return s}function centerGraphic(a,n){var r=n.width/n.height,s=a.height*r,l;s<=a.width?l=a.height:(s=a.width,l=s/r);var u=a.x+a.width/2,c=a.y+a.height/2;return{x:u-s/2,y:c-l/2,width:s,height:l}}var mergePath=mergePath$1;function resizePath(a,n){if(!!a.applyTransform){var r=a.getBoundingRect(),s=r.calculateTransform(n);a.applyTransform(s)}}function subPixelOptimizeLine(a,n){return subPixelOptimizeLine$1(a,a,{lineWidth:n}),a}function subPixelOptimizeRect(a){return subPixelOptimizeRect$1(a.shape,a.shape,a.style),a}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(a,n){for(var r=identity([]);a&&a!==n;)mul(r,a.getLocalTransform(),r),a=a.parent;return r}function applyTransform(a,n,r){return n&&!isArrayLike(n)&&(n=Transformable$1.getLocalTransform(n)),r&&(n=invert([],n)),applyTransform$1([],a,n)}function transformDirection(a,n,r){var s=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),l=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),u=[a==="left"?-s:a==="right"?s:0,a==="top"?-l:a==="bottom"?l:0];return u=applyTransform(u,n,r),Math.abs(u[0])>Math.abs(u[1])?u[0]>0?"right":"left":u[1]>0?"bottom":"top"}function isNotGroup(a){return!a.isGroup}function isPath$1(a){return a.shape!=null}function groupTransition(a,n,r){if(!a||!n)return;function s(c){var f={};return c.traverse(function(d){isNotGroup(d)&&d.anid&&(f[d.anid]=d)}),f}function l(c){var f={x:c.x,y:c.y,rotation:c.rotation};return isPath$1(c)&&(f.shape=extend({},c.shape)),f}var u=s(a);n.traverse(function(c){if(isNotGroup(c)&&c.anid){var f=u[c.anid];if(f){var d=l(c);c.attr(l(f)),updateProps$1(c,d,r,getECData(c).dataIndex)}}})}function clipPointsByRect(a,n){return map$1(a,function(r){var s=r[0];s=mathMax$6(s,n.x),s=mathMin$6(s,n.x+n.width);var l=r[1];return l=mathMax$6(l,n.y),l=mathMin$6(l,n.y+n.height),[s,l]})}function clipRectByRect(a,n){var r=mathMax$6(a.x,n.x),s=mathMin$6(a.x+a.width,n.x+n.width),l=mathMax$6(a.y,n.y),u=mathMin$6(a.y+a.height,n.y+n.height);if(s>=r&&u>=l)return{x:r,y:l,width:s-r,height:u-l}}function createIcon(a,n,r){var s=extend({rectHover:!0},n),l=s.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},a)return a.indexOf("image://")===0?(l.image=a.slice(8),defaults(l,r),new ZRImage$1(s)):makePath(a.replace("path://",""),s,r,"center")}function linePolygonIntersect(a,n,r,s,l){for(var u=0,c=l[l.length-1];u<l.length;u++){var f=l[u];if(lineLineIntersect$1(a,n,r,s,f[0],f[1],c[0],c[1]))return!0;c=f}}function lineLineIntersect$1(a,n,r,s,l,u,c,f){var d=r-a,v=s-n,g=c-l,y=f-u,_=crossProduct2d$1(g,y,d,v);if(nearZero(_))return!1;var S=a-l,x=n-u,A=crossProduct2d$1(S,x,d,v)/_;if(A<0||A>1)return!1;var b=crossProduct2d$1(S,x,g,y)/_;return!(b<0||b>1)}function crossProduct2d$1(a,n,r,s){return a*s-r*n}function nearZero(a){return a<=1e-6&&a>=-1e-6}function setTooltipConfig(a){var n=a.itemTooltipOption,r=a.componentModel,s=a.itemName,l=isString(n)?{formatter:n}:n,u=r.mainType,c=r.componentIndex,f={componentType:u,name:s,$vars:["name"]};f[u+"Index"]=c;var d=a.formatterParamsExtra;d&&each$f(keys(d),function(g){hasOwn(f,g)||(f[g]=d[g],f.$vars.push(g))});var v=getECData(a.el);v.componentMainType=u,v.componentIndex=c,v.tooltipConfig={name:s,option:defaults({content:s,formatterParams:f},l)}}function traverseElement(a,n){var r;a.isGroup&&(r=n(a)),r||a.traverse(n)}function traverseElements(a,n){if(a)if(isArray$2(a))for(var r=0;r<a.length;r++)traverseElement(a[r],n);else traverseElement(a,n)}registerShape("circle",Circle$1);registerShape("ellipse",Ellipse$1);registerShape("sector",Sector$1);registerShape("ring",Ring$1);registerShape("polygon",Polygon$1);registerShape("polyline",Polyline$3);registerShape("rect",Rect$3);registerShape("line",Line$3);registerShape("bezierCurve",BezierCurve$1);registerShape("arc",Arc$1);const graphic=Object.freeze(Object.defineProperty({__proto__:null,updateProps:updateProps$1,initProps,removeElement,removeElementWithFadeOut,isElementRemoved,extendShape,extendPath,registerShape,getShapeClass,makePath,makeImage,mergePath,resizePath,subPixelOptimizeLine,subPixelOptimizeRect,subPixelOptimize,getTransform:getTransform$1,applyTransform,transformDirection,groupTransition,clipPointsByRect,clipRectByRect,createIcon,linePolygonIntersect,lineLineIntersect:lineLineIntersect$1,setTooltipConfig,traverseElements,Group:Group$4,Image:ZRImage$1,Text:ZRText$1,Circle:Circle$1,Ellipse:Ellipse$1,Sector:Sector$1,Ring:Ring$1,Polygon:Polygon$1,Polyline:Polyline$3,Rect:Rect$3,Line:Line$3,BezierCurve:BezierCurve$1,Arc:Arc$1,IncrementalDisplayable:IncrementalDisplayable$1,CompoundPath:CompoundPath$1,LinearGradient:LinearGradient$1,RadialGradient:RadialGradient$1,BoundingRect:BoundingRect$1,OrientedBoundingRect:OrientedBoundingRect$1,Point:Point$1,Path:Path$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(a,n){for(var r=0;r<SPECIAL_STATES.length;r++){var s=SPECIAL_STATES[r],l=n[s],u=a.ensureState(s);u.style=u.style||{},u.style.text=l}var c=a.currentStates.slice();a.clearStates(!0),a.setStyle({text:n.normal}),a.useStates(c,!0)}function getLabelText(a,n,r){var s=a.labelFetcher,l=a.labelDataIndex,u=a.labelDimIndex,c=n.normal,f;s&&(f=s.getFormattedLabel(l,"normal",null,u,c&&c.get("formatter"),r!=null?{interpolatedValue:r}:null)),f==null&&(f=isFunction(a.defaultText)?a.defaultText(l,a,r):a.defaultText);for(var d={normal:f},v=0;v<SPECIAL_STATES.length;v++){var g=SPECIAL_STATES[v],y=n[g];d[g]=retrieve2(s?s.getFormattedLabel(l,g,null,u,y&&y.get("formatter")):null,f)}return d}function setLabelStyle(a,n,r,s){r=r||EMPTY_OBJ;for(var l=a instanceof ZRText$1,u=!1,c=0;c<DISPLAY_STATES.length;c++){var f=n[DISPLAY_STATES[c]];if(f&&f.getShallow("show")){u=!0;break}}var d=l?a:a.getTextContent();if(u){l||(d||(d=new ZRText$1,a.setTextContent(d)),a.stateProxy&&(d.stateProxy=a.stateProxy));var v=getLabelText(r,n),g=n.normal,y=!!g.getShallow("show"),_=createTextStyle(g,s&&s.normal,r,!1,!l);_.text=v.normal,l||a.setTextConfig(createTextConfig(g,r,!1));for(var c=0;c<SPECIAL_STATES.length;c++){var S=SPECIAL_STATES[c],f=n[S];if(f){var x=d.ensureState(S),A=!!retrieve2(f.getShallow("show"),y);if(A!==y&&(x.ignore=!A),x.style=createTextStyle(f,s&&s[S],r,!0,!l),x.style.text=v[S],!l){var b=a.ensureState(S);b.textConfig=createTextConfig(f,r,!0)}}}d.silent=!!g.getShallow("silent"),d.style.x!=null&&(_.x=d.style.x),d.style.y!=null&&(_.y=d.style.y),d.ignore=!y,d.useStyle(_),d.dirty(),r.enableTextSetter&&(labelInner(d).setLabelText=function(w){var E=getLabelText(r,n,w);setLabelText(d,E)})}else d&&(d.ignore=!0);a.dirty()}function getLabelStatesModels(a,n){n=n||"label";for(var r={normal:a.getModel(n)},s=0;s<SPECIAL_STATES.length;s++){var l=SPECIAL_STATES[s];r[l]=a.getModel([l,n])}return r}function createTextStyle(a,n,r,s,l){var u={};return setTextStyleCommon(u,a,r,s,l),n&&extend(u,n),u}function createTextConfig(a,n,r){n=n||{};var s={},l,u=a.getShallow("rotate"),c=retrieve2(a.getShallow("distance"),r?null:5),f=a.getShallow("offset");return l=a.getShallow("position")||(r?null:"inside"),l==="outside"&&(l=n.defaultOutsidePosition||"top"),l!=null&&(s.position=l),f!=null&&(s.offset=f),u!=null&&(u*=Math.PI/180,s.rotation=u),c!=null&&(s.distance=c),s.outsideFill=a.get("color")==="inherit"?n.inheritColor||null:"auto",s}function setTextStyleCommon(a,n,r,s,l){r=r||EMPTY_OBJ;var u=n.ecModel,c=u&&u.option.textStyle,f=getRichItemNames(n),d;if(f){d={};for(var v in f)if(f.hasOwnProperty(v)){var g=n.getModel(["rich",v]);setTokenTextStyle(d[v]={},g,c,r,s,l,!1,!0)}}d&&(a.rich=d);var y=n.get("overflow");y&&(a.overflow=y);var _=n.get("minMargin");_!=null&&(a.margin=_),setTokenTextStyle(a,n,c,r,s,l,!0,!1)}function getRichItemNames(a){for(var n;a&&a!==a.ecModel;){var r=(a.option||EMPTY_OBJ).rich;if(r){n=n||{};for(var s=keys(r),l=0;l<s.length;l++){var u=s[l];n[u]=1}}a=a.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(a,n,r,s,l,u,c,f){r=!l&&r||EMPTY_OBJ;var d=s&&s.inheritColor,v=n.getShallow("color"),g=n.getShallow("textBorderColor"),y=retrieve2(n.getShallow("opacity"),r.opacity);(v==="inherit"||v==="auto")&&(d?v=d:v=null),(g==="inherit"||g==="auto")&&(d?g=d:g=null),u||(v=v||r.color,g=g||r.textBorderColor),v!=null&&(a.fill=v),g!=null&&(a.stroke=g);var _=retrieve2(n.getShallow("textBorderWidth"),r.textBorderWidth);_!=null&&(a.lineWidth=_);var S=retrieve2(n.getShallow("textBorderType"),r.textBorderType);S!=null&&(a.lineDash=S);var x=retrieve2(n.getShallow("textBorderDashOffset"),r.textBorderDashOffset);x!=null&&(a.lineDashOffset=x),!l&&y==null&&!f&&(y=s&&s.defaultOpacity),y!=null&&(a.opacity=y),!l&&!u&&a.fill==null&&s.inheritColor&&(a.fill=s.inheritColor);for(var A=0;A<TEXT_PROPS_WITH_GLOBAL.length;A++){var b=TEXT_PROPS_WITH_GLOBAL[A],w=retrieve2(n.getShallow(b),r[b]);w!=null&&(a[b]=w)}for(var A=0;A<TEXT_PROPS_SELF.length;A++){var b=TEXT_PROPS_SELF[A],w=n.getShallow(b);w!=null&&(a[b]=w)}if(a.verticalAlign==null){var E=n.getShallow("baseline");E!=null&&(a.verticalAlign=E)}if(!c||!s.disableBox){for(var A=0;A<TEXT_PROPS_BOX.length;A++){var b=TEXT_PROPS_BOX[A],w=n.getShallow(b);w!=null&&(a[b]=w)}var M=n.getShallow("borderType");M!=null&&(a.borderDash=M),(a.backgroundColor==="auto"||a.backgroundColor==="inherit")&&d&&(a.backgroundColor=d),(a.borderColor==="auto"||a.borderColor==="inherit")&&d&&(a.borderColor=d)}}function getFont(a,n){var r=n&&n.getModel("textStyle");return trim$1([a.fontStyle||r&&r.getShallow("fontStyle")||"",a.fontWeight||r&&r.getShallow("fontWeight")||"",(a.fontSize||r&&r.getShallow("fontSize")||12)+"px",a.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(a,n,r,s){if(!!a){var l=labelInner(a);l.prevValue=l.value,l.value=r;var u=n.normal;l.valueAnimation=u.get("valueAnimation"),l.valueAnimation&&(l.precision=u.get("precision"),l.defaultInterpolatedText=s,l.statesModels=n)}}function animateLabelValue(a,n,r,s,l){var u=labelInner(a);if(!u.valueAnimation||u.prevValue===u.value)return;var c=u.defaultInterpolatedText,f=retrieve2(u.interpolatedValue,u.prevValue),d=u.value;function v(g){var y=interpolateRawValues(r,u.precision,f,d,g);u.interpolatedValue=g===1?null:y;var _=getLabelText({labelDataIndex:n,labelFetcher:l,defaultText:c?c(y):y+""},u.statesModels,y);setLabelText(a,_)}a.percent=0,(u.prevValue==null?initProps:updateProps$1)(a,{percent:1},s,n,null,v)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function a(){}return a.prototype.getTextColor=function(n){var r=this.ecModel;return this.getShallow("color")||(!n&&r?r.get(PATH_COLOR):null)},a.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},a.prototype.getTextRect=function(n){for(var r={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},s=0;s<textStyleParams.length;s++)r[textStyleParams[s]]=this.getShallow(textStyleParams[s]);return tmpText.useStyle(r),tmpText.update(),tmpText.getBoundingRect()},a}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function a(){}return a.prototype.getLineStyle=function(n){return getLineStyle(this,n)},a}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function a(){}return a.prototype.getItemStyle=function(n,r){return getItemStyle(this,n,r)},a}(),Model=function(){function a(n,r,s){this.parentModel=r,this.ecModel=s,this.option=n}return a.prototype.init=function(n,r,s){},a.prototype.mergeOption=function(n,r){merge(this.option,n,!0)},a.prototype.get=function(n,r){return n==null?this.option:this._doGet(this.parsePath(n),!r&&this.parentModel)},a.prototype.getShallow=function(n,r){var s=this.option,l=s==null?s:s[n];if(l==null&&!r){var u=this.parentModel;u&&(l=u.getShallow(n))}return l},a.prototype.getModel=function(n,r){var s=n!=null,l=s?this.parsePath(n):null,u=s?this._doGet(l):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(l)),new a(u,r,this.ecModel)},a.prototype.isEmpty=function(){return this.option==null},a.prototype.restoreData=function(){},a.prototype.clone=function(){var n=this.constructor;return new n(clone$4(this.option))},a.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},a.prototype.resolveParentPath=function(n){return n},a.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},a.prototype._doGet=function(n,r){var s=this.option;if(!n)return s;for(var l=0;l<n.length&&!(!!n[l]&&(s=s&&typeof s=="object"?s[n[l]]:null,s==null));l++);return s==null&&r&&(s=r._doGet(this.resolveParentPath(n),r.parentModel)),s},a}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(a){return[a||"",base++].join("_")}function enableSubTypeDefaulter(a){var n={};a.registerSubTypeDefaulter=function(r,s){var l=parseClassType(r);n[l.main]=s},a.determineSubType=function(r,s){var l=s.type;if(!l){var u=parseClassType(r).main;a.hasSubTypes(r)&&n[u]&&(l=n[u](s))}return l}}function enableTopologicalTravel(a,n){a.topologicalTravel=function(u,c,f,d){if(!u.length)return;var v=r(c),g=v.graph,y=v.noEntryList,_={};for(each$f(u,function(E){_[E]=!0});y.length;){var S=y.pop(),x=g[S],A=!!_[S];A&&(f.call(d,S,x.originalDeps.slice()),delete _[S]),each$f(x.successor,A?w:b)}each$f(_,function(){var E="";throw new Error(E)});function b(E){g[E].entryCount--,g[E].entryCount===0&&y.push(E)}function w(E){_[E]=!0,b(E)}};function r(u){var c={},f=[];return each$f(u,function(d){var v=s(c,d),g=v.originalDeps=n(d),y=l(g,u);v.entryCount=y.length,v.entryCount===0&&f.push(d),each$f(y,function(_){indexOf(v.predecessor,_)<0&&v.predecessor.push(_);var S=s(c,_);indexOf(S.successor,_)<0&&S.successor.push(d)})}),{graph:c,noEntryList:f}}function s(u,c){return u[c]||(u[c]={predecessor:[],successor:[]}),u[c]}function l(u,c){var f=[];return each$f(u,function(d){indexOf(c,d)>=0&&f.push(d)}),f}}function inheritDefaultOption(a,n){return merge(merge({},a,!0),n,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],dayOfWeekAbbr:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53CD\u9009"}},toolbox:{brush:{title:{rect:"\u77E9\u5F62\u9009\u62E9",polygon:"\u5708\u9009",lineX:"\u6A2A\u5411\u9009\u62E9",lineY:"\u7EB5\u5411\u9009\u62E9",keep:"\u4FDD\u6301\u9009\u62E9",clear:"\u6E05\u9664\u9009\u62E9"}},dataView:{title:"\u6570\u636E\u89C6\u56FE",lang:["\u6570\u636E\u89C6\u56FE","\u5173\u95ED","\u5237\u65B0"]},dataZoom:{title:{zoom:"\u533A\u57DF\u7F29\u653E",back:"\u533A\u57DF\u7F29\u653E\u8FD8\u539F"}},magicType:{title:{line:"\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",bar:"\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",stack:"\u5207\u6362\u4E3A\u5806\u53E0",tiled:"\u5207\u6362\u4E3A\u5E73\u94FA"}},restore:{title:"\u8FD8\u539F"},saveAsImage:{title:"\u4FDD\u5B58\u4E3A\u56FE\u7247",lang:["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]}},series:{typeNames:{pie:"\u997C\u56FE",bar:"\u67F1\u72B6\u56FE",line:"\u6298\u7EBF\u56FE",scatter:"\u6563\u70B9\u56FE",effectScatter:"\u6D9F\u6F2A\u6563\u70B9\u56FE",radar:"\u96F7\u8FBE\u56FE",tree:"\u6811\u56FE",treemap:"\u77E9\u5F62\u6811\u56FE",boxplot:"\u7BB1\u578B\u56FE",candlestick:"K\u7EBF\u56FE",k:"K\u7EBF\u56FE",heatmap:"\u70ED\u529B\u56FE",map:"\u5730\u56FE",parallel:"\u5E73\u884C\u5750\u6807\u56FE",lines:"\u7EBF\u56FE",graph:"\u5173\u7CFB\u56FE",sankey:"\u6851\u57FA\u56FE",funnel:"\u6F0F\u6597\u56FE",gauge:"\u4EEA\u8868\u76D8\u56FE",pictorialBar:"\u8C61\u5F62\u67F1\u56FE",themeRiver:"\u4E3B\u9898\u6CB3\u6D41\u56FE",sunburst:"\u65ED\u65E5\u56FE"}},aria:{general:{withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",withoutTitle:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"},series:{single:{prefix:"",withName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",withoutName:"\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"},multiple:{prefix:"\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",withName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",withoutName:"\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",separator:{middle:"\uFF1B",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636E\u662F\u2014\u2014",partialData:"\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",withName:"{name}\u7684\u6570\u636E\u662F{value}",withoutName:"{value}",separator:{middle:"\uFF0C",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var a=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return a.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(a,n){a=a.toUpperCase(),localeModels[a]=new Model$1(n),localeStorage[a]=n}function createLocaleObject(a){if(isString(a)){var n=localeStorage[a.toUpperCase()]||{};return a===LOCALE_ZH||a===LOCALE_EN?clone$4(n):merge(clone$4(n),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(a),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(a){return localeModels[a]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(a,n){return a+="","0000".substr(0,n-a.length)+a}function getPrimaryTimeUnit(a){switch(a){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return a}}function isPrimaryTimeUnit(a){return a===getPrimaryTimeUnit(a)}function getDefaultFormatPrecisionOfInterval(a){switch(a){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(a,n,r,s){var l=parseDate(a),u=l[fullYearGetterName(r)](),c=l[monthGetterName(r)]()+1,f=Math.floor((c-1)/3)+1,d=l[dateGetterName(r)](),v=l["get"+(r?"UTC":"")+"Day"](),g=l[hoursGetterName(r)](),y=(g-1)%12+1,_=l[minutesGetterName(r)](),S=l[secondsGetterName(r)](),x=l[millisecondsGetterName(r)](),A=s instanceof Model$1?s:getLocaleModel(s||SYSTEM_LANG)||getDefaultLocaleModel(),b=A.getModel("time"),w=b.get("month"),E=b.get("monthAbbr"),M=b.get("dayOfWeek"),P=b.get("dayOfWeekAbbr");return(n||"").replace(/{yyyy}/g,u+"").replace(/{yy}/g,u%100+"").replace(/{Q}/g,f+"").replace(/{MMMM}/g,w[c-1]).replace(/{MMM}/g,E[c-1]).replace(/{MM}/g,pad(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,pad(d,2)).replace(/{d}/g,d+"").replace(/{eeee}/g,M[v]).replace(/{ee}/g,P[v]).replace(/{e}/g,v+"").replace(/{HH}/g,pad(g,2)).replace(/{H}/g,g+"").replace(/{hh}/g,pad(y+"",2)).replace(/{h}/g,y+"").replace(/{mm}/g,pad(_,2)).replace(/{m}/g,_+"").replace(/{ss}/g,pad(S,2)).replace(/{s}/g,S+"").replace(/{SSS}/g,pad(x,3)).replace(/{S}/g,x+"")}function leveledFormat(a,n,r,s,l){var u=null;if(isString(r))u=r;else if(isFunction(r))u=r(a.value,n,{level:a.level});else{var c=extend({},defaultLeveledFormatter);if(a.level>0)for(var f=0;f<primaryTimeUnits.length;++f)c[primaryTimeUnits[f]]="{primary|"+c[primaryTimeUnits[f]]+"}";var d=r?r.inherit===!1?r:defaults(r,c):c,v=getUnitFromValue(a.value,l);if(d[v])u=d[v];else if(d.inherit){for(var g=timeUnits.indexOf(v),f=g-1;f>=0;--f)if(d[v]){u=d[v];break}u=u||c.none}if(isArray$2(u)){var y=a.level==null?0:a.level>=0?a.level:u.length+a.level;y=Math.min(y,u.length-1),u=u[y]}}return format(new Date(a.value),u,l,s)}function getUnitFromValue(a,n){var r=parseDate(a),s=r[monthGetterName(n)]()+1,l=r[dateGetterName(n)](),u=r[hoursGetterName(n)](),c=r[minutesGetterName(n)](),f=r[secondsGetterName(n)](),d=r[millisecondsGetterName(n)](),v=d===0,g=v&&f===0,y=g&&c===0,_=y&&u===0,S=_&&l===1,x=S&&s===1;return x?"year":S?"month":_?"day":y?"hour":g?"minute":v?"second":"millisecond"}function getUnitValue(a,n,r){var s=isNumber(a)?parseDate(a):a;switch(n=n||getUnitFromValue(a,r),n){case"year":return s[fullYearGetterName(r)]();case"half-year":return s[monthGetterName(r)]()>=6?1:0;case"quarter":return Math.floor((s[monthGetterName(r)]()+1)/4);case"month":return s[monthGetterName(r)]();case"day":return s[dateGetterName(r)]();case"half-day":return s[hoursGetterName(r)]()/24;case"hour":return s[hoursGetterName(r)]();case"minute":return s[minutesGetterName(r)]();case"second":return s[secondsGetterName(r)]();case"millisecond":return s[millisecondsGetterName(r)]()}}function fullYearGetterName(a){return a?"getUTCFullYear":"getFullYear"}function monthGetterName(a){return a?"getUTCMonth":"getMonth"}function dateGetterName(a){return a?"getUTCDate":"getDate"}function hoursGetterName(a){return a?"getUTCHours":"getHours"}function minutesGetterName(a){return a?"getUTCMinutes":"getMinutes"}function secondsGetterName(a){return a?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(a){return a?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(a){return a?"setUTCFullYear":"setFullYear"}function monthSetterName(a){return a?"setUTCMonth":"setMonth"}function dateSetterName(a){return a?"setUTCDate":"setDate"}function hoursSetterName(a){return a?"setUTCHours":"setHours"}function minutesSetterName(a){return a?"setUTCMinutes":"setMinutes"}function secondsSetterName(a){return a?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(a){return a?"setUTCMilliseconds":"setMilliseconds"}function addCommas(a){if(!isNumeric(a))return isString(a)?a:"-";var n=(a+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase(a,n){return a=(a||"").toLowerCase().replace(/-(.)/g,function(r,s){return s.toUpperCase()}),n&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(a,n,r){var s="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function l(g){return g&&trim$1(g)?g:"-"}function u(g){return!!(g!=null&&!isNaN(g)&&isFinite(g))}var c=n==="time",f=a instanceof Date;if(c||f){var d=c?parseDate(a):a;if(isNaN(+d)){if(f)return"-"}else return format(d,s,r)}if(n==="ordinal")return isStringSafe(a)?l(a):isNumber(a)&&u(a)?a+"":"-";var v=numericToNumber(a);return u(v)?addCommas(v):isStringSafe(a)?l(a):typeof a=="boolean"?a+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(a,n){return"{"+a+(n==null?"":n)+"}"};function formatTpl(a,n,r){isArray$2(n)||(n=[n]);var s=n.length;if(!s)return"";for(var l=n[0].$vars||[],u=0;u<l.length;u++){var c=TPL_VAR_ALIAS[u];a=a.replace(wrapVar(c),wrapVar(c,0))}for(var f=0;f<s;f++)for(var d=0;d<l.length;d++){var v=n[f][l[d]];a=a.replace(wrapVar(TPL_VAR_ALIAS[d],f),r?encodeHTML(v):v)}return a}function formatTplSimple(a,n,r){return each$f(n,function(s,l){a=a.replace("{"+l+"}",r?encodeHTML(s):s)}),a}function getTooltipMarker(a,n){var r=isString(a)?{color:a,extraCssText:n}:a||{},s=r.color,l=r.type;n=r.extraCssText;var u=r.renderMode||"html";if(!s)return"";if(u==="html")return l==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(s)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(s)+";"+(n||"")+'"></span>';var c=r.markerId||"markerX";return{renderMode:u,content:"{"+c+"|}  ",style:l==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:s}:{width:10,height:10,borderRadius:5,backgroundColor:s}}}function convertToColorString(a,n){return n=n||"transparent",isString(a)?a:isObject$3(a)&&a.colorStops&&(a.colorStops[0]||{}).color||n}function windowOpen(a,n){if(n==="_blank"||n==="blank"){var r=window.open();r.opener=null,r.location.href=a}else window.open(a,n)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(a,n,r,s,l){var u=0,c=0;s==null&&(s=1/0),l==null&&(l=1/0);var f=0;n.eachChild(function(d,v){var g=d.getBoundingRect(),y=n.childAt(v+1),_=y&&y.getBoundingRect(),S,x;if(a==="horizontal"){var A=g.width+(_?-_.x+g.x:0);S=u+A,S>s||d.newline?(u=0,S=A,c+=f+r,f=g.height):f=Math.max(f,g.height)}else{var b=g.height+(_?-_.y+g.y:0);x=c+b,x>l||d.newline?(u+=f+r,c=0,x=b,f=g.width):f=Math.max(f,g.width)}d.newline||(d.x=u,d.y=c,d.markRedraw(),a==="horizontal"?u=S+r:c=x+r)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(a,n,r){var s=n.width,l=n.height,u=parsePercent(a.left,s),c=parsePercent(a.top,l),f=parsePercent(a.right,s),d=parsePercent(a.bottom,l);return(isNaN(u)||isNaN(parseFloat(a.left)))&&(u=0),(isNaN(f)||isNaN(parseFloat(a.right)))&&(f=s),(isNaN(c)||isNaN(parseFloat(a.top)))&&(c=0),(isNaN(d)||isNaN(parseFloat(a.bottom)))&&(d=l),r=normalizeCssArray(r||0),{width:Math.max(f-u-r[1]-r[3],0),height:Math.max(d-c-r[0]-r[2],0)}}function getLayoutRect(a,n,r){r=normalizeCssArray(r||0);var s=n.width,l=n.height,u=parsePercent(a.left,s),c=parsePercent(a.top,l),f=parsePercent(a.right,s),d=parsePercent(a.bottom,l),v=parsePercent(a.width,s),g=parsePercent(a.height,l),y=r[2]+r[0],_=r[1]+r[3],S=a.aspect;switch(isNaN(v)&&(v=s-f-_-u),isNaN(g)&&(g=l-d-y-c),S!=null&&(isNaN(v)&&isNaN(g)&&(S>s/l?v=s*.8:g=l*.8),isNaN(v)&&(v=S*g),isNaN(g)&&(g=v/S)),isNaN(u)&&(u=s-f-v-_),isNaN(c)&&(c=l-d-g-y),a.left||a.right){case"center":u=s/2-v/2-r[3];break;case"right":u=s-v-_;break}switch(a.top||a.bottom){case"middle":case"center":c=l/2-g/2-r[0];break;case"bottom":c=l-g-y;break}u=u||0,c=c||0,isNaN(v)&&(v=s-_-u-(f||0)),isNaN(g)&&(g=l-y-c-(d||0));var x=new BoundingRect$1(u+r[3],c+r[0],v,g);return x.margin=r,x}function positionElement(a,n,r,s,l,u){var c=!l||!l.hv||l.hv[0],f=!l||!l.hv||l.hv[1],d=l&&l.boundingMode||"all";if(u=u||a,u.x=a.x,u.y=a.y,!c&&!f)return!1;var v;if(d==="raw")v=a.type==="group"?new BoundingRect$1(0,0,+n.width||0,+n.height||0):a.getBoundingRect();else if(v=a.getBoundingRect(),a.needLocalTransform()){var g=a.getLocalTransform();v=v.clone(),v.applyTransform(g)}var y=getLayoutRect(defaults({width:v.width,height:v.height},n),r,s),_=c?y.x-v.x:0,S=f?y.y-v.y:0;return d==="raw"?(u.x=_,u.y=S):(u.x+=_,u.y+=S),u===a&&a.markRedraw(),!0}function sizeCalculable(a,n){return a[HV_NAMES[n][0]]!=null||a[HV_NAMES[n][1]]!=null&&a[HV_NAMES[n][2]]!=null}function fetchLayoutMode(a){var n=a.layoutMode||a.constructor.layoutMode;return isObject$3(n)?n:n?{type:n}:null}function mergeLayoutParam(a,n,r){var s=r&&r.ignoreSize;!isArray$2(s)&&(s=[s,s]);var l=c(HV_NAMES[0],0),u=c(HV_NAMES[1],1);v(HV_NAMES[0],a,l),v(HV_NAMES[1],a,u);function c(g,y){var _={},S=0,x={},A=0,b=2;if(each$e(g,function(M){x[M]=a[M]}),each$e(g,function(M){f(n,M)&&(_[M]=x[M]=n[M]),d(_,M)&&S++,d(x,M)&&A++}),s[y])return d(n,g[1])?x[g[2]]=null:d(n,g[2])&&(x[g[1]]=null),x;if(A===b||!S)return x;if(S>=b)return _;for(var w=0;w<g.length;w++){var E=g[w];if(!f(_,E)&&f(a,E)){_[E]=a[E];break}}return _}function f(g,y){return g.hasOwnProperty(y)}function d(g,y){return g[y]!=null&&g[y]!=="auto"}function v(g,y,_){each$e(g,function(S){y[S]=_[S]})}}function getLayoutParams(a){return copyLayoutParams({},a)}function copyLayoutParams(a,n){return n&&a&&each$e(LOCATION_PARAMS,function(r){n.hasOwnProperty(r)&&(a[r]=n[r])}),a}var inner$l=makeInner(),ComponentModel=function(a){__extends(n,a);function n(r,s,l){var u=a.call(this,r,s,l)||this;return u.uid=getUID("ec_cpt_model"),u}return n.prototype.init=function(r,s,l){this.mergeDefaultAndTheme(r,l)},n.prototype.mergeDefaultAndTheme=function(r,s){var l=fetchLayoutMode(this),u=l?getLayoutParams(r):{},c=s.getTheme();merge(r,c.get(this.mainType)),merge(r,this.getDefaultOption()),l&&mergeLayoutParam(r,u,l)},n.prototype.mergeOption=function(r,s){merge(this.option,r,!0);var l=fetchLayoutMode(this);l&&mergeLayoutParam(this.option,r,l)},n.prototype.optionUpdated=function(r,s){},n.prototype.getDefaultOption=function(){var r=this.constructor;if(!isExtendedClass(r))return r.defaultOption;var s=inner$l(this);if(!s.defaultOption){for(var l=[],u=r;u;){var c=u.prototype.defaultOption;c&&l.push(c),u=u.superClass}for(var f={},d=l.length-1;d>=0;d--)f=merge(f,l[d],!0);s.defaultOption=f}return s.defaultOption},n.prototype.getReferringComponents=function(r,s){var l=r+"Index",u=r+"Id";return queryReferringComponents(this.ecModel,r,{index:this.get(l,!0),id:this.get(u,!0)},s)},n.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(r){this.option.zlevel=r},n.protoInitialize=function(){var r=n.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),n}(Model$1);mountExtend(ComponentModel,Model$1);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(a){var n=[];return each$f(ComponentModel.getClassesByMainType(a),function(r){n=n.concat(r.dependencies||r.prototype.dependencies||[])}),n=map$1(n,function(r){return parseClassType(r).main}),a!=="dataset"&&indexOf(n,"dataset")<=0&&n.unshift("dataset"),n}const ComponentModel$1=ComponentModel;var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(a){innerGlobalModel(a).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(a,n,r){var s={},l=querySeriesUpstreamDatasetModel(n);if(!l||!a)return s;var u=[],c=[],f=n.ecModel,d=innerGlobalModel(f).datasetMap,v=l.uid+"_"+r.seriesLayoutBy,g,y;a=a.slice(),each$f(a,function(A,b){var w=isObject$3(A)?A:a[b]={name:A};w.type==="ordinal"&&g==null&&(g=b,y=x(w)),s[w.name]=[]});var _=d.get(v)||d.set(v,{categoryWayDim:y,valueWayDim:0});each$f(a,function(A,b){var w=A.name,E=x(A);if(g==null){var M=_.valueWayDim;S(s[w],M,E),S(c,M,E),_.valueWayDim+=E}else if(g===b)S(s[w],0,E),S(u,0,E);else{var M=_.categoryWayDim;S(s[w],M,E),S(c,M,E),_.categoryWayDim+=E}});function S(A,b,w){for(var E=0;E<w;E++)A.push(b+E)}function x(A){var b=A.dimsDef;return b?b.length:1}return u.length&&(s.itemName=u),c.length&&(s.seriesName=c),s}function makeSeriesEncodeForNameBased(a,n,r){var s={},l=querySeriesUpstreamDatasetModel(a);if(!l)return s;var u=n.sourceFormat,c=n.dimensionsDefine,f;(u===SOURCE_FORMAT_OBJECT_ROWS||u===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(c,function(g,y){(isObject$3(g)?g.name:g)==="name"&&(f=y)});var d=function(){for(var g={},y={},_=[],S=0,x=Math.min(5,r);S<x;S++){var A=doGuessOrdinal(n.data,u,n.seriesLayoutBy,c,n.startIndex,S);_.push(A);var b=A===BE_ORDINAL.Not;if(b&&g.v==null&&S!==f&&(g.v=S),(g.n==null||g.n===g.v||!b&&_[g.n]===BE_ORDINAL.Not)&&(g.n=S),w(g)&&_[g.n]!==BE_ORDINAL.Not)return g;b||(A===BE_ORDINAL.Might&&y.v==null&&S!==f&&(y.v=S),(y.n==null||y.n===y.v)&&(y.n=S))}function w(E){return E.v!=null&&E.n!=null}return w(g)?g:w(y)?y:null}();if(d){s.value=[d.v];var v=f!=null?f:d.n;s.itemName=[v],s.seriesName=[v]}return s}function querySeriesUpstreamDatasetModel(a){var n=a.get("data",!0);if(!n)return queryReferringComponents(a.ecModel,"dataset",{index:a.get("datasetIndex",!0),id:a.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(a){return!a.get("transform",!0)&&!a.get("fromTransformResult",!0)?[]:queryReferringComponents(a.ecModel,"dataset",{index:a.get("fromDatasetIndex",!0),id:a.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(a,n){return doGuessOrdinal(a.data,a.sourceFormat,a.seriesLayoutBy,a.dimensionsDefine,a.startIndex,n)}function doGuessOrdinal(a,n,r,s,l,u){var c,f=5;if(isTypedArray(a))return BE_ORDINAL.Not;var d,v;if(s){var g=s[u];isObject$3(g)?(d=g.name,v=g.type):isString(g)&&(d=g)}if(v!=null)return v==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS){var y=a;if(r===SERIES_LAYOUT_BY_ROW){for(var _=y[u],S=0;S<(_||[]).length&&S<f;S++)if((c=P(_[l+S]))!=null)return c}else for(var S=0;S<y.length&&S<f;S++){var x=y[l+S];if(x&&(c=P(x[u]))!=null)return c}}else if(n===SOURCE_FORMAT_OBJECT_ROWS){var A=a;if(!d)return BE_ORDINAL.Not;for(var S=0;S<A.length&&S<f;S++){var b=A[S];if(b&&(c=P(b[d]))!=null)return c}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS){var w=a;if(!d)return BE_ORDINAL.Not;var _=w[d];if(!_||isTypedArray(_))return BE_ORDINAL.Not;for(var S=0;S<_.length&&S<f;S++)if((c=P(_[S]))!=null)return c}else if(n===SOURCE_FORMAT_ORIGINAL)for(var E=a,S=0;S<E.length&&S<f;S++){var b=E[S],M=getDataItemValue(b);if(!isArray$2(M))return BE_ORDINAL.Not;if((c=P(M[u]))!=null)return c}function P(R){var I=isString(R);if(R!=null&&isFinite(R)&&R!=="")return I?BE_ORDINAL.Might:BE_ORDINAL.Not;if(I&&R!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(a,n){assert(internalOptionCreatorMap.get(a)==null&&n),internalOptionCreatorMap.set(a,n)}function concatInternalOptions(a,n,r){var s=internalOptionCreatorMap.get(n);if(!s)return r;var l=s(a);return l?r.concat(l):r}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function a(){}return a.prototype.getColorFromPalette=function(n,r,s){var l=normalizeToArray(this.get("color",!0)),u=this.get("colorLayer",!0);return getFromPalette(this,innerColor,l,u,n,r,s)},a.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},a}();function getDecalFromPalette(a,n,r,s){var l=normalizeToArray(a.get(["aria","decal","decals"]));return getFromPalette(a,innerDecal,l,null,n,r,s)}function getNearestPalette(a,n){for(var r=a.length,s=0;s<r;s++)if(a[s].length>n)return a[s];return a[r-1]}function getFromPalette(a,n,r,s,l,u,c){u=u||a;var f=n(u),d=f.paletteIdx||0,v=f.paletteNameMap=f.paletteNameMap||{};if(v.hasOwnProperty(l))return v[l];var g=c==null||!s?r:getNearestPalette(s,c);if(g=g||r,!(!g||!g.length)){var y=g[d];return l&&(v[l]=y),f.paletteIdx=(d+1)%g.length,y}}function clearPalette(a,n){n(a).paletteIdx=0,n(a).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.init=function(r,s,l,u,c,f){u=u||{},this.option=null,this._theme=new Model$1(u),this._locale=new Model$1(c),this._optionManager=f},n.prototype.setOption=function(r,s,l){var u=normalizeSetOptionInput(s);this._optionManager.setOption(r,l,u),this._resetOption(null,u)},n.prototype.resetOption=function(r,s){return this._resetOption(r,normalizeSetOptionInput(s))},n.prototype._resetOption=function(r,s){var l=!1,u=this._optionManager;if(!r||r==="recreate"){var c=u.mountOption(r==="recreate");!this.option||r==="recreate"?initBase(this,c):(this.restoreData(),this._mergeOption(c,s)),l=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var f=u.getTimelineOption(this);f&&(l=!0,this._mergeOption(f,s))}if(!r||r==="recreate"||r==="media"){var d=u.getMediaOption(this);d.length&&each$f(d,function(v){l=!0,this._mergeOption(v,s)},this)}return l},n.prototype.mergeOption=function(r){this._mergeOption(r,null)},n.prototype._mergeOption=function(r,s){var l=this.option,u=this._componentsMap,c=this._componentsCount,f=[],d=createHashMap(),v=s&&s.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(r,function(y,_){y!=null&&(ComponentModel$1.hasClass(_)?_&&(f.push(_),d.set(_,!0)):l[_]=l[_]==null?clone$4(y):merge(l[_],y,!0))}),v&&v.each(function(y,_){ComponentModel$1.hasClass(_)&&!d.get(_)&&(f.push(_),d.set(_,!0))}),ComponentModel$1.topologicalTravel(f,ComponentModel$1.getAllClassMainTypes(),g,this);function g(y){var _=concatInternalOptions(this,y,normalizeToArray(r[y])),S=u.get(y),x=S?v&&v.get(y)?"replaceMerge":"normalMerge":"replaceAll",A=mappingToExists(S,_,x);setComponentTypeToKeyInfo(A,y,ComponentModel$1),l[y]=null,u.set(y,null),c.set(y,0);var b=[],w=[],E=0,M;each$f(A,function(P,R){var I=P.existing,L=P.newOption;if(!L)I&&(I.mergeOption({},this),I.optionUpdated({},!1));else{var O=y==="series",N=ComponentModel$1.getClass(y,P.keyInfo.subType,!O);if(!N)return;if(y==="tooltip"){if(M)return;M=!0}if(I&&I.constructor===N)I.name=P.keyInfo.name,I.mergeOption(L,this),I.optionUpdated(L,!1);else{var B=extend({componentIndex:R},P.keyInfo);I=new N(L,this,this,B),extend(I,B),P.brandNew&&(I.__requireNewView=!0),I.init(L,this,this),I.optionUpdated(null,!0)}}I?(b.push(I.option),w.push(I),E++):(b.push(void 0),w.push(void 0))},this),l[y]=b,u.set(y,w),c.set(y,E),y==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var r=clone$4(this.option);return each$f(r,function(s,l){if(ComponentModel$1.hasClass(l)){for(var u=normalizeToArray(s),c=u.length,f=!1,d=c-1;d>=0;d--)u[d]&&!isComponentIdInternal(u[d])?f=!0:(u[d]=null,!f&&c--);u.length=c,r[l]=u}}),delete r[OPTION_INNER_KEY],r},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(r){this._payload=r},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(r,s){var l=this._componentsMap.get(r);if(l){var u=l[s||0];if(u)return u;if(s==null){for(var c=0;c<l.length;c++)if(l[c])return l[c]}}},n.prototype.queryComponents=function(r){var s=r.mainType;if(!s)return[];var l=r.index,u=r.id,c=r.name,f=this._componentsMap.get(s);if(!f||!f.length)return[];var d;return l!=null?(d=[],each$f(normalizeToArray(l),function(v){f[v]&&d.push(f[v])})):u!=null?d=queryByIdOrName("id",u,f):c!=null?d=queryByIdOrName("name",c,f):d=filter(f,function(v){return!!v}),filterBySubType(d,r)},n.prototype.findComponents=function(r){var s=r.query,l=r.mainType,u=f(s),c=u?this.queryComponents(u):filter(this._componentsMap.get(l),function(v){return!!v});return d(filterBySubType(c,r));function f(v){var g=l+"Index",y=l+"Id",_=l+"Name";return v&&(v[g]!=null||v[y]!=null||v[_]!=null)?{mainType:l,index:v[g],id:v[y],name:v[_]}:null}function d(v){return r.filter?filter(v,r.filter):v}},n.prototype.eachComponent=function(r,s,l){var u=this._componentsMap;if(isFunction(r)){var c=s,f=r;u.each(function(y,_){for(var S=0;y&&S<y.length;S++){var x=y[S];x&&f.call(c,_,x,x.componentIndex)}})}else for(var d=isString(r)?u.get(r):isObject$3(r)?this.findComponents(r):null,v=0;d&&v<d.length;v++){var g=d[v];g&&s.call(l,g,g.componentIndex)}},n.prototype.getSeriesByName=function(r){var s=convertOptionIdName(r,null);return filter(this._componentsMap.get("series"),function(l){return!!l&&s!=null&&l.name===s})},n.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},n.prototype.getSeriesByType=function(r){return filter(this._componentsMap.get("series"),function(s){return!!s&&s.subType===r})},n.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(r){return!!r})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(r,s){assertSeriesInitialized(this),each$f(this._seriesIndices,function(l){var u=this._componentsMap.get("series")[l];r.call(s,u,l)},this)},n.prototype.eachRawSeries=function(r,s){each$f(this._componentsMap.get("series"),function(l){l&&r.call(s,l,l.componentIndex)})},n.prototype.eachSeriesByType=function(r,s,l){assertSeriesInitialized(this),each$f(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];c.subType===r&&s.call(l,c,u)},this)},n.prototype.eachRawSeriesByType=function(r,s,l){return each$f(this.getSeriesByType(r),s,l)},n.prototype.isSeriesFiltered=function(r){return assertSeriesInitialized(this),this._seriesIndicesMap.get(r.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(r,s){assertSeriesInitialized(this);var l=[];each$f(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];r.call(s,c,u)&&l.push(u)},this),this._seriesIndices=l,this._seriesIndicesMap=createHashMap(l)},n.prototype.restoreData=function(r){reCreateSeriesIndices(this);var s=this._componentsMap,l=[];s.each(function(u,c){ComponentModel$1.hasClass(c)&&l.push(c)}),ComponentModel$1.topologicalTravel(l,ComponentModel$1.getAllClassMainTypes(),function(u){each$f(s.get(u),function(c){c&&(u!=="series"||!isNotTargetSeries(c,r))&&c.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(r){var s=r._seriesIndices=[];each$f(r._componentsMap.get("series"),function(l){l&&s.push(l.componentIndex)}),r._seriesIndicesMap=createHashMap(s)},assertSeriesInitialized=function(r){},initBase=function(r,s){r.option={},r.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,r._componentsMap=createHashMap({series:[]}),r._componentsCount=createHashMap();var l=s.aria;isObject$3(l)&&l.enabled==null&&(l.enabled=!0),mergeTheme(s,r._theme.option),merge(s,globalDefault,!1),r._mergeOption(s,null)}}(),n}(Model$1);function isNotTargetSeries(a,n){if(n){var r=n.seriesIndex,s=n.seriesId,l=n.seriesName;return r!=null&&a.componentIndex!==r||s!=null&&a.id!==s||l!=null&&a.name!==l}}function mergeTheme(a,n){var r=a.color&&!a.colorLayer;each$f(n,function(s,l){l==="colorLayer"&&r||ComponentModel$1.hasClass(l)||(typeof s=="object"?a[l]=a[l]?merge(a[l],s,!1):clone$4(s):a[l]==null&&(a[l]=s))})}function queryByIdOrName(a,n,r){if(isArray$2(n)){var s=createHashMap();return each$f(n,function(u){if(u!=null){var c=convertOptionIdName(u,null);c!=null&&s.set(u,!0)}}),filter(r,function(u){return u&&s.get(u[a])})}else{var l=convertOptionIdName(n,null);return filter(r,function(u){return u&&l!=null&&u[a]===l})}}function filterBySubType(a,n){return n.hasOwnProperty("subType")?filter(a,function(r){return r&&r.subType===n.subType}):a}function normalizeSetOptionInput(a){var n=createHashMap();return a&&each$f(normalizeToArray(a.replaceMerge),function(r){n.set(r,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function a(n){each$f(availableMethods,function(r){this[r]=bind$1(n[r],n)},this)}return a}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function a(){this._coordinateSystems=[]}return a.prototype.create=function(n,r){var s=[];each$f(coordinateSystemCreators,function(l,u){var c=l.create(n,r);s=s.concat(c||[])}),this._coordinateSystems=s},a.prototype.update=function(n,r){each$f(this._coordinateSystems,function(s){s.update&&s.update(n,r)})},a.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},a.register=function(n,r){coordinateSystemCreators[n]=r},a.get=function(n){return coordinateSystemCreators[n]},a}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function a(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return a.prototype.setOption=function(n,r,s){n&&(each$f(normalizeToArray(n.series),function(c){c&&c.data&&isTypedArray(c.data)&&setAsPrimitive(c.data)}),each$f(normalizeToArray(n.dataset),function(c){c&&c.source&&isTypedArray(c.source)&&setAsPrimitive(c.source)})),n=clone$4(n);var l=this._optionBackup,u=parseRawOption(n,r,!l);this._newBaseOption=u.baseOption,l?(u.timelineOptions.length&&(l.timelineOptions=u.timelineOptions),u.mediaList.length&&(l.mediaList=u.mediaList),u.mediaDefault&&(l.mediaDefault=u.mediaDefault)):this._optionBackup=u},a.prototype.mountOption=function(n){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],clone$4(n?r.baseOption:this._newBaseOption)},a.prototype.getTimelineOption=function(n){var r,s=this._timelineOptions;if(s.length){var l=n.getComponent("timeline");l&&(r=clone$4(s[l.getCurrentIndex()]))}return r},a.prototype.getMediaOption=function(n){var r=this._api.getWidth(),s=this._api.getHeight(),l=this._mediaList,u=this._mediaDefault,c=[],f=[];if(!l.length&&!u)return f;for(var d=0,v=l.length;d<v;d++)applyMediaQuery(l[d].query,r,s)&&c.push(d);return!c.length&&u&&(c=[-1]),c.length&&!indicesEquals(c,this._currentMediaIndices)&&(f=map$1(c,function(g){return clone$4(g===-1?u.option:l[g].option)})),this._currentMediaIndices=c,f},a}();function parseRawOption(a,n,r){var s=[],l,u,c=a.baseOption,f=a.timeline,d=a.options,v=a.media,g=!!a.media,y=!!(d||f||c&&c.timeline);c?(u=c,u.timeline||(u.timeline=f)):((y||g)&&(a.options=a.media=null),u=a),g&&isArray$2(v)&&each$f(v,function(S){S&&S.option&&(S.query?s.push(S):l||(l=S))}),_(u),each$f(d,function(S){return _(S)}),each$f(s,function(S){return _(S.option)});function _(S){each$f(n,function(x){x(S,r)})}return{baseOption:u,timelineOptions:d||[],mediaDefault:l,mediaList:s}}function applyMediaQuery(a,n,r){var s={width:n,height:r,aspectratio:n/r},l=!0;return each$f(a,function(u,c){var f=c.match(QUERY_REG);if(!(!f||!f[1]||!f[2])){var d=f[1],v=f[2].toLowerCase();compare(s[v],u,d)||(l=!1)}}),l}function compare(a,n,r){return r==="min"?a>=n:r==="max"?a<=n:a===n}function indicesEquals(a,n){return a.join(",")===n.join(",")}const OptionManager$1=OptionManager;var each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(a){var n=a&&a.itemStyle;if(!!n)for(var r=0,s=POSSIBLE_STYLES.length;r<s;r++){var l=POSSIBLE_STYLES[r],u=n.normal,c=n.emphasis;u&&u[l]&&(a[l]=a[l]||{},a[l].normal?merge(a[l].normal,u[l]):a[l].normal=u[l],u[l]=null),c&&c[l]&&(a[l]=a[l]||{},a[l].emphasis?merge(a[l].emphasis,c[l]):a[l].emphasis=c[l],c[l]=null)}}function convertNormalEmphasis(a,n,r){if(a&&a[n]&&(a[n].normal||a[n].emphasis)){var s=a[n].normal,l=a[n].emphasis;s&&(r?(a[n].normal=a[n].emphasis=null,defaults(a[n],s)):a[n]=s),l&&(a.emphasis=a.emphasis||{},a.emphasis[n]=l,l.focus&&(a.emphasis.focus=l.focus),l.blurScope&&(a.emphasis.blurScope=l.blurScope))}}function removeEC3NormalStatus(a){convertNormalEmphasis(a,"itemStyle"),convertNormalEmphasis(a,"lineStyle"),convertNormalEmphasis(a,"areaStyle"),convertNormalEmphasis(a,"label"),convertNormalEmphasis(a,"labelLine"),convertNormalEmphasis(a,"upperLabel"),convertNormalEmphasis(a,"edgeLabel")}function compatTextStyle(a,n){var r=isObject$2(a)&&a[n],s=isObject$2(r)&&r.textStyle;if(s)for(var l=0,u=TEXT_STYLE_OPTIONS.length;l<u;l++){var c=TEXT_STYLE_OPTIONS[l];s.hasOwnProperty(c)&&(r[c]=s[c])}}function compatEC3CommonStyles(a){a&&(removeEC3NormalStatus(a),compatTextStyle(a,"label"),a.emphasis&&compatTextStyle(a.emphasis,"label"))}function processSeries(a){if(!!isObject$2(a)){compatEC2ItemStyle(a),removeEC3NormalStatus(a),compatTextStyle(a,"label"),compatTextStyle(a,"upperLabel"),compatTextStyle(a,"edgeLabel"),a.emphasis&&(compatTextStyle(a.emphasis,"label"),compatTextStyle(a.emphasis,"upperLabel"),compatTextStyle(a.emphasis,"edgeLabel"));var n=a.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var r=a.markLine;r&&(compatEC2ItemStyle(r),compatEC3CommonStyles(r));var s=a.markArea;s&&compatEC3CommonStyles(s);var l=a.data;if(a.type==="graph"){l=l||a.nodes;var u=a.links||a.edges;if(u&&!isTypedArray(u))for(var c=0;c<u.length;c++)compatEC3CommonStyles(u[c]);each$f(a.categories,function(v){removeEC3NormalStatus(v)})}if(l&&!isTypedArray(l))for(var c=0;c<l.length;c++)compatEC3CommonStyles(l[c]);if(n=a.markPoint,n&&n.data)for(var f=n.data,c=0;c<f.length;c++)compatEC3CommonStyles(f[c]);if(r=a.markLine,r&&r.data)for(var d=r.data,c=0;c<d.length;c++)isArray$2(d[c])?(compatEC3CommonStyles(d[c][0]),compatEC3CommonStyles(d[c][1])):compatEC3CommonStyles(d[c]);a.type==="gauge"?(compatTextStyle(a,"axisLabel"),compatTextStyle(a,"title"),compatTextStyle(a,"detail")):a.type==="treemap"?(convertNormalEmphasis(a.breadcrumb,"itemStyle"),each$f(a.levels,function(v){removeEC3NormalStatus(v)})):a.type==="tree"&&removeEC3NormalStatus(a.leaves)}}function toArr(a){return isArray$2(a)?a:a?[a]:[]}function toObj(a){return(isArray$2(a)?a[0]:a)||{}}function globalCompatStyle(a,n){each$d(toArr(a.series),function(s){isObject$2(s)&&processSeries(s)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(r,function(s){each$d(toArr(a[s]),function(l){l&&(compatTextStyle(l,"axisLabel"),compatTextStyle(l.axisPointer,"label"))})}),each$d(toArr(a.parallel),function(s){var l=s&&s.parallelAxisDefault;compatTextStyle(l,"axisLabel"),compatTextStyle(l&&l.axisPointer,"label")}),each$d(toArr(a.calendar),function(s){convertNormalEmphasis(s,"itemStyle"),compatTextStyle(s,"dayLabel"),compatTextStyle(s,"monthLabel"),compatTextStyle(s,"yearLabel")}),each$d(toArr(a.radar),function(s){compatTextStyle(s,"name"),s.name&&s.axisName==null&&(s.axisName=s.name,delete s.name),s.nameGap!=null&&s.axisNameGap==null&&(s.axisNameGap=s.nameGap,delete s.nameGap)}),each$d(toArr(a.geo),function(s){isObject$2(s)&&(compatEC3CommonStyles(s),each$d(toArr(s.regions),function(l){compatEC3CommonStyles(l)}))}),each$d(toArr(a.timeline),function(s){compatEC3CommonStyles(s),convertNormalEmphasis(s,"label"),convertNormalEmphasis(s,"itemStyle"),convertNormalEmphasis(s,"controlStyle",!0);var l=s.data;isArray$2(l)&&each$f(l,function(u){isObject$3(u)&&(convertNormalEmphasis(u,"label"),convertNormalEmphasis(u,"itemStyle"))})}),each$d(toArr(a.toolbox),function(s){convertNormalEmphasis(s,"iconStyle"),each$d(s.feature,function(l){convertNormalEmphasis(l,"iconStyle")})}),compatTextStyle(toObj(a.axisPointer),"label"),compatTextStyle(toObj(a.tooltip).axisPointer,"label")}function get(a,n){for(var r=n.split(","),s=a,l=0;l<r.length&&(s=s&&s[r[l]],s!=null);l++);return s}function set(a,n,r,s){for(var l=n.split(","),u=a,c,f=0;f<l.length-1;f++)c=l[f],u[c]==null&&(u[c]={}),u=u[c];(s||u[l[f]]==null)&&(u[l[f]]=r)}function compatLayoutProperties(a){a&&each$f(LAYOUT_PROPERTIES,function(n){n[0]in a&&!(n[1]in a)&&(a[n[1]]=a[n[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(a){var n=a&&a.itemStyle;if(n)for(var r=0;r<BAR_ITEM_STYLE_MAP.length;r++){var s=BAR_ITEM_STYLE_MAP[r][1],l=BAR_ITEM_STYLE_MAP[r][0];n[s]!=null&&(n[l]=n[s])}}function compatPieLabel(a){!a||a.alignTo==="edge"&&a.margin!=null&&a.edgeDistance==null&&(a.edgeDistance=a.margin)}function compatSunburstState(a){!a||a.downplay&&!a.blur&&(a.blur=a.downplay)}function compatGraphFocus(a){!a||a.focusNodeAdjacency!=null&&(a.emphasis=a.emphasis||{},a.emphasis.focus==null&&(a.emphasis.focus="adjacency"))}function traverseTree(a,n){if(a)for(var r=0;r<a.length;r++)n(a[r]),a[r]&&traverseTree(a[r].children,n)}function globalBackwardCompat(a,n){globalCompatStyle(a,n),a.series=normalizeToArray(a.series),each$f(a.series,function(r){if(!!isObject$3(r)){var s=r.type;if(s==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(s==="pie"||s==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),compatPieLabel(r.label);var l=r.data;if(l&&!isTypedArray(l))for(var u=0;u<l.length;u++)compatPieLabel(l[u]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(s==="gauge"){var c=get(r,"pointer.color");c!=null&&set(r,"itemStyle.color",c)}else if(s==="bar"){compatBarItemStyle(r),compatBarItemStyle(r.backgroundStyle),compatBarItemStyle(r.emphasis);var l=r.data;if(l&&!isTypedArray(l))for(var u=0;u<l.length;u++)typeof l[u]=="object"&&(compatBarItemStyle(l[u]),compatBarItemStyle(l[u]&&l[u].emphasis))}else if(s==="sunburst"){var f=r.highlightPolicy;f&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=f)),compatSunburstState(r),traverseTree(r.data,compatSunburstState)}else s==="graph"||s==="sankey"?compatGraphFocus(r):s==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&defaults(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),compatLayoutProperties(r)}}),a.dataRange&&(a.visualMap=a.dataRange),each$f(COMPATITABLE_COMPONENTS,function(r){var s=a[r];s&&(isArray$2(s)||(s=[s]),each$f(s,function(l){compatLayoutProperties(l)}))})}function dataStack(a){var n=createHashMap();a.eachSeries(function(r){var s=r.get("stack");if(s){var l=n.get(s)||n.set(s,[]),u=r.getData(),c={stackResultDimension:u.getCalculationInfo("stackResultDimension"),stackedOverDimension:u.getCalculationInfo("stackedOverDimension"),stackedDimension:u.getCalculationInfo("stackedDimension"),stackedByDimension:u.getCalculationInfo("stackedByDimension"),isStackedByIndex:u.getCalculationInfo("isStackedByIndex"),data:u,seriesModel:r};if(!c.stackedDimension||!(c.isStackedByIndex||c.stackedByDimension))return;l.length&&u.setCalculationInfo("stackedOnSeries",l[l.length-1].seriesModel),l.push(c)}}),n.each(calculateStack)}function calculateStack(a){each$f(a,function(n,r){var s=[],l=[NaN,NaN],u=[n.stackResultDimension,n.stackedOverDimension],c=n.data,f=n.isStackedByIndex,d=n.seriesModel.get("stackStrategy")||"samesign";c.modify(u,function(v,g,y){var _=c.get(n.stackedDimension,y);if(isNaN(_))return l;var S,x;f?x=c.getRawIndex(y):S=c.get(n.stackedByDimension,y);for(var A=NaN,b=r-1;b>=0;b--){var w=a[b];if(f||(x=w.data.rawIndexOf(w.stackedByDimension,S)),x>=0){var E=w.data.getByRawIndex(w.stackResultDimension,x);if(d==="all"||d==="positive"&&E>0||d==="negative"&&E<0||d==="samesign"&&_>=0&&E>0||d==="samesign"&&_<=0&&E<0){_=addSafe(_,E),A=E;break}}}return s[0]=_,s[1]=A,s})})}var SourceImpl=function(){function a(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var r=this.dimensionsDefine=n.dimensionsDefine;if(r)for(var s=0;s<r.length;s++){var l=r[s];l.type==null&&guessOrdinal(this,s)===BE_ORDINAL.Must&&(l.type="ordinal")}}return a}();function isSourceInstance(a){return a instanceof SourceImpl}function createSource(a,n,r){r=r||detectSourceFormat(a);var s=n.seriesLayoutBy,l=determineSourceDimensions(a,r,s,n.sourceHeader,n.dimensions),u=new SourceImpl({data:a,sourceFormat:r,seriesLayoutBy:s,dimensionsDefine:l.dimensionsDefine,startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount,metaRawOption:clone$4(n)});return u}function createSourceFromSeriesDataOption(a){return new SourceImpl({data:a,sourceFormat:isTypedArray(a)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(a){return new SourceImpl({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:clone$4(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount})}function detectSourceFormat(a){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(a))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$2(a)){a.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var r=0,s=a.length;r<s;r++){var l=a[r];if(l!=null){if(isArray$2(l)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(l)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(a)){for(var u in a)if(hasOwn(a,u)&&isArrayLike(a[u])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(a,n,r,s,l){var u,c;if(!a)return{dimensionsDefine:normalizeDimensionsOption(l),startIndex:c,dimensionsDetectedCount:u};if(n===SOURCE_FORMAT_ARRAY_ROWS){var f=a;s==="auto"||s==null?arrayRowsTravelFirst(function(v){v!=null&&v!=="-"&&(isString(v)?c==null&&(c=1):c=0)},r,f,10):c=isNumber(s)?s:s?1:0,!l&&c===1&&(l=[],arrayRowsTravelFirst(function(v,g){l[g]=v!=null?v+"":""},r,f,1/0)),u=l?l.length:r===SERIES_LAYOUT_BY_ROW?f.length:f[0]?f[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS)l||(l=objectRowsCollectDimensions(a));else if(n===SOURCE_FORMAT_KEYED_COLUMNS)l||(l=[],each$f(a,function(v,g){l.push(g)}));else if(n===SOURCE_FORMAT_ORIGINAL){var d=getDataItemValue(a[0]);u=isArray$2(d)&&d.length||1}return{startIndex:c,dimensionsDefine:normalizeDimensionsOption(l),dimensionsDetectedCount:u}}function objectRowsCollectDimensions(a){for(var n=0,r;n<a.length&&!(r=a[n++]););if(r){var s=[];return each$f(r,function(l,u){s.push(u)}),s}}function normalizeDimensionsOption(a){if(!!a){var n=createHashMap();return map$1(a,function(r,s){r=isObject$3(r)?r:{name:r};var l={name:r.name,displayName:r.displayName,type:r.type};if(l.name==null)return l;l.name+="",l.displayName==null&&(l.displayName=l.name);var u=n.get(l.name);return u?l.name+="-"+u.count++:n.set(l.name,{count:1}),l})}}function arrayRowsTravelFirst(a,n,r,s){if(n===SERIES_LAYOUT_BY_ROW)for(var l=0;l<r.length&&l<s;l++)a(r[l]?r[l][0]:null,l);else for(var u=r[0]||[],l=0;l<u.length&&l<s;l++)a(u[l],l)}function shouldRetrieveDataByName(a){var n=a.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS||n===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function a(n,r){var s=isSourceInstance(n)?n:createSourceFromSeriesDataOption(n);this._source=s;var l=this._data=s.data;s.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=r,this._data=l),mountMethods(this,l,s)}return a.prototype.getSource=function(){return this._source},a.prototype.count=function(){return 0},a.prototype.getItem=function(n,r){},a.prototype.appendData=function(n){},a.prototype.clean=function(){},a.protoInitialize=function(){var n=a.prototype;n.pure=!1,n.persistent=!0}(),a.internalField=function(){var n;mountMethods=function(c,f,d){var v=d.sourceFormat,g=d.seriesLayoutBy,y=d.startIndex,_=d.dimensionsDefine,S=providerMethods[getMethodMapKey(v,g)];if(extend(c,S),v===SOURCE_FORMAT_TYPED_ARRAY)c.getItem=r,c.count=l,c.fillStorage=s;else{var x=getRawSourceItemGetter(v,g);c.getItem=bind$1(x,null,f,y,_);var A=getRawSourceDataCounter(v,g);c.count=bind$1(A,null,f,y,_)}};var r=function(c,f){c=c-this._offset,f=f||[];for(var d=this._data,v=this._dimSize,g=v*c,y=0;y<v;y++)f[y]=d[g+y];return f},s=function(c,f,d,v){for(var g=this._data,y=this._dimSize,_=0;_<y;_++){for(var S=v[_],x=S[0]==null?1/0:S[0],A=S[1]==null?-1/0:S[1],b=f-c,w=d[_],E=0;E<b;E++){var M=g[E*y+_];w[c+E]=M,M<x&&(x=M),M>A&&(A=M)}S[0]=x,S[1]=A}},l=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(n={},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:u},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:u},n[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(c){var f=this._data;each$f(c,function(d,v){for(var g=f[v]||(f[v]=[]),y=0;y<(d||[]).length;y++)g.push(d[y])})}},n[SOURCE_FORMAT_ORIGINAL]={appendData:u},n[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(c){this._data=c},clean:function(){this._offset+=this.count(),this._data=null}},n);function u(c){for(var f=0;f<c.length;f++)this._data.push(c[f])}}(),a}(),getItemSimply=function(a,n,r,s){return a[s]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(a,n,r,s){return a[s+n]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(a,n,r,s,l){s+=n;for(var u=l||[],c=a,f=0;f<c.length;f++){var d=c[f];u[f]=d?d[s]:null}return u},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(a,n,r,s,l){for(var u=l||[],c=0;c<r.length;c++){var f=r[c].name,d=a[f];u[c]=d?d[s]:null}return u},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(a,n){var r=rawSourceItemGetterMap[getMethodMapKey(a,n)];return r}var countSimply=function(a,n,r){return a.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(a,n,r){return Math.max(0,a.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(a,n,r){var s=a[0];return s?Math.max(0,s.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(a,n,r){var s=r[0].name,l=a[s];return l?l.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(a,n){var r=rawSourceDataCounterMap[getMethodMapKey(a,n)];return r}var getRawValueSimply=function(a,n,r){return a[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(a,n,r){return a[r]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(a,n,r){var s=getDataItemValue(a);return s instanceof Array?s[n]:s},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(a){var n=rawSourceValueGetterMap[a];return n}function getMethodMapKey(a,n){return a===SOURCE_FORMAT_ARRAY_ROWS?a+"_"+n:a}function retrieveRawValue(a,n,r){if(!!a){var s=a.getRawDataItem(n);if(s!=null){var l=a.getStore(),u=l.getSource().sourceFormat;if(r!=null){var c=a.getDimensionIndex(r),f=l.getDimensionProperty(c);return getRawSourceValueGetter(u)(s,c,f)}else{var d=s;return u===SOURCE_FORMAT_ORIGINAL&&(d=getDataItemValue(s)),d}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function a(){}return a.prototype.getDataParams=function(n,r){var s=this.getData(r),l=this.getRawValue(n,r),u=s.getRawIndex(n),c=s.getName(n),f=s.getRawDataItem(n),d=s.getItemVisual(n,"style"),v=d&&d[s.getItemVisual(n,"drawType")||"fill"],g=d&&d.stroke,y=this.mainType,_=y==="series",S=s.userOutput&&s.userOutput.get();return{componentType:y,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:_?this.subType:null,seriesIndex:this.seriesIndex,seriesId:_?this.id:null,seriesName:_?this.name:null,name:c,dataIndex:u,data:f,dataType:r,value:l,color:v,borderColor:g,dimensionNames:S?S.fullDimensions:null,encode:S?S.encode:null,$vars:["seriesName","name","value"]}},a.prototype.getFormattedLabel=function(n,r,s,l,u,c){r=r||"normal";var f=this.getData(s),d=this.getDataParams(n,s);if(c&&(d.value=c.interpolatedValue),l!=null&&isArray$2(d.value)&&(d.value=d.value[l]),!u){var v=f.getItemModel(n);u=v.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(isFunction(u))return d.status=r,d.dimensionIndex=l,u(d);if(isString(u)){var g=formatTpl(u,d);return g.replace(DIMENSION_LABEL_REG,function(y,_){var S=_.length,x=_;x.charAt(0)==="["&&x.charAt(S-1)==="]"&&(x=+x.slice(1,S-1));var A=retrieveRawValue(f,n,x);if(c&&isArray$2(c.interpolatedValue)){var b=f.getDimensionIndex(x);b>=0&&(A=c.interpolatedValue[b])}return A!=null?A+"":""})}},a.prototype.getRawValue=function(n,r){return retrieveRawValue(this.getData(r),n)},a.prototype.formatTooltip=function(n,r,s){},a}();function normalizeTooltipFormatResult(a){var n,r;return isObject$3(a)?a.type&&(r=a):n=a,{text:n,frag:r}}function createTask(a){return new Task(a)}var Task=function(){function a(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return a.prototype.perform=function(n){var r=this._upstream,s=n&&n.skip;if(this._dirty&&r){var l=this.context;l.data=l.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var u;this._plan&&!s&&(u=this._plan(this.context));var c=g(this._modBy),f=this._modDataCount||0,d=g(n&&n.modBy),v=n&&n.modDataCount||0;(c!==d||f!==v)&&(u="reset");function g(E){return!(E>=1)&&(E=1),E}var y;(this._dirty||u==="reset")&&(this._dirty=!1,y=this._doReset(s)),this._modBy=d,this._modDataCount=v;var _=n&&n.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var S=this._dueIndex,x=Math.min(_!=null?this._dueIndex+_:1/0,this._dueEnd);if(!s&&(y||S<x)){var A=this._progress;if(isArray$2(A))for(var b=0;b<A.length;b++)this._doProgress(A[b],S,x,d,v);else this._doProgress(A,S,x,d,v)}this._dueIndex=x;var w=this._settedOutputEnd!=null?this._settedOutputEnd:x;this._outputDueEnd=w}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},a.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},a.prototype._doProgress=function(n,r,s,l,u){iterator.reset(r,s,l,u),this._callingProgress=n,this._callingProgress({start:r,end:s,count:s-r,next:iterator.next},this.context)},a.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,s;!n&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(s=r.forceFirstProgress,r=r.progress),isArray$2(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var l=this._downstream;return l&&l.dirty(),s},a.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},a.prototype.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},a.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},a.prototype.getUpstream=function(){return this._upstream},a.prototype.getDownstream=function(){return this._downstream},a.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},a}(),iterator=function(){var a,n,r,s,l,u={reset:function(d,v,g,y){n=d,a=v,r=g,s=y,l=Math.ceil(s/r),u.next=r>1&&s>0?f:c}};return u;function c(){return n<a?n++:null}function f(){var d=n%l*r+Math.ceil(n/l),v=n>=a?null:d<s?d:n;return n++,v}}();function parseDataValue(a,n){var r=n&&n.type;return r==="ordinal"?a:(r==="time"&&!isNumber(a)&&a!=null&&a!=="-"&&(a=+parseDate(a)),a==null||a===""?NaN:+a)}var valueParserMap=createHashMap({number:function(a){return parseFloat(a)},time:function(a){return+parseDate(a)},trim:function(a){return isString(a)?trim$1(a):a}});function getRawValueParser(a){return valueParserMap.get(a)}var ORDER_COMPARISON_OP_MAP={lt:function(a,n){return a<n},lte:function(a,n){return a<=n},gt:function(a,n){return a>n},gte:function(a,n){return a>=n}},FilterOrderComparator=function(){function a(n,r){if(!isNumber(r)){var s="";throwError(s)}this._opFn=ORDER_COMPARISON_OP_MAP[n],this._rvalFloat=numericToNumber(r)}return a.prototype.evaluate=function(n){return isNumber(n)?this._opFn(n,this._rvalFloat):this._opFn(numericToNumber(n),this._rvalFloat)},a}(),SortOrderComparator=function(){function a(n,r){var s=n==="desc";this._resultLT=s?1:-1,r==null&&(r=s?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return a.prototype.evaluate=function(n,r){var s=isNumber(n)?n:numericToNumber(n),l=isNumber(r)?r:numericToNumber(r),u=isNaN(s),c=isNaN(l);if(u&&(s=this._incomparable),c&&(l=this._incomparable),u&&c){var f=isString(n),d=isString(r);f&&(s=d?n:0),d&&(l=f?r:0)}return s<l?this._resultLT:s>l?-this._resultLT:0},a}(),FilterEqualityComparator=function(){function a(n,r){this._rval=r,this._isEQ=n,this._rvalTypeof=typeof r,this._rvalFloat=numericToNumber(r)}return a.prototype.evaluate=function(n){var r=n===this._rval;if(!r){var s=typeof n;s!==this._rvalTypeof&&(s==="number"||this._rvalTypeof==="number")&&(r=numericToNumber(n)===this._rvalFloat)}return this._isEQ?r:!r},a}();function createFilterComparator(a,n){return a==="eq"||a==="ne"?new FilterEqualityComparator(a==="eq",n):hasOwn(ORDER_COMPARISON_OP_MAP,a)?new FilterOrderComparator(a,n):null}var ExternalSource=function(){function a(){}return a.prototype.getRawData=function(){throw new Error("not supported")},a.prototype.getRawDataItem=function(n){throw new Error("not supported")},a.prototype.cloneRawData=function(){},a.prototype.getDimensionInfo=function(n){},a.prototype.cloneAllDimensionInfo=function(){},a.prototype.count=function(){},a.prototype.retrieveValue=function(n,r){},a.prototype.retrieveValueFromItem=function(n,r){},a.prototype.convertValue=function(n,r){return parseDataValue(n,r)},a}();function createExternalSource(a,n){var r=new ExternalSource,s=a.data,l=r.sourceFormat=a.sourceFormat,u=a.startIndex,c="";a.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(c);var f=[],d={},v=a.dimensionsDefine;if(v)each$f(v,function(A,b){var w=A.name,E={index:b,name:w,displayName:A.displayName};if(f.push(E),w!=null){var M="";hasOwn(d,w)&&throwError(M),d[w]=E}});else for(var g=0;g<a.dimensionsDetectedCount;g++)f.push({index:g});var y=getRawSourceItemGetter(l,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(r.getRawDataItem=function(A){return y(s,u,f,A)},r.getRawData=bind$1(getRawData,null,a)),r.cloneRawData=bind$1(cloneRawData,null,a);var _=getRawSourceDataCounter(l,SERIES_LAYOUT_BY_COLUMN);r.count=bind$1(_,null,s,u,f);var S=getRawSourceValueGetter(l);r.retrieveValue=function(A,b){var w=y(s,u,f,A);return x(w,b)};var x=r.retrieveValueFromItem=function(A,b){if(A!=null){var w=f[b];if(w)return S(A,b,w.name)}};return r.getDimensionInfo=bind$1(getDimensionInfo,null,f,d),r.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,f),r}function getRawData(a){var n=a.sourceFormat;if(!isSupportedSourceFormat(n)){var r="";throwError(r)}return a.data}function cloneRawData(a){var n=a.sourceFormat,r=a.data;if(!isSupportedSourceFormat(n)){var s="";throwError(s)}if(n===SOURCE_FORMAT_ARRAY_ROWS){for(var l=[],u=0,c=r.length;u<c;u++)l.push(r[u].slice());return l}else if(n===SOURCE_FORMAT_OBJECT_ROWS){for(var l=[],u=0,c=r.length;u<c;u++)l.push(extend({},r[u]));return l}}function getDimensionInfo(a,n,r){if(r!=null){if(isNumber(r)||!isNaN(r)&&!hasOwn(n,r))return a[r];if(hasOwn(n,r))return n[r]}}function cloneAllDimensionInfo(a){return clone$4(a)}var externalTransformMap=createHashMap();function registerExternalTransform(a){a=clone$4(a);var n=a.type,r="";n||throwError(r);var s=n.split(":");s.length!==2&&throwError(r);var l=!1;s[0]==="echarts"&&(n=s[1],l=!0),a.__isBuiltIn=l,externalTransformMap.set(n,a)}function applyDataTransform(a,n,r){var s=normalizeToArray(a),l=s.length,u="";l||throwError(u);for(var c=0,f=l;c<f;c++){var d=s[c];n=applySingleDataTransform(d,n),c!==f-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(a,n,r,s){var l="";n.length||throwError(l),isObject$3(a)||throwError(l);var u=a.type,c=externalTransformMap.get(u);c||throwError(l);var f=map$1(n,function(v){return createExternalSource(v,c)}),d=normalizeToArray(c.transform({upstream:f[0],upstreamList:f,config:clone$4(a.config)}));return map$1(d,function(v,g){var y="";isObject$3(v)||throwError(y),v.data||throwError(y);var _=detectSourceFormat(v.data);isSupportedSourceFormat(_)||throwError(y);var S,x=n[0];if(x&&g===0&&!v.dimensions){var A=x.startIndex;A&&(v.data=x.data.slice(0,A).concat(v.data)),S={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:A,dimensions:x.metaRawOption.dimensions}}else S={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:v.dimensions};return createSource(v.data,S,null)})}function isSupportedSourceFormat(a){return a===SOURCE_FORMAT_ARRAY_ROWS||a===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(a){return a>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(a){var n=a.constructor;return n===Array?a.slice():new n(a)}function prepareStore(a,n,r,s,l){var u=dataCtors[r||"float"];if(l){var c=a[n],f=c&&c.length;if(f!==s){for(var d=new u(s),v=0;v<f;v++)d[v]=c[v];a[n]=d}}else a[n]=new u(s)}var DataStore=function(){function a(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return a.prototype.initData=function(n,r,s){this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var l=n.getSource(),u=this.defaultDimValueGetter=defaultDimValueGetters[l.sourceFormat];this._dimValueGetter=s||u,this._rawExtent=[],shouldRetrieveDataByName(l),this._dimensions=map$1(r,function(c){return{type:c.type,property:c.property}}),this._initDataFromProvider(0,n.count())},a.prototype.getProvider=function(){return this._provider},a.prototype.getSource=function(){return this._provider.getSource()},a.prototype.ensureCalculationDimension=function(n,r){var s=this._calcDimNameToIdx,l=this._dimensions,u=s.get(n);if(u!=null){if(l[u].type===r)return u}else u=l.length;return l[u]={type:r},s.set(n,u),this._chunks[u]=new dataCtors[r||"float"](this._rawCount),this._rawExtent[u]=getInitialExtent(),u},a.prototype.collectOrdinalMeta=function(n,r){var s=this._chunks[n],l=this._dimensions[n],u=this._rawExtent,c=l.ordinalOffset||0,f=s.length;c===0&&(u[n]=getInitialExtent());for(var d=u[n],v=c;v<f;v++){var g=s[v]=r.parseAndCollect(s[v]);isNaN(g)||(d[0]=Math.min(g,d[0]),d[1]=Math.max(g,d[1]))}l.ordinalMeta=r,l.ordinalOffset=f,l.type="ordinal"},a.prototype.getOrdinalMeta=function(n){var r=this._dimensions[n],s=r.ordinalMeta;return s},a.prototype.getDimensionProperty=function(n){var r=this._dimensions[n];return r&&r.property},a.prototype.appendData=function(n){var r=this._provider,s=this.count();r.appendData(n);var l=r.count();return r.persistent||(l+=s),s<l&&this._initDataFromProvider(s,l,!0),[s,l]},a.prototype.appendValues=function(n,r){for(var s=this._chunks,l=this._dimensions,u=l.length,c=this._rawExtent,f=this.count(),d=f+Math.max(n.length,r||0),v=0;v<u;v++){var g=l[v];prepareStore(s,v,g.type,d,!0)}for(var y=[],_=f;_<d;_++)for(var S=_-f,x=0;x<u;x++){var g=l[x],A=defaultDimValueGetters.arrayRows.call(this,n[S]||y,g.property,S,x);s[x][_]=A;var b=c[x];A<b[0]&&(b[0]=A),A>b[1]&&(b[1]=A)}return this._rawCount=this._count=d,{start:f,end:d}},a.prototype._initDataFromProvider=function(n,r,s){for(var l=this._provider,u=this._chunks,c=this._dimensions,f=c.length,d=this._rawExtent,v=map$1(c,function(E){return E.property}),g=0;g<f;g++){var y=c[g];d[g]||(d[g]=getInitialExtent()),prepareStore(u,g,y.type,r,s)}if(l.fillStorage)l.fillStorage(n,r,u,d);else for(var _=[],S=n;S<r;S++){_=l.getItem(S,_);for(var x=0;x<f;x++){var A=u[x],b=this._dimValueGetter(_,v[x],S,x);A[S]=b;var w=d[x];b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}}!l.persistent&&l.clean&&l.clean(),this._rawCount=this._count=r,this._extent=[]},a.prototype.count=function(){return this._count},a.prototype.get=function(n,r){if(!(r>=0&&r<this._count))return NaN;var s=this._chunks[n];return s?s[this.getRawIndex(r)]:NaN},a.prototype.getValues=function(n,r){var s=[],l=[];if(r==null){r=n,n=[];for(var u=0;u<this._dimensions.length;u++)l.push(u)}else l=n;for(var u=0,c=l.length;u<c;u++)s.push(this.get(l[u],r));return s},a.prototype.getByRawIndex=function(n,r){if(!(r>=0&&r<this._rawCount))return NaN;var s=this._chunks[n];return s?s[r]:NaN},a.prototype.getSum=function(n){var r=this._chunks[n],s=0;if(r)for(var l=0,u=this.count();l<u;l++){var c=this.get(n,l);isNaN(c)||(s+=c)}return s},a.prototype.getMedian=function(n){var r=[];this.each([n],function(u){isNaN(u)||r.push(u)});var s=r.sort(function(u,c){return u-c}),l=this.count();return l===0?0:l%2===1?s[(l-1)/2]:(s[l/2]+s[l/2-1])/2},a.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var r=this._indices,s=r[n];if(s!=null&&s<this._count&&s===n)return n;for(var l=0,u=this._count-1;l<=u;){var c=(l+u)/2|0;if(r[c]<n)l=c+1;else if(r[c]>n)u=c-1;else return c}return-1},a.prototype.indicesOfNearest=function(n,r,s){var l=this._chunks,u=l[n],c=[];if(!u)return c;s==null&&(s=1/0);for(var f=1/0,d=-1,v=0,g=0,y=this.count();g<y;g++){var _=this.getRawIndex(g),S=r-u[_],x=Math.abs(S);x<=s&&((x<f||x===f&&S>=0&&d<0)&&(f=x,d=S,v=0),S===d&&(c[v++]=g))}return c.length=v,c},a.prototype.getIndices=function(){var n,r=this._indices;if(r){var s=r.constructor,l=this._count;if(s===Array){n=new s(l);for(var u=0;u<l;u++)n[u]=r[u]}else n=new s(r.buffer,0,l)}else{var s=getIndicesCtor(this._rawCount);n=new s(this.count());for(var u=0;u<n.length;u++)n[u]=u}return n},a.prototype.filter=function(n,r){if(!this._count)return this;for(var s=this.clone(),l=s.count(),u=getIndicesCtor(s._rawCount),c=new u(l),f=[],d=n.length,v=0,g=n[0],y=s._chunks,_=0;_<l;_++){var S=void 0,x=s.getRawIndex(_);if(d===0)S=r(_);else if(d===1){var A=y[g][x];S=r(A,_)}else{for(var b=0;b<d;b++)f[b]=y[n[b]][x];f[b]=_,S=r.apply(null,f)}S&&(c[v++]=x)}return v<l&&(s._indices=c),s._count=v,s._extent=[],s._updateGetRawIdx(),s},a.prototype.selectRange=function(n){var r=this.clone(),s=r._count;if(!s)return this;var l=keys(n),u=l.length;if(!u)return this;var c=r.count(),f=getIndicesCtor(r._rawCount),d=new f(c),v=0,g=l[0],y=n[g][0],_=n[g][1],S=r._chunks,x=!1;if(!r._indices){var A=0;if(u===1){for(var b=S[l[0]],w=0;w<s;w++){var E=b[w];(E>=y&&E<=_||isNaN(E))&&(d[v++]=A),A++}x=!0}else if(u===2){for(var b=S[l[0]],M=S[l[1]],P=n[l[1]][0],R=n[l[1]][1],w=0;w<s;w++){var E=b[w],I=M[w];(E>=y&&E<=_||isNaN(E))&&(I>=P&&I<=R||isNaN(I))&&(d[v++]=A),A++}x=!0}}if(!x)if(u===1)for(var w=0;w<c;w++){var L=r.getRawIndex(w),E=S[l[0]][L];(E>=y&&E<=_||isNaN(E))&&(d[v++]=L)}else for(var w=0;w<c;w++){for(var O=!0,L=r.getRawIndex(w),N=0;N<u;N++){var B=l[N],E=S[B][L];(E<n[B][0]||E>n[B][1])&&(O=!1)}O&&(d[v++]=r.getRawIndex(w))}return v<c&&(r._indices=d),r._count=v,r._extent=[],r._updateGetRawIdx(),r},a.prototype.map=function(n,r){var s=this.clone(n);return this._updateDims(s,n,r),s},a.prototype.modify=function(n,r){this._updateDims(this,n,r)},a.prototype._updateDims=function(n,r,s){for(var l=n._chunks,u=[],c=r.length,f=n.count(),d=[],v=n._rawExtent,g=0;g<r.length;g++)v[r[g]]=getInitialExtent();for(var y=0;y<f;y++){for(var _=n.getRawIndex(y),S=0;S<c;S++)d[S]=l[r[S]][_];d[c]=y;var x=s&&s.apply(null,d);if(x!=null){typeof x!="object"&&(u[0]=x,x=u);for(var g=0;g<x.length;g++){var A=r[g],b=x[g],w=v[A],E=l[A];E&&(E[_]=b),b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}}}},a.prototype.lttbDownSample=function(n,r){var s=this.clone([n],!0),l=s._chunks,u=l[n],c=this.count(),f=0,d=Math.floor(1/r),v=this.getRawIndex(0),g,y,_,S=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(c/d)+2)*2,c));S[f++]=v;for(var x=1;x<c-1;x+=d){for(var A=Math.min(x+d,c-1),b=Math.min(x+d*2,c),w=(b+A)/2,E=0,M=A;M<b;M++){var P=this.getRawIndex(M),R=u[P];isNaN(R)||(E+=R)}E/=b-A;var I=x,L=Math.min(x+d,c),O=x-1,N=u[v];g=-1,_=I;for(var B=-1,F=0,M=I;M<L;M++){var P=this.getRawIndex(M),R=u[P];if(isNaN(R)){F++,B<0&&(B=P);continue}y=Math.abs((O-w)*(R-N)-(O-M)*(E-N)),y>g&&(g=y,_=P)}F>0&&F<L-I&&(S[f++]=Math.min(B,_),_=Math.max(B,_)),S[f++]=_,v=_}return S[f++]=this.getRawIndex(c-1),s._count=f,s._indices=S,s.getRawIndex=this._getRawIdx,s},a.prototype.downSample=function(n,r,s,l){for(var u=this.clone([n],!0),c=u._chunks,f=[],d=Math.floor(1/r),v=c[n],g=this.count(),y=u._rawExtent[n]=getInitialExtent(),_=new(getIndicesCtor(this._rawCount))(Math.ceil(g/d)),S=0,x=0;x<g;x+=d){d>g-x&&(d=g-x,f.length=d);for(var A=0;A<d;A++){var b=this.getRawIndex(x+A);f[A]=v[b]}var w=s(f),E=this.getRawIndex(Math.min(x+l(f,w)||0,g-1));v[E]=w,w<y[0]&&(y[0]=w),w>y[1]&&(y[1]=w),_[S++]=E}return u._count=S,u._indices=_,u._updateGetRawIdx(),u},a.prototype.each=function(n,r){if(!!this._count)for(var s=n.length,l=this._chunks,u=0,c=this.count();u<c;u++){var f=this.getRawIndex(u);switch(s){case 0:r(u);break;case 1:r(l[n[0]][f],u);break;case 2:r(l[n[0]][f],l[n[1]][f],u);break;default:for(var d=0,v=[];d<s;d++)v[d]=l[n[d]][f];v[d]=u,r.apply(null,v)}}},a.prototype.getDataExtent=function(n){var r=this._chunks[n],s=getInitialExtent();if(!r)return s;var l=this.count(),u=!this._indices,c;if(u)return this._rawExtent[n].slice();if(c=this._extent[n],c)return c.slice();c=s;for(var f=c[0],d=c[1],v=0;v<l;v++){var g=this.getRawIndex(v),y=r[g];y<f&&(f=y),y>d&&(d=y)}return c=[f,d],this._extent[n]=c,c},a.prototype.getRawDataItem=function(n){var r=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(r);for(var s=[],l=this._chunks,u=0;u<l.length;u++)s.push(l[u][r]);return s},a.prototype.clone=function(n,r){var s=new a,l=this._chunks,u=n&&reduce(n,function(f,d){return f[d]=!0,f},{});if(u)for(var c=0;c<l.length;c++)s._chunks[c]=u[c]?cloneChunk(l[c]):l[c];else s._chunks=l;return this._copyCommonProps(s),r||(s._indices=this._cloneIndices()),s._updateGetRawIdx(),s},a.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone$4(this._extent),n._rawExtent=clone$4(this._rawExtent)},a.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,r=void 0;if(n===Array){var s=this._indices.length;r=new n(s);for(var l=0;l<s;l++)r[l]=this._indices[l]}else r=new n(this._indices);return r}return null},a.prototype._getRawIdxIdentity=function(n){return n},a.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},a.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},a.internalField=function(){function n(r,s,l,u){return parseDataValue(r[u],this._dimensions[u])}defaultDimValueGetters={arrayRows:n,objectRows:function(r,s,l,u){return parseDataValue(r[s],this._dimensions[u])},keyedColumns:n,original:function(r,s,l,u){var c=r&&(r.value==null?r:r.value);return parseDataValue(c instanceof Array?c[u]:c,this._dimensions[u])},typedArray:function(r,s,l,u){return r[u]}}}(),a}(),SourceManager=function(){function a(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return a.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},a.prototype._setLocalSource=function(n,r){this._sourceList=n,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},a.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},a.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},a.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,r=this._getUpstreamSourceManagers(),s=!!r.length,l,u;if(isSeries(n)){var c=n,f=void 0,d=void 0,v=void 0;if(s){var g=r[0];g.prepareSource(),v=g.getSource(),f=v.data,d=v.sourceFormat,u=[g._getVersionSign()]}else f=c.get("data",!0),d=isTypedArray(f)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,u=[];var y=this._getSourceMetaRawOption()||{},_=v&&v.metaRawOption||{},S=retrieve2(y.seriesLayoutBy,_.seriesLayoutBy)||null,x=retrieve2(y.sourceHeader,_.sourceHeader),A=retrieve2(y.dimensions,_.dimensions),b=S!==_.seriesLayoutBy||!!x!=!!_.sourceHeader||A;l=b?[createSource(f,{seriesLayoutBy:S,sourceHeader:x,dimensions:A},d)]:[]}else{var w=n;if(s){var E=this._applyTransform(r);l=E.sourceList,u=E.upstreamSignList}else{var M=w.get("source",!0);l=[createSource(M,this._getSourceMetaRawOption(),null)],u=[]}}this._setLocalSource(l,u)},a.prototype._applyTransform=function(n){var r=this._sourceHost,s=r.get("transform",!0),l=r.get("fromTransformResult",!0);if(l!=null){var u="";n.length!==1&&doThrow(u)}var c,f=[],d=[];return each$f(n,function(v){v.prepareSource();var g=v.getSource(l||0),y="";l!=null&&!g&&doThrow(y),f.push(g),d.push(v._getVersionSign())}),s?c=applyDataTransform(s,f,{datasetIndex:r.componentIndex}):l!=null&&(c=[cloneSourceShallow(f[0])]),{sourceList:c,upstreamSignList:d}},a.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),r=0;r<n.length;r++){var s=n[r];if(s._isDirty()||this._upstreamSignList[r]!==s._getVersionSign())return!0}},a.prototype.getSource=function(n){n=n||0;var r=this._sourceList[n];if(!r){var s=this._getUpstreamSourceManagers();return s[0]&&s[0].getSource(n)}return r},a.prototype.getSharedDataStore=function(n){var r=n.makeStoreSchema();return this._innerGetDataStore(r.dimensions,n.source,r.hash)},a.prototype._innerGetDataStore=function(n,r,s){var l=0,u=this._storeList,c=u[l];c||(c=u[l]={});var f=c[s];if(!f){var d=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&d?f=d._innerGetDataStore(n,r,s):(f=new DataStore,f.initData(new DefaultDataProvider(r,n.length),n)),c[s]=f}return f},a.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries(n)){var r=querySeriesUpstreamDatasetModel(n);return r?[r.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(n),function(s){return s.getSourceManager()})},a.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,r,s,l;if(isSeries(n))r=n.get("seriesLayoutBy",!0),s=n.get("sourceHeader",!0),l=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var u=n;r=u.get("seriesLayoutBy",!0),s=u.get("sourceHeader",!0),l=u.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:s,dimensions:l}},a}();function disableTransformOptionMerge(a){var n=a.option.transform;n&&setAsPrimitive(a.option.transform)}function isSeries(a){return a.mainType==="series"}function doThrow(a){throw new Error(a)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(a,n){var r=a.color||"#6e7079",s=a.fontSize||12,l=a.fontWeight||"400",u=a.color||"#464646",c=a.fontSize||14,f=a.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML(s+"")+"px;color:"+encodeHTML(r)+";font-weight:"+encodeHTML(l+""),valueStyle:"font-size:"+encodeHTML(c+"")+"px;color:"+encodeHTML(u)+";font-weight:"+encodeHTML(f+"")}:{nameStyle:{fontSize:s,fill:r,fontWeight:l},valueStyle:{fontSize:c,fill:u,fontWeight:f}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(a,n){return n.type=a,n}function isSectionFragment(a){return a.type==="section"}function getBuilder(a){return isSectionFragment(a)?buildSection:buildNameValue}function getBlockGapLevel(a){if(isSectionFragment(a)){var n=0,r=a.blocks.length,s=r>1||r>0&&!a.noHeader;return each$f(a.blocks,function(l){var u=getBlockGapLevel(l);u>=n&&(n=u+ +(s&&(!u||isSectionFragment(l)&&!l.noHeader)))}),n}return 0}function buildSection(a,n,r,s){var l=n.noHeader,u=getGap(getBlockGapLevel(n)),c=[],f=n.blocks||[];assert(!f||isArray$2(f)),f=f||[];var d=a.orderMode;if(n.sortBlocks&&d){f=f.slice();var v={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(v,d)){var g=new SortOrderComparator(v[d],null);f.sort(function(x,A){return g.evaluate(x.sortParam,A.sortParam)})}else d==="seriesDesc"&&f.reverse()}each$f(f,function(x,A){var b=n.valueFormatter,w=getBuilder(x)(b?extend(extend({},a),{valueFormatter:b}):a,x,A>0?u.html:0,s);w!=null&&c.push(w)});var y=a.renderMode==="richText"?c.join(u.richText):wrapBlockHTML(c.join(""),l?r:u.html);if(l)return y;var _=makeValueReadable(n.header,"ordinal",a.useUTC),S=getTooltipTextStyle(s,a.renderMode).nameStyle;return a.renderMode==="richText"?wrapInlineNameRichText(a,_,S)+u.richText+y:wrapBlockHTML('<div style="'+S+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(_)+"</div>"+y,r)}function buildNameValue(a,n,r,s){var l=a.renderMode,u=n.noName,c=n.noValue,f=!n.markerType,d=n.name,v=a.useUTC,g=n.valueFormatter||a.valueFormatter||function(P){return P=isArray$2(P)?P:[P],map$1(P,function(R,I){return makeValueReadable(R,isArray$2(S)?S[I]:S,v)})};if(!(u&&c)){var y=f?"":a.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",l),_=u?"":makeValueReadable(d,"ordinal",v),S=n.valueType,x=c?[]:g(n.value),A=!f||!u,b=!f&&u,w=getTooltipTextStyle(s,l),E=w.nameStyle,M=w.valueStyle;return l==="richText"?(f?"":y)+(u?"":wrapInlineNameRichText(a,_,E))+(c?"":wrapInlineValueRichText(a,x,A,b,M)):wrapBlockHTML((f?"":y)+(u?"":wrapInlineNameHTML(_,!f,E))+(c?"":wrapInlineValueHTML(x,A,b,M)),r)}}function buildTooltipMarkup(a,n,r,s,l,u){if(!!a){var c=getBuilder(a),f={useUTC:l,renderMode:r,orderMode:s,markupStyleCreator:n,valueFormatter:a.valueFormatter};return c(f,a,0,u)}}function getGap(a){return{html:HTML_GAPS[a],richText:RICH_TEXT_GAPS[a]}}function wrapBlockHTML(a,n){var r='<div style="clear:both"></div>',s="margin: "+n+"px 0 0";return'<div style="'+s+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+a+r+"</div>"}function wrapInlineNameHTML(a,n,r){var s=n?"margin-left:2px":"";return'<span style="'+r+";"+s+'">'+encodeHTML(a)+"</span>"}function wrapInlineValueHTML(a,n,r,s){var l=r?"10px":"20px",u=n?"float:right;margin-left:"+l:"";return a=isArray$2(a)?a:[a],'<span style="'+u+";"+s+'">'+map$1(a,function(c){return encodeHTML(c)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(a,n,r){return a.markupStyleCreator.wrapRichTextStyle(n,r)}function wrapInlineValueRichText(a,n,r,s,l){var u=[l],c=s?10:20;return r&&u.push({padding:[0,0,0,c],align:"right"}),a.markupStyleCreator.wrapRichTextStyle(isArray$2(n)?n.join("  "):n,u)}function retrieveVisualColorForTooltipMarker(a,n){var r=a.getData().getItemVisual(n,"style"),s=r[a.visualDrawType];return convertToColorString(s)}function getPaddingFromTooltipModel(a,n){var r=a.get("padding");return r!=null?r:n==="richText"?[8,10]:10}var TooltipMarkupStyleCreator=function(){function a(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return a.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},a.prototype.makeTooltipMarker=function(n,r,s){var l=s==="richText"?this._generateStyleName():null,u=getTooltipMarker({color:r,type:n,renderMode:s,markerId:l});return isString(u)?u:(this.richTextStyles[l]=u.style,u.content)},a.prototype.wrapRichTextStyle=function(n,r){var s={};isArray$2(r)?each$f(r,function(u){return extend(s,u)}):extend(s,r);var l=this._generateStyleName();return this.richTextStyles[l]=s,"{"+l+"|"+n+"}"},a}();function defaultSeriesFormatTooltip(a){var n=a.series,r=a.dataIndex,s=a.multipleSeries,l=n.getData(),u=l.mapDimensionsAll("defaultedTooltip"),c=u.length,f=n.getRawValue(r),d=isArray$2(f),v=retrieveVisualColorForTooltipMarker(n,r),g,y,_,S;if(c>1||d&&!c){var x=formatTooltipArrayValue(f,n,r,u,v);g=x.inlineValues,y=x.inlineValueTypes,_=x.blocks,S=x.inlineValues[0]}else if(c){var A=l.getDimensionInfo(u[0]);S=g=retrieveRawValue(l,r,u[0]),y=A.type}else S=g=d?f[0]:f;var b=isNameSpecified(n),w=b&&n.name||"",E=l.getName(r),M=s?w:E;return createTooltipMarkup("section",{header:w,noHeader:s||!b,sortParam:S,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:v,name:M,noName:!trim$1(M),value:g,valueType:y})].concat(_||[])})}function formatTooltipArrayValue(a,n,r,s,l){var u=n.getData(),c=reduce(a,function(y,_,S){var x=u.getDimensionInfo(S);return y=y||x&&x.tooltip!==!1&&x.displayName!=null},!1),f=[],d=[],v=[];s.length?each$f(s,function(y){g(retrieveRawValue(u,r,y),y)}):each$f(a,g);function g(y,_){var S=u.getDimensionInfo(_);!S||S.otherDims.tooltip===!1||(c?v.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:l,name:S.displayName,value:y,valueType:S.type})):(f.push(y),d.push(S.type)))}return{inlineValues:f,inlineValueTypes:d,blocks:v}}var inner$k=makeInner();function getSelectionKey(a,n){return a.getName(n)||a.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return n.prototype.init=function(r,s,l){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,l);var u=inner$k(this).sourceManager=new SourceManager(this);u.prepareSource();var c=this.getInitialData(r,l);wrapData(c,this),this.dataTask.context.data=c,inner$k(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},n.prototype.mergeDefaultAndTheme=function(r,s){var l=fetchLayoutMode(this),u=l?getLayoutParams(r):{},c=this.subType;ComponentModel$1.hasClass(c)&&(c+="Series"),merge(r,s.getTheme().get(this.subType)),merge(r,this.getDefaultOption()),defaultEmphasis(r,"label",["show"]),this.fillDataTextStyle(r.data),l&&mergeLayoutParam(r,u,l)},n.prototype.mergeOption=function(r,s){r=merge(this.option,r,!0),this.fillDataTextStyle(r.data);var l=fetchLayoutMode(this);l&&mergeLayoutParam(this.option,r,l);var u=inner$k(this).sourceManager;u.dirty(),u.prepareSource();var c=this.getInitialData(r,s);wrapData(c,this),this.dataTask.dirty(),this.dataTask.context.data=c,inner$k(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},n.prototype.fillDataTextStyle=function(r){if(r&&!isTypedArray(r))for(var s=["show"],l=0;l<r.length;l++)r[l]&&r[l].label&&defaultEmphasis(r[l],"label",s)},n.prototype.getInitialData=function(r,s){},n.prototype.appendData=function(r){var s=this.getRawData();s.appendData(r.data)},n.prototype.getData=function(r){var s=getCurrentTask(this);if(s){var l=s.context.data;return r==null?l:l.getLinkedData(r)}else return inner$k(this).data},n.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},n.prototype.setData=function(r){var s=getCurrentTask(this);if(s){var l=s.context;l.outputData=r,s!==this.dataTask&&(l.data=r)}inner$k(this).data=r},n.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return createHashMap(r)},n.prototype.getSourceManager=function(){return inner$k(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},n.prototype.formatTooltip=function(r,s,l){return defaultSeriesFormatTooltip({series:this,dataIndex:r,multipleSeries:s})},n.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(env$1.node&&!(r&&r.ssr))return!1;var s=this.getShallow("animation");return s&&this.getData().count()>this.getShallow("animationThreshold")&&(s=!1),!!s},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(r,s,l){var u=this.ecModel,c=PaletteMixin.prototype.getColorFromPalette.call(this,r,s,l);return c||(c=u.getColorFromPalette(r,s,l)),c},n.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(r,s){this._innerSelect(this.getData(s),r)},n.prototype.unselect=function(r,s){var l=this.option.selectedMap;if(!!l){var u=this.option.selectedMode,c=this.getData(s);if(u==="series"||l==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var f=0;f<r.length;f++){var d=r[f],v=getSelectionKey(c,d);l[v]=!1,this._selectedDataIndicesMap[v]=-1}}},n.prototype.toggleSelect=function(r,s){for(var l=[],u=0;u<r.length;u++)l[0]=r[u],this.isSelected(r[u],s)?this.unselect(l,s):this.select(l,s)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,s=keys(r),l=[],u=0;u<s.length;u++){var c=r[s[u]];c>=0&&l.push(c)}return l},n.prototype.isSelected=function(r,s){var l=this.option.selectedMap;if(!l)return!1;var u=this.getData(s);return(l==="all"||l[getSelectionKey(u,r)])&&!u.getItemModel(r).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},n.prototype._innerSelect=function(r,s){var l,u,c=this.option,f=c.selectedMode,d=s.length;if(!(!f||!d)){if(f==="series")c.selectedMap="all";else if(f==="multiple"){isObject$3(c.selectedMap)||(c.selectedMap={});for(var v=c.selectedMap,g=0;g<d;g++){var y=s[g],_=getSelectionKey(r,y);v[_]=!0,this._selectedDataIndicesMap[_]=r.getRawIndex(y)}}else if(f==="single"||f===!0){var S=s[d-1],_=getSelectionKey(r,S);c.selectedMap=(l={},l[_]=!0,l),this._selectedDataIndicesMap=(u={},u[_]=r.getRawIndex(S),u)}}},n.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var s=[];r.hasItemOption&&r.each(function(l){var u=r.getRawDataItem(l);u&&u.selected&&s.push(l)}),s.length>0&&this._innerSelect(r,s)}},n.registerClass=function(r){return ComponentModel$1.registerClass(r)},n.protoInitialize=function(){var r=n.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),n}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(a){var n=a.name;isNameSpecified(a)||(a.name=getSeriesAutoName(a)||n)}function getSeriesAutoName(a){var n=a.getRawData(),r=n.mapDimensionsAll("seriesName"),s=[];return each$f(r,function(l){var u=n.getDimensionInfo(l);u.displayName&&s.push(u.displayName)}),s.join(" ")}function dataTaskCount(a){return a.model.getRawData().count()}function dataTaskReset(a){var n=a.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(a,n){n.outputData&&a.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(a,n){each$f(concatArray(a.CHANGABLE_METHODS,a.DOWNSAMPLE_METHODS),function(r){a.wrapMethod(r,curry$1(onDataChange,n))})}function onDataChange(a,n){var r=getCurrentTask(a);return r&&r.setOutputEnd((n||this).count()),n}function getCurrentTask(a){var n=(a.ecModel||{}).scheduler,r=n&&n.getPipeline(a.uid);if(r){var s=r.currentTask;if(s){var l=s.agentStubMap;l&&(s=l.get(a.uid))}return s}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function a(){this.group=new Group$4,this.uid=getUID("viewComponent")}return a.prototype.init=function(n,r){},a.prototype.render=function(n,r,s,l){},a.prototype.dispose=function(n,r){},a.prototype.updateView=function(n,r,s,l){},a.prototype.updateLayout=function(n,r,s,l){},a.prototype.updateVisual=function(n,r,s,l){},a.prototype.toggleBlurSeries=function(n,r,s){},a.prototype.eachRendered=function(n){var r=this.group;r&&r.traverse(n)},a}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var a=makeInner();return function(n){var r=a(n),s=n.pipelineContext,l=!!r.large,u=!!r.progressiveRender,c=r.large=!!(s&&s.large),f=r.progressiveRender=!!(s&&s.progressiveRender);return(l!==c||u!==f)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function a(){this.group=new Group$4,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return a.prototype.init=function(n,r){},a.prototype.render=function(n,r,s,l){},a.prototype.highlight=function(n,r,s,l){var u=n.getData(l&&l.dataType);!u||toggleHighlight(u,l,"emphasis")},a.prototype.downplay=function(n,r,s,l){var u=n.getData(l&&l.dataType);!u||toggleHighlight(u,l,"normal")},a.prototype.remove=function(n,r){this.group.removeAll()},a.prototype.dispose=function(n,r){},a.prototype.updateView=function(n,r,s,l){this.render(n,r,s,l)},a.prototype.updateLayout=function(n,r,s,l){this.render(n,r,s,l)},a.prototype.updateVisual=function(n,r,s,l){this.render(n,r,s,l)},a.prototype.eachRendered=function(n){traverseElements(this.group,n)},a.markUpdateMethod=function(n,r){inner$j(n).updateMethod=r},a.protoInitialize=function(){var n=a.prototype;n.type="chart"}(),a}();function elSetState(a,n,r){a&&isHighDownDispatcher(a)&&(n==="emphasis"?enterEmphasis:leaveEmphasis)(a,r)}function toggleHighlight(a,n,r){var s=queryDataIndex(a,n),l=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;s!=null?each$f(normalizeToArray(s),function(u){elSetState(a.getItemGraphicEl(u),r,l)}):a.eachItemGraphicEl(function(u){elSetState(u,r,l)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(a){return renderPlanner(a.model)}function renderTaskReset(a){var n=a.model,r=a.ecModel,s=a.api,l=a.payload,u=n.pipelineContext.progressiveRender,c=a.view,f=l&&inner$j(l).updateMethod,d=u?"incrementalPrepareRender":f&&c[f]?f:"render";return d!=="render"&&c[d](n,r,s,l),progressMethodMap[d]}var progressMethodMap={incrementalPrepareRender:{progress:function(a,n){n.view.incrementalRender(a,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(a,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(a,n,r){var s,l=0,u=0,c=null,f,d,v,g;n=n||0;function y(){u=new Date().getTime(),c=null,a.apply(d,v||[])}var _=function(){for(var S=[],x=0;x<arguments.length;x++)S[x]=arguments[x];s=new Date().getTime(),d=this,v=S;var A=g||n,b=g||r;g=null,f=s-(b?l:u)-A,clearTimeout(c),b?c=setTimeout(y,A):f>=0?y():c=setTimeout(y,-f),l=s};return _.clear=function(){c&&(clearTimeout(c),c=null)},_.debounceNextCall=function(S){g=S},_}function createOrUpdate(a,n,r,s){var l=a[n];if(!!l){var u=l[ORIGIN_METHOD]||l,c=l[THROTTLE_TYPE],f=l[RATE];if(f!==r||c!==s){if(r==null||!s)return a[n]=u;l=a[n]=throttle(u,r,s==="debounce"),l[ORIGIN_METHOD]=u,l[THROTTLE_TYPE]=s,l[RATE]=r}return l}}function clear$1(a,n){var r=a[n];r&&r[ORIGIN_METHOD]&&(r.clear&&r.clear(),a[n]=r[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(a,n){var r=a.visualStyleMapper||defaultStyleMappers[n];return r||(console.warn("Unknown style type '"+n+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(a,n){var r=a.visualDrawType||defaultColorKey[n];return r||(console.warn("Unknown style type '"+n+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,n){var r=a.getData(),s=a.visualStyleAccessPath||"itemStyle",l=a.getModel(s),u=getStyleMapper(a,s),c=u(l),f=l.getShallow("decal");f&&(r.setVisual("decal",f),f.dirty=!0);var d=getDefaultColorKey(a,s),v=c[d],g=isFunction(v)?v:null,y=c.fill==="auto"||c.stroke==="auto";if(!c[d]||g||y){var _=a.getColorFromPalette(a.name,null,n.getSeriesCount());c[d]||(c[d]=_,r.setVisual("colorFromPalette",!0)),c.fill=c.fill==="auto"||isFunction(c.fill)?_:c.fill,c.stroke=c.stroke==="auto"||isFunction(c.stroke)?_:c.stroke}if(r.setVisual("style",c),r.setVisual("drawType",d),!n.isSeriesFiltered(a)&&g)return r.setVisual("colorFromPalette",!1),{dataEach:function(S,x){var A=a.getDataParams(x),b=extend({},c);b[d]=g(A),S.setItemVisual(x,"style",b)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,n){if(!(a.ignoreStyleOnData||n.isSeriesFiltered(a))){var r=a.getData(),s=a.visualStyleAccessPath||"itemStyle",l=getStyleMapper(a,s),u=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(c,f){var d=c.getRawDataItem(f);if(d&&d[s]){sharedModel.option=d[s];var v=l(sharedModel),g=c.ensureUniqueItemVisual(f,"style");extend(g,v),sharedModel.option.decal&&(c.setItemVisual(f,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),u in v&&c.setItemVisual(f,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(a){var n=createHashMap();a.eachSeries(function(r){var s=r.getColorBy();if(!r.isColorBySeries()){var l=r.type+"-"+s,u=n.get(l);u||(u={},n.set(l,u)),inner$i(r).scope=u}}),a.eachSeries(function(r){if(!(r.isColorBySeries()||a.isSeriesFiltered(r))){var s=r.getRawData(),l={},u=r.getData(),c=inner$i(r).scope,f=r.visualStyleAccessPath||"itemStyle",d=getDefaultColorKey(r,f);u.each(function(v){var g=u.getRawIndex(v);l[g]=v}),s.each(function(v){var g=l[v],y=u.getItemVisual(g,"colorFromPalette");if(y){var _=u.ensureUniqueItemVisual(g,"style"),S=s.getName(v)||v+"",x=s.count();_[d]=r.getColorFromPalette(S,c,x)}})}})}},PI$5=Math.PI;function defaultLoading(a,n){n=n||{},defaults(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Group$4,s=new Rect$3({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});r.add(s);var l=new ZRText$1({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),u=new Rect$3({style:{fill:"none"},textContent:l,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});r.add(u);var c;return n.showSpinner&&(c=new Arc$1({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),c.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),r.add(c)),r.resize=function(){var f=l.getBoundingRect().width,d=n.showSpinner?n.spinnerRadius:0,v=(a.getWidth()-d*2-(n.showSpinner&&f?10:0)-f)/2-(n.showSpinner&&f?0:5+f/2)+(n.showSpinner?0:f/2)+(f?0:d),g=a.getHeight()/2;n.showSpinner&&c.setShape({cx:v,cy:g}),u.setShape({x:v-d,y:g-d,width:d*2,height:d*2}),s.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},r.resize(),r}var Scheduler=function(){function a(n,r,s,l){this._stageTaskMap=createHashMap(),this.ecInstance=n,this.api=r,s=this._dataProcessorHandlers=s.slice(),l=this._visualHandlers=l.slice(),this._allHandlers=s.concat(l)}return a.prototype.restoreData=function(n,r){n.restoreData(r),this._stageTaskMap.each(function(s){var l=s.overallTask;l&&l.dirty()})},a.prototype.getPerformArgs=function(n,r){if(!!n.__pipeline){var s=this._pipelineMap.get(n.__pipeline.id),l=s.context,u=!r&&s.progressiveEnabled&&(!l||l.progressiveRender)&&n.__idxInPipeline>s.blockIndex,c=u?s.step:null,f=l&&l.modDataCount,d=f!=null?Math.ceil(f/c):null;return{step:c,modBy:d,modDataCount:f}}},a.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},a.prototype.updateStreamModes=function(n,r){var s=this._pipelineMap.get(n.uid),l=n.getData(),u=l.count(),c=s.progressiveEnabled&&r.incrementalPrepareRender&&u>=s.threshold,f=n.get("large")&&u>=n.get("largeThreshold"),d=n.get("progressiveChunkMode")==="mod"?u:null;n.pipelineContext=s.context={progressiveRender:c,modDataCount:d,large:f}},a.prototype.restorePipelines=function(n){var r=this,s=r._pipelineMap=createHashMap();n.eachSeries(function(l){var u=l.getProgressive(),c=l.uid;s.set(c,{id:c,head:null,tail:null,threshold:l.getProgressiveThreshold(),progressiveEnabled:u&&!(l.preventIncremental&&l.preventIncremental()),blockIndex:-1,step:Math.round(u||700),count:0}),r._pipe(l,l.dataTask)})},a.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,r=this.api.getModel(),s=this.api;each$f(this._allHandlers,function(l){var u=n.get(l.uid)||n.set(l.uid,{}),c="";assert(!(l.reset&&l.overallReset),c),l.reset&&this._createSeriesStageTask(l,u,r,s),l.overallReset&&this._createOverallStageTask(l,u,r,s)},this)},a.prototype.prepareView=function(n,r,s,l){var u=n.renderTask,c=u.context;c.model=r,c.ecModel=s,c.api=l,u.__block=!n.incrementalPrepareRender,this._pipe(r,u)},a.prototype.performDataProcessorTasks=function(n,r){this._performStageTasks(this._dataProcessorHandlers,n,r,{block:!0})},a.prototype.performVisualTasks=function(n,r,s){this._performStageTasks(this._visualHandlers,n,r,s)},a.prototype._performStageTasks=function(n,r,s,l){l=l||{};var u=!1,c=this;each$f(n,function(d,v){if(!(l.visualType&&l.visualType!==d.visualType)){var g=c._stageTaskMap.get(d.uid),y=g.seriesTaskMap,_=g.overallTask;if(_){var S,x=_.agentStubMap;x.each(function(b){f(l,b)&&(b.dirty(),S=!0)}),S&&_.dirty(),c.updatePayload(_,s);var A=c.getPerformArgs(_,l.block);x.each(function(b){b.perform(A)}),_.perform(A)&&(u=!0)}else y&&y.each(function(b,w){f(l,b)&&b.dirty();var E=c.getPerformArgs(b,l.block);E.skip=!d.performRawSeries&&r.isSeriesFiltered(b.context.model),c.updatePayload(b,s),b.perform(E)&&(u=!0)})}});function f(d,v){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(v.__pipeline.id))}this.unfinished=u||this.unfinished},a.prototype.performSeriesTasks=function(n){var r;n.eachSeries(function(s){r=s.dataTask.perform()||r}),this.unfinished=r||this.unfinished},a.prototype.plan=function(){this._pipelineMap.each(function(n){var r=n.tail;do{if(r.__block){n.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},a.prototype.updatePayload=function(n,r){r!=="remain"&&(n.context.payload=r)},a.prototype._createSeriesStageTask=function(n,r,s,l){var u=this,c=r.seriesTaskMap,f=r.seriesTaskMap=createHashMap(),d=n.seriesType,v=n.getTargetSeries;n.createOnAllSeries?s.eachRawSeries(g):d?s.eachRawSeriesByType(d,g):v&&v(s,l).each(g);function g(y){var _=y.uid,S=f.set(_,c&&c.get(_)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));S.context={model:y,ecModel:s,api:l,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:u},u._pipe(y,S)}},a.prototype._createOverallStageTask=function(n,r,s,l){var u=this,c=r.overallTask=r.overallTask||createTask({reset:overallTaskReset});c.context={ecModel:s,api:l,overallReset:n.overallReset,scheduler:u};var f=c.agentStubMap,d=c.agentStubMap=createHashMap(),v=n.seriesType,g=n.getTargetSeries,y=!0,_=!1,S="";assert(!n.createOnAllSeries,S),v?s.eachRawSeriesByType(v,x):g?g(s,l).each(x):(y=!1,each$f(s.getSeries(),x));function x(A){var b=A.uid,w=d.set(b,f&&f.get(b)||(_=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));w.context={model:A,overallProgress:y},w.agent=c,w.__block=y,u._pipe(A,w)}_&&c.dirty()},a.prototype._pipe=function(n,r){var s=n.uid,l=this._pipelineMap.get(s);!l.head&&(l.head=r),l.tail&&l.tail.pipe(r),l.tail=r,r.__idxInPipeline=l.count++,r.__pipeline=l},a.wrapStageHandler=function(n,r){return isFunction(n)&&(n={overallReset:n,seriesType:detectSeriseType(n)}),n.uid=getUID("stageHandler"),r&&(n.visualType=r),n},a}();function overallTaskReset(a){a.overallReset(a.ecModel,a.api,a.payload)}function stubReset(a){return a.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(a){return a.plan?a.plan(a.model,a.ecModel,a.api,a.payload):null}function seriesTaskReset(a){a.useClearVisual&&a.data.clearAllVisual();var n=a.resetDefines=normalizeToArray(a.reset(a.model,a.ecModel,a.api,a.payload));return n.length>1?map$1(n,function(r,s){return makeSeriesTaskProgress(s)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(a){return function(n,r){var s=r.data,l=r.resetDefines[a];if(l&&l.dataEach)for(var u=n.start;u<n.end;u++)l.dataEach(s,u);else l&&l.progress&&l.progress(n,s)}}function seriesTaskCount(a){return a.data.count()}function detectSeriseType(a){seriesType=null;try{a(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1);mockMethods(apiMock,ExtensionAPI$1);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(a){seriesType=a};ecModelMock.eachComponent=function(a){a.mainType==="series"&&a.subType&&(seriesType=a.subType)};function mockMethods(a,n){for(var r in n.prototype)a[r]=noop$1}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const darkTheme=theme;var ECEventProcessor=function(){function a(){}return a.prototype.normalizeQuery=function(n){var r={},s={},l={};if(isString(n)){var u=parseClassType(n);r.mainType=u.main||null,r.subType=u.sub||null}else{var c=["Index","Name","Id"],f={name:1,dataIndex:1,dataType:1};each$f(n,function(d,v){for(var g=!1,y=0;y<c.length;y++){var _=c[y],S=v.lastIndexOf(_);if(S>0&&S===v.length-_.length){var x=v.slice(0,S);x!=="data"&&(r.mainType=x,r[_.toLowerCase()]=d,g=!0)}}f.hasOwnProperty(v)&&(s[v]=d,g=!0),g||(l[v]=d)})}return{cptQuery:r,dataQuery:s,otherQuery:l}},a.prototype.filter=function(n,r){var s=this.eventInfo;if(!s)return!0;var l=s.targetEl,u=s.packedEvent,c=s.model,f=s.view;if(!c||!f)return!0;var d=r.cptQuery,v=r.dataQuery;return g(d,c,"mainType")&&g(d,c,"subType")&&g(d,c,"index","componentIndex")&&g(d,c,"name")&&g(d,c,"id")&&g(v,u,"name")&&g(v,u,"dataIndex")&&g(v,u,"dataType")&&(!f.filterForExposedEvent||f.filterForExposedEvent(n,r.otherQuery,l,u));function g(y,_,S,x){return y[S]==null||_[x||S]===y[S]}},a.prototype.afterTrigger=function(){this.eventInfo=null},a}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,n){var r=a.getData();if(a.legendIcon&&r.setVisual("legendIcon",a.legendIcon),!a.hasSymbolVisual)return;for(var s={},l={},u=!1,c=0;c<SYMBOL_PROPS_WITH_CB.length;c++){var f=SYMBOL_PROPS_WITH_CB[c],d=a.get(f);isFunction(d)?(u=!0,l[f]=d):s[f]=d}if(s.symbol=s.symbol||a.defaultSymbol,r.setVisual(extend({legendIcon:a.legendIcon||s.symbol,symbolKeepAspect:a.get("symbolKeepAspect")},s)),n.isSeriesFiltered(a))return;var v=keys(l);function g(y,_){for(var S=a.getRawValue(_),x=a.getDataParams(_),A=0;A<v.length;A++){var b=v[A];y.setItemVisual(_,b,l[b](S,x))}}return{dataEach:u?g:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(a,n){if(!a.hasSymbolVisual||n.isSeriesFiltered(a))return;var r=a.getData();function s(l,u){for(var c=l.getItemModel(u),f=0;f<SYMBOL_PROPS.length;f++){var d=SYMBOL_PROPS[f],v=c.getShallow(d,!0);v!=null&&l.setItemVisual(u,d,v)}}return{dataEach:r.hasItemOption?s:null}}};function getItemVisualFromData(a,n,r){switch(r){case"color":var s=a.getItemVisual(n,"style");return s[a.getVisual("drawType")];case"opacity":return a.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getItemVisual(n,r)}}function getVisualFromData(a,n){switch(n){case"color":var r=a.getVisual("style");return r[a.getVisual("drawType")];case"opacity":return a.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return a.getVisual(n)}}function setItemVisualFromData(a,n,r,s){switch(r){case"color":var l=a.ensureUniqueItemVisual(n,"style");l[a.getVisual("drawType")]=s,a.setItemVisual(n,"colorFromPalette",!1);break;case"opacity":a.ensureUniqueItemVisual(n,"style").opacity=s;break;case"symbol":case"symbolSize":case"liftZ":a.setItemVisual(n,r,s);break}}function createLegacyDataSelectAction(a,n){function r(s,l){var u=[];return s.eachComponent({mainType:"series",subType:a,query:l},function(c){u.push(c.seriesIndex)}),u}each$f([[a+"ToggleSelect","toggleSelect"],[a+"Select","select"],[a+"UnSelect","unselect"]],function(s){n(s[0],function(l,u,c){l=extend({},l),c.dispatchAction(extend(l,{type:s[1],seriesIndex:r(u,l)}))})})}function handleSeriesLegacySelectEvents(a,n,r,s,l){var u=a+n;r.isSilent(u)||s.eachComponent({mainType:"series",subType:"pie"},function(c){for(var f=c.seriesIndex,d=c.option.selectedMap,v=l.selected,g=0;g<v.length;g++)if(v[g].seriesIndex===f){var y=c.getData(),_=queryDataIndex(y,l.fromActionPayload);r.trigger(u,{type:u,seriesId:c.id,name:isArray$2(_)?y.getName(_[0]):y.getName(_),selected:isString(d)?d:extend({},d)})}})}function handleLegacySelectEvents(a,n,r){a.on("selectchanged",function(s){var l=r.getModel();s.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",n,l,s),handleSeriesLegacySelectEvents("pie","selectchanged",n,l,s)):s.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",n,l,s),handleSeriesLegacySelectEvents("pie","selected",n,l,s)):s.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",n,l,s),handleSeriesLegacySelectEvents("pie","unselected",n,l,s))})}function findEventDispatcher(a,n,r){for(var s;a&&!(n(a)&&(s=a,r));)a=a.__hostTarget||a.parent;return s}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function a(){this._id="__ec_inner_"+wmUniqueIndex++}return a.prototype.get=function(n){return this._guard(n)[this._id]},a.prototype.set=function(n,r){var s=this._guard(n);return supportDefineProperty?Object.defineProperty(s,this._id,{value:r,enumerable:!1,configurable:!0}):s[this._id]=r,this},a.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},a.prototype.has=function(n){return!!this._guard(n)[this._id]},a.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},a}();const WeakMap$2=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,n){var r=n.cx,s=n.cy,l=n.width/2,u=n.height/2;a.moveTo(r,s-u),a.lineTo(r+l,s+u),a.lineTo(r-l,s+u),a.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,n){var r=n.cx,s=n.cy,l=n.width/2,u=n.height/2;a.moveTo(r,s-u),a.lineTo(r+l,s),a.lineTo(r,s+u),a.lineTo(r-l,s),a.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,n){var r=n.x,s=n.y,l=n.width/5*3,u=Math.max(l,n.height),c=l/2,f=c*c/(u-c),d=s-u+c+f,v=Math.asin(f/c),g=Math.cos(v)*c,y=Math.sin(v),_=Math.cos(v),S=c*.6,x=c*.7;a.moveTo(r-g,d+f),a.arc(r,d,c,Math.PI-v,Math.PI*2+v),a.bezierCurveTo(r+g-y*S,d+f+_*S,r,s-x,r,s),a.bezierCurveTo(r,s-x,r-g+y*S,d+f+_*S,r-g,d+f),a.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,n){var r=n.height,s=n.width,l=n.x,u=n.y,c=s/3*2;a.moveTo(l,u),a.lineTo(l+c,u+r),a.lineTo(l,u+r/4*3),a.lineTo(l-c,u+r),a.lineTo(l,u),a.closePath()}}),symbolCtors={line:Line$3,rect:Rect$3,roundRect:Rect$3,square:Rect$3,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(a,n,r,s,l){l.x1=a,l.y1=n+s/2,l.x2=a+r,l.y2=n+s/2},rect:function(a,n,r,s,l){l.x=a,l.y=n,l.width=r,l.height=s},roundRect:function(a,n,r,s,l){l.x=a,l.y=n,l.width=r,l.height=s,l.r=Math.min(r,s)/4},square:function(a,n,r,s,l){var u=Math.min(r,s);l.x=a,l.y=n,l.width=u,l.height=u},circle:function(a,n,r,s,l){l.cx=a+r/2,l.cy=n+s/2,l.r=Math.min(r,s)/2},diamond:function(a,n,r,s,l){l.cx=a+r/2,l.cy=n+s/2,l.width=r,l.height=s},pin:function(a,n,r,s,l){l.x=a+r/2,l.y=n+s/2,l.width=r,l.height=s},arrow:function(a,n,r,s,l){l.x=a+r/2,l.y=n+s/2,l.width=r,l.height=s},triangle:function(a,n,r,s,l){l.cx=a+r/2,l.cy=n+s/2,l.width=r,l.height=s}},symbolBuildProxies={};each$f(symbolCtors,function(a,n){symbolBuildProxies[n]=new a});var SymbolClz$1=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(a,n,r){var s=calculateTextPosition(a,n,r),l=this.shape;return l&&l.symbolType==="pin"&&n.position==="inside"&&(s.y=r.y+r.height*.4),s},buildPath:function(a,n,r){var s=n.symbolType;if(s!=="none"){var l=symbolBuildProxies[s];l||(s="rect",l=symbolBuildProxies[s]),symbolShapeMakers[s](n.x,n.y,n.width,n.height,l.shape),l.buildPath(a,l.shape,r)}}});function symbolPathSetColor(a,n){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=a,r.fill=n||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=a:r.fill=a,this.markRedraw()}}function createSymbol$1(a,n,r,s,l,u,c){var f=a.indexOf("empty")===0;f&&(a=a.substr(5,1).toLowerCase()+a.substr(6));var d;return a.indexOf("image://")===0?d=makeImage(a.slice(8),new BoundingRect$1(n,r,s,l),c?"center":"cover"):a.indexOf("path://")===0?d=makePath(a.slice(7),{},new BoundingRect$1(n,r,s,l),c?"center":"cover"):d=new SymbolClz$1({shape:{symbolType:a,x:n,y:r,width:s,height:l}}),d.__isEmptyBrush=f,d.setColor=symbolPathSetColor,u&&d.setColor(u),d}function normalizeSymbolSize(a){return isArray$2(a)||(a=[+a,+a]),[a[0]||0,a[1]||0]}function normalizeSymbolOffset(a,n){if(a!=null)return isArray$2(a)||(a=[a,a]),[parsePercent(a[0],n[0])||0,parsePercent(retrieve2(a[1],a[0]),n[1])||0]}function isSafeNum(a){return isFinite(a)}function createLinearGradient(a,n,r){var s=n.x==null?0:n.x,l=n.x2==null?1:n.x2,u=n.y==null?0:n.y,c=n.y2==null?0:n.y2;n.global||(s=s*r.width+r.x,l=l*r.width+r.x,u=u*r.height+r.y,c=c*r.height+r.y),s=isSafeNum(s)?s:0,l=isSafeNum(l)?l:1,u=isSafeNum(u)?u:0,c=isSafeNum(c)?c:0;var f=a.createLinearGradient(s,u,l,c);return f}function createRadialGradient(a,n,r){var s=r.width,l=r.height,u=Math.min(s,l),c=n.x==null?.5:n.x,f=n.y==null?.5:n.y,d=n.r==null?.5:n.r;n.global||(c=c*s+r.x,f=f*l+r.y,d=d*u),c=isSafeNum(c)?c:.5,f=isSafeNum(f)?f:.5,d=d>=0&&isSafeNum(d)?d:.5;var v=a.createRadialGradient(c,f,0,c,f,d);return v}function getCanvasGradient(a,n,r){for(var s=n.type==="radial"?createRadialGradient(a,n,r):createLinearGradient(a,n,r),l=n.colorStops,u=0;u<l.length;u++)s.addColorStop(l[u].offset,l[u].color);return s}function isClipPathChanged(a,n){if(a===n||!a&&!n)return!1;if(!a||!n||a.length!==n.length)return!0;for(var r=0;r<a.length;r++)if(a[r]!==n[r])return!0;return!1}function parseInt10(a){return parseInt(a,10)}function getSize$1(a,n,r){var s=["width","height"][n],l=["clientWidth","clientHeight"][n],u=["paddingLeft","paddingTop"][n],c=["paddingRight","paddingBottom"][n];if(r[s]!=null&&r[s]!=="auto")return parseFloat(r[s]);var f=document.defaultView.getComputedStyle(a);return(a[l]||parseInt10(f[s])||parseInt10(a.style[s]))-(parseInt10(f[u])||0)-(parseInt10(f[c])||0)|0}function normalizeLineDash(a,n){return!a||a==="solid"||!(n>0)?null:a==="dashed"?[4*n,2*n]:a==="dotted"?[n]:isNumber(a)?[a]:isArray$2(a)?a:null}function getLineDash(a){var n=a.style,r=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),s=n.lineDashOffset;if(r){var l=n.strokeNoScale&&a.getLineScale?a.getLineScale():1;l&&l!==1&&(r=map$1(r,function(u){return u/l}),s/=l)}return[r,s]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(a){var n=a.stroke;return!(n==null||n==="none"||!(a.lineWidth>0))}function isValidStrokeFillStyle(a){return typeof a=="string"&&a!=="none"}function styleHasFill(a){var n=a.fill;return n!=null&&n!=="none"}function doFillPath(a,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var r=a.globalAlpha;a.globalAlpha=n.fillOpacity*n.opacity,a.fill(),a.globalAlpha=r}else a.fill()}function doStrokePath(a,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var r=a.globalAlpha;a.globalAlpha=n.strokeOpacity*n.opacity,a.stroke(),a.globalAlpha=r}else a.stroke()}function createCanvasPattern(a,n,r){var s=createOrUpdateImage(n.image,n.__image,r);if(isImageReady(s)){var l=a.createPattern(s,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&l&&l.setTransform){var u=new DOMMatrix;u.translateSelf(n.x||0,n.y||0),u.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),u.scaleSelf(n.scaleX||1,n.scaleY||1),l.setTransform(u)}return l}}function brushPath(a,n,r,s){var l,u=styleHasStroke(r),c=styleHasFill(r),f=r.strokePercent,d=f<1,v=!n.path;(!n.silent||d)&&v&&n.createPathProxy();var g=n.path||pathProxyForDraw,y=n.__dirty;if(!s){var _=r.fill,S=r.stroke,x=c&&!!_.colorStops,A=u&&!!S.colorStops,b=c&&!!_.image,w=u&&!!S.image,E=void 0,M=void 0,P=void 0,R=void 0,I=void 0;(x||A)&&(I=n.getBoundingRect()),x&&(E=y?getCanvasGradient(a,_,I):n.__canvasFillGradient,n.__canvasFillGradient=E),A&&(M=y?getCanvasGradient(a,S,I):n.__canvasStrokeGradient,n.__canvasStrokeGradient=M),b&&(P=y||!n.__canvasFillPattern?createCanvasPattern(a,_,n):n.__canvasFillPattern,n.__canvasFillPattern=P),w&&(R=y||!n.__canvasStrokePattern?createCanvasPattern(a,S,n):n.__canvasStrokePattern,n.__canvasStrokePattern=P),x?a.fillStyle=E:b&&(P?a.fillStyle=P:c=!1),A?a.strokeStyle=M:w&&(R?a.strokeStyle=R:u=!1)}var L=n.getGlobalScale();g.setScale(L[0],L[1],n.segmentIgnoreThreshold);var O,N;a.setLineDash&&r.lineDash&&(l=getLineDash(n),O=l[0],N=l[1]);var B=!0;(v||y&SHAPE_CHANGED_BIT)&&(g.setDPR(a.dpr),d?g.setContext(null):(g.setContext(a),B=!1),g.reset(),n.buildPath(g,n.shape,s),g.toStatic(),n.pathUpdated()),B&&g.rebuildPath(a,d?f:1),O&&(a.setLineDash(O),a.lineDashOffset=N),s||(r.strokeFirst?(u&&doStrokePath(a,r),c&&doFillPath(a,r)):(c&&doFillPath(a,r),u&&doStrokePath(a,r))),O&&a.setLineDash([])}function brushImage(a,n,r){var s=n.__image=createOrUpdateImage(r.image,n.__image,n,n.onload);if(!(!s||!isImageReady(s))){var l=r.x||0,u=r.y||0,c=n.getWidth(),f=n.getHeight(),d=s.width/s.height;if(c==null&&f!=null?c=f*d:f==null&&c!=null?f=c/d:c==null&&f==null&&(c=s.width,f=s.height),r.sWidth&&r.sHeight){var v=r.sx||0,g=r.sy||0;a.drawImage(s,v,g,r.sWidth,r.sHeight,l,u,c,f)}else if(r.sx&&r.sy){var v=r.sx,g=r.sy,y=c-v,_=f-g;a.drawImage(s,v,g,y,_,l,u,c,f)}else a.drawImage(s,l,u,c,f)}}function brushText(a,n,r){var s,l=r.text;if(l!=null&&(l+=""),l){a.font=r.font||DEFAULT_FONT,a.textAlign=r.textAlign,a.textBaseline=r.textBaseline;var u=void 0,c=void 0;a.setLineDash&&r.lineDash&&(s=getLineDash(n),u=s[0],c=s[1]),u&&(a.setLineDash(u),a.lineDashOffset=c),r.strokeFirst?(styleHasStroke(r)&&a.strokeText(l,r.x,r.y),styleHasFill(r)&&a.fillText(l,r.x,r.y)):(styleHasFill(r)&&a.fillText(l,r.x,r.y),styleHasStroke(r)&&a.strokeText(l,r.x,r.y)),u&&a.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(a,n,r,s,l){var u=!1;if(!s&&(r=r||{},n===r))return!1;if(s||n.opacity!==r.opacity){flushPathDrawn(a,l),u=!0;var c=Math.max(Math.min(n.opacity,1),0);a.globalAlpha=isNaN(c)?DEFAULT_COMMON_STYLE.opacity:c}(s||n.blend!==r.blend)&&(u||(flushPathDrawn(a,l),u=!0),a.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var f=0;f<SHADOW_NUMBER_PROPS.length;f++){var d=SHADOW_NUMBER_PROPS[f];(s||n[d]!==r[d])&&(u||(flushPathDrawn(a,l),u=!0),a[d]=a.dpr*(n[d]||0))}return(s||n.shadowColor!==r.shadowColor)&&(u||(flushPathDrawn(a,l),u=!0),a.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),u}function bindPathAndTextCommonStyle(a,n,r,s,l){var u=getStyle(n,l.inHover),c=s?null:r&&getStyle(r,l.inHover)||{};if(u===c)return!1;var f=bindCommonProps(a,u,c,s,l);if((s||u.fill!==c.fill)&&(f||(flushPathDrawn(a,l),f=!0),isValidStrokeFillStyle(u.fill)&&(a.fillStyle=u.fill)),(s||u.stroke!==c.stroke)&&(f||(flushPathDrawn(a,l),f=!0),isValidStrokeFillStyle(u.stroke)&&(a.strokeStyle=u.stroke)),(s||u.opacity!==c.opacity)&&(f||(flushPathDrawn(a,l),f=!0),a.globalAlpha=u.opacity==null?1:u.opacity),n.hasStroke()){var d=u.lineWidth,v=d/(u.strokeNoScale&&n.getLineScale?n.getLineScale():1);a.lineWidth!==v&&(f||(flushPathDrawn(a,l),f=!0),a.lineWidth=v)}for(var g=0;g<STROKE_PROPS.length;g++){var y=STROKE_PROPS[g],_=y[0];(s||u[_]!==c[_])&&(f||(flushPathDrawn(a,l),f=!0),a[_]=u[_]||y[1])}return f}function bindImageStyle(a,n,r,s,l){return bindCommonProps(a,getStyle(n,l.inHover),r&&getStyle(r,l.inHover),s,l)}function setContextTransform(a,n){var r=n.transform,s=a.dpr||1;r?a.setTransform(s*r[0],s*r[1],s*r[2],s*r[3],s*r[4],s*r[5]):a.setTransform(s,0,0,s,0,0)}function updateClipStatus(a,n,r){for(var s=!1,l=0;l<a.length;l++){var u=a[l];s=s||u.isZeroArea(),setContextTransform(n,u),n.beginPath(),u.buildPath(n,u.shape),n.clip()}r.allClipped=s}function isTransformChanged(a,n){return a&&n?a[0]!==n[0]||a[1]!==n[1]||a[2]!==n[2]||a[3]!==n[3]||a[4]!==n[4]||a[5]!==n[5]:!(!a&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(a){var n=styleHasFill(a),r=styleHasStroke(a);return!(a.lineDash||!(+n^+r)||n&&typeof a.fill!="string"||r&&typeof a.stroke!="string"||a.strokePercent<1||a.strokeOpacity<1||a.fillOpacity<1)}function flushPathDrawn(a,n){n.batchFill&&a.fill(),n.batchStroke&&a.stroke(),n.batchFill="",n.batchStroke=""}function getStyle(a,n){return n&&a.__hoverStyle||a.style}function brushSingle(a,n){brush$1(a,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(a,n,r,s){var l=n.transform;if(!n.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){n.__dirty&=~REDRAW_BIT,n.__isRendered=!1;return}var u=n.__clipPaths,c=r.prevElClipPaths,f=!1,d=!1;if((!c||isClipPathChanged(u,c))&&(c&&c.length&&(flushPathDrawn(a,r),a.restore(),d=f=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),u&&u.length&&(flushPathDrawn(a,r),a.save(),updateClipStatus(u,a,r),f=!0),r.prevElClipPaths=u),r.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var v=r.prevEl;v||(d=f=!0);var g=n instanceof Path$1&&n.autoBatch&&canPathBatch(n.style);f||isTransformChanged(l,v.transform)?(flushPathDrawn(a,r),setContextTransform(a,n)):g||flushPathDrawn(a,r);var y=getStyle(n,r.inHover);n instanceof Path$1?(r.lastDrawType!==DRAW_TYPE_PATH&&(d=!0,r.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(a,n,v,d,r),(!g||!r.batchFill&&!r.batchStroke)&&a.beginPath(),brushPath(a,n,y,g),g&&(r.batchFill=y.fill||"",r.batchStroke=y.stroke||"")):n instanceof TSpan$1?(r.lastDrawType!==DRAW_TYPE_TEXT&&(d=!0,r.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(a,n,v,d,r),brushText(a,n,y)):n instanceof ZRImage$1?(r.lastDrawType!==DRAW_TYPE_IMAGE&&(d=!0,r.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(a,n,v,d,r),brushImage(a,n,y)):n.getTemporalDisplayables&&(r.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(d=!0,r.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(a,n,r)),g&&s&&flushPathDrawn(a,r),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),r.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(a,n,r){var s=n.getDisplayables(),l=n.getTemporalDisplayables();a.save();var u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},c,f;for(c=n.getCursor(),f=s.length;c<f;c++){var d=s[c];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(a,d,u,c===f-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),u.prevEl=d}for(var v=0,g=l.length;v<g;v++){var d=l[v];d.beforeBrush&&d.beforeBrush(),d.innerBeforeBrush(),brush$1(a,d,u,v===g-1),d.innerAfterBrush(),d.afterBrush&&d.afterBrush(),u.prevEl=d}n.clearTemporalDisplayables(),n.notClear=!0,a.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(a,n){if(a==="none")return null;var r=n.getDevicePixelRatio(),s=n.getZr(),l=s.painter.type==="svg";a.dirty&&decalMap.delete(a);var u=decalMap.get(a);if(u)return u;var c=defaults(a,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});c.backgroundColor==="none"&&(c.backgroundColor=null);var f={repeat:"repeat"};return d(f),f.rotation=c.rotation,f.scaleX=f.scaleY=l?1:1/r,decalMap.set(a,f),a.dirty=!1,f;function d(v){for(var g=[r],y=!0,_=0;_<decalKeys.length;++_){var S=c[decalKeys[_]];if(S!=null&&!isArray$2(S)&&!isString(S)&&!isNumber(S)&&typeof S!="boolean"){y=!1;break}g.push(S)}var x;if(y){x=g.join(",")+(l?"-svg":"");var A=decalCache.get(x);A&&(l?v.svgElement=A:v.image=A)}var b=normalizeDashArrayX(c.dashArrayX),w=normalizeDashArrayY(c.dashArrayY),E=normalizeSymbolArray(c.symbol),M=getLineBlockLengthX(b),P=getLineBlockLengthY(w),R=!l&&platformApi.createCanvas(),I=l&&{tag:"g",attrs:{},key:"dcl",children:[]},L=N(),O;R&&(R.width=L.width*r,R.height=L.height*r,O=R.getContext("2d")),B(),y&&decalCache.put(x,R||I),v.image=R,v.svgElement=I,v.svgWidth=L.width,v.svgHeight=L.height;function N(){for(var F=1,V=0,z=M.length;V<z;++V)F=getLeastCommonMultiple(F,M[V]);for(var U=1,V=0,z=E.length;V<z;++V)U=getLeastCommonMultiple(U,E[V].length);F*=U;var Y=P*M.length*E.length;return{width:Math.max(1,Math.min(F,c.maxTileWidth)),height:Math.max(1,Math.min(Y,c.maxTileHeight))}}function B(){O&&(O.clearRect(0,0,R.width,R.height),c.backgroundColor&&(O.fillStyle=c.backgroundColor,O.fillRect(0,0,R.width,R.height)));for(var F=0,V=0;V<w.length;++V)F+=w[V];if(F<=0)return;for(var z=-P,U=0,Y=0,q=0;z<L.height;){if(U%2===0){for(var Q=Y/2%E.length,j=0,ne=0,fe=0;j<L.width*2;){for(var de=0,V=0;V<b[q].length;++V)de+=b[q][V];if(de<=0)break;if(ne%2===0){var be=(1-c.symbolSize)*.5,Me=j+b[q][ne]*be,Pe=z+w[U]*be,ae=b[q][ne]*c.symbolSize,me=w[U]*c.symbolSize,se=fe/2%E[Q].length;ue(Me,Pe,ae,me,E[Q][se])}j+=b[q][ne],++fe,++ne,ne===b[q].length&&(ne=0)}++q,q===b.length&&(q=0)}z+=w[U],++Y,++U,U===w.length&&(U=0)}function ue(Ee,$e,pe,ye,Z){var X=l?1:r,re=createSymbol$1(Z,Ee*X,$e*X,pe*X,ye*X,c.color,c.symbolKeepAspect);if(l){var ce=s.painter.renderOneToVNode(re);ce&&I.children.push(ce)}else brushSingle(O,re)}}}}function normalizeSymbolArray(a){if(!a||a.length===0)return[["rect"]];if(isString(a))return[[a]];for(var n=!0,r=0;r<a.length;++r)if(!isString(a[r])){n=!1;break}if(n)return normalizeSymbolArray([a]);for(var s=[],r=0;r<a.length;++r)isString(a[r])?s.push([a[r]]):s.push(a[r]);return s}function normalizeDashArrayX(a){if(!a||a.length===0)return[[0,0]];if(isNumber(a)){var n=Math.ceil(a);return[[n,n]]}for(var r=!0,s=0;s<a.length;++s)if(!isNumber(a[s])){r=!1;break}if(r)return normalizeDashArrayX([a]);for(var l=[],s=0;s<a.length;++s)if(isNumber(a[s])){var n=Math.ceil(a[s]);l.push([n,n])}else{var n=map$1(a[s],function(f){return Math.ceil(f)});n.length%2===1?l.push(n.concat(n)):l.push(n)}return l}function normalizeDashArrayY(a){if(!a||typeof a=="object"&&a.length===0)return[0,0];if(isNumber(a)){var n=Math.ceil(a);return[n,n]}var r=map$1(a,function(s){return Math.ceil(s)});return a.length%2?r.concat(r):r}function getLineBlockLengthX(a){return map$1(a,function(n){return getLineBlockLengthY(n)})}function getLineBlockLengthY(a){for(var n=0,r=0;r<a.length;++r)n+=a[r];return a.length%2===1?n*2:n}function decalVisual(a,n){a.eachRawSeries(function(r){if(!a.isSeriesFiltered(r)){var s=r.getData();s.hasItemVisual()&&s.each(function(c){var f=s.getItemVisual(c,"decal");if(f){var d=s.ensureUniqueItemVisual(c,"style");d.decal=createOrUpdatePatternFromDecal(f,n)}});var l=s.getVisual("decal");if(l){var u=s.getVisual("style");u.decal=createOrUpdatePatternFromDecal(l,n)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(a,n){implsStore[a]=n}function getImpl(a){return implsStore[a]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(a){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,a,n)}}function createRegisterEventWithLowercaseMessageCenter(a){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return toLowercaseNameAndCallEventful(this,a,n)}}function toLowercaseNameAndCallEventful(a,n,r){return r[0]=r[0]&&r[0].toLowerCase(),Eventful$1.prototype[n].apply(a,r)}var MessageCenter=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(a){__extends(n,a);function n(r,s,l){var u=a.call(this,new ECEventProcessor)||this;u._chartsViews=[],u._chartsMap={},u._componentsViews=[],u._componentsMap={},u._pendingActions=[],l=l||{},isString(s)&&(s=themeStorage[s]),u._dom=r;var c="canvas",f="auto",d=!1,v=u._zr=init$2(r,{renderer:l.renderer||c,devicePixelRatio:l.devicePixelRatio,width:l.width,height:l.height,ssr:l.ssr,useDirtyRect:retrieve2(l.useDirtyRect,d),useCoarsePointer:retrieve2(l.useCoarsePointer,f),pointerSize:l.pointerSize});u._ssr=l.ssr,u._throttledZrFlush=throttle(bind$1(v.flush,v),17),s=clone$4(s),s&&globalBackwardCompat(s,!0),u._theme=s,u._locale=createLocaleObject(l.locale||SYSTEM_LANG),u._coordSysMgr=new CoordinateSystem;var g=u._api=createExtensionAPI(u);function y(_,S){return _.__prio-S.__prio}return sort$2(visualFuncs,y),sort$2(dataProcessorFuncs,y),u._scheduler=new Scheduler$1(u,g,dataProcessorFuncs,visualFuncs),u._messageCenter=new MessageCenter,u._initEvents(),u.resize=bind$1(u.resize,u),v.animation.on("frame",u._onframe,u),bindRenderedEvent(v,u),bindMouseEvent(v,u),setAsPrimitive(u),u}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var r=this._scheduler;if(this[PENDING_UPDATE]){var s=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(d){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,d}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,s),triggerUpdatedEvent.call(this,s)}else if(r.unfinished){var l=TEST_FRAME_REMAIN_TIME,u=this._model,c=this._api;r.unfinished=!1;do{var f=+new Date;r.performSeriesTasks(u),r.performDataProcessorTasks(u),updateStreamModes(this,u),r.performVisualTasks(u),renderSeries(this,this._model,c,"remain",{}),l-=+new Date-f}while(l>0&&r.unfinished);r.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(r,s,l){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var u,c,f;if(isObject$3(s)&&(l=s.lazyUpdate,u=s.silent,c=s.replaceMerge,f=s.transition,s=s.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||s){var d=new OptionManager$1(this._api),v=this._theme,g=this._model=new GlobalModel$1;g.scheduler=this._scheduler,g.ssr=this._ssr,g.init(null,null,null,v,this._locale,d)}this._model.setOption(r,{replaceMerge:c},optionPreprocessorFuncs);var y={seriesTransition:f,optionChanged:!0};if(l)this[PENDING_UPDATE]={silent:u,updateParams:y},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,y)}catch(_){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,_}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,u),triggerUpdatedEvent.call(this,u)}}},n.prototype.setTheme=function(){},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},n.prototype.renderToCanvas=function(r){r=r||{};var s=this._zr.painter;return s.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(r){r=r||{};var s=this._zr.painter;return s.renderToString({useViewBox:r.useViewBox})},n.prototype.getSvgDataURL=function(){if(!!env$1.svgSupported){var r=this._zr,s=r.storage.getDisplayList();return each$f(s,function(l){l.stopAnimation(null,!0)}),r.painter.toDataURL()}},n.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var s=r.excludeComponents,l=this._model,u=[],c=this;each$f(s,function(d){l.eachComponent({mainType:d},function(v){var g=c._componentsMap[v.__viewId];g.group.ignore||(u.push(g),g.group.ignore=!0)})});var f=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return each$f(u,function(d){d.group.ignore=!1}),f},n.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var s=r.type==="svg",l=this.group,u=Math.min,c=Math.max,f=1/0;if(connectedGroups[l]){var d=f,v=f,g=-f,y=-f,_=[],S=r&&r.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(M,P){if(M.group===l){var R=s?M.getZr().painter.getSvgDom().innerHTML:M.renderToCanvas(clone$4(r)),I=M.getDom().getBoundingClientRect();d=u(I.left,d),v=u(I.top,v),g=c(I.right,g),y=c(I.bottom,y),_.push({dom:R,left:I.left,top:I.top})}}),d*=S,v*=S,g*=S,y*=S;var x=g-d,A=y-v,b=platformApi.createCanvas(),w=init$2(b,{renderer:s?"svg":"canvas"});if(w.resize({width:x,height:A}),s){var E="";return each$f(_,function(M){var P=M.left-d,R=M.top-v;E+='<g transform="translate('+P+","+R+')">'+M.dom+"</g>"}),w.painter.getSvgRoot().innerHTML=E,r.connectedBackgroundColor&&w.painter.setBackgroundColor(r.connectedBackgroundColor),w.refreshImmediately(),w.painter.toDataURL()}else return r.connectedBackgroundColor&&w.add(new Rect$3({shape:{x:0,y:0,width:x,height:A},style:{fill:r.connectedBackgroundColor}})),each$f(_,function(M){var P=new ZRImage$1({style:{x:M.left*S-d,y:M.top*S-v,image:M.dom}});w.add(P)}),w.refreshImmediately(),b.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},n.prototype.convertToPixel=function(r,s){return doConvertPixel(this,"convertToPixel",r,s)},n.prototype.convertFromPixel=function(r,s){return doConvertPixel(this,"convertFromPixel",r,s)},n.prototype.containPixel=function(r,s){if(this._disposed){this.id;return}var l=this._model,u,c=parseFinder$1(l,r);return each$f(c,function(f,d){d.indexOf("Models")>=0&&each$f(f,function(v){var g=v.coordinateSystem;if(g&&g.containPoint)u=u||!!g.containPoint(s);else if(d==="seriesModels"){var y=this._chartsMap[v.__viewId];y&&y.containPoint&&(u=u||y.containPoint(s,v))}},this)},this),!!u},n.prototype.getVisual=function(r,s){var l=this._model,u=parseFinder$1(l,r,{defaultMainType:"series"}),c=u.seriesModel,f=c.getData(),d=u.hasOwnProperty("dataIndexInside")?u.dataIndexInside:u.hasOwnProperty("dataIndex")?f.indexOfRawIndex(u.dataIndex):null;return d!=null?getItemVisualFromData(f,d,s):getVisualFromData(f,s)},n.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},n.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},n.prototype._initEvents=function(){var r=this;each$f(MOUSE_EVENT_NAMES,function(s){var l=function(u){var c=r.getModel(),f=u.target,d,v=s==="globalout";if(v?d={}:f&&findEventDispatcher(f,function(x){var A=getECData(x);if(A&&A.dataIndex!=null){var b=A.dataModel||c.getSeriesByIndex(A.seriesIndex);return d=b&&b.getDataParams(A.dataIndex,A.dataType)||{},!0}else if(A.eventData)return d=extend({},A.eventData),!0},!0),d){var g=d.componentType,y=d.componentIndex;(g==="markLine"||g==="markPoint"||g==="markArea")&&(g="series",y=d.seriesIndex);var _=g&&y!=null&&c.getComponent(g,y),S=_&&r[_.mainType==="series"?"_chartsMap":"_componentsMap"][_.__viewId];d.event=u,d.type=s,r._$eventProcessor.eventInfo={targetEl:f,packedEvent:d,model:_,view:S},r.trigger(s,d)}};l.zrEventfulCallAtLast=!0,r._zr.on(s,l,r)}),each$f(eventActionMap,function(s,l){r._messageCenter.on(l,function(u){this.trigger(l,u)},r)}),each$f(["selectchanged"],function(s){r._messageCenter.on(s,function(l){this.trigger(s,l)},r)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var s=this,l=s._api,u=s._model;each$f(s._componentsViews,function(c){c.dispose(u,l)}),each$f(s._chartsViews,function(c){c.dispose(u,l)}),s._zr.dispose(),s._dom=s._model=s._chartsMap=s._componentsMap=s._chartsViews=s._componentsViews=s._scheduler=s._api=s._zr=s._throttledZrFlush=s._theme=s._coordSysMgr=s._messageCenter=null,delete instances[s.id]},n.prototype.resize=function(r){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(r);var s=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!s){var l=s.resetOption("media"),u=r&&r.silent;this[PENDING_UPDATE]&&(u==null&&(u=this[PENDING_UPDATE].silent),l=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{l&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},r&&r.animation)})}catch(c){throw this[IN_MAIN_PROCESS_KEY]=!1,c}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,u),triggerUpdatedEvent.call(this,u)}}},n.prototype.showLoading=function(r,s){if(this._disposed){this.id;return}if(isObject$3(r)&&(s=r,r=""),r=r||"default",this.hideLoading(),!!loadingEffects[r]){var l=loadingEffects[r](this._api,s),u=this._zr;this._loadingFX=l,u.add(l)}},n.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(r){var s=extend({},r);return s.type=eventActionMap[r.type],s},n.prototype.dispatchAction=function(r,s){if(this._disposed){this.id;return}if(isObject$3(s)||(s={silent:!!s}),!!actions[r.type]&&!!this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(r);return}var l=s.silent;doDispatchAction.call(this,r,l);var u=s.flush;u?this._zr.flush():u!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,l),triggerUpdatedEvent.call(this,l)}},n.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(r){if(this._disposed){this.id;return}var s=r.seriesIndex,l=this.getModel(),u=l.getSeriesByIndex(s);u.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(y){var _=y._scheduler;_.restorePipelines(y._model),_.prepareStageTasks(),prepareView(y,!0),prepareView(y,!1),_.plan()},prepareView=function(y,_){for(var S=y._model,x=y._scheduler,A=_?y._componentsViews:y._chartsViews,b=_?y._componentsMap:y._chartsMap,w=y._zr,E=y._api,M=0;M<A.length;M++)A[M].__alive=!1;_?S.eachComponent(function(I,L){I!=="series"&&P(L)}):S.eachSeries(P);function P(I){var L=I.__requireNewView;I.__requireNewView=!1;var O="_ec_"+I.id+"_"+I.type,N=!L&&b[O];if(!N){var B=parseClassType(I.type),F=_?ComponentView$1.getClass(B.main,B.sub):ChartView$1.getClass(B.sub);N=new F,N.init(S,E),b[O]=N,A.push(N),w.add(N.group)}I.__viewId=N.__id=O,N.__alive=!0,N.__model=I,N.group.__ecComponentInfo={mainType:I.mainType,index:I.componentIndex},!_&&x.prepareView(N,I,S,E)}for(var M=0;M<A.length;){var R=A[M];R.__alive?M++:(!_&&R.renderTask.dispose(),w.remove(R.group),R.dispose(S,E),A.splice(M,1),b[R.__id]===R&&delete b[R.__id],R.__id=R.group.__ecComponentInfo=null)}},updateDirectly=function(y,_,S,x,A){var b=y._model;if(b.setUpdatePayload(S),!x){each$f([].concat(y._componentsViews).concat(y._chartsViews),R);return}var w={};w[x+"Id"]=S[x+"Id"],w[x+"Index"]=S[x+"Index"],w[x+"Name"]=S[x+"Name"];var E={mainType:x,query:w};A&&(E.subType=A);var M=S.excludeSeriesId,P;M!=null&&(P=createHashMap(),each$f(normalizeToArray(M),function(I){var L=convertOptionIdName(I,null);L!=null&&P.set(L,!0)})),b&&b.eachComponent(E,function(I){var L=P&&P.get(I.id)!=null;if(!L)if(isHighDownPayload(S))if(I instanceof SeriesModel$1)S.type===HIGHLIGHT_ACTION_TYPE&&!S.notBlur&&!I.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(I,S,y._api);else{var O=findComponentHighDownDispatchers(I.mainType,I.componentIndex,S.name,y._api),N=O.focusSelf,B=O.dispatchers;S.type===HIGHLIGHT_ACTION_TYPE&&N&&!S.notBlur&&blurComponent(I.mainType,I.componentIndex,y._api),B&&each$f(B,function(F){S.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(F):leaveEmphasis(F)})}else isSelectChangePayload(S)&&I instanceof SeriesModel$1&&(toggleSelectionFromPayload(I,S,y._api),updateSeriesElementSelection(I),markStatusToUpdate(y))},y),b&&b.eachComponent(E,function(I){var L=P&&P.get(I.id)!=null;L||R(y[x==="series"?"_chartsMap":"_componentsMap"][I.__viewId])},y);function R(I){I&&I.__alive&&I[_]&&I[_](I.__model,b,y._api,S)}},updateMethods={prepareAndUpdate:function(y){prepare(this),updateMethods.update.call(this,y,{optionChanged:y.newOption!=null})},update:function(y,_){var S=this._model,x=this._api,A=this._zr,b=this._coordSysMgr,w=this._scheduler;if(!!S){S.setUpdatePayload(y),w.restoreData(S,y),w.performSeriesTasks(S),b.create(S,x),w.performDataProcessorTasks(S,y),updateStreamModes(this,S),b.update(S,x),r(S),w.performVisualTasks(S,y),render(this,S,x,y,_);var E=S.get("backgroundColor")||"transparent",M=S.get("darkMode");A.setBackgroundColor(E),M!=null&&M!=="auto"&&A.setDarkMode(M),lifecycle$1.trigger("afterupdate",S,x)}},updateTransform:function(y){var _=this,S=this._model,x=this._api;if(!!S){S.setUpdatePayload(y);var A=[];S.eachComponent(function(w,E){if(w!=="series"){var M=_.getViewOfComponentModel(E);if(M&&M.__alive)if(M.updateTransform){var P=M.updateTransform(E,S,x,y);P&&P.update&&A.push(M)}else A.push(M)}});var b=createHashMap();S.eachSeries(function(w){var E=_._chartsMap[w.__viewId];if(E.updateTransform){var M=E.updateTransform(w,S,x,y);M&&M.update&&b.set(w.uid,1)}else b.set(w.uid,1)}),r(S),this._scheduler.performVisualTasks(S,y,{setDirty:!0,dirtyMap:b}),renderSeries(this,S,x,y,{},b),lifecycle$1.trigger("afterupdate",S,x)}},updateView:function(y){var _=this._model;!_||(_.setUpdatePayload(y),ChartView$1.markUpdateMethod(y,"updateView"),r(_),this._scheduler.performVisualTasks(_,y,{setDirty:!0}),render(this,_,this._api,y,{}),lifecycle$1.trigger("afterupdate",_,this._api))},updateVisual:function(y){var _=this,S=this._model;!S||(S.setUpdatePayload(y),S.eachSeries(function(x){x.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(y,"updateVisual"),r(S),this._scheduler.performVisualTasks(S,y,{visualType:"visual",setDirty:!0}),S.eachComponent(function(x,A){if(x!=="series"){var b=_.getViewOfComponentModel(A);b&&b.__alive&&b.updateVisual(A,S,_._api,y)}}),S.eachSeries(function(x){var A=_._chartsMap[x.__viewId];A.updateVisual(x,S,_._api,y)}),lifecycle$1.trigger("afterupdate",S,this._api))},updateLayout:function(y){updateMethods.update.call(this,y)}},doConvertPixel=function(y,_,S,x){if(y._disposed){y.id;return}for(var A=y._model,b=y._coordSysMgr.getCoordinateSystems(),w,E=parseFinder$1(A,S),M=0;M<b.length;M++){var P=b[M];if(P[_]&&(w=P[_](A,E,x))!=null)return w}},updateStreamModes=function(y,_){var S=y._chartsMap,x=y._scheduler;_.eachSeries(function(A){x.updateStreamModes(A,S[A.__viewId])})},doDispatchAction=function(y,_){var S=this,x=this.getModel(),A=y.type,b=y.escapeConnect,w=actions[A],E=w.actionInfo,M=(E.update||"update").split(":"),P=M.pop(),R=M[0]!=null&&parseClassType(M[0]);this[IN_MAIN_PROCESS_KEY]=!0;var I=[y],L=!1;y.batch&&(L=!0,I=map$1(y.batch,function(U){return U=defaults(extend({},U),y),U.batch=null,U}));var O=[],N,B=isSelectChangePayload(y),F=isHighDownPayload(y);if(F&&allLeaveBlur(this._api),each$f(I,function(U){if(N=w.action(U,S._model,S._api),N=N||extend({},U),N.type=E.event||N.type,O.push(N),F){var Y=preParseFinder(y),q=Y.queryOptionMap,Q=Y.mainTypeSpecified,j=Q?q.keys()[0]:"series";updateDirectly(S,P,U,j),markStatusToUpdate(S)}else B?(updateDirectly(S,P,U,"series"),markStatusToUpdate(S)):R&&updateDirectly(S,P,U,R.main,R.sub)}),P!=="none"&&!F&&!B&&!R)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,y),this[PENDING_UPDATE]=null):updateMethods[P].call(this,y)}catch(U){throw this[IN_MAIN_PROCESS_KEY]=!1,U}if(L?N={type:E.event||A,escapeConnect:b,batch:O}:N=O[0],this[IN_MAIN_PROCESS_KEY]=!1,!_){var V=this._messageCenter;if(V.trigger(N.type,N),B){var z={type:"selectchanged",escapeConnect:b,selected:getAllSelectedIndices(x),isFromClick:y.isFromClick||!1,fromAction:y.type,fromActionPayload:y};V.trigger(z.type,z)}}},flushPendingActions=function(y){for(var _=this._pendingActions;_.length;){var S=_.shift();doDispatchAction.call(this,S,y)}},triggerUpdatedEvent=function(y){!y&&this.trigger("updated")},bindRenderedEvent=function(y,_){y.on("rendered",function(S){_.trigger("rendered",S),y.animation.isFinished()&&!_[PENDING_UPDATE]&&!_._scheduler.unfinished&&!_._pendingActions.length&&_.trigger("finished")})},bindMouseEvent=function(y,_){y.on("mouseover",function(S){var x=S.target,A=findEventDispatcher(x,isHighDownDispatcher);A&&(handleGlobalMouseOverForHighDown(A,S,_._api),markStatusToUpdate(_))}).on("mouseout",function(S){var x=S.target,A=findEventDispatcher(x,isHighDownDispatcher);A&&(handleGlobalMouseOutForHighDown(A,S,_._api),markStatusToUpdate(_))}).on("click",function(S){var x=S.target,A=findEventDispatcher(x,function(E){return getECData(E).dataIndex!=null},!0);if(A){var b=A.selected?"unselect":"select",w=getECData(A);_._api.dispatchAction({type:b,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})};function r(y){y.clearColorPalette(),y.eachSeries(function(_){_.clearColorPalette()})}function s(y){var _=[],S=[],x=!1;if(y.eachComponent(function(E,M){var P=M.get("zlevel")||0,R=M.get("z")||0,I=M.getZLevelKey();x=x||!!I,(E==="series"?S:_).push({zlevel:P,z:R,idx:M.componentIndex,type:E,key:I})}),x){var A=_.concat(S),b,w;sort$2(A,function(E,M){return E.zlevel===M.zlevel?E.z-M.z:E.zlevel-M.zlevel}),each$f(A,function(E){var M=y.getComponent(E.type,E.idx),P=E.zlevel,R=E.key;b!=null&&(P=Math.max(b,P)),R?(P===b&&R!==w&&P++,w=R):w&&(P===b&&P++,w=""),b=P,M.setZLevel(P)})}}render=function(y,_,S,x,A){s(_),renderComponents(y,_,S,x,A),each$f(y._chartsViews,function(b){b.__alive=!1}),renderSeries(y,_,S,x,A),each$f(y._chartsViews,function(b){b.__alive||b.remove(_,S)})},renderComponents=function(y,_,S,x,A,b){each$f(b||y._componentsViews,function(w){var E=w.__model;v(E,w),w.render(E,_,S,x),f(E,w),g(E,w)})},renderSeries=function(y,_,S,x,A,b){var w=y._scheduler;A=extend(A||{},{updatedSeries:_.getSeries()}),lifecycle$1.trigger("series:beforeupdate",_,S,A);var E=!1;_.eachSeries(function(M){var P=y._chartsMap[M.__viewId];P.__alive=!0;var R=P.renderTask;w.updatePayload(R,x),v(M,P),b&&b.get(M.uid)&&R.dirty(),R.perform(w.getPerformArgs(R))&&(E=!0),P.group.silent=!!M.get("silent"),c(M,P),updateSeriesElementSelection(M)}),w.unfinished=E||w.unfinished,lifecycle$1.trigger("series:layoutlabels",_,S,A),lifecycle$1.trigger("series:transition",_,S,A),_.eachSeries(function(M){var P=y._chartsMap[M.__viewId];f(M,P),g(M,P)}),u(y,_),lifecycle$1.trigger("series:afterupdate",_,S,A)},markStatusToUpdate=function(y){y[STATUS_NEEDS_UPDATE_KEY]=!0,y.getZr().wakeUp()},applyChangedStates=function(y){!y[STATUS_NEEDS_UPDATE_KEY]||(y.getZr().storage.traverse(function(_){isElementRemoved(_)||l(_)}),y[STATUS_NEEDS_UPDATE_KEY]=!1)};function l(y){for(var _=[],S=y.currentStates,x=0;x<S.length;x++){var A=S[x];A==="emphasis"||A==="blur"||A==="select"||_.push(A)}y.selected&&y.states.select&&_.push("select"),y.hoverState===HOVER_STATE_EMPHASIS&&y.states.emphasis?_.push("emphasis"):y.hoverState===HOVER_STATE_BLUR&&y.states.blur&&_.push("blur"),y.useStates(_)}function u(y,_){var S=y._zr,x=S.storage,A=0;x.traverse(function(b){b.isGroup||A++}),A>_.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&_.eachSeries(function(b){if(!b.preventUsingHoverLayer){var w=y._chartsMap[b.__viewId];w.__alive&&w.eachRendered(function(E){E.states.emphasis&&(E.states.emphasis.hoverLayer=!0)})}})}function c(y,_){var S=y.get("blendMode")||null;_.eachRendered(function(x){x.isGroup||(x.style.blend=S)})}function f(y,_){if(!y.preventAutoZ){var S=y.get("z")||0,x=y.get("zlevel")||0;_.eachRendered(function(A){return d(A,S,x,-1/0),!0})}}function d(y,_,S,x){var A=y.getTextContent(),b=y.getTextGuideLine(),w=y.isGroup;if(w)for(var E=y.childrenRef(),M=0;M<E.length;M++)x=Math.max(d(E[M],_,S,x),x);else y.z=_,y.zlevel=S,x=Math.max(y.z2,x);if(A&&(A.z=_,A.zlevel=S,isFinite(x)&&(A.z2=x+2)),b){var P=y.textGuideLineConfig;b.z=_,b.zlevel=S,isFinite(x)&&(b.z2=x+(P&&P.showAbove?1:-1))}return x}function v(y,_){_.eachRendered(function(S){if(!isElementRemoved(S)){var x=S.getTextContent(),A=S.getTextGuideLine();S.stateTransition&&(S.stateTransition=null),x&&x.stateTransition&&(x.stateTransition=null),A&&A.stateTransition&&(A.stateTransition=null),S.hasState()?(S.prevStates=S.currentStates,S.clearStates()):S.prevStates&&(S.prevStates=null)}})}function g(y,_){var S=y.getModel("stateAnimation"),x=y.isAnimationEnabled(),A=S.get("duration"),b=A>0?{duration:A,delay:S.get("delay"),easing:S.get("easing")}:null;_.eachRendered(function(w){if(w.states&&w.states.emphasis){if(isElementRemoved(w))return;if(w instanceof Path$1&&savePathStates(w),w.__dirty){var E=w.prevStates;E&&w.useStates(E)}if(x){w.stateTransition=b;var M=w.getTextContent(),P=w.getTextGuideLine();M&&(M.stateTransition=b),P&&(P.stateTransition=b)}w.__dirty&&l(w)}})}createExtensionAPI=function(y){return new(function(_){__extends(S,_);function S(){return _!==null&&_.apply(this,arguments)||this}return S.prototype.getCoordinateSystems=function(){return y._coordSysMgr.getCoordinateSystems()},S.prototype.getComponentByElement=function(x){for(;x;){var A=x.__ecComponentInfo;if(A!=null)return y._model.getComponent(A.mainType,A.index);x=x.parent}},S.prototype.enterEmphasis=function(x,A){enterEmphasis(x,A),markStatusToUpdate(y)},S.prototype.leaveEmphasis=function(x,A){leaveEmphasis(x,A),markStatusToUpdate(y)},S.prototype.enterBlur=function(x){enterBlur(x),markStatusToUpdate(y)},S.prototype.leaveBlur=function(x){leaveBlur(x),markStatusToUpdate(y)},S.prototype.enterSelect=function(x){enterSelect(x),markStatusToUpdate(y)},S.prototype.leaveSelect=function(x){leaveSelect(x),markStatusToUpdate(y)},S.prototype.getModel=function(){return y.getModel()},S.prototype.getViewOfComponentModel=function(x){return y.getViewOfComponentModel(x)},S.prototype.getViewOfSeriesModel=function(x){return y.getViewOfSeriesModel(x)},S}(ExtensionAPI$1))(y)},enableConnect=function(y){function _(S,x){for(var A=0;A<S.length;A++){var b=S[A];b[CONNECT_STATUS_KEY]=x}}each$f(eventActionMap,function(S,x){y._messageCenter.on(x,function(A){if(connectedGroups[y.group]&&y[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(A&&A.escapeConnect)return;var b=y.makeActionFromEvent(A),w=[];each$f(instances,function(E){E!==y&&E.group===y.group&&w.push(E)}),_(w,CONNECT_STATUS_PENDING),each$f(w,function(E){E[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&E.dispatchAction(b)}),_(w,CONNECT_STATUS_UPDATED)}})})}}(),n}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(a,n,r){var s=this;function l(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];n&&n.apply&&n.apply(this,u),s.off(a,l)}this.on.call(this,a,l,r)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(a){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(a,n,r){var s=!(r&&r.ssr);if(s){var l=getInstanceByDom(a);if(l)return l}var u=new ECharts(a,n,r);return u.id="ec_"+idBase++,instances[u.id]=u,s&&setAttribute(a,DOM_ATTRIBUTE_KEY,u.id),enableConnect(u),lifecycle$1.trigger("afterinit",u),u}function getInstanceByDom(a){return instances[getAttribute(a,DOM_ATTRIBUTE_KEY)]}function registerTheme(a,n){themeStorage[a]=n}function registerPreprocessor(a){indexOf(optionPreprocessorFuncs,a)<0&&optionPreprocessorFuncs.push(a)}function registerProcessor(a,n){normalizeRegister(dataProcessorFuncs,a,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(a){registerUpdateLifecycle("afterinit",a)}function registerPostUpdate(a){registerUpdateLifecycle("afterupdate",a)}function registerUpdateLifecycle(a,n){lifecycle$1.on(a,n)}function registerAction(a,n,r){isFunction(n)&&(r=n,n="");var s=isObject$3(a)?a.type:[a,a={event:n}][0];a.event=(a.event||s).toLowerCase(),n=a.event,!eventActionMap[n]&&(assert(ACTION_REG.test(s)&&ACTION_REG.test(n)),actions[s]||(actions[s]={action:r,actionInfo:a}),eventActionMap[n]=s)}function registerCoordinateSystem(a,n){CoordinateSystem.register(a,n)}function registerLayout(a,n){normalizeRegister(visualFuncs,a,n,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(a,n){normalizeRegister(visualFuncs,a,n,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(a,n,r,s,l){if((isFunction(n)||isObject$3(n))&&(r=n,n=s),!(indexOf(registeredTasks,r)>=0)){registeredTasks.push(r);var u=Scheduler$1.wrapStageHandler(r,l);u.__prio=n,u.__raw=r,a.push(u)}}function registerLoading(a,n){loadingEffects[a]=n}function registerMap$1(a,n,r){var s=getImpl("registerMap");s&&s(a,n,r)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop$1);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop$1);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop$1);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop$1);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop$1);registerTheme("light",lightTheme);registerTheme("dark",darkTheme);var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(a){ComponentModel$1.registerClass(a)},registerComponentView:function(a){ComponentView$1.registerClass(a)},registerSeriesModel:function(a){SeriesModel$1.registerClass(a)},registerChartView:function(a){ChartView$1.registerClass(a)},registerSubTypeDefaulter:function(a,n){ComponentModel$1.registerSubTypeDefaulter(a,n)},registerPainter:function(a,n){registerPainter(a,n)}};function use(a){if(isArray$2(a)){each$f(a,function(n){use(n)});return}indexOf(extensions,a)>=0||(extensions.push(a),isFunction(a)&&(a={install:a}),a.install(extensionRegisters))}function dataIndexMapValueLength(a){return a==null?0:a.length||1}function defaultKeyGetter(a){return a}var DataDiffer=function(){function a(n,r,s,l,u,c){this._old=n,this._new=r,this._oldKeyGetter=s||defaultKeyGetter,this._newKeyGetter=l||defaultKeyGetter,this.context=u,this._diffModeMultiple=c==="multiple"}return a.prototype.add=function(n){return this._add=n,this},a.prototype.update=function(n){return this._update=n,this},a.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},a.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},a.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},a.prototype.remove=function(n){return this._remove=n,this},a.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},a.prototype._executeOneToOne=function(){var n=this._old,r=this._new,s={},l=new Array(n.length),u=new Array(r.length);this._initIndexMap(n,null,l,"_oldKeyGetter"),this._initIndexMap(r,s,u,"_newKeyGetter");for(var c=0;c<n.length;c++){var f=l[c],d=s[f],v=dataIndexMapValueLength(d);if(v>1){var g=d.shift();d.length===1&&(s[f]=d[0]),this._update&&this._update(g,c)}else v===1?(s[f]=null,this._update&&this._update(d,c)):this._remove&&this._remove(c)}this._performRestAdd(u,s)},a.prototype._executeMultiple=function(){var n=this._old,r=this._new,s={},l={},u=[],c=[];this._initIndexMap(n,s,u,"_oldKeyGetter"),this._initIndexMap(r,l,c,"_newKeyGetter");for(var f=0;f<u.length;f++){var d=u[f],v=s[d],g=l[d],y=dataIndexMapValueLength(v),_=dataIndexMapValueLength(g);if(y>1&&_===1)this._updateManyToOne&&this._updateManyToOne(g,v),l[d]=null;else if(y===1&&_>1)this._updateOneToMany&&this._updateOneToMany(g,v),l[d]=null;else if(y===1&&_===1)this._update&&this._update(g,v),l[d]=null;else if(y>1&&_>1)this._updateManyToMany&&this._updateManyToMany(g,v),l[d]=null;else if(y>1)for(var S=0;S<y;S++)this._remove&&this._remove(v[S]);else this._remove&&this._remove(v)}this._performRestAdd(c,l)},a.prototype._performRestAdd=function(n,r){for(var s=0;s<n.length;s++){var l=n[s],u=r[l],c=dataIndexMapValueLength(u);if(c>1)for(var f=0;f<c;f++)this._add&&this._add(u[f]);else c===1&&this._add&&this._add(u);r[l]=null}},a.prototype._initIndexMap=function(n,r,s,l){for(var u=this._diffModeMultiple,c=0;c<n.length;c++){var f="_ec_"+this[l](n[c],c);if(u||(s[c]=f),!!r){var d=r[f],v=dataIndexMapValueLength(d);v===0?(r[f]=c,u&&s.push(f)):v===1?r[f]=[d,c]:d.push(c)}}},a}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function a(n,r){this._encode=n,this._schema=r}return a.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},a.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},a}();function summarizeDimensions(a,n){var r={},s=r.encode={},l=createHashMap(),u=[],c=[],f={};each$f(a.dimensions,function(_){var S=a.getDimensionInfo(_),x=S.coordDim;if(x){var A=S.coordDimIndex;getOrCreateEncodeArr(s,x)[A]=_,S.isExtraCoord||(l.set(x,1),mayLabelDimType(S.type)&&(u[0]=_),getOrCreateEncodeArr(f,x)[A]=a.getDimensionIndex(S.name)),S.defaultTooltip&&c.push(_)}VISUAL_DIMENSIONS.each(function(b,w){var E=getOrCreateEncodeArr(s,w),M=S.otherDims[w];M!=null&&M!==!1&&(E[M]=S.name)})});var d=[],v={};l.each(function(_,S){var x=s[S];v[S]=x[0],d=d.concat(x)}),r.dataDimsOnCoord=d,r.dataDimIndicesOnCoord=map$1(d,function(_){return a.getDimensionInfo(_).storeDimIndex}),r.encodeFirstDimNotExtra=v;var g=s.label;g&&g.length&&(u=g.slice());var y=s.tooltip;return y&&y.length?c=y.slice():c.length||(c=u.slice()),s.defaultedLabel=u,s.defaultedTooltip=c,r.userOutput=new DimensionUserOuput(f,n),r}function getOrCreateEncodeArr(a,n){return a.hasOwnProperty(n)||(a[n]=[]),a[n]}function getDimensionTypeByAxis(a){return a==="category"?"ordinal":a==="time"?"time":"float"}function mayLabelDimType(a){return!(a==="ordinal"||a==="time")}var SeriesDimensionDefine=function(){function a(n){this.otherDims={},n!=null&&extend(this,n)}return a}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function a(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return a.prototype.isDimensionOmitted=function(){return this._dimOmitted},a.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},a.prototype.getSourceDimensionIndex=function(n){return retrieve2(this._dimNameMap.get(n),-1)},a.prototype.getSourceDimension=function(n){var r=this.source.dimensionsDefine;if(r)return r[n]},a.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,r=shouldRetrieveDataByName(this.source),s=!shouldOmitUnusedDimensions(n),l="",u=[],c=0,f=0;c<n;c++){var d=void 0,v=void 0,g=void 0,y=this.dimensions[f];if(y&&y.storeDimIndex===c)d=r?y.name:null,v=y.type,g=y.ordinalMeta,f++;else{var _=this.getSourceDimension(c);_&&(d=r?_.name:null,v=_.type)}u.push({property:d,type:v,ordinalMeta:g}),r&&d!=null&&(!y||!y.isCalculationCoord)&&(l+=s?d.replace(/\`/g,"`1").replace(/\$/g,"`2"):d),l+="$",l+=dimTypeShort[v]||"f",g&&(l+=g.uid),l+="$"}var S=this.source,x=[S.seriesLayoutBy,S.startIndex,l].join("$$");return{dimensions:u,hash:x}},a.prototype.makeOutputDimensionNames=function(){for(var n=[],r=0,s=0;r<this._fullDimCount;r++){var l=void 0,u=this.dimensions[s];if(u&&u.storeDimIndex===r)u.isCalculationCoord||(l=u.name),s++;else{var c=this.getSourceDimension(r);c&&(l=c.name)}n.push(l)}return n},a.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},a}();function isSeriesDataSchema(a){return a instanceof SeriesDataSchema}function createDimNameMap(a){for(var n=createHashMap(),r=0;r<(a||[]).length;r++){var s=a[r],l=isObject$3(s)?s.name:s;l!=null&&n.get(l)==null&&n.set(l,r)}return n}function ensureSourceDimNameMap(a){var n=inner$h(a);return n.dimNameMap||(n.dimNameMap=createDimNameMap(a.dimensionsDefine))}function shouldOmitUnusedDimensions(a){return a>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function a(n,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var s,l=!1;isSeriesDataSchema(n)?(s=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(l=!0,s=n),s=s||["x","y"];for(var u={},c=[],f={},d=!1,v={},g=0;g<s.length;g++){var y=s[g],_=isString(y)?new SeriesDimensionDefine$1({name:y}):y instanceof SeriesDimensionDefine$1?y:new SeriesDimensionDefine$1(y),S=_.name;_.type=_.type||"float",_.coordDim||(_.coordDim=S,_.coordDimIndex=0);var x=_.otherDims=_.otherDims||{};c.push(S),u[S]=_,v[S]!=null&&(d=!0),_.createInvertedIndices&&(f[S]=[]),x.itemName===0&&(this._nameDimIdx=g),x.itemId===0&&(this._idDimIdx=g),l&&(_.storeDimIndex=g)}if(this.dimensions=c,this._dimInfos=u,this._initGetDimensionInfo(d),this.hostModel=r,this._invertedIndicesMap=f,this._dimOmitted){var A=this._dimIdxToName=createHashMap();each$f(c,function(b){A.set(u[b].storeDimIndex,b)})}}return a.prototype.getDimension=function(n){var r=this._recognizeDimIndex(n);if(r==null)return n;if(r=n,!this._dimOmitted)return this.dimensions[r];var s=this._dimIdxToName.get(r);if(s!=null)return s;var l=this._schema.getSourceDimension(r);if(l)return l.name},a.prototype.getDimensionIndex=function(n){var r=this._recognizeDimIndex(n);if(r!=null)return r;if(n==null)return-1;var s=this._getDimInfo(n);return s?s.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},a.prototype._recognizeDimIndex=function(n){if(isNumber(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},a.prototype._getStoreDimIndex=function(n){var r=this.getDimensionIndex(n);return r},a.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},a.prototype._initGetDimensionInfo=function(n){var r=this._dimInfos;this._getDimInfo=n?function(s){return r.hasOwnProperty(s)?r[s]:void 0}:function(s){return r[s]}},a.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},a.prototype.mapDimension=function(n,r){var s=this._dimSummary;if(r==null)return s.encodeFirstDimNotExtra[n];var l=s.encode[n];return l?l[r]:null},a.prototype.mapDimensionsAll=function(n){var r=this._dimSummary,s=r.encode[n];return(s||[]).slice()},a.prototype.getStore=function(){return this._store},a.prototype.initData=function(n,r,s){var l=this,u;if(n instanceof DataStore&&(u=n),!u){var c=this.dimensions,f=isSourceInstance(n)||isArrayLike(n)?new DefaultDataProvider(n,c.length):n;u=new DataStore;var d=map(c,function(v){return{type:l._dimInfos[v].type,property:v}});u.initData(f,d,s)}this._store=u,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,u.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},a.prototype.appendData=function(n){var r=this._store.appendData(n);this._doInit(r[0],r[1])},a.prototype.appendValues=function(n,r){var s=this._store.appendValues(n,r.length),l=s.start,u=s.end,c=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var f=l;f<u;f++){var d=f-l;this._nameList[f]=r[d],c&&makeIdFromName(this,f)}},a.prototype._updateOrdinalMeta=function(){for(var n=this._store,r=this.dimensions,s=0;s<r.length;s++){var l=this._dimInfos[r[s]];l.ordinalMeta&&n.collectOrdinalMeta(l.storeDimIndex,l.ordinalMeta)}},a.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!n.fillStorage},a.prototype._doInit=function(n,r){if(!(n>=r)){var s=this._store,l=s.getProvider();this._updateOrdinalMeta();var u=this._nameList,c=this._idList,f=l.getSource().sourceFormat,d=f===SOURCE_FORMAT_ORIGINAL;if(d&&!l.pure)for(var v=[],g=n;g<r;g++){var y=l.getItem(g,v);if(!this.hasItemOption&&isDataItemOption(y)&&(this.hasItemOption=!0),y){var _=y.name;u[g]==null&&_!=null&&(u[g]=convertOptionIdName(_,null));var S=y.id;c[g]==null&&S!=null&&(c[g]=convertOptionIdName(S,null))}}if(this._shouldMakeIdFromName())for(var g=n;g<r;g++)makeIdFromName(this,g);prepareInvertedIndex(this)}},a.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},a.prototype.setApproximateExtent=function(n,r){r=this.getDimension(r),this._approximateExtent[r]=n.slice()},a.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},a.prototype.setCalculationInfo=function(n,r){isObject$1(n)?extend(this._calculationInfo,n):this._calculationInfo[n]=r},a.prototype.getName=function(n){var r=this.getRawIndex(n),s=this._nameList[r];return s==null&&this._nameDimIdx!=null&&(s=getIdNameFromStore(this,this._nameDimIdx,r)),s==null&&(s=""),s},a.prototype._getCategory=function(n,r){var s=this._store.get(n,r),l=this._store.getOrdinalMeta(n);return l?l.categories[s]:s},a.prototype.getId=function(n){return getId(this,this.getRawIndex(n))},a.prototype.count=function(){return this._store.count()},a.prototype.get=function(n,r){var s=this._store,l=this._dimInfos[n];if(l)return s.get(l.storeDimIndex,r)},a.prototype.getByRawIndex=function(n,r){var s=this._store,l=this._dimInfos[n];if(l)return s.getByRawIndex(l.storeDimIndex,r)},a.prototype.getIndices=function(){return this._store.getIndices()},a.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},a.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},a.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},a.prototype.getValues=function(n,r){var s=this,l=this._store;return isArray$2(n)?l.getValues(map(n,function(u){return s._getStoreDimIndex(u)}),r):l.getValues(n)},a.prototype.hasValue=function(n){for(var r=this._dimSummary.dataDimIndicesOnCoord,s=0,l=r.length;s<l;s++)if(isNaN(this._store.get(r[s],n)))return!1;return!0},a.prototype.indexOfName=function(n){for(var r=0,s=this._store.count();r<s;r++)if(this.getName(r)===n)return r;return-1},a.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},a.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},a.prototype.rawIndexOf=function(n,r){var s=n&&this._invertedIndicesMap[n],l=s[r];return l==null||isNaN(l)?INDEX_NOT_FOUND:l},a.prototype.indicesOfNearest=function(n,r,s){return this._store.indicesOfNearest(this._getStoreDimIndex(n),r,s)},a.prototype.each=function(n,r,s){isFunction(n)&&(s=r,r=n,n=[]);var l=s||this,u=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.each(u,l?bind$1(r,l):r)},a.prototype.filterSelf=function(n,r,s){isFunction(n)&&(s=r,r=n,n=[]);var l=s||this,u=map(normalizeDimensions(n),this._getStoreDimIndex,this);return this._store=this._store.filter(u,l?bind$1(r,l):r),this},a.prototype.selectRange=function(n){var r=this,s={},l=keys(n);return each$f(l,function(u){var c=r._getStoreDimIndex(u);s[c]=n[u]}),this._store=this._store.selectRange(s),this},a.prototype.mapArray=function(n,r,s){isFunction(n)&&(s=r,r=n,n=[]),s=s||this;var l=[];return this.each(n,function(){l.push(r&&r.apply(this,arguments))},s),l},a.prototype.map=function(n,r,s,l){var u=s||l||this,c=map(normalizeDimensions(n),this._getStoreDimIndex,this),f=cloneListForMapAndSample(this);return f._store=this._store.map(c,u?bind$1(r,u):r),f},a.prototype.modify=function(n,r,s,l){var u=s||l||this,c=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.modify(c,u?bind$1(r,u):r)},a.prototype.downSample=function(n,r,s,l){var u=cloneListForMapAndSample(this);return u._store=this._store.downSample(this._getStoreDimIndex(n),r,s,l),u},a.prototype.lttbDownSample=function(n,r){var s=cloneListForMapAndSample(this);return s._store=this._store.lttbDownSample(this._getStoreDimIndex(n),r),s},a.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},a.prototype.getItemModel=function(n){var r=this.hostModel,s=this.getRawDataItem(n);return new Model$1(s,r,r&&r.ecModel)},a.prototype.diff=function(n){var r=this;return new DataDiffer$1(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(s){return getId(n,s)},function(s){return getId(r,s)})},a.prototype.getVisual=function(n){var r=this._visual;return r&&r[n]},a.prototype.setVisual=function(n,r){this._visual=this._visual||{},isObject$1(n)?extend(this._visual,n):this._visual[n]=r},a.prototype.getItemVisual=function(n,r){var s=this._itemVisuals[n],l=s&&s[r];return l==null?this.getVisual(r):l},a.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},a.prototype.ensureUniqueItemVisual=function(n,r){var s=this._itemVisuals,l=s[n];l||(l=s[n]={});var u=l[r];return u==null&&(u=this.getVisual(r),isArray$2(u)?u=u.slice():isObject$1(u)&&(u=extend({},u)),l[r]=u),u},a.prototype.setItemVisual=function(n,r,s){var l=this._itemVisuals[n]||{};this._itemVisuals[n]=l,isObject$1(r)?extend(l,r):l[r]=s},a.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},a.prototype.setLayout=function(n,r){isObject$1(n)?extend(this._layout,n):this._layout[n]=r},a.prototype.getLayout=function(n){return this._layout[n]},a.prototype.getItemLayout=function(n){return this._itemLayouts[n]},a.prototype.setItemLayout=function(n,r,s){this._itemLayouts[n]=s?extend(this._itemLayouts[n]||{},r):r},a.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},a.prototype.setItemGraphicEl=function(n,r){var s=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(s,this.dataType,n,r),this._graphicEls[n]=r},a.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},a.prototype.eachItemGraphicEl=function(n,r){each$f(this._graphicEls,function(s,l){s&&n&&n.call(r,s,l)})},a.prototype.cloneShallow=function(n){return n||(n=new a(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(n,this),n._store=this._store,n},a.prototype.wrapMethod=function(n,r){var s=this[n];!isFunction(s)||(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var l=s.apply(this,arguments);return r.apply(this,[l].concat(slice(arguments)))})},a.internalField=function(){prepareInvertedIndex=function(n){var r=n._invertedIndicesMap;each$f(r,function(s,l){var u=n._dimInfos[l],c=u.ordinalMeta,f=n._store;if(c){s=r[l]=new CtorInt32Array(c.categories.length);for(var d=0;d<s.length;d++)s[d]=INDEX_NOT_FOUND;for(var d=0;d<f.count();d++)s[f.get(u.storeDimIndex,d)]=d}})},getIdNameFromStore=function(n,r,s){return convertOptionIdName(n._getCategory(r,s),null)},getId=function(n,r){var s=n._idList[r];return s==null&&n._idDimIdx!=null&&(s=getIdNameFromStore(n,n._idDimIdx,r)),s==null&&(s=ID_PREFIX+r),s},normalizeDimensions=function(n){return isArray$2(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample=function(n){var r=new a(n._schema?n._schema:map(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(r,n),r},transferProperties=function(n,r){each$f(TRANSFERABLE_PROPERTIES.concat(r.__wrappedMethods||[]),function(s){r.hasOwnProperty(s)&&(n[s]=r[s])}),n.__wrappedMethods=r.__wrappedMethods,each$f(CLONE_PROPERTIES,function(s){n[s]=clone$4(r[s])}),n._calculationInfo=extend({},r._calculationInfo)},makeIdFromName=function(n,r){var s=n._nameList,l=n._idList,u=n._nameDimIdx,c=n._idDimIdx,f=s[r],d=l[r];if(f==null&&u!=null&&(s[r]=f=getIdNameFromStore(n,u,r)),d==null&&c!=null&&(l[r]=d=getIdNameFromStore(n,c,r)),d==null&&f!=null){var v=n._nameRepeatCount,g=v[f]=(v[f]||0)+1;d=f,g>1&&(d+="__ec__"+g),l[r]=d}}}(),a}();const SeriesData$1=SeriesData;function prepareSeriesDataSchema(a,n){isSourceInstance(a)||(a=createSourceFromSeriesDataOption(a)),n=n||{};var r=n.coordDimensions||[],s=n.dimensionsDefine||a.dimensionsDefine||[],l=createHashMap(),u=[],c=getDimCount(a,r,s,n.dimensionsCount),f=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(c),d=s===a.dimensionsDefine,v=d?ensureSourceDimNameMap(a):createDimNameMap(s),g=n.encodeDefine;!g&&n.encodeDefaulter&&(g=n.encodeDefaulter(a,c));for(var y=createHashMap(g),_=new CtorInt32Array$1(c),S=0;S<_.length;S++)_[S]=-1;function x(N){var B=_[N];if(B<0){var F=s[N],V=isObject$3(F)?F:{name:F},z=new SeriesDimensionDefine$1,U=V.name;U!=null&&v.get(U)!=null&&(z.name=z.displayName=U),V.type!=null&&(z.type=V.type),V.displayName!=null&&(z.displayName=V.displayName);var Y=u.length;return _[N]=Y,z.storeDimIndex=N,u.push(z),z}return u[B]}if(!f)for(var S=0;S<c;S++)x(S);y.each(function(N,B){var F=normalizeToArray(N).slice();if(F.length===1&&!isString(F[0])&&F[0]<0){y.set(B,!1);return}var V=y.set(B,[]);each$f(F,function(z,U){var Y=isString(z)?v.get(z):z;Y!=null&&Y<c&&(V[U]=Y,b(x(Y),B,U))})});var A=0;each$f(r,function(N){var B,F,V,z;if(isString(N))B=N,z={};else{z=N,B=z.name;var U=z.ordinalMeta;z.ordinalMeta=null,z=extend({},z),z.ordinalMeta=U,F=z.dimsDef,V=z.otherDims,z.name=z.coordDim=z.coordDimIndex=z.dimsDef=z.otherDims=null}var Y=y.get(B);if(Y!==!1){if(Y=normalizeToArray(Y),!Y.length)for(var q=0;q<(F&&F.length||1);q++){for(;A<c&&x(A).coordDim!=null;)A++;A<c&&Y.push(A++)}each$f(Y,function(Q,j){var ne=x(Q);if(d&&z.type!=null&&(ne.type=z.type),b(defaults(ne,z),B,j),ne.name==null&&F){var fe=F[j];!isObject$3(fe)&&(fe={name:fe}),ne.name=ne.displayName=fe.name,ne.defaultTooltip=fe.defaultTooltip}V&&defaults(ne.otherDims,V)})}});function b(N,B,F){VISUAL_DIMENSIONS.get(B)!=null?N.otherDims[B]=F:(N.coordDim=B,N.coordDimIndex=F,l.set(B,!0))}var w=n.generateCoord,E=n.generateCoordCount,M=E!=null;E=w?E||1:0;var P=w||"value";function R(N){N.name==null&&(N.name=N.coordDim)}if(f)each$f(u,function(N){R(N)}),u.sort(function(N,B){return N.storeDimIndex-B.storeDimIndex});else for(var I=0;I<c;I++){var L=x(I),O=L.coordDim;O==null&&(L.coordDim=genCoordDimName(P,l,M),L.coordDimIndex=0,(!w||E<=0)&&(L.isExtraCoord=!0),E--),R(L),L.type==null&&(guessOrdinal(a,I)===BE_ORDINAL.Must||L.isExtraCoord&&(L.otherDims.itemName!=null||L.otherDims.seriesName!=null))&&(L.type="ordinal")}return removeDuplication(u),new SeriesDataSchema({source:a,dimensions:u,fullDimensionCount:c,dimensionOmitted:f})}function removeDuplication(a){for(var n=createHashMap(),r=0;r<a.length;r++){var s=a[r],l=s.name,u=n.get(l)||0;u>0&&(s.name=l+(u-1)),u++,n.set(l,u)}}function getDimCount(a,n,r,s){var l=Math.max(a.dimensionsDetectedCount||1,n.length,r.length,s||0);return each$f(n,function(u){var c;isObject$3(u)&&(c=u.dimsDef)&&(l=Math.max(l,c.length))}),l}function genCoordDimName(a,n,r){if(r||n.hasKey(a)){for(var s=0;n.hasKey(a+s);)s++;a+=s}return n.set(a,!0),a}var CoordSysInfo=function(){function a(n){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=n}return a}();function getCoordSysInfoBySeries(a){var n=a.get("coordinateSystem"),r=new CoordSysInfo(n),s=fetchers[n];if(s)return s(a,r,r.axisMap,r.categoryAxisMap),r}var fetchers={cartesian2d:function(a,n,r,s){var l=a.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],u=a.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["x","y"],r.set("x",l),r.set("y",u),isCategory(l)&&(s.set("x",l),n.firstCategoryDimIndex=0),isCategory(u)&&(s.set("y",u),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},singleAxis:function(a,n,r,s){var l=a.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["single"],r.set("single",l),isCategory(l)&&(s.set("single",l),n.firstCategoryDimIndex=0)},polar:function(a,n,r,s){var l=a.getReferringComponents("polar",SINGLE_REFERRING).models[0],u=l.findAxisModel("radiusAxis"),c=l.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],r.set("radius",u),r.set("angle",c),isCategory(u)&&(s.set("radius",u),n.firstCategoryDimIndex=0),isCategory(c)&&(s.set("angle",c),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(a,n,r,s){n.coordSysDims=["lng","lat"]},parallel:function(a,n,r,s){var l=a.ecModel,u=l.getComponent("parallel",a.get("parallelIndex")),c=n.coordSysDims=u.dimensions.slice();each$f(u.parallelAxisIndex,function(f,d){var v=l.getComponent("parallelAxis",f),g=c[d];r.set(g,v),isCategory(v)&&(s.set(g,v),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=d))})}};function isCategory(a){return a.get("type")==="category"}function enableDataStack(a,n,r){r=r||{};var s=r.byIndex,l=r.stackedCoordDimension,u,c,f;isLegacyDimensionsInput(n)?u=n:(c=n.schema,u=c.dimensions,f=n.store);var d=!!(a&&a.get("stack")),v,g,y,_;if(each$f(u,function(E,M){isString(E)&&(u[M]=E={name:E}),d&&!E.isExtraCoord&&(!s&&!v&&E.ordinalMeta&&(v=E),!g&&E.type!=="ordinal"&&E.type!=="time"&&(!l||l===E.coordDim)&&(g=E))}),g&&!s&&!v&&(s=!0),g){y="__\0ecstackresult_"+a.id,_="__\0ecstackedover_"+a.id,v&&(v.createInvertedIndices=!0);var S=g.coordDim,x=g.type,A=0;each$f(u,function(E){E.coordDim===S&&A++});var b={name:y,coordDim:S,coordDimIndex:A,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:u.length},w={name:_,coordDim:_,coordDimIndex:A+1,type:x,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:u.length+1};c?(f&&(b.storeDimIndex=f.ensureCalculationDimension(_,x),w.storeDimIndex=f.ensureCalculationDimension(y,x)),c.appendCalculationDimension(b),c.appendCalculationDimension(w)):(u.push(b),u.push(w))}return{stackedDimension:g&&g.name,stackedByDimension:v&&v.name,isStackedByIndex:s,stackedOverDimension:_,stackResultDimension:y}}function isLegacyDimensionsInput(a){return!isSeriesDataSchema(a.schema)}function isDimensionStacked(a,n){return!!n&&n===a.getCalculationInfo("stackedDimension")}function getStackedDimension(a,n){return isDimensionStacked(a,n)?a.getCalculationInfo("stackResultDimension"):n}function getCoordSysDimDefs(a,n){var r=a.get("coordinateSystem"),s=CoordinateSystem.get(r),l;return n&&n.coordSysDims&&(l=map$1(n.coordSysDims,function(u){var c={name:u},f=n.axisMap.get(u);if(f){var d=f.get("type");c.type=getDimensionTypeByAxis(d)}return c})),l||(l=s&&(s.getDimensionsInfo?s.getDimensionsInfo():s.dimensions.slice())||["x","y"]),l}function injectOrdinalMeta(a,n,r){var s,l;return r&&each$f(a,function(u,c){var f=u.coordDim,d=r.categoryAxisMap.get(f);d&&(s==null&&(s=c),u.ordinalMeta=d.getOrdinalMeta(),n&&(u.createInvertedIndices=!0)),u.otherDims.itemName!=null&&(l=!0)}),!l&&s!=null&&(a[s].otherDims.itemName=0),s}function createSeriesData(a,n,r){r=r||{};var s=n.getSourceManager(),l,u=!1;a?(u=!0,l=createSourceFromSeriesDataOption(a)):(l=s.getSource(),u=l.sourceFormat===SOURCE_FORMAT_ORIGINAL);var c=getCoordSysInfoBySeries(n),f=getCoordSysDimDefs(n,c),d=r.useEncodeDefaulter,v=isFunction(d)?d:d?curry$1(makeSeriesEncodeForAxisCoordSys,f,n):null,g={coordDimensions:f,generateCoord:r.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:v,canOmitUnusedDimensions:!u},y=prepareSeriesDataSchema(l,g),_=injectOrdinalMeta(y.dimensions,r.createInvertedIndices,c),S=u?null:s.getSharedDataStore(y),x=enableDataStack(n,{schema:y,store:S}),A=new SeriesData$1(y,n);A.setCalculationInfo(x);var b=_!=null&&isNeedCompleteOrdinalData(l)?function(w,E,M,P){return P===_?M:this.defaultDimValueGetter(w,E,M,P)}:null;return A.hasItemOption=!1,A.initData(u?l:S,null,b),A}function isNeedCompleteOrdinalData(a){if(a.sourceFormat===SOURCE_FORMAT_ORIGINAL){var n=firstDataNotNull(a.data||[]);return!isArray$2(getDataItemValue(n))}}function firstDataNotNull(a){for(var n=0;n<a.length&&a[n]==null;)n++;return a[n]}var Scale=function(){function a(n){this._setting=n||{},this._extent=[1/0,-1/0]}return a.prototype.getSetting=function(n){return this._setting[n]},a.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1])},a.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.setExtent=function(n,r){var s=this._extent;isNaN(n)||(s[0]=n),isNaN(r)||(s[1]=r)},a.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},a.prototype.isBlank=function(){return this._isBlank},a.prototype.setBlank=function(n){this._isBlank=n},a}();enableClassManagement(Scale);const Scale$1=Scale;var uidBase=0,OrdinalMeta=function(){function a(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++uidBase}return a.createByAxisModel=function(n){var r=n.option,s=r.data,l=s&&map$1(s,getName);return new a({categories:l,needCollect:!l,deduplication:r.dedplication!==!1})},a.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},a.prototype.parseAndCollect=function(n){var r,s=this._needCollect;if(!isString(n)&&!s)return n;if(s&&!this._deduplication)return r=this.categories.length,this.categories[r]=n,r;var l=this._getOrCreateMap();return r=l.get(n),r==null&&(s?(r=this.categories.length,this.categories[r]=n,l.set(n,r)):r=NaN),r},a.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},a}();function getName(a){return isObject$3(a)&&a.value!=null?a.value:a+""}const OrdinalMeta$1=OrdinalMeta;function isIntervalOrLogScale(a){return a.type==="interval"||a.type==="log"}function intervalScaleNiceTicks(a,n,r,s){var l={},u=a[1]-a[0],c=l.interval=nice(u/n,!0);r!=null&&c<r&&(c=l.interval=r),s!=null&&c>s&&(c=l.interval=s);var f=l.intervalPrecision=getIntervalPrecision(c),d=l.niceTickExtent=[round$3(Math.ceil(a[0]/c)*c,f),round$3(Math.floor(a[1]/c)*c,f)];return fixExtent(d,a),l}function increaseInterval(a){var n=Math.pow(10,quantityExponent(a)),r=a/n;return r?r===2?r=3:r===3?r=5:r*=2:r=1,round$3(r*n)}function getIntervalPrecision(a){return getPrecision(a)+2}function clamp(a,n,r){a[n]=Math.max(Math.min(a[n],r[1]),r[0])}function fixExtent(a,n){!isFinite(a[0])&&(a[0]=n[0]),!isFinite(a[1])&&(a[1]=n[1]),clamp(a,0,n),clamp(a,1,n),a[0]>a[1]&&(a[0]=a[1])}function contain$1(a,n){return a>=n[0]&&a<=n[1]}function normalize$2(a,n){return n[1]===n[0]?.5:(a-n[0])/(n[1]-n[0])}function scale(a,n){return a*(n[1]-n[0])+n[0]}var OrdinalScale=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;s.type="ordinal";var l=s.getSetting("ordinalMeta");return l||(l=new OrdinalMeta$1({})),isArray$2(l)&&(l=new OrdinalMeta$1({categories:map$1(l,function(u){return isObject$3(u)?u.value:u})})),s._ordinalMeta=l,s._extent=s.getSetting("extent")||[0,l.categories.length-1],s}return n.prototype.parse=function(r){return r==null?NaN:isString(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},n.prototype.contain=function(r){return r=this.parse(r),contain$1(r,this._extent)&&this._ordinalMeta.categories[r]!=null},n.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),normalize$2(r,this._extent)},n.prototype.scale=function(r){return r=Math.round(scale(r,this._extent)),this.getRawOrdinalNumber(r)},n.prototype.getTicks=function(){for(var r=[],s=this._extent,l=s[0];l<=s[1];)r.push({value:l}),l++;return r},n.prototype.getMinorTicks=function(r){},n.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var s=r.ordinalNumbers,l=this._ordinalNumbersByTick=[],u=this._ticksByOrdinalNumber=[],c=0,f=this._ordinalMeta.categories.length,d=Math.min(f,s.length);c<d;++c){var v=s[c];l[c]=v,u[v]=c}for(var g=0;c<f;++c){for(;u[g]!=null;)g++;l.push(g),u[g]=c}},n.prototype._getTickNumber=function(r){var s=this._ticksByOrdinalNumber;return s&&r>=0&&r<s.length?s[r]:r},n.prototype.getRawOrdinalNumber=function(r){var s=this._ordinalNumbersByTick;return s&&r>=0&&r<s.length?s[r]:r},n.prototype.getLabel=function(r){if(!this.isBlank()){var s=this.getRawOrdinalNumber(r.value),l=this._ordinalMeta.categories[s];return l==null?"":l+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(r,s){this.unionExtent(r.getApproximateExtent(s))},n.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n}(Scale$1);Scale$1.registerClass(OrdinalScale);const OrdinalScale$1=OrdinalScale;var roundNumber=round$3,IntervalScale=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return n.prototype.parse=function(r){return r},n.prototype.contain=function(r){return contain$1(r,this._extent)},n.prototype.normalize=function(r){return normalize$2(r,this._extent)},n.prototype.scale=function(r){return scale(r,this._extent)},n.prototype.setExtent=function(r,s){var l=this._extent;isNaN(r)||(l[0]=parseFloat(r)),isNaN(s)||(l[1]=parseFloat(s))},n.prototype.unionExtent=function(r){var s=this._extent;r[0]<s[0]&&(s[0]=r[0]),r[1]>s[1]&&(s[1]=r[1]),this.setExtent(s[0],s[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(r)},n.prototype.getTicks=function(r){var s=this._interval,l=this._extent,u=this._niceExtent,c=this._intervalPrecision,f=[];if(!s)return f;var d=1e4;l[0]<u[0]&&(r?f.push({value:roundNumber(u[0]-s,c)}):f.push({value:l[0]}));for(var v=u[0];v<=u[1]&&(f.push({value:v}),v=roundNumber(v+s,c),v!==f[f.length-1].value);)if(f.length>d)return[];var g=f.length?f[f.length-1].value:u[1];return l[1]>g&&(r?f.push({value:roundNumber(g+s,c)}):f.push({value:l[1]})),f},n.prototype.getMinorTicks=function(r){for(var s=this.getTicks(!0),l=[],u=this.getExtent(),c=1;c<s.length;c++){for(var f=s[c],d=s[c-1],v=0,g=[],y=f.value-d.value,_=y/r;v<r-1;){var S=roundNumber(d.value+(v+1)*_);S>u[0]&&S<u[1]&&g.push(S),v++}l.push(g)}return l},n.prototype.getLabel=function(r,s){if(r==null)return"";var l=s&&s.precision;l==null?l=getPrecision(r.value)||0:l==="auto"&&(l=this._intervalPrecision);var u=roundNumber(r.value,l,!0);return addCommas(u)},n.prototype.calcNiceTicks=function(r,s,l){r=r||5;var u=this._extent,c=u[1]-u[0];if(!!isFinite(c)){c<0&&(c=-c,u.reverse());var f=intervalScaleNiceTicks(u,r,s,l);this._intervalPrecision=f.intervalPrecision,this._interval=f.interval,this._niceExtent=f.niceTickExtent}},n.prototype.calcNiceExtent=function(r){var s=this._extent;if(s[0]===s[1])if(s[0]!==0){var l=Math.abs(s[0]);r.fixMax||(s[1]+=l/2),s[0]-=l/2}else s[1]=1;var u=s[1]-s[0];isFinite(u)||(s[0]=0,s[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var c=this._interval;r.fixMin||(s[0]=roundNumber(Math.floor(s[0]/c)*c)),r.fixMax||(s[1]=roundNumber(Math.ceil(s[1]/c)*c))},n.prototype.setNiceExtent=function(r,s){this._niceExtent=[r,s]},n.type="interval",n}(Scale$1);Scale$1.registerClass(IntervalScale);const IntervalScale$1=IntervalScale;var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(a){return isArray$2(a)?supportFloat32Array?new Float32Array(a):a:new Float32ArrayCtor(a)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(a){return a.get("stack")||STACK_PREFIX+a.seriesIndex}function getAxisKey$1(a){return a.dim+a.index}function getLayoutOnAxis(a){var n=[],r=a.axis,s="axis0";if(r.type==="category"){for(var l=r.getBandWidth(),u=0;u<a.count;u++)n.push(defaults({bandWidth:l,axisKey:s,stackId:STACK_PREFIX+u},a));for(var c=doCalBarWidthAndOffset(n),f=[],u=0;u<a.count;u++){var d=c[s][STACK_PREFIX+u];d.offsetCenter=d.offset+d.width/2,f.push(d)}return f}}function prepareLayoutBarSeries(a,n){var r=[];return n.eachSeriesByType(a,function(s){isOnCartesian(s)&&r.push(s)}),r}function getValueAxesMinGaps(a){var n={};each$f(a,function(d){var v=d.coordinateSystem,g=v.getBaseAxis();if(!(g.type!=="time"&&g.type!=="value"))for(var y=d.getData(),_=g.dim+"_"+g.index,S=y.getDimensionIndex(y.mapDimension(g.dim)),x=y.getStore(),A=0,b=x.count();A<b;++A){var w=x.get(S,A);n[_]?n[_].push(w):n[_]=[w]}});var r={};for(var s in n)if(n.hasOwnProperty(s)){var l=n[s];if(l){l.sort(function(d,v){return d-v});for(var u=null,c=1;c<l.length;++c){var f=l[c]-l[c-1];f>0&&(u=u===null?f:Math.min(u,f))}r[s]=u}}return r}function makeColumnLayout(a){var n=getValueAxesMinGaps(a),r=[];return each$f(a,function(s){var l=s.coordinateSystem,u=l.getBaseAxis(),c=u.getExtent(),f;if(u.type==="category")f=u.getBandWidth();else if(u.type==="value"||u.type==="time"){var d=u.dim+"_"+u.index,v=n[d],g=Math.abs(c[1]-c[0]),y=u.scale.getExtent(),_=Math.abs(y[1]-y[0]);f=v?g/_*v:g}else{var S=s.getData();f=Math.abs(c[1]-c[0])/S.count()}var x=parsePercent(s.get("barWidth"),f),A=parsePercent(s.get("barMaxWidth"),f),b=parsePercent(s.get("barMinWidth")||(isInLargeMode(s)?.5:1),f),w=s.get("barGap"),E=s.get("barCategoryGap");r.push({bandWidth:f,barWidth:x,barMaxWidth:A,barMinWidth:b,barGap:w,barCategoryGap:E,axisKey:getAxisKey$1(u),stackId:getSeriesStackId$1(s)})}),doCalBarWidthAndOffset(r)}function doCalBarWidthAndOffset(a){var n={};each$f(a,function(s,l){var u=s.axisKey,c=s.bandWidth,f=n[u]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},d=f.stacks;n[u]=f;var v=s.stackId;d[v]||f.autoWidthCount++,d[v]=d[v]||{width:0,maxWidth:0};var g=s.barWidth;g&&!d[v].width&&(d[v].width=g,g=Math.min(f.remainedWidth,g),f.remainedWidth-=g);var y=s.barMaxWidth;y&&(d[v].maxWidth=y);var _=s.barMinWidth;_&&(d[v].minWidth=_);var S=s.barGap;S!=null&&(f.gap=S);var x=s.barCategoryGap;x!=null&&(f.categoryGap=x)});var r={};return each$f(n,function(s,l){r[l]={};var u=s.stacks,c=s.bandWidth,f=s.categoryGap;if(f==null){var d=keys(u).length;f=Math.max(35-d*4,15)+"%"}var v=parsePercent(f,c),g=parsePercent(s.gap,1),y=s.remainedWidth,_=s.autoWidthCount,S=(y-v)/(_+(_-1)*g);S=Math.max(S,0),each$f(u,function(w){var E=w.maxWidth,M=w.minWidth;if(w.width){var P=w.width;E&&(P=Math.min(P,E)),M&&(P=Math.max(P,M)),w.width=P,y-=P+g*P,_--}else{var P=S;E&&E<P&&(P=Math.min(E,y)),M&&M>P&&(P=M),P!==S&&(w.width=P,y-=P+g*P,_--)}}),S=(y-v)/(_+(_-1)*g),S=Math.max(S,0);var x=0,A;each$f(u,function(w,E){w.width||(w.width=S),A=w,x+=w.width*(1+g)}),A&&(x-=A.width*g);var b=-x/2;each$f(u,function(w,E){r[l][E]=r[l][E]||{bandWidth:c,offset:b,width:w.width},b+=w.width*(1+g)})}),r}function retrieveColumnLayout(a,n,r){if(a&&n){var s=a[getAxisKey$1(n)];return s!=null&&r!=null?s[getSeriesStackId$1(r)]:s}}function layout$3(a,n){var r=prepareLayoutBarSeries(a,n),s=makeColumnLayout(r);each$f(r,function(l){var u=l.getData(),c=l.coordinateSystem,f=c.getBaseAxis(),d=getSeriesStackId$1(l),v=s[getAxisKey$1(f)][d],g=v.offset,y=v.width;u.setLayout({bandWidth:v.bandWidth,offset:g,size:y})})}function createProgressiveLayout(a){return{seriesType:a,plan:createRenderPlanner(),reset:function(n){if(!!isOnCartesian(n)){var r=n.getData(),s=n.coordinateSystem,l=s.getBaseAxis(),u=s.getOtherAxis(l),c=r.getDimensionIndex(r.mapDimension(u.dim)),f=r.getDimensionIndex(r.mapDimension(l.dim)),d=n.get("showBackground",!0),v=r.mapDimension(u.dim),g=r.getCalculationInfo("stackResultDimension"),y=isDimensionStacked(r,v)&&!!r.getCalculationInfo("stackedOnSeries"),_=u.isHorizontal(),S=getValueAxisStart(l,u),x=isInLargeMode(n),A=n.get("barMinHeight")||0,b=g&&r.getDimensionIndex(g),w=r.getLayout("size"),E=r.getLayout("offset");return{progress:function(M,P){for(var R=M.count,I=x&&createFloat32Array(R*3),L=x&&d&&createFloat32Array(R*3),O=x&&createFloat32Array(R),N=s.master.getRect(),B=_?N.width:N.height,F,V=P.getStore(),z=0;(F=M.next())!=null;){var U=V.get(y?b:c,F),Y=V.get(f,F),q=S,Q=void 0;y&&(Q=+U-V.get(c,F));var j=void 0,ne=void 0,fe=void 0,de=void 0;if(_){var be=s.dataToPoint([U,Y]);if(y){var Me=s.dataToPoint([Q,Y]);q=Me[0]}j=q,ne=be[1]+E,fe=be[0]-q,de=w,Math.abs(fe)<A&&(fe=(fe<0?-1:1)*A)}else{var be=s.dataToPoint([Y,U]);if(y){var Me=s.dataToPoint([Y,Q]);q=Me[1]}j=be[0]+E,ne=q,fe=w,de=be[1]-q,Math.abs(de)<A&&(de=(de<=0?-1:1)*A)}x?(I[z]=j,I[z+1]=ne,I[z+2]=_?fe:de,L&&(L[z]=_?N.x:j,L[z+1]=_?ne:N.y,L[z+2]=B),O[F]=F):P.setItemLayout(F,{x:j,y:ne,width:fe,height:de}),z+=3}x&&P.setLayout({largePoints:I,largeDataIndices:O,largeBackgroundPoints:L,valueAxisHorizontal:_})}}}}}}function isOnCartesian(a){return a.coordinateSystem&&a.coordinateSystem.type==="cartesian2d"}function isInLargeMode(a){return a.pipelineContext&&a.pipelineContext.large}function getValueAxisStart(a,n){return n.toGlobalCoord(n.dataToCoord(n.type==="log"?1:0))}var bisect=function(a,n,r,s){for(;r<s;){var l=r+s>>>1;a[l][1]<n?r=l+1:s=l}return r},TimeScale=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s.type="time",s}return n.prototype.getLabel=function(r){var s=this.getSetting("useUTC");return format(r.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,s,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(r,s,l){var u=this.getSetting("useUTC"),c=this.getSetting("locale");return leveledFormat(r,s,l,c,u)},n.prototype.getTicks=function(){var r=this._interval,s=this._extent,l=[];if(!r)return l;l.push({value:s[0],level:0});var u=this.getSetting("useUTC"),c=getIntervalTicks(this._minLevelUnit,this._approxInterval,u,s);return l=l.concat(c),l.push({value:s[1],level:0}),l},n.prototype.calcNiceExtent=function(r){var s=this._extent;if(s[0]===s[1]&&(s[0]-=ONE_DAY,s[1]+=ONE_DAY),s[1]===-1/0&&s[0]===1/0){var l=new Date;s[1]=+new Date(l.getFullYear(),l.getMonth(),l.getDate()),s[0]=s[1]-ONE_DAY}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},n.prototype.calcNiceTicks=function(r,s,l){r=r||10;var u=this._extent,c=u[1]-u[0];this._approxInterval=c/r,s!=null&&this._approxInterval<s&&(this._approxInterval=s),l!=null&&this._approxInterval>l&&(this._approxInterval=l);var f=scaleIntervals.length,d=Math.min(bisect(scaleIntervals,this._approxInterval,0,f),f-1);this._interval=scaleIntervals[d][1],this._minLevelUnit=scaleIntervals[Math.max(d-1,0)][0]},n.prototype.parse=function(r){return isNumber(r)?r:+parseDate(r)},n.prototype.contain=function(r){return contain$1(this.parse(r),this._extent)},n.prototype.normalize=function(r){return normalize$2(this.parse(r),this._extent)},n.prototype.scale=function(r){return scale(r,this._extent)},n.type="time",n}(IntervalScale$1),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(a,n,r,s){var l=parseDate(n),u=parseDate(r),c=function(x){return getUnitValue(l,x,s)===getUnitValue(u,x,s)},f=function(){return c("year")},d=function(){return f()&&c("month")},v=function(){return d()&&c("day")},g=function(){return v()&&c("hour")},y=function(){return g()&&c("minute")},_=function(){return y()&&c("second")},S=function(){return _()&&c("millisecond")};switch(a){case"year":return f();case"month":return d();case"day":return v();case"hour":return g();case"minute":return y();case"second":return _();case"millisecond":return S()}}function getDateInterval(a,n){return a/=ONE_DAY,a>16?16:a>7.5?7:a>3.5?4:a>1.5?2:1}function getMonthInterval(a){var n=30*ONE_DAY;return a/=n,a>6?6:a>3?3:a>2?2:1}function getHourInterval(a){return a/=ONE_HOUR,a>12?12:a>6?6:a>3.5?4:a>2?2:1}function getMinutesAndSecondsInterval(a,n){return a/=n?ONE_MINUTE:ONE_SECOND,a>30?30:a>20?20:a>15?15:a>10?10:a>5?5:a>2?2:1}function getMillisecondsInterval(a){return nice(a,!0)}function getFirstTimestampOfUnit(a,n,r){var s=new Date(a);switch(getPrimaryTimeUnit(n)){case"year":case"month":s[monthSetterName(r)](0);case"day":s[dateSetterName(r)](1);case"hour":s[hoursSetterName(r)](0);case"minute":s[minutesSetterName(r)](0);case"second":s[secondsSetterName(r)](0),s[millisecondsSetterName(r)](0)}return s.getTime()}function getIntervalTicks(a,n,r,s){var l=1e4,u=timeUnits,c=0;function f(B,F,V,z,U,Y,q){for(var Q=new Date(F),j=F,ne=Q[z]();j<V&&j<=s[1];)q.push({value:j}),ne+=B,Q[U](ne),j=Q.getTime();q.push({value:j,notAdd:!0})}function d(B,F,V){var z=[],U=!F.length;if(!isUnitValueSame(getPrimaryTimeUnit(B),s[0],s[1],r)){U&&(F=[{value:getFirstTimestampOfUnit(new Date(s[0]),B,r)},{value:s[1]}]);for(var Y=0;Y<F.length-1;Y++){var q=F[Y].value,Q=F[Y+1].value;if(q!==Q){var j=void 0,ne=void 0,fe=void 0,de=!1;switch(B){case"year":j=Math.max(1,Math.round(n/ONE_DAY/365)),ne=fullYearGetterName(r),fe=fullYearSetterName(r);break;case"half-year":case"quarter":case"month":j=getMonthInterval(n),ne=monthGetterName(r),fe=monthSetterName(r);break;case"week":case"half-week":case"day":j=getDateInterval(n),ne=dateGetterName(r),fe=dateSetterName(r),de=!0;break;case"half-day":case"quarter-day":case"hour":j=getHourInterval(n),ne=hoursGetterName(r),fe=hoursSetterName(r);break;case"minute":j=getMinutesAndSecondsInterval(n,!0),ne=minutesGetterName(r),fe=minutesSetterName(r);break;case"second":j=getMinutesAndSecondsInterval(n,!1),ne=secondsGetterName(r),fe=secondsSetterName(r);break;case"millisecond":j=getMillisecondsInterval(n),ne=millisecondsGetterName(r),fe=millisecondsSetterName(r);break}f(j,q,Q,ne,fe,de,z),B==="year"&&V.length>1&&Y===0&&V.unshift({value:V[0].value-j})}}for(var Y=0;Y<z.length;Y++)V.push(z[Y]);return z}}for(var v=[],g=[],y=0,_=0,S=0;S<u.length&&c++<l;++S){var x=getPrimaryTimeUnit(u[S]);if(!!isPrimaryTimeUnit(u[S])){d(u[S],v[v.length-1]||[],g);var A=u[S+1]?getPrimaryTimeUnit(u[S+1]):null;if(x!==A){if(g.length){_=y,g.sort(function(B,F){return B.value-F.value});for(var b=[],w=0;w<g.length;++w){var E=g[w].value;(w===0||g[w-1].value!==E)&&(b.push(g[w]),E>=s[0]&&E<=s[1]&&y++)}var M=(s[1]-s[0])/n;if(y>M*1.5&&_>M/1.5||(v.push(b),y>M||a===u[S]))break}g=[]}}}for(var P=filter(map$1(v,function(B){return filter(B,function(F){return F.value>=s[0]&&F.value<=s[1]&&!F.notAdd})}),function(B){return B.length>0}),R=[],I=P.length-1,S=0;S<P.length;++S)for(var L=P[S],O=0;O<L.length;++O)R.push({value:L[O].value,level:I-S});R.sort(function(B,F){return B.value-F.value});for(var N=[],S=0;S<R.length;++S)(S===0||R[S].value!==R[S-1].value)&&N.push(R[S]);return N}Scale$1.registerClass(TimeScale);const TimeScale$1=TimeScale;var scaleProto=Scale$1.prototype,intervalScaleProto=IntervalScale$1.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new IntervalScale$1,r._interval=0,r}return n.prototype.getTicks=function(r){var s=this._originalScale,l=this._extent,u=s.getExtent(),c=intervalScaleProto.getTicks.call(this,r);return map$1(c,function(f){var d=f.value,v=round$3(mathPow$1(this.base,d));return v=d===l[0]&&this._fixMin?fixRoundingError(v,u[0]):v,v=d===l[1]&&this._fixMax?fixRoundingError(v,u[1]):v,{value:v}},this)},n.prototype.setExtent=function(r,s){var l=mathLog$1(this.base);r=mathLog$1(Math.max(0,r))/l,s=mathLog$1(Math.max(0,s))/l,intervalScaleProto.setExtent.call(this,r,s)},n.prototype.getExtent=function(){var r=this.base,s=scaleProto.getExtent.call(this);s[0]=mathPow$1(r,s[0]),s[1]=mathPow$1(r,s[1]);var l=this._originalScale,u=l.getExtent();return this._fixMin&&(s[0]=fixRoundingError(s[0],u[0])),this._fixMax&&(s[1]=fixRoundingError(s[1],u[1])),s},n.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var s=this.base;r[0]=mathLog$1(r[0])/mathLog$1(s),r[1]=mathLog$1(r[1])/mathLog$1(s),scaleProto.unionExtent.call(this,r)},n.prototype.unionExtentFromData=function(r,s){this.unionExtent(r.getApproximateExtent(s))},n.prototype.calcNiceTicks=function(r){r=r||10;var s=this._extent,l=s[1]-s[0];if(!(l===1/0||l<=0)){var u=quantity(l),c=r/l*u;for(c<=.5&&(u*=10);!isNaN(u)&&Math.abs(u)<1&&Math.abs(u)>0;)u*=10;var f=[round$3(mathCeil$1(s[0]/u)*u),round$3(mathFloor$1(s[1]/u)*u)];this._interval=u,this._niceExtent=f}},n.prototype.calcNiceExtent=function(r){intervalScaleProto.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},n.prototype.parse=function(r){return r},n.prototype.contain=function(r){return r=mathLog$1(r)/mathLog$1(this.base),contain$1(r,this._extent)},n.prototype.normalize=function(r){return r=mathLog$1(r)/mathLog$1(this.base),normalize$2(r,this._extent)},n.prototype.scale=function(r){return r=scale(r,this._extent),mathPow$1(this.base,r)},n.type="log",n}(Scale$1),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(a,n){return roundingErrorFix(a,getPrecision(n))}Scale$1.registerClass(LogScale);const LogScale$1=LogScale;var ScaleRawExtentInfo=function(){function a(n,r,s){this._prepareParams(n,r,s)}return a.prototype._prepareParams=function(n,r,s){s[1]<s[0]&&(s=[NaN,NaN]),this._dataMin=s[0],this._dataMax=s[1];var l=this._isOrdinal=n.type==="ordinal";this._needCrossZero=n.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var u=this._modelMinRaw=r.get("min",!0);isFunction(u)?this._modelMinNum=parseAxisModelMinMax(n,u({min:s[0],max:s[1]})):u!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(n,u));var c=this._modelMaxRaw=r.get("max",!0);if(isFunction(c)?this._modelMaxNum=parseAxisModelMinMax(n,c({min:s[0],max:s[1]})):c!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(n,c)),l)this._axisDataLen=r.getCategories().length;else{var f=r.get("boundaryGap"),d=isArray$2(f)?f:[f||0,f||0];typeof d[0]=="boolean"||typeof d[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(d[0],1),parsePercent$1(d[1],1)]}},a.prototype.calculate=function(){var n=this._isOrdinal,r=this._dataMin,s=this._dataMax,l=this._axisDataLen,u=this._boundaryGapInner,c=n?null:s-r||Math.abs(r),f=this._modelMinRaw==="dataMin"?r:this._modelMinNum,d=this._modelMaxRaw==="dataMax"?s:this._modelMaxNum,v=f!=null,g=d!=null;f==null&&(f=n?l?0:NaN:r-u[0]*c),d==null&&(d=n?l?l-1:NaN:s+u[1]*c),(f==null||!isFinite(f))&&(f=NaN),(d==null||!isFinite(d))&&(d=NaN);var y=eqNaN(f)||eqNaN(d)||n&&!l;this._needCrossZero&&(f>0&&d>0&&!v&&(f=0),f<0&&d<0&&!g&&(d=0));var _=this._determinedMin,S=this._determinedMax;return _!=null&&(f=_,v=!0),S!=null&&(d=S,g=!0),{min:f,max:d,minFixed:v,maxFixed:g,isBlank:y}},a.prototype.modifyDataMinMax=function(n,r){this[DATA_MIN_MAX_ATTR[n]]=r},a.prototype.setDeterminedMinMax=function(n,r){var s=DETERMINED_MIN_MAX_ATTR[n];this[s]=r},a.prototype.freeze=function(){this.frozen=!0},a}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(a,n,r){var s=a.rawExtentInfo;return s||(s=new ScaleRawExtentInfo(a,n,r),a.rawExtentInfo=s,s)}function parseAxisModelMinMax(a,n){return n==null?null:eqNaN(n)?NaN:a.parse(n)}function getScaleExtent(a,n){var r=a.type,s=ensureScaleRawExtentInfo(a,n,a.getExtent()).calculate();a.setBlank(s.isBlank);var l=s.min,u=s.max,c=n.ecModel;if(c&&r==="time"){var f=prepareLayoutBarSeries("bar",c),d=!1;if(each$f(f,function(y){d=d||y.getBaseAxis()===n.axis}),d){var v=makeColumnLayout(f),g=adjustScaleForOverflow(l,u,n,v);l=g.min,u=g.max}}return{extent:[l,u],fixMin:s.minFixed,fixMax:s.maxFixed}}function adjustScaleForOverflow(a,n,r,s){var l=r.axis.getExtent(),u=l[1]-l[0],c=retrieveColumnLayout(s,r.axis);if(c===void 0)return{min:a,max:n};var f=1/0;each$f(c,function(S){f=Math.min(S.offset,f)});var d=-1/0;each$f(c,function(S){d=Math.max(S.offset+S.width,d)}),f=Math.abs(f),d=Math.abs(d);var v=f+d,g=n-a,y=1-(f+d)/u,_=g/y-g;return n+=_*(d/v),a-=_*(f/v),{min:a,max:n}}function niceScaleExtent(a,n){var r=n,s=getScaleExtent(a,r),l=s.extent,u=r.get("splitNumber");a instanceof LogScale$1&&(a.base=r.get("logBase"));var c=a.type,f=r.get("interval"),d=c==="interval"||c==="time";a.setExtent(l[0],l[1]),a.calcNiceExtent({splitNumber:u,fixMin:s.fixMin,fixMax:s.fixMax,minInterval:d?r.get("minInterval"):null,maxInterval:d?r.get("maxInterval"):null}),f!=null&&a.setInterval&&a.setInterval(f)}function createScaleByModel$1(a,n){if(n=n||a.get("type"),n)switch(n){case"category":return new OrdinalScale$1({ordinalMeta:a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new(Scale$1.getClass(n)||IntervalScale$1)}}function ifAxisCrossZero(a){var n=a.scale.getExtent(),r=n[0],s=n[1];return!(r>0&&s>0||r<0&&s<0)}function makeLabelFormatter(a){var n=a.getLabelModel().get("formatter"),r=a.type==="category"?a.scale.getExtent()[0]:null;return a.scale.type==="time"?function(s){return function(l,u){return a.scale.getFormattedLabel(l,u,s)}}(n):isString(n)?function(s){return function(l){var u=a.scale.getLabel(l),c=s.replace("{value}",u!=null?u:"");return c}}(n):isFunction(n)?function(s){return function(l,u){return r!=null&&(u=l.value-r),s(getAxisRawValue(a,l),u,l.level!=null?{level:l.level}:null)}}(n):function(s){return a.scale.getLabel(s)}}function getAxisRawValue(a,n){return a.type==="category"?a.scale.getLabel(n):n.value}function estimateLabelUnionRect(a){var n=a.model,r=a.scale;if(!(!n.get(["axisLabel","show"])||r.isBlank())){var s,l,u=r.getExtent();r instanceof OrdinalScale$1?l=r.count():(s=r.getTicks(),l=s.length);var c=a.getLabelModel(),f=makeLabelFormatter(a),d,v=1;l>40&&(v=Math.ceil(l/40));for(var g=0;g<l;g+=v){var y=s?s[g]:{value:u[0]+g},_=f(y,g),S=c.getTextRect(_),x=rotateTextRect(S,c.get("rotate")||0);d?d.union(x):d=x}return d}}function rotateTextRect(a,n){var r=n*Math.PI/180,s=a.width,l=a.height,u=s*Math.abs(Math.cos(r))+Math.abs(l*Math.sin(r)),c=s*Math.abs(Math.sin(r))+Math.abs(l*Math.cos(r)),f=new BoundingRect$1(a.x,a.y,u,c);return f}function getOptionCategoryInterval(a){var n=a.get("interval");return n==null?"auto":n}function shouldShowAllLabels(a){return a.type==="category"&&getOptionCategoryInterval(a.getLabelModel())===0}function getDataDimensionsOnAxis(a,n){var r={};return each$f(a.mapDimensionsAll(n),function(s){r[getStackedDimension(a,s)]=!0}),keys(r)}function unionAxisExtentFromData(a,n,r){n&&each$f(getDataDimensionsOnAxis(n,r),function(s){var l=n.getApproximateExtent(s);l[0]<a[0]&&(a[0]=l[0]),l[1]>a[1]&&(a[1]=l[1])})}var AxisModelCommonMixin=function(){function a(){}return a.prototype.getNeedCrossZero=function(){var n=this.option;return!n.scale},a.prototype.getCoordSysModel=function(){},a}(),EPSILON=1e-8;function isAroundEqual(a,n){return Math.abs(a-n)<EPSILON}function contain(a,n,r){var s=0,l=a[0];if(!l)return!1;for(var u=1;u<a.length;u++){var c=a[u];s+=windingLine(l[0],l[1],c[0],c[1],n,r),l=c}var f=a[0];return(!isAroundEqual(l[0],f[0])||!isAroundEqual(l[1],f[1]))&&(s+=windingLine(l[0],l[1],f[0],f[1],n,r)),s!==0}var TMP_TRANSFORM=[];function transformPoints(a,n){for(var r=0;r<a.length;r++)applyTransform$1(a[r],a[r],n)}function updateBBoxFromPoints(a,n,r,s){for(var l=0;l<a.length;l++){var u=a[l];s&&(u=s.project(u)),u&&isFinite(u[0])&&isFinite(u[1])&&(min$1(n,n,u),max$1(r,r,u))}}function centroid$1(a){for(var n=0,r=0,s=0,l=a.length,u=a[l-1][0],c=a[l-1][1],f=0;f<l;f++){var d=a[f][0],v=a[f][1],g=u*v-d*c;n+=g,r+=(u+d)*g,s+=(c+v)*g,u=d,c=v}return n?[r/n/3,s/n/3,n]:[a[0][0]||0,a[0][1]||0]}var Region=function(){function a(n){this.name=n}return a.prototype.setCenter=function(n){this._center=n},a.prototype.getCenter=function(){var n=this._center;return n||(n=this._center=this.calcCenter()),n},a}(),GeoJSONPolygonGeometry=function(){function a(n,r){this.type="polygon",this.exterior=n,this.interiors=r}return a}(),GeoJSONLineStringGeometry=function(){function a(n){this.type="linestring",this.points=n}return a}(),GeoJSONRegion=function(a){__extends(n,a);function n(r,s,l){var u=a.call(this,r)||this;return u.type="geoJSON",u.geometries=s,u._center=l&&[l[0],l[1]],u}return n.prototype.calcCenter=function(){for(var r=this.geometries,s,l=0,u=0;u<r.length;u++){var c=r[u],f=c.exterior,d=f&&f.length;d>l&&(s=c,l=d)}if(s)return centroid$1(s.exterior);var v=this.getBoundingRect();return[v.x+v.width/2,v.y+v.height/2]},n.prototype.getBoundingRect=function(r){var s=this._rect;if(s&&!r)return s;var l=[1/0,1/0],u=[-1/0,-1/0],c=this.geometries;return each$f(c,function(f){f.type==="polygon"?updateBBoxFromPoints(f.exterior,l,u,r):each$f(f.points,function(d){updateBBoxFromPoints(d,l,u,r)})}),isFinite(l[0])&&isFinite(l[1])&&isFinite(u[0])&&isFinite(u[1])||(l[0]=l[1]=u[0]=u[1]=0),s=new BoundingRect$1(l[0],l[1],u[0]-l[0],u[1]-l[1]),r||(this._rect=s),s},n.prototype.contain=function(r){var s=this.getBoundingRect(),l=this.geometries;if(!s.contain(r[0],r[1]))return!1;e:for(var u=0,c=l.length;u<c;u++){var f=l[u];if(f.type==="polygon"){var d=f.exterior,v=f.interiors;if(contain(d,r[0],r[1])){for(var g=0;g<(v?v.length:0);g++)if(contain(v[g],r[0],r[1]))continue e;return!0}}}return!1},n.prototype.transformTo=function(r,s,l,u){var c=this.getBoundingRect(),f=c.width/c.height;l?u||(u=l/f):l=f*u;for(var d=new BoundingRect$1(r,s,l,u),v=c.calculateTransform(d),g=this.geometries,y=0;y<g.length;y++){var _=g[y];_.type==="polygon"?(transformPoints(_.exterior,v),each$f(_.interiors,function(S){transformPoints(S,v)})):each$f(_.points,function(S){transformPoints(S,v)})}c=this._rect,c.copy(d),this._center=[c.x+c.width/2,c.y+c.height/2]},n.prototype.cloneShallow=function(r){r==null&&(r=this.name);var s=new n(r,this.geometries,this._center);return s._rect=this._rect,s.transformTo=null,s},n}(Region),GeoSVGRegion=function(a){__extends(n,a);function n(r,s){var l=a.call(this,r)||this;return l.type="geoSVG",l._elOnlyForCalculate=s,l}return n.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,s=r.getBoundingRect(),l=[s.x+s.width/2,s.y+s.height/2],u=identity(TMP_TRANSFORM),c=r;c&&!c.isGeoSVGGraphicRoot;)mul(u,c.getLocalTransform(),u),c=c.parent;return invert(u,u),applyTransform$1(l,l,u),l},n}(Region);function decode$1(a){if(!a.UTF8Encoding)return a;var n=a,r=n.UTF8Scale;r==null&&(r=1024);var s=n.features;return each$f(s,function(l){var u=l.geometry,c=u.encodeOffsets,f=u.coordinates;if(!!c)switch(u.type){case"LineString":u.coordinates=decodeRing(f,c,r);break;case"Polygon":decodeRings(f,c,r);break;case"MultiLineString":decodeRings(f,c,r);break;case"MultiPolygon":each$f(f,function(d,v){return decodeRings(d,c[v],r)})}}),n.UTF8Encoding=!1,n}function decodeRings(a,n,r){for(var s=0;s<a.length;s++)a[s]=decodeRing(a[s],n[s],r)}function decodeRing(a,n,r){for(var s=[],l=n[0],u=n[1],c=0;c<a.length;c+=2){var f=a.charCodeAt(c)-64,d=a.charCodeAt(c+1)-64;f=f>>1^-(f&1),d=d>>1^-(d&1),f+=l,d+=u,l=f,u=d,s.push([f/r,d/r])}return s}function parseGeoJSON(a,n){return a=decode$1(a),map$1(filter(a.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var s=r.properties,l=r.geometry,u=[];switch(l.type){case"Polygon":var c=l.coordinates;u.push(new GeoJSONPolygonGeometry(c[0],c.slice(1)));break;case"MultiPolygon":each$f(l.coordinates,function(d){d[0]&&u.push(new GeoJSONPolygonGeometry(d[0],d.slice(1)))});break;case"LineString":u.push(new GeoJSONLineStringGeometry([l.coordinates]));break;case"MultiLineString":u.push(new GeoJSONLineStringGeometry(l.coordinates))}var f=new GeoJSONRegion(s[n||"name"],u,s.cp);return f.properties=s,f})}var inner$g=makeInner();function createAxisLabels(a){return a.type==="category"?makeCategoryLabels(a):makeRealNumberLabels(a)}function createAxisTicks(a,n){return a.type==="category"?makeCategoryTicks(a,n):{ticks:map$1(a.scale.getTicks(),function(r){return r.value})}}function makeCategoryLabels(a){var n=a.getLabelModel(),r=makeCategoryLabelsActually(a,n);return!n.get("show")||a.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function makeCategoryLabelsActually(a,n){var r=getListCache(a,"labels"),s=getOptionCategoryInterval(n),l=listCacheGet(r,s);if(l)return l;var u,c;return isFunction(s)?u=makeLabelsByCustomizedCategoryInterval(a,s):(c=s==="auto"?makeAutoCategoryInterval(a):s,u=makeLabelsByNumericCategoryInterval(a,c)),listCacheSet(r,s,{labels:u,labelCategoryInterval:c})}function makeCategoryTicks(a,n){var r=getListCache(a,"ticks"),s=getOptionCategoryInterval(n),l=listCacheGet(r,s);if(l)return l;var u,c;if((!n.get("show")||a.scale.isBlank())&&(u=[]),isFunction(s))u=makeLabelsByCustomizedCategoryInterval(a,s,!0);else if(s==="auto"){var f=makeCategoryLabelsActually(a,a.getLabelModel());c=f.labelCategoryInterval,u=map$1(f.labels,function(d){return d.tickValue})}else c=s,u=makeLabelsByNumericCategoryInterval(a,c,!0);return listCacheSet(r,s,{ticks:u,tickCategoryInterval:c})}function makeRealNumberLabels(a){var n=a.scale.getTicks(),r=makeLabelFormatter(a);return{labels:map$1(n,function(s,l){return{level:s.level,formattedLabel:r(s,l),rawLabel:a.scale.getLabel(s),tickValue:s.value}})}}function getListCache(a,n){return inner$g(a)[n]||(inner$g(a)[n]=[])}function listCacheGet(a,n){for(var r=0;r<a.length;r++)if(a[r].key===n)return a[r].value}function listCacheSet(a,n,r){return a.push({key:n,value:r}),r}function makeAutoCategoryInterval(a){var n=inner$g(a).autoInterval;return n!=null?n:inner$g(a).autoInterval=a.calculateCategoryInterval()}function calculateCategoryInterval(a){var n=fetchAutoCategoryIntervalCalculationParams(a),r=makeLabelFormatter(a),s=(n.axisRotate-n.labelRotate)/180*Math.PI,l=a.scale,u=l.getExtent(),c=l.count();if(u[1]-u[0]<1)return 0;var f=1;c>40&&(f=Math.max(1,Math.floor(c/40)));for(var d=u[0],v=a.dataToCoord(d+1)-a.dataToCoord(d),g=Math.abs(v*Math.cos(s)),y=Math.abs(v*Math.sin(s)),_=0,S=0;d<=u[1];d+=f){var x=0,A=0,b=getBoundingRect(r({value:d}),n.font,"center","top");x=b.width*1.3,A=b.height*1.3,_=Math.max(_,x,7),S=Math.max(S,A,7)}var w=_/g,E=S/y;isNaN(w)&&(w=1/0),isNaN(E)&&(E=1/0);var M=Math.max(0,Math.floor(Math.min(w,E))),P=inner$g(a.model),R=a.getExtent(),I=P.lastAutoInterval,L=P.lastTickCount;return I!=null&&L!=null&&Math.abs(I-M)<=1&&Math.abs(L-c)<=1&&I>M&&P.axisExtent0===R[0]&&P.axisExtent1===R[1]?M=I:(P.lastTickCount=c,P.lastAutoInterval=M,P.axisExtent0=R[0],P.axisExtent1=R[1]),M}function fetchAutoCategoryIntervalCalculationParams(a){var n=a.getLabelModel();return{axisRotate:a.getRotate?a.getRotate():a.isHorizontal&&!a.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}function makeLabelsByNumericCategoryInterval(a,n,r){var s=makeLabelFormatter(a),l=a.scale,u=l.getExtent(),c=a.getLabelModel(),f=[],d=Math.max((n||0)+1,1),v=u[0],g=l.count();v!==0&&d>1&&g/d>2&&(v=Math.round(Math.ceil(v/d)*d));var y=shouldShowAllLabels(a),_=c.get("showMinLabel")||y,S=c.get("showMaxLabel")||y;_&&v!==u[0]&&A(u[0]);for(var x=v;x<=u[1];x+=d)A(x);S&&x-d!==u[1]&&A(u[1]);function A(b){var w={value:b};f.push(r?b:{formattedLabel:s(w),rawLabel:l.getLabel(w),tickValue:b})}return f}function makeLabelsByCustomizedCategoryInterval(a,n,r){var s=a.scale,l=makeLabelFormatter(a),u=[];return each$f(s.getTicks(),function(c){var f=s.getLabel(c),d=c.value;n(c.value,f)&&u.push(r?d:{formattedLabel:l(c),rawLabel:f,tickValue:d})}),u}var NORMALIZED_EXTENT=[0,1],Axis=function(){function a(n,r,s){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=r,this._extent=s||[0,0]}return a.prototype.contain=function(n){var r=this._extent,s=Math.min(r[0],r[1]),l=Math.max(r[0],r[1]);return n>=s&&n<=l},a.prototype.containData=function(n){return this.scale.contain(n)},a.prototype.getExtent=function(){return this._extent.slice()},a.prototype.getPixelPrecision=function(n){return getPixelPrecision(n||this.scale.getExtent(),this._extent)},a.prototype.setExtent=function(n,r){var s=this._extent;s[0]=n,s[1]=r},a.prototype.dataToCoord=function(n,r){var s=this._extent,l=this.scale;return n=l.normalize(n),this.onBand&&l.type==="ordinal"&&(s=s.slice(),fixExtentWithBands(s,l.count())),linearMap$2(n,NORMALIZED_EXTENT,s,r)},a.prototype.coordToData=function(n,r){var s=this._extent,l=this.scale;this.onBand&&l.type==="ordinal"&&(s=s.slice(),fixExtentWithBands(s,l.count()));var u=linearMap$2(n,s,NORMALIZED_EXTENT,r);return this.scale.scale(u)},a.prototype.pointToData=function(n,r){},a.prototype.getTicksCoords=function(n){n=n||{};var r=n.tickModel||this.getTickModel(),s=createAxisTicks(this,r),l=s.ticks,u=map$1(l,function(f){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(f):f),tickValue:f}},this),c=r.get("alignWithLabel");return fixOnBandTicksCoords(this,u,c,n.clamp),u},a.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var n=this.model.getModel("minorTick"),r=n.get("splitNumber");r>0&&r<100||(r=5);var s=this.scale.getMinorTicks(r),l=map$1(s,function(u){return map$1(u,function(c){return{coord:this.dataToCoord(c),tickValue:c}},this)},this);return l},a.prototype.getViewLabels=function(){return createAxisLabels(this).labels},a.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},a.prototype.getTickModel=function(){return this.model.getModel("axisTick")},a.prototype.getBandWidth=function(){var n=this._extent,r=this.scale.getExtent(),s=r[1]-r[0]+(this.onBand?1:0);s===0&&(s=1);var l=Math.abs(n[1]-n[0]);return Math.abs(l)/s},a.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},a}();function fixExtentWithBands(a,n){var r=a[1]-a[0],s=n,l=r/s/2;a[0]+=l,a[1]-=l}function fixOnBandTicksCoords(a,n,r,s){var l=n.length;if(!a.onBand||r||!l)return;var u=a.getExtent(),c,f;if(l===1)n[0].coord=u[0],c=n[1]={coord:u[0]};else{var d=n[l-1].tickValue-n[0].tickValue,v=(n[l-1].coord-n[0].coord)/d;each$f(n,function(S){S.coord-=v/2});var g=a.scale.getExtent();f=1+g[1]-n[l-1].tickValue,c={coord:n[l-1].coord+v*f},n.push(c)}var y=u[0]>u[1];_(n[0].coord,u[0])&&(s?n[0].coord=u[0]:n.shift()),s&&_(u[0],n[0].coord)&&n.unshift({coord:u[0]}),_(u[1],c.coord)&&(s?c.coord=u[1]:n.pop()),s&&_(c.coord,u[1])&&n.push({coord:u[1]});function _(S,x){return S=round$3(S),x=round$3(x),y?S>x:S<x}}const Axis$1=Axis;var PI2$2=Math.PI*2,CMD$1=PathProxy.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(a,n,r,s,l){var u=r.width,c=r.height;switch(a){case"top":s.set(r.x+u/2,r.y-n),l.set(0,-1);break;case"bottom":s.set(r.x+u/2,r.y+c+n),l.set(0,1);break;case"left":s.set(r.x-n,r.y+c/2),l.set(-1,0);break;case"right":s.set(r.x+u+n,r.y+c/2),l.set(1,0);break}}function projectPointToArc(a,n,r,s,l,u,c,f,d){c-=a,f-=n;var v=Math.sqrt(c*c+f*f);c/=v,f/=v;var g=c*r+a,y=f*r+n;if(Math.abs(s-l)%PI2$2<1e-4)return d[0]=g,d[1]=y,v-r;if(u){var _=s;s=normalizeRadian(l),l=normalizeRadian(_)}else s=normalizeRadian(s),l=normalizeRadian(l);s>l&&(l+=PI2$2);var S=Math.atan2(f,c);if(S<0&&(S+=PI2$2),S>=s&&S<=l||S+PI2$2>=s&&S+PI2$2<=l)return d[0]=g,d[1]=y,v-r;var x=r*Math.cos(s)+a,A=r*Math.sin(s)+n,b=r*Math.cos(l)+a,w=r*Math.sin(l)+n,E=(x-c)*(x-c)+(A-f)*(A-f),M=(b-c)*(b-c)+(w-f)*(w-f);return E<M?(d[0]=x,d[1]=A,Math.sqrt(E)):(d[0]=b,d[1]=w,Math.sqrt(M))}function projectPointToLine(a,n,r,s,l,u,c,f){var d=l-a,v=u-n,g=r-a,y=s-n,_=Math.sqrt(g*g+y*y);g/=_,y/=_;var S=d*g+v*y,x=S/_;f&&(x=Math.min(Math.max(x,0),1)),x*=_;var A=c[0]=a+x*g,b=c[1]=n+x*y;return Math.sqrt((A-l)*(A-l)+(b-u)*(b-u))}function projectPointToRect(a,n,r,s,l,u,c){r<0&&(a=a+r,r=-r),s<0&&(n=n+s,s=-s);var f=a+r,d=n+s,v=c[0]=Math.min(Math.max(l,a),f),g=c[1]=Math.min(Math.max(u,n),d);return Math.sqrt((v-l)*(v-l)+(g-u)*(g-u))}var tmpPt=[];function nearestPointOnRect(a,n,r){var s=projectPointToRect(n.x,n.y,n.width,n.height,a.x,a.y,tmpPt);return r.set(tmpPt[0],tmpPt[1]),s}function nearestPointOnPath(a,n,r){for(var s=0,l=0,u=0,c=0,f,d,v=1/0,g=n.data,y=a.x,_=a.y,S=0;S<g.length;){var x=g[S++];S===1&&(s=g[S],l=g[S+1],u=s,c=l);var A=v;switch(x){case CMD$1.M:u=g[S++],c=g[S++],s=u,l=c;break;case CMD$1.L:A=projectPointToLine(s,l,g[S],g[S+1],y,_,tmpPt,!0),s=g[S++],l=g[S++];break;case CMD$1.C:A=cubicProjectPoint(s,l,g[S++],g[S++],g[S++],g[S++],g[S],g[S+1],y,_,tmpPt),s=g[S++],l=g[S++];break;case CMD$1.Q:A=quadraticProjectPoint(s,l,g[S++],g[S++],g[S],g[S+1],y,_,tmpPt),s=g[S++],l=g[S++];break;case CMD$1.A:var b=g[S++],w=g[S++],E=g[S++],M=g[S++],P=g[S++],R=g[S++];S+=1;var I=!!(1-g[S++]);f=Math.cos(P)*E+b,d=Math.sin(P)*M+w,S<=1&&(u=f,c=d);var L=(y-b)*M/E+b;A=projectPointToArc(b,w,M,P,P+R,I,L,_,tmpPt),s=Math.cos(P+R)*E+b,l=Math.sin(P+R)*M+w;break;case CMD$1.R:u=s=g[S++],c=l=g[S++];var O=g[S++],N=g[S++];A=projectPointToRect(u,c,O,N,y,_,tmpPt);break;case CMD$1.Z:A=projectPointToLine(s,l,u,c,y,_,tmpPt,!0),s=u,l=c;break}A<v&&(v=A,r.set(tmpPt[0],tmpPt[1]))}return v}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1;function updateLabelLinePoints(a,n){if(!!a){var r=a.getTextGuideLine(),s=a.getTextContent();if(!!(s&&r)){var l=a.textGuideLineConfig||{},u=[[0,0],[0,0],[0,0]],c=l.candidates||DEFAULT_SEARCH_SPACE,f=s.getBoundingRect().clone();f.applyTransform(s.getComputedTransform());var d=1/0,v=l.anchor,g=a.getComputedTransform(),y=g&&invert([],g),_=n.get("length2")||0;v&&pt2.copy(v);for(var S=0;S<c.length;S++){var x=c[S];getCandidateAnchor(x,0,f,pt0,dir),Point$1.scaleAndAdd(pt1,pt0,dir,_),pt1.transform(y);var A=a.getBoundingRect(),b=v?v.distance(pt1):a instanceof Path$1?nearestPointOnPath(pt1,a.path,pt2):nearestPointOnRect(pt1,A,pt2);b<d&&(d=b,pt1.transform(g),pt2.transform(g),pt2.toArray(u[0]),pt1.toArray(u[1]),pt0.toArray(u[2]))}limitTurnAngle(u,n.get("minTurnAngle")),r.setShape({points:u})}}}var tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(a,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(a[0]),pt1.fromArray(a[1]),pt2.fromArray(a[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var r=dir.len(),s=dir2.len();if(!(r<.001||s<.001)){dir.scale(1/r),dir2.scale(1/s);var l=dir.dot(dir2),u=Math.cos(n);if(u<l){var c=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,c/Math.tan(Math.PI-n));var f=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(f))return;f<0?Point$1.copy(tmpProjPoint,pt1):f>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(a[1])}}}}function limitSurfaceAngle(a,n,r){if(r<=180&&r>0){r=r/180*Math.PI,pt0.fromArray(a[0]),pt1.fromArray(a[1]),pt2.fromArray(a[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var s=dir.len(),l=dir2.len();if(!(s<.001||l<.001)){dir.scale(1/s),dir2.scale(1/l);var u=dir.dot(n),c=Math.cos(r);if(u<c){var f=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var d=Math.PI/2,v=Math.acos(dir2.dot(n)),g=d+v-r;if(g>=d)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,f/Math.tan(Math.PI/2-g));var y=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(y))return;y<0?Point$1.copy(tmpProjPoint,pt1):y>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(a[1])}}}}function setLabelLineState(a,n,r,s){var l=r==="normal",u=l?a:a.ensureState(r);u.ignore=n;var c=s.get("smooth");c&&c===!0&&(c=.3),u.shape=u.shape||{},c>0&&(u.shape.smooth=c);var f=s.getModel("lineStyle").getLineStyle();l?a.useStyle(f):u.style=f}function buildLabelLinePath(a,n){var r=n.smooth,s=n.points;if(!!s)if(a.moveTo(s[0][0],s[0][1]),r>0&&s.length>=3){var l=dist$1(s[0],s[1]),u=dist$1(s[1],s[2]);if(!l||!u){a.lineTo(s[1][0],s[1][1]),a.lineTo(s[2][0],s[2][1]);return}var c=Math.min(l,u)*r,f=lerp$1([],s[1],s[0],c/l),d=lerp$1([],s[1],s[2],c/u),v=lerp$1([],f,d,.5);a.bezierCurveTo(f[0],f[1],f[0],f[1],v[0],v[1]),a.bezierCurveTo(d[0],d[1],d[0],d[1],s[2][0],s[2][1])}else for(var g=1;g<s.length;g++)a.lineTo(s[g][0],s[g][1])}function setLabelLineStyle(a,n,r){var s=a.getTextGuideLine(),l=a.getTextContent();if(!l){s&&a.removeTextGuideLine();return}for(var u=n.normal,c=u.get("show"),f=l.ignore,d=0;d<DISPLAY_STATES.length;d++){var v=DISPLAY_STATES[d],g=n[v],y=v==="normal";if(g){var _=g.get("show"),S=y?f:retrieve2(l.states[v]&&l.states[v].ignore,f);if(S||!retrieve2(_,c)){var x=y?s:s&&s.states[v];x&&(x.ignore=!0);continue}s||(s=new Polyline$3,a.setTextGuideLine(s),!y&&(f||!c)&&setLabelLineState(s,!0,"normal",n.normal),a.stateProxy&&(s.stateProxy=a.stateProxy)),setLabelLineState(s,!1,v,g)}}if(s){defaults(s.style,r),s.style.fill=null;var A=u.get("showAbove"),b=a.textGuideLineConfig=a.textGuideLineConfig||{};b.showAbove=A||!1,s.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(a,n){n=n||"labelLine";for(var r={normal:a.getModel(n)},s=0;s<SPECIAL_STATES.length;s++){var l=SPECIAL_STATES[s];r[l]=a.getModel([l,n])}return r}function prepareLayoutList(a){for(var n=[],r=0;r<a.length;r++){var s=a[r];if(!s.defaultAttr.ignore){var l=s.label,u=l.getComputedTransform(),c=l.getBoundingRect(),f=!u||u[1]<1e-5&&u[2]<1e-5,d=l.style.margin||0,v=c.clone();v.applyTransform(u),v.x-=d/2,v.y-=d/2,v.width+=d,v.height+=d;var g=f?new OrientedBoundingRect$1(c,u):null;n.push({label:l,labelLine:s.labelLine,rect:v,localRect:c,obb:g,priority:s.priority,defaultAttr:s.defaultAttr,layoutOption:s.computedLayoutOption,axisAligned:f,transform:u})}}return n}function shiftLayout(a,n,r,s,l,u){var c=a.length;if(c<2)return;a.sort(function(O,N){return O.rect[n]-N.rect[n]});for(var f=0,d,v=!1,g=0,y=0;y<c;y++){var _=a[y],S=_.rect;d=S[n]-f,d<0&&(S[n]-=d,_.label[n]-=d,v=!0);var x=Math.max(-d,0);g+=x,f=S[n]+S[r]}g>0&&u&&R(-g/c,0,c);var A=a[0],b=a[c-1],w,E;M(),w<0&&I(-w,.8),E<0&&I(E,.8),M(),P(w,E,1),P(E,w,-1),M(),w<0&&L(-w),E<0&&L(E);function M(){w=A.rect[n]-s,E=l-b.rect[n]-b.rect[r]}function P(O,N,B){if(O<0){var F=Math.min(N,-O);if(F>0){R(F*B,0,c);var V=F+O;V<0&&I(-V*B,1)}else I(-O*B,1)}}function R(O,N,B){O!==0&&(v=!0);for(var F=N;F<B;F++){var V=a[F],z=V.rect;z[n]+=O,V.label[n]+=O}}function I(O,N){for(var B=[],F=0,V=1;V<c;V++){var z=a[V-1].rect,U=Math.max(a[V].rect[n]-z[n]-z[r],0);B.push(U),F+=U}if(!!F){var Y=Math.min(Math.abs(O)/F,N);if(O>0)for(var V=0;V<c-1;V++){var q=B[V]*Y;R(q,0,V+1)}else for(var V=c-1;V>0;V--){var q=B[V-1]*Y;R(-q,V,c)}}}function L(O){var N=O<0?-1:1;O=Math.abs(O);for(var B=Math.ceil(O/(c-1)),F=0;F<c-1;F++)if(N>0?R(B,0,F+1):R(-B,c-F-1,c),O-=B,O<=0)return}return v}function shiftLayoutOnX(a,n,r,s){return shiftLayout(a,"x","width",n,r,s)}function shiftLayoutOnY(a,n,r,s){return shiftLayout(a,"y","height",n,r,s)}function hideOverlap(a){var n=[];a.sort(function(A,b){return b.priority-A.priority});var r=new BoundingRect$1(0,0,0,0);function s(A){if(!A.ignore){var b=A.ensureState("emphasis");b.ignore==null&&(b.ignore=!1)}A.ignore=!0}for(var l=0;l<a.length;l++){var u=a[l],c=u.axisAligned,f=u.localRect,d=u.transform,v=u.label,g=u.labelLine;r.copy(u.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var y=u.obb,_=!1,S=0;S<n.length;S++){var x=n[S];if(!!r.intersect(x.rect)){if(c&&x.axisAligned){_=!0;break}if(x.obb||(x.obb=new OrientedBoundingRect$1(x.localRect,x.transform)),y||(y=new OrientedBoundingRect$1(f,d)),y.intersect(x.obb)){_=!0;break}}}_?(s(v),g&&s(g)):(v.attr("ignore",u.defaultAttr.ignore),g&&g.attr("ignore",u.defaultAttr.labelGuideIgnore),n.push(u))}}function cloneArr(a){if(a){for(var n=[],r=0;r<a.length;r++)n.push(a[r].slice());return n}}function prepareLayoutCallbackParams(a,n){var r=a.label,s=n&&n.getTextGuideLine();return{dataIndex:a.dataIndex,dataType:a.dataType,seriesIndex:a.seriesModel.seriesIndex,text:a.label.style.text,rect:a.hostRect,labelRect:a.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:cloneArr(s&&s.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable$1,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(a,n,r){for(var s=0;s<r.length;s++){var l=r[s];n[l]!=null&&(a[l]=n[l])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function a(){this._labelList=[],this._chartViewList=[]}return a.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},a.prototype._addLabel=function(n,r,s,l,u){var c=l.style,f=l.__hostTarget,d=f.textConfig||{},v=l.getComputedTransform(),g=l.getBoundingRect().plain();BoundingRect$1.applyTransform(g,g,v),v?dummyTransformable.setLocalTransform(v):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1);var y=l.__hostTarget,_;if(y){_=y.getBoundingRect().plain();var S=y.getComputedTransform();BoundingRect$1.applyTransform(_,_,S)}var x=_&&y.getTextGuideLine();this._labelList.push({label:l,labelLine:x,seriesModel:s,dataIndex:n,dataType:r,layoutOption:u,computedLayoutOption:null,rect:g,hostRect:_,priority:_?_.width*_.height:0,defaultAttr:{ignore:l.ignore,labelGuideIgnore:x&&x.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:c.x,y:c.y,align:c.align,verticalAlign:c.verticalAlign,width:c.width,height:c.height,fontSize:c.fontSize},cursor:l.cursor,attachedPos:d.position,attachedRot:d.rotation}})},a.prototype.addLabelsOfSeries=function(n){var r=this;this._chartViewList.push(n);var s=n.__model,l=s.get("labelLayout");!(isFunction(l)||keys(l).length)||n.group.traverse(function(u){if(u.ignore)return!0;var c=u.getTextContent(),f=getECData(u);c&&!c.disableLabelLayout&&r._addLabel(f.dataIndex,f.dataType,s,c,l)})},a.prototype.updateLayoutConfig=function(n){var r=n.getWidth(),s=n.getHeight();function l(M,P){return function(){updateLabelLinePoints(M,P)}}for(var u=0;u<this._labelList.length;u++){var c=this._labelList[u],f=c.label,d=f.__hostTarget,v=c.defaultAttr,g=void 0;isFunction(c.layoutOption)?g=c.layoutOption(prepareLayoutCallbackParams(c,d)):g=c.layoutOption,g=g||{},c.computedLayoutOption=g;var y=Math.PI/180;d&&d.setTextConfig({local:!1,position:g.x!=null||g.y!=null?null:v.attachedPos,rotation:g.rotate!=null?g.rotate*y:v.attachedRot,offset:[g.dx||0,g.dy||0]});var _=!1;if(g.x!=null?(f.x=parsePercent(g.x,r),f.setStyle("x",0),_=!0):(f.x=v.x,f.setStyle("x",v.style.x)),g.y!=null?(f.y=parsePercent(g.y,s),f.setStyle("y",0),_=!0):(f.y=v.y,f.setStyle("y",v.style.y)),g.labelLinePoints){var S=d.getTextGuideLine();S&&(S.setShape({points:g.labelLinePoints}),_=!1)}var x=labelLayoutInnerStore(f);x.needsUpdateLabelLine=_,f.rotation=g.rotate!=null?g.rotate*y:v.rotation,f.scaleX=v.scaleX,f.scaleY=v.scaleY;for(var A=0;A<LABEL_OPTION_TO_STYLE_KEYS.length;A++){var b=LABEL_OPTION_TO_STYLE_KEYS[A];f.setStyle(b,g[b]!=null?g[b]:v.style[b])}if(g.draggable){if(f.draggable=!0,f.cursor="move",d){var w=c.seriesModel;if(c.dataIndex!=null){var E=c.seriesModel.getData(c.dataType);w=E.getItemModel(c.dataIndex)}f.on("drag",l(d,w.getModel("labelLine")))}}else f.off("drag"),f.cursor=v.cursor}},a.prototype.layout=function(n){var r=n.getWidth(),s=n.getHeight(),l=prepareLayoutList(this._labelList),u=filter(l,function(d){return d.layoutOption.moveOverlap==="shiftX"}),c=filter(l,function(d){return d.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX(u,0,r),shiftLayoutOnY(c,0,s);var f=filter(l,function(d){return d.layoutOption.hideOverlap});hideOverlap(f)},a.prototype.processLabelsOverall=function(){var n=this;each$f(this._chartViewList,function(r){var s=r.__model,l=r.ignoreLabelLineUpdate,u=s.isAnimationEnabled();r.group.traverse(function(c){if(c.ignore&&!c.forceLabelAnimation)return!0;var f=!l,d=c.getTextContent();!f&&d&&(f=labelLayoutInnerStore(d).needsUpdateLabelLine),f&&n._updateLabelLine(c,s),u&&n._animateLabels(c,s)})})},a.prototype._updateLabelLine=function(n,r){var s=n.getTextContent(),l=getECData(n),u=l.dataIndex;if(s&&u!=null){var c=r.getData(l.dataType),f=c.getItemModel(u),d={},v=c.getItemVisual(u,"style"),g=c.getVisual("drawType");d.stroke=v[g];var y=f.getModel("labelLine");setLabelLineStyle(n,getLabelLineStatesModels(f),d),updateLabelLinePoints(n,y)}},a.prototype._animateLabels=function(n,r){var s=n.getTextContent(),l=n.getTextGuideLine();if(s&&(n.forceLabelAnimation||!s.ignore&&!s.invisible&&!n.disableLabelAnimation&&!isElementRemoved(n))){var u=labelLayoutInnerStore(s),c=u.oldLayout,f=getECData(n),d=f.dataIndex,v={x:s.x,y:s.y,rotation:s.rotation},g=r.getData(f.dataType);if(c){s.attr(c);var _=n.prevStates;_&&(indexOf(_,"select")>=0&&s.attr(u.oldLayoutSelect),indexOf(_,"emphasis")>=0&&s.attr(u.oldLayoutEmphasis)),updateProps$1(s,v,r,d)}else if(s.attr(v),!labelInner(s).valueAnimation){var y=retrieve2(s.style.opacity,1);s.style.opacity=0,initProps(s,{style:{opacity:y}},r,d)}if(u.oldLayout=v,s.states.select){var S=u.oldLayoutSelect={};extendWithKeys(S,v,LABEL_LAYOUT_PROPS),extendWithKeys(S,s.states.select,LABEL_LAYOUT_PROPS)}if(s.states.emphasis){var x=u.oldLayoutEmphasis={};extendWithKeys(x,v,LABEL_LAYOUT_PROPS),extendWithKeys(x,s.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(s,d,g,r,r)}if(l&&!l.ignore&&!l.invisible){var u=labelLineAnimationStore(l),c=u.oldLayout,A={points:l.shape.points};c?(l.attr({shape:c}),updateProps$1(l,{shape:A},r)):(l.setShape(A),l.style.strokePercent=0,initProps(l,{style:{strokePercent:1}},r)),u.oldLayout=A}},a}();const LabelManager$1=LabelManager;var getLabelManager=makeInner();function installLabelLayout(a){a.registerUpdateLifecycle("series:beforeupdate",function(n,r,s){var l=getLabelManager(r).labelManager;l||(l=getLabelManager(r).labelManager=new LabelManager$1),l.clearLabels()}),a.registerUpdateLifecycle("series:layoutlabels",function(n,r,s){var l=getLabelManager(r).labelManager;s.updatedSeries.forEach(function(u){l.addLabelsOfSeries(r.getViewOfSeriesModel(u))}),l.updateLayoutConfig(r),l.layout(r),l.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function a(){}return a.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},a.prototype.moveTo=function(n,r){this._add("M",n,r)},a.prototype.lineTo=function(n,r){this._add("L",n,r)},a.prototype.bezierCurveTo=function(n,r,s,l,u,c){this._add("C",n,r,s,l,u,c)},a.prototype.quadraticCurveTo=function(n,r,s,l){this._add("Q",n,r,s,l)},a.prototype.arc=function(n,r,s,l,u,c){this.ellipse(n,r,s,s,0,l,u,c)},a.prototype.ellipse=function(n,r,s,l,u,c,f,d){var v=f-c,g=!d,y=Math.abs(v),_=isAroundZero(y-PI2$1)||(g?v>=PI2$1:-v>=PI2$1),S=v>0?v%PI2$1:v%PI2$1+PI2$1,x=!1;_?x=!0:isAroundZero(y)?x=!1:x=S>=PI$4==!!g;var A=n+s*mathCos(c),b=r+l*mathSin(c);this._start&&this._add("M",A,b);var w=Math.round(u*degree);if(_){var E=1/this._p,M=(g?1:-1)*(PI2$1-E);this._add("A",s,l,w,1,+g,n+s*mathCos(c+M),r+l*mathSin(c+M)),E>.01&&this._add("A",s,l,w,0,+g,A,b)}else{var P=n+s*mathCos(f),R=r+l*mathSin(f);this._add("A",s,l,w,+x,+g,P,R)}},a.prototype.rect=function(n,r,s,l){this._add("M",n,r),this._add("l",s,0),this._add("l",0,l),this._add("l",-s,0),this._add("Z")},a.prototype.closePath=function(){this._d.length>0&&this._add("Z")},a.prototype._add=function(n,r,s,l,u,c,f,d,v){for(var g=[],y=this._p,_=1;_<arguments.length;_++){var S=arguments[_];if(isNaN(S)){this._invalid=!0;return}g.push(Math.round(S*y)/y)}this._d.push(n+g.join(" ")),this._start=n==="Z"},a.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},a.prototype.getStr=function(){return this._str},a}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(a){var n=a.fill;return n!=null&&n!==NONE}function pathHasStroke(a){var n=a.stroke;return n!=null&&n!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(a){return"stroke-"+a.toLowerCase()});function mapStyleToAttrs(a,n,r,s){var l=n.opacity==null?1:n.opacity;if(r instanceof ZRImage$1){a("opacity",l);return}if(pathHasFill(n)){var u=normalizeColor(n.fill);a("fill",u.color);var c=n.fillOpacity!=null?n.fillOpacity*u.opacity*l:u.opacity*l;(s||c<1)&&a("fill-opacity",c)}else a("fill",NONE);if(pathHasStroke(n)){var f=normalizeColor(n.stroke);a("stroke",f.color);var d=n.strokeNoScale?r.getLineScale():1,v=d?(n.lineWidth||0)/d:0,g=n.strokeOpacity!=null?n.strokeOpacity*f.opacity*l:f.opacity*l,y=n.strokeFirst;if((s||v!==1)&&a("stroke-width",v),(s||y)&&a("paint-order",y?"stroke":"fill"),(s||g<1)&&a("stroke-opacity",g),n.lineDash){var _=getLineDash(r),S=_[0],x=_[1];S&&(x=mathRound(x||0),a("stroke-dasharray",S.join(",")),(x||s)&&a("stroke-dashoffset",x))}else s&&a("stroke-dasharray",NONE);for(var A=0;A<strokeProps.length;A++){var b=strokeProps[A];if(s||n[b]!==DEFAULT_PATH_STYLE[b]){var w=n[b]||DEFAULT_PATH_STYLE[b];w&&a(svgStrokeProps[A],w)}}}else s&&a("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace";function createElement(a){return document.createElementNS(SVGNS,a)}function createVNode(a,n,r,s,l){return{tag:a,attrs:r||{},children:s,text:l,key:n}}function createElementOpen(a,n){var r=[];if(n)for(var s in n){var l=n[s],u=s;l!==!1&&(l!==!0&&l!=null&&(u+='="'+l+'"'),r.push(u))}return"<"+a+" "+r.join(" ")+">"}function createElementClose(a){return"</"+a+">"}function vNodeToString(a,n){n=n||{};var r=n.newline?`
`:"";function s(l){var u=l.children,c=l.tag,f=l.attrs;return createElementOpen(c,f)+encodeHTML(l.text)+(u?""+r+map$1(u,function(d){return s(d)}).join(r)+r:"")+createElementClose(c)}return s(a)}function getCssString(a,n,r){r=r||{};var s=r.newline?`
`:"",l=" {"+s,u=s+"}",c=map$1(keys(a),function(d){return d+l+map$1(keys(a[d]),function(v){return v+":"+a[d][v]+";"}).join(s)+u}).join(s),f=map$1(keys(n),function(d){return"@keyframes "+d+l+map$1(keys(n[d]),function(v){return v+l+map$1(keys(n[d][v]),function(g){var y=n[d][v][g];return g==="d"&&(y='path("'+y+'")'),g+":"+y+";"}).join(s)+u}).join(s)+u}).join(s);return!c&&!f?"":["<![CDATA[",c,f,"]]>"].join(s)}function createBrushScope(a){return{zrId:a,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(a,n,r,s){return createVNode("svg","root",{width:a,height:n,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:s?"0 0 "+a+" "+n:!1},r)}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(a,n,r){var s=extend({},a.shape);extend(s,n),a.buildPath(r,s);var l=new SVGPathRebuilder$1;return l.reset(getPathPrecision(a)),r.rebuildPath(l,1),l.generateStr(),l.getStr()}function setTransformOrigin(a,n){var r=n.originX,s=n.originY;(r||s)&&(a[transformOriginKey]=r+"px "+s+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(a,n){var r=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[r]=a,r}function createCompoundPathCSSAnimation(a,n,r){var s=a.shape.paths,l={},u,c;if(each$f(s,function(d){var v=createBrushScope(r.zrId);v.animation=!0,createCSSAnimation(d,{},v,!0);var g=v.cssAnims,y=v.cssNodes,_=keys(g),S=_.length;if(!!S){c=_[S-1];var x=g[c];for(var A in x){var b=x[A];l[A]=l[A]||{d:""},l[A].d+=b.d||""}for(var w in y){var E=y[w].animation;E.indexOf(c)>=0&&(u=E)}}}),!!u){n.d=!1;var f=addAnimation(l,r);return u.replace(c,f)}}function getEasingFunc(a){return isString(a)?EASING_MAP[a]?"cubic-bezier("+EASING_MAP[a]+")":createCubicEasingFunc(a)?a:"":""}function createCSSAnimation(a,n,r,s){var l=a.animators,u=l.length,c=[];if(a instanceof CompoundPath$1){var f=createCompoundPathCSSAnimation(a,n,r);if(f)c.push(f);else if(!u)return}else if(!u)return;for(var d={},v=0;v<u;v++){var g=l[v],y=[g.getMaxTime()/1e3+"s"],_=getEasingFunc(g.getClip().easing),S=g.getDelay();_?y.push(_):y.push("linear"),S&&y.push(S/1e3+"s"),g.getLoop()&&y.push("infinite");var x=y.join(" ");d[x]=d[x]||[x,[]],d[x][1].push(g)}function A(E){var M=E[1],P=M.length,R={},I={},L={},O="animation-timing-function";function N(ue,Ee,$e){for(var pe=ue.getTracks(),ye=ue.getMaxTime(),Z=0;Z<pe.length;Z++){var X=pe[Z];if(X.needsAnimate()){var re=X.keyframes,ce=X.propName;if($e&&(ce=$e(ce)),ce)for(var le=0;le<re.length;le++){var Te=re[le],Ce=Math.round(Te.time/ye*100)+"%",Ae=getEasingFunc(Te.easing),xe=Te.rawValue;(isString(xe)||isNumber(xe))&&(Ee[Ce]=Ee[Ce]||{},Ee[Ce][ce]=Te.rawValue,Ae&&(Ee[Ce][O]=Ae))}}}}for(var B=0;B<P;B++){var F=M[B],V=F.targetName;V?V==="shape"&&N(F,I):!s&&N(F,R)}for(var z in R){var U={};copyTransform(U,a),extend(U,R[z]);var Y=getSRTTransformString(U),q=R[z][O];L[z]=Y?{transform:Y}:{},setTransformOrigin(L[z],U),q&&(L[z][O]=q)}var Q,j=!0;for(var z in I){L[z]=L[z]||{};var ne=!Q,q=I[z][O];ne&&(Q=new PathProxy);var fe=Q.len();Q.reset(),L[z].d=buildPathString(a,I[z],Q);var de=Q.len();if(!ne&&fe!==de){j=!1;break}q&&(L[z][O]=q)}if(!j)for(var z in L)delete L[z].d;if(!s)for(var B=0;B<P;B++){var F=M[B],V=F.targetName;V==="style"&&N(F,L,function(pe){return ANIMATE_STYLE_MAP[pe]})}for(var be=keys(L),Me=!0,Pe,B=1;B<be.length;B++){var ae=be[B-1],me=be[B];if(L[ae][transformOriginKey]!==L[me][transformOriginKey]){Me=!1;break}Pe=L[ae][transformOriginKey]}if(Me&&Pe){for(var z in L)L[z][transformOriginKey]&&delete L[z][transformOriginKey];n[transformOriginKey]=Pe}if(filter(be,function(ue){return keys(L[ue]).length>0}).length){var se=addAnimation(L,r);return se+" "+E[0]+" both"}}for(var b in d){var f=A(d[b]);f&&c.push(f)}if(c.length){var w=r.zrId+"-cls-"+r.cssClassIdx++;r.cssNodes["."+w]={animation:c.join(",")},n.class=w}}var round$1=Math.round;function isImageLike(a){return a&&isString(a.src)}function isCanvasLike(a){return a&&isFunction(a.toDataURL)}function setStyleAttrs(a,n,r,s){mapStyleToAttrs(function(l,u){var c=l==="fill"||l==="stroke";c&&isGradient(u)?setGradient(n,a,l,s):c&&isPattern(u)?setPattern(r,a,l,s):a[l]=u},n,r,!1),setShadow(r,a,s)}function noRotateScale(a){return isAroundZero(a[0]-1)&&isAroundZero(a[1])&&isAroundZero(a[2])&&isAroundZero(a[3]-1)}function noTranslate(a){return isAroundZero(a[4])&&isAroundZero(a[5])}function setTransform(a,n,r){if(n&&!(noTranslate(n)&&noRotateScale(n))){var s=r?10:1e4;a.transform=noRotateScale(n)?"translate("+round$1(n[4]*s)/s+" "+round$1(n[5]*s)/s+")":getMatrixStr(n)}}function convertPolyShape(a,n,r){for(var s=a.points,l=[],u=0;u<s.length;u++)l.push(round$1(s[u][0]*r)/r),l.push(round$1(s[u][1]*r)/r);n.points=l.join(" ")}function validatePolyShape(a){return!a.smooth}function createAttrsConvert(a){var n=map$1(a,function(r){return typeof r=="string"?[r,r]:r});return function(r,s,l){for(var u=0;u<n.length;u++){var c=n[u],f=r[c[0]];f!=null&&(s[c[1]]=round$1(f*l)/l)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(a){for(var n=a.animators,r=0;r<n.length;r++)if(n[r].targetName==="shape")return!0;return!1}function brushSVGPath(a,n){var r=a.style,s=a.shape,l=builtinShapesDef[a.type],u={},c=n.animation,f="path",d=a.style.strokePercent,v=n.compress&&getPathPrecision(a)||4;if(l&&!n.willUpdate&&!(l[1]&&!l[1](s))&&!(c&&hasShapeAnimation(a))&&!(d<1)){f=a.type;var g=Math.pow(10,v);l[0](s,u,g)}else{var y=!a.path||a.shapeChanged();a.path||a.createPathProxy();var _=a.path;y&&(_.beginPath(),a.buildPath(_,a.shape),a.pathUpdated());var S=_.getVersion(),x=a,A=x.__svgPathBuilder;(x.__svgPathVersion!==S||!A||d!==x.__svgPathStrokePercent)&&(A||(A=x.__svgPathBuilder=new SVGPathRebuilder$1),A.reset(v),_.rebuildPath(A,d),A.generateStr(),x.__svgPathVersion=S,x.__svgPathStrokePercent=d),u.d=A.getStr()}return setTransform(u,a.transform),setStyleAttrs(u,r,a,n),n.animation&&createCSSAnimation(a,u,n),createVNode(f,a.id+"",u)}function brushSVGImage(a,n){var r=a.style,s=r.image;if(s&&!isString(s)&&(isImageLike(s)?s=s.src:isCanvasLike(s)&&(s=s.toDataURL())),!!s){var l=r.x||0,u=r.y||0,c=r.width,f=r.height,d={href:s,width:c,height:f};return l&&(d.x=l),u&&(d.y=u),setTransform(d,a.transform),setStyleAttrs(d,r,a,n),n.animation&&createCSSAnimation(a,d,n),createVNode("image",a.id+"",d)}}function brushSVGTSpan(a,n){var r=a.style,s=r.text;if(s!=null&&(s+=""),!(!s||isNaN(r.x)||isNaN(r.y))){var l=r.font||DEFAULT_FONT,u=r.x||0,c=adjustTextY$1(r.y||0,getLineHeight(l),r.textBaseline),f=TEXT_ALIGN_TO_ANCHOR[r.textAlign]||r.textAlign,d={"dominant-baseline":"central","text-anchor":f};if(hasSeparateFont(r)){var v="",g=r.fontStyle,y=parseFontSize(r.fontSize);if(!parseFloat(y))return;var _=r.fontFamily||DEFAULT_FONT_FAMILY,S=r.fontWeight;v+="font-size:"+y+";font-family:"+_+";",g&&g!=="normal"&&(v+="font-style:"+g+";"),S&&S!=="normal"&&(v+="font-weight:"+S+";"),d.style=v}else d.style="font: "+l;return s.match(/\s/)&&(d["xml:space"]="preserve"),u&&(d.x=u),c&&(d.y=c),setTransform(d,a.transform),setStyleAttrs(d,r,a,n),n.animation&&createCSSAnimation(a,d,n),createVNode("text",a.id+"",d,void 0,s)}}function brush(a,n){if(a instanceof Path$1)return brushSVGPath(a,n);if(a instanceof ZRImage$1)return brushSVGImage(a,n);if(a instanceof TSpan$1)return brushSVGTSpan(a,n)}function setShadow(a,n,r){var s=a.style;if(hasShadow(s)){var l=getShadowKey(a),u=r.shadowCache,c=u[l];if(!c){var f=a.getGlobalScale(),d=f[0],v=f[1];if(!d||!v)return;var g=s.shadowOffsetX||0,y=s.shadowOffsetY||0,_=s.shadowBlur,S=normalizeColor(s.shadowColor),x=S.opacity,A=S.color,b=_/2/d,w=_/2/v,E=b+" "+w;c=r.zrId+"-s"+r.shadowIdx++,r.defs[c]=createVNode("filter",c,{id:c,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:g/d,dy:y/v,stdDeviation:E,"flood-color":A,"flood-opacity":x})]),u[l]=c}n.filter=getIdURL(c)}}function setGradient(a,n,r,s){var l=a[r],u,c={gradientUnits:l.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(l))u="linearGradient",c.x1=l.x,c.y1=l.y,c.x2=l.x2,c.y2=l.y2;else if(isRadialGradient(l))u="radialGradient",c.cx=retrieve2(l.x,.5),c.cy=retrieve2(l.y,.5),c.r=retrieve2(l.r,.5);else return;for(var f=l.colorStops,d=[],v=0,g=f.length;v<g;++v){var y=round4(f[v].offset)*100+"%",_=f[v].color,S=normalizeColor(_),x=S.color,A=S.opacity,b={offset:y};b["stop-color"]=x,A<1&&(b["stop-opacity"]=A),d.push(createVNode("stop",v+"",b))}var w=createVNode(u,"",c,d),E=vNodeToString(w),M=s.gradientCache,P=M[E];P||(P=s.zrId+"-g"+s.gradientIdx++,M[E]=P,c.id=P,s.defs[P]=createVNode(u,P,c,d)),n[r]=getIdURL(P)}function setPattern(a,n,r,s){var l=a.style[r],u=a.getBoundingRect(),c={},f=l.repeat,d=f==="no-repeat",v=f==="repeat-x",g=f==="repeat-y",y;if(isImagePattern(l)){var _=l.imageWidth,S=l.imageHeight,x=void 0,A=l.image;if(isString(A)?x=A:isImageLike(A)?x=A.src:isCanvasLike(A)&&(x=A.toDataURL()),typeof Image>"u"){var b="Image width/height must been given explictly in svg-ssr renderer.";assert(_,b),assert(S,b)}else if(_==null||S==null){var w=function(B,F){if(B){var V=B.elm,z=_||F.width,U=S||F.height;B.tag==="pattern"&&(v?(U=1,z/=u.width):g&&(z=1,U/=u.height)),B.attrs.width=z,B.attrs.height=U,V&&(V.setAttribute("width",z),V.setAttribute("height",U))}},E=createOrUpdateImage(x,null,a,function(B){d||w(I,B),w(y,B)});E&&E.width&&E.height&&(_=_||E.width,S=S||E.height)}y=createVNode("image","img",{href:x,width:_,height:S}),c.width=_,c.height=S}else l.svgElement&&(y=clone$4(l.svgElement),c.width=l.svgWidth,c.height=l.svgHeight);if(!!y){var M,P;d?M=P=1:v?(P=1,M=c.width/u.width):g?(M=1,P=c.height/u.height):c.patternUnits="userSpaceOnUse",M!=null&&!isNaN(M)&&(c.width=M),P!=null&&!isNaN(P)&&(c.height=P);var R=getSRTTransformString(l);R&&(c.patternTransform=R);var I=createVNode("pattern","",c,[y]),L=vNodeToString(I),O=s.patternCache,N=O[L];N||(N=s.zrId+"-p"+s.patternIdx++,O[L]=N,c.id=N,I=s.defs[N]=createVNode("pattern",N,c,[y])),n[r]=getIdURL(N)}}function setClipPath(a,n,r){var s=r.clipPathCache,l=r.defs,u=s[a.id];if(!u){u=r.zrId+"-c"+r.clipPathIdx++;var c={id:u};s[a.id]=u,l[u]=createVNode("clipPath",u,c,[brushSVGPath(a,r)])}n["clip-path"]=getIdURL(u)}function createTextNode(a){return document.createTextNode(a)}function insertBefore(a,n,r){a.insertBefore(n,r)}function removeChild(a,n){a.removeChild(n)}function appendChild(a,n){a.appendChild(n)}function parentNode(a){return a.parentNode}function nextSibling(a){return a.nextSibling}function setTextContent(a,n){a.textContent=n}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(a){return a===void 0}function isDef(a){return a!==void 0}function createKeyToOldIdx(a,n,r){for(var s={},l=n;l<=r;++l){var u=a[l].key;u!==void 0&&(s[u]=l)}return s}function sameVnode(a,n){var r=a.key===n.key,s=a.tag===n.tag;return s&&r}function createElm(a){var n,r=a.children,s=a.tag;if(isDef(s)){var l=a.elm=createElement(s);if(updateAttrs(emptyNode,a),isArray$2(r))for(n=0;n<r.length;++n){var u=r[n];u!=null&&appendChild(l,createElm(u))}else isDef(a.text)&&!isObject$3(a.text)&&appendChild(l,createTextNode(a.text))}else a.elm=createTextNode(a.text);return a.elm}function addVnodes(a,n,r,s,l){for(;s<=l;++s){var u=r[s];u!=null&&insertBefore(a,createElm(u),n)}}function removeVnodes(a,n,r,s){for(;r<=s;++r){var l=n[r];if(l!=null)if(isDef(l.tag)){var u=parentNode(l.elm);removeChild(u,l.elm)}else removeChild(a,l.elm)}}function updateAttrs(a,n){var r,s=n.elm,l=a&&a.attrs||{},u=n.attrs||{};if(l!==u){for(r in u){var c=u[r],f=l[r];f!==c&&(c===!0?s.setAttribute(r,""):c===!1?s.removeAttribute(r):r.charCodeAt(0)!==xChar?s.setAttribute(r,c):r==="xmlns:xlink"||r==="xmlns"?s.setAttributeNS(XMLNS,r,c):r.charCodeAt(3)===colonChar?s.setAttributeNS(XML_NAMESPACE,r,c):r.charCodeAt(5)===colonChar?s.setAttributeNS(XLINKNS,r,c):s.setAttribute(r,c))}for(r in l)r in u||s.removeAttribute(r)}}function updateChildren(a,n,r){for(var s=0,l=0,u=n.length-1,c=n[0],f=n[u],d=r.length-1,v=r[0],g=r[d],y,_,S,x;s<=u&&l<=d;)c==null?c=n[++s]:f==null?f=n[--u]:v==null?v=r[++l]:g==null?g=r[--d]:sameVnode(c,v)?(patchVnode(c,v),c=n[++s],v=r[++l]):sameVnode(f,g)?(patchVnode(f,g),f=n[--u],g=r[--d]):sameVnode(c,g)?(patchVnode(c,g),insertBefore(a,c.elm,nextSibling(f.elm)),c=n[++s],g=r[--d]):sameVnode(f,v)?(patchVnode(f,v),insertBefore(a,f.elm,c.elm),f=n[--u],v=r[++l]):(isUndef(y)&&(y=createKeyToOldIdx(n,s,u)),_=y[v.key],isUndef(_)?insertBefore(a,createElm(v),c.elm):(S=n[_],S.tag!==v.tag?insertBefore(a,createElm(v),c.elm):(patchVnode(S,v),n[_]=void 0,insertBefore(a,S.elm,c.elm))),v=r[++l]);(s<=u||l<=d)&&(s>u?(x=r[d+1]==null?null:r[d+1].elm,addVnodes(a,x,r,l,d)):removeVnodes(a,n,s,u))}function patchVnode(a,n){var r=n.elm=a.elm,s=a.children,l=n.children;a!==n&&(updateAttrs(a,n),isUndef(n.text)?isDef(s)&&isDef(l)?s!==l&&updateChildren(r,s,l):isDef(l)?(isDef(a.text)&&setTextContent(r,""),addVnodes(r,null,l,0,l.length-1)):isDef(s)?removeVnodes(r,s,0,s.length-1):isDef(a.text)&&setTextContent(r,""):a.text!==n.text&&(isDef(s)&&removeVnodes(r,s,0,s.length-1),setTextContent(r,n.text)))}function patch(a,n){if(sameVnode(a,n))patchVnode(a,n);else{var r=a.elm,s=parentNode(r);createElm(n),s!==null&&(insertBefore(s,n.elm,nextSibling(r)),removeVnodes(s,[a],0,0))}return n}var svgId=0,SVGPainter=function(){function a(n,r,s){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=r,this._opts=s=extend({},s),this.root=n,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(s.width,s.height),n&&!s.ssr){var l=this._viewport=document.createElement("div");l.style.cssText="position:relative;overflow:hidden";var u=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),l.appendChild(u),n.appendChild(l)}this.resize(s.width,s.height)}return a.prototype.getType=function(){return this.type},a.prototype.getViewportRoot=function(){return this._viewport},a.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},a.prototype.getSvgDom=function(){return this._svgDom},a.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,n),this._oldVNode=n}},a.prototype.renderOneToVNode=function(n){return brush(n,createBrushScope(this._id))},a.prototype.renderToVNode=function(n){n=n||{};var r=this.storage.getDisplayList(!0),s=this._width,l=this._height,u=createBrushScope(this._id);u.animation=n.animation,u.willUpdate=n.willUpdate,u.compress=n.compress;var c=[],f=this._bgVNode=createBackgroundVNode(s,l,this._backgroundColor,u);f&&c.push(f);var d=n.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(r,u,d?d.children:c),d&&c.push(d);var v=map$1(keys(u.defs),function(_){return u.defs[_]});if(v.length&&c.push(createVNode("defs","defs",{},v)),n.animation){var g=getCssString(u.cssNodes,u.cssAnims,{newline:!0});if(g){var y=createVNode("style","stl",{},[],g);c.push(y)}}return createSVGVNode(s,l,c,n.useViewBox)},a.prototype.renderToString=function(n){return n=n||{},vNodeToString(this.renderToVNode({animation:retrieve2(n.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(n.useViewBox,!0)}),{newline:!0})},a.prototype.setBackgroundColor=function(n){this._backgroundColor=n},a.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},a.prototype._paintList=function(n,r,s){for(var l=n.length,u=[],c=0,f,d,v=0,g=0;g<l;g++){var y=n[g];if(!y.invisible){var _=y.__clipPaths,S=_&&_.length||0,x=d&&d.length||0,A=void 0;for(A=Math.max(S-1,x-1);A>=0&&!(_&&d&&_[A]===d[A]);A--);for(var b=x-1;b>A;b--)c--,f=u[c-1];for(var w=A+1;w<S;w++){var E={};setClipPath(_[w],E,r);var M=createVNode("g","clip-g-"+v++,E,[]);(f?f.children:s).push(M),u[c++]=M,f=M}d=_;var P=brush(y,r);P&&(f?f.children:s).push(P)}}},a.prototype.resize=function(n,r){var s=this._opts,l=this.root,u=this._viewport;if(n!=null&&(s.width=n),r!=null&&(s.height=r),l&&u&&(u.style.display="none",n=getSize$1(l,0,s),r=getSize$1(l,1,s),u.style.display=""),this._width!==n||this._height!==r){if(this._width=n,this._height=r,u){var c=u.style;c.width=n+"px",c.height=r+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var f=this._svgDom;f&&(f.setAttribute("width",n),f.setAttribute("height",r));var d=this._bgVNode&&this._bgVNode.elm;d&&(d.setAttribute("width",n),d.setAttribute("height",r))}}},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},a.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},a.prototype.toDataURL=function(n){var r=this.renderToString(),s="data:image/svg+xml;";return n?(r=encodeBase64(r),r&&s+"base64,"+r):s+"charset=UTF-8,"+encodeURIComponent(r)},a}();function createMethodNotSupport(a){return function(){}}function createBackgroundVNode(a,n,r,s){var l;if(r&&r!=="none")if(l=createVNode("rect","bg",{width:a,height:n,x:"0",y:"0",id:"0"}),isGradient(r))setGradient({fill:r},l.attrs,"fill",s);else if(isPattern(r))setPattern({style:{fill:r},dirty:noop$1,getBoundingRect:function(){return{width:a,height:n}}},l.attrs,"fill",s);else{var u=normalizeColor(r),c=u.color,f=u.opacity;l.attrs.fill=c,f<1&&(l.attrs["fill-opacity"]=f)}return l}const SVGPainter$1=SVGPainter;function install$S(a){a.registerPainter("svg",SVGPainter$1)}function createDom(a,n,r){var s=platformApi.createCanvas(),l=n.getWidth(),u=n.getHeight(),c=s.style;return c&&(c.position="absolute",c.left="0",c.top="0",c.width=l+"px",c.height=u+"px",s.setAttribute("data-zr-dom-id",a)),s.width=l*r,s.height=u*r,s}var Layer=function(a){__extends(n,a);function n(r,s,l){var u=a.call(this)||this;u.motionBlur=!1,u.lastFrameAlpha=.7,u.dpr=1,u.virtual=!1,u.config={},u.incremental=!1,u.zlevel=0,u.maxRepaintRectCount=5,u.__dirty=!0,u.__firstTimePaint=!0,u.__used=!1,u.__drawIndex=0,u.__startIndex=0,u.__endIndex=0,u.__prevStartIndex=null,u.__prevEndIndex=null;var c;l=l||devicePixelRatio,typeof r=="string"?c=createDom(r,s,l):isObject$3(r)&&(c=r,r=c.id),u.id=r,u.dom=c;var f=c.style;return f&&(disableUserSelect(c),c.onselectstart=function(){return!1},f.padding="0",f.margin="0",f.borderWidth="0"),u.painter=s,u.dpr=l,u}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},n.prototype.createRepaintRects=function(r,s,l,u){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var c=[],f=this.maxRepaintRectCount,d=!1,v=new BoundingRect$1(0,0,0,0);function g(E){if(!(!E.isFinite()||E.isZero()))if(c.length===0){var M=new BoundingRect$1(0,0,0,0);M.copy(E),c.push(M)}else{for(var P=!1,R=1/0,I=0,L=0;L<c.length;++L){var O=c[L];if(O.intersect(E)){var N=new BoundingRect$1(0,0,0,0);N.copy(O),N.union(E),c[L]=N,P=!0;break}else if(d){v.copy(E),v.union(O);var B=E.width*E.height,F=O.width*O.height,V=v.width*v.height,z=V-B-F;z<R&&(R=z,I=L)}}if(d&&(c[I].union(E),P=!0),!P){var M=new BoundingRect$1(0,0,0,0);M.copy(E),c.push(M)}d||(d=c.length>=f)}}for(var y=this.__startIndex;y<this.__endIndex;++y){var _=r[y];if(_){var S=_.shouldBePainted(l,u,!0,!0),x=_.__isRendered&&(_.__dirty&REDRAW_BIT||!S)?_.getPrevPaintRect():null;x&&g(x);var A=S&&(_.__dirty&REDRAW_BIT||!_.__isRendered)?_.getPaintRect():null;A&&g(A)}}for(var y=this.__prevStartIndex;y<this.__prevEndIndex;++y){var _=s[y],S=_.shouldBePainted(l,u,!0,!0);if(_&&(!S||!_.__zr)&&_.__isRendered){var x=_.getPrevPaintRect();x&&g(x)}}var b;do{b=!1;for(var y=0;y<c.length;){if(c[y].isZero()){c.splice(y,1);continue}for(var w=y+1;w<c.length;)c[y].intersect(c[w])?(b=!0,c[y].union(c[w]),c.splice(w,1)):w++;y++}}while(b);return this._paintRects=c,c},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(r,s){var l=this.dpr,u=this.dom,c=u.style,f=this.domBack;c&&(c.width=r+"px",c.height=s+"px"),u.width=r*l,u.height=s*l,f&&(f.width=r*l,f.height=s*l,l!==1&&this.ctxBack.scale(l,l))},n.prototype.clear=function(r,s,l){var u=this.dom,c=this.ctx,f=u.width,d=u.height;s=s||this.clearColor;var v=this.motionBlur&&!r,g=this.lastFrameAlpha,y=this.dpr,_=this;v&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(u,0,0,f/y,d/y));var S=this.domBack;function x(A,b,w,E){if(c.clearRect(A,b,w,E),s&&s!=="transparent"){var M=void 0;if(isGradientObject(s)){var P=s.global||s.__width===w&&s.__height===E;M=P&&s.__canvasGradient||getCanvasGradient(c,s,{x:0,y:0,width:w,height:E}),s.__canvasGradient=M,s.__width=w,s.__height=E}else isImagePatternObject(s)&&(s.scaleX=s.scaleX||y,s.scaleY=s.scaleY||y,M=createCanvasPattern(c,s,{dirty:function(){_.setUnpainted(),_.__painter.refresh()}}));c.save(),c.fillStyle=M||s,c.fillRect(A,b,w,E),c.restore()}v&&(c.save(),c.globalAlpha=g,c.drawImage(S,A,b,w,E),c.restore())}!l||v?x(0,0,f,d):l.length&&each$f(l,function(A){x(A.x*y,A.y*y,A.width*y,A.height*y)})},n}(Eventful$1);const Layer$1=Layer;var HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(a){return a?a.__builtin__?!0:!(typeof a.resize!="function"||typeof a.refresh!="function"):!1}function createRoot(a,n){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+a+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var CanvasPainter=function(){function a(n,r,s,l){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var u=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS";this._opts=s=extend({},s||{}),this.dpr=s.devicePixelRatio||devicePixelRatio,this._singleCanvas=u,this.root=n;var c=n.style;c&&(disableUserSelect(n),n.innerHTML=""),this.storage=r;var f=this._zlevelList;this._prevDisplayList=[];var d=this._layers;if(u){var g=n,y=g.width,_=g.height;s.width!=null&&(y=s.width),s.height!=null&&(_=s.height),this.dpr=s.devicePixelRatio||1,g.width=y*this.dpr,g.height=_*this.dpr,this._width=y,this._height=_;var S=new Layer$1(g,this,this.dpr);S.__builtin__=!0,S.initContext(),d[CANVAS_ZLEVEL]=S,S.zlevel=CANVAS_ZLEVEL,f.push(CANVAS_ZLEVEL),this._domRoot=n}else{this._width=getSize$1(n,0,s),this._height=getSize$1(n,1,s);var v=this._domRoot=createRoot(this._width,this._height);n.appendChild(v)}}return a.prototype.getType=function(){return"canvas"},a.prototype.isSingleCanvas=function(){return this._singleCanvas},a.prototype.getViewportRoot=function(){return this._domRoot},a.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},a.prototype.refresh=function(n){var r=this.storage.getDisplayList(!0),s=this._prevDisplayList,l=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,s,n,this._redrawId);for(var u=0;u<l.length;u++){var c=l[u],f=this._layers[c];if(!f.__builtin__&&f.refresh){var d=u===0?this._backgroundColor:null;f.refresh(d)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},a.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},a.prototype._paintHoverList=function(n){var r=n.length,s=this._hoverlayer;if(s&&s.clear(),!!r){for(var l={inHover:!0,viewWidth:this._width,viewHeight:this._height},u,c=0;c<r;c++){var f=n[c];f.__inHover&&(s||(s=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),u||(u=s.ctx,u.save()),brush$1(u,f,l,c===r-1))}u&&u.restore()}},a.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},a.prototype.paintOne=function(n,r){brushSingle(n,r)},a.prototype._paintList=function(n,r,s,l){if(this._redrawId===l){s=s||!1,this._updateLayerStatus(n);var u=this._doPaintList(n,r,s),c=u.finished,f=u.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),f&&this._paintHoverList(n),c)this.eachLayer(function(v){v.afterBrush&&v.afterBrush()});else{var d=this;requestAnimationFrame$2(function(){d._paintList(n,r,s,l)})}}},a.prototype._compositeManually=function(){var n=this.getLayer(CANVAS_ZLEVEL).ctx,r=this._domRoot.width,s=this._domRoot.height;n.clearRect(0,0,r,s),this.eachBuiltinLayer(function(l){l.virtual&&n.drawImage(l.dom,0,0,r,s)})},a.prototype._doPaintList=function(n,r,s){for(var l=this,u=[],c=this._opts.useDirtyRect,f=0;f<this._zlevelList.length;f++){var d=this._zlevelList[f],v=this._layers[d];v.__builtin__&&v!==this._hoverlayer&&(v.__dirty||s)&&u.push(v)}for(var g=!0,y=!1,_=function(A){var b=u[A],w=b.ctx,E=c&&b.createRepaintRects(n,r,S._width,S._height),M=s?b.__startIndex:b.__drawIndex,P=!s&&b.incremental&&Date.now,R=P&&Date.now(),I=b.zlevel===S._zlevelList[0]?S._backgroundColor:null;if(b.__startIndex===b.__endIndex)b.clear(!1,I,E);else if(M===b.__startIndex){var L=n[M];(!L.incremental||!L.notClear||s)&&b.clear(!1,I,E)}M===-1&&(console.error("For some unknown reason. drawIndex is -1"),M=b.__startIndex);var O,N=function(z){var U={inHover:!1,allClipped:!1,prevEl:null,viewWidth:l._width,viewHeight:l._height};for(O=M;O<b.__endIndex;O++){var Y=n[O];if(Y.__inHover&&(y=!0),l._doPaintEl(Y,b,c,z,U,O===b.__endIndex-1),P){var q=Date.now()-R;if(q>15)break}}U.prevElClipPaths&&w.restore()};if(E)if(E.length===0)O=b.__endIndex;else for(var B=S.dpr,F=0;F<E.length;++F){var V=E[F];w.save(),w.beginPath(),w.rect(V.x*B,V.y*B,V.width*B,V.height*B),w.clip(),N(V),w.restore()}else w.save(),N(),w.restore();b.__drawIndex=O,b.__drawIndex<b.__endIndex&&(g=!1)},S=this,x=0;x<u.length;x++)_(x);return env$1.wxa&&each$f(this._layers,function(A){A&&A.ctx&&A.ctx.draw&&A.ctx.draw()}),{finished:g,needsRefreshHover:y}},a.prototype._doPaintEl=function(n,r,s,l,u,c){var f=r.ctx;if(s){var d=n.getPaintRect();(!l||d&&d.intersect(l))&&(brush$1(f,n,u,c),n.setPrevPaintRect(d))}else brush$1(f,n,u,c)},a.prototype.getLayer=function(n,r){this._singleCanvas&&!this._needsManuallyCompositing&&(n=CANVAS_ZLEVEL);var s=this._layers[n];return s||(s=new Layer$1("zr_"+n,this,this.dpr),s.zlevel=n,s.__builtin__=!0,this._layerConfig[n]?merge(s,this._layerConfig[n],!0):this._layerConfig[n-EL_AFTER_INCREMENTAL_INC]&&merge(s,this._layerConfig[n-EL_AFTER_INCREMENTAL_INC],!0),r&&(s.virtual=r),this.insertLayer(n,s),s.initContext()),s},a.prototype.insertLayer=function(n,r){var s=this._layers,l=this._zlevelList,u=l.length,c=this._domRoot,f=null,d=-1;if(!s[n]&&!!isLayerValid(r)){if(u>0&&n>l[0]){for(d=0;d<u-1&&!(l[d]<n&&l[d+1]>n);d++);f=s[l[d]]}if(l.splice(d+1,0,n),s[n]=r,!r.virtual)if(f){var v=f.dom;v.nextSibling?c.insertBefore(r.dom,v.nextSibling):c.appendChild(r.dom)}else c.firstChild?c.insertBefore(r.dom,c.firstChild):c.appendChild(r.dom);r.__painter=this}},a.prototype.eachLayer=function(n,r){for(var s=this._zlevelList,l=0;l<s.length;l++){var u=s[l];n.call(r,this._layers[u],u)}},a.prototype.eachBuiltinLayer=function(n,r){for(var s=this._zlevelList,l=0;l<s.length;l++){var u=s[l],c=this._layers[u];c.__builtin__&&n.call(r,c,u)}},a.prototype.eachOtherLayer=function(n,r){for(var s=this._zlevelList,l=0;l<s.length;l++){var u=s[l],c=this._layers[u];c.__builtin__||n.call(r,c,u)}},a.prototype.getLayers=function(){return this._layers},a.prototype._updateLayerStatus=function(n){this.eachBuiltinLayer(function(y,_){y.__dirty=y.__used=!1});function r(y){u&&(u.__endIndex!==y&&(u.__dirty=!0),u.__endIndex=y)}if(this._singleCanvas)for(var s=1;s<n.length;s++){var l=n[s];if(l.zlevel!==n[s-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}}var u=null,c=0,f,d;for(d=0;d<n.length;d++){var l=n[d],v=l.zlevel,g=void 0;f!==v&&(f=v,c=0),l.incremental?(g=this.getLayer(v+INCREMENTAL_INC,this._needsManuallyCompositing),g.incremental=!0,c=1):g=this.getLayer(v+(c>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),g.__builtin__||logError("ZLevel "+v+" has been used by unkown layer "+g.id),g!==u&&(g.__used=!0,g.__startIndex!==d&&(g.__dirty=!0),g.__startIndex=d,g.incremental?g.__drawIndex=-1:g.__drawIndex=d,r(d),u=g),l.__dirty&REDRAW_BIT&&!l.__inHover&&(g.__dirty=!0,g.incremental&&g.__drawIndex<0&&(g.__drawIndex=d))}r(d),this.eachBuiltinLayer(function(y,_){!y.__used&&y.getElementCount()>0&&(y.__dirty=!0,y.__startIndex=y.__endIndex=y.__drawIndex=0),y.__dirty&&y.__drawIndex<0&&(y.__drawIndex=y.__startIndex)})},a.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},a.prototype._clearLayer=function(n){n.clear()},a.prototype.setBackgroundColor=function(n){this._backgroundColor=n,each$f(this._layers,function(r){r.setUnpainted()})},a.prototype.configLayer=function(n,r){if(r){var s=this._layerConfig;s[n]?merge(s[n],r,!0):s[n]=r;for(var l=0;l<this._zlevelList.length;l++){var u=this._zlevelList[l];if(u===n||u===n+EL_AFTER_INCREMENTAL_INC){var c=this._layers[u];merge(c,s[n],!0)}}}},a.prototype.delLayer=function(n){var r=this._layers,s=this._zlevelList,l=r[n];!l||(l.dom.parentNode.removeChild(l.dom),delete r[n],s.splice(indexOf(s,n),1))},a.prototype.resize=function(n,r){if(this._domRoot.style){var s=this._domRoot;s.style.display="none";var l=this._opts,u=this.root;if(n!=null&&(l.width=n),r!=null&&(l.height=r),n=getSize$1(u,0,l),r=getSize$1(u,1,l),s.style.display="",this._width!==n||r!==this._height){s.style.width=n+"px",s.style.height=r+"px";for(var c in this._layers)this._layers.hasOwnProperty(c)&&this._layers[c].resize(n,r);this.refresh(!0)}this._width=n,this._height=r}else{if(n==null||r==null)return;this._width=n,this._height=r,this.getLayer(CANVAS_ZLEVEL).resize(n,r)}return this},a.prototype.clearLayer=function(n){var r=this._layers[n];r&&r.clear()},a.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},a.prototype.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var r=new Layer$1("image",this,n.pixelRatio||this.dpr);r.initContext(),r.clear(!1,n.backgroundColor||this._backgroundColor);var s=r.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var l=r.dom.width,u=r.dom.height;this.eachLayer(function(y){y.__builtin__?s.drawImage(y.dom,0,0,l,u):y.renderToCanvas&&(s.save(),y.renderToCanvas(s),s.restore())})}else for(var c={inHover:!1,viewWidth:this._width,viewHeight:this._height},f=this.storage.getDisplayList(!0),d=0,v=f.length;d<v;d++){var g=f[d];brush$1(s,g,c,d===v-1)}return r.dom},a.prototype.getWidth=function(){return this._width},a.prototype.getHeight=function(){return this._height},a}();const CanvasPainter$1=CanvasPainter;function install$R(a){a.registerPainter("canvas",CanvasPainter$1)}var LineSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(r){var s=new Group$4,l=createSymbol$1("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);s.add(l),l.setStyle(r.lineStyle);var u=this.getData().getVisual("symbol"),c=this.getData().getVisual("symbolRotate"),f=u==="none"?"circle":u,d=r.itemHeight*.8,v=createSymbol$1(f,(r.itemWidth-d)/2,(r.itemHeight-d)/2,d,d,r.itemStyle.fill);s.add(v),v.setStyle(r.itemStyle);var g=r.iconRotate==="inherit"?c:r.iconRotate||0;return v.rotation=g*Math.PI/180,v.setOrigin([r.itemWidth/2,r.itemHeight/2]),f.indexOf("empty")>-1&&(v.style.stroke=v.style.fill,v.style.fill="#fff",v.style.lineWidth=2),s},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(SeriesModel$1);const LineSeries=LineSeriesModel;function getDefaultLabel(a,n){var r=a.mapDimensionsAll("defaultedLabel"),s=r.length;if(s===1){var l=retrieveRawValue(a,n,r[0]);return l!=null?l+"":null}else if(s){for(var u=[],c=0;c<r.length;c++)u.push(retrieveRawValue(a,n,r[c]));return u.join(" ")}}function getDefaultInterpolatedLabel(a,n){var r=a.mapDimensionsAll("defaultedLabel");if(!isArray$2(n))return n+"";for(var s=[],l=0;l<r.length;l++){var u=a.getDimensionIndex(r[l]);u>=0&&s.push(n[u])}return s.join(" ")}var Symbol$1=function(a){__extends(n,a);function n(r,s,l,u){var c=a.call(this)||this;return c.updateData(r,s,l,u),c}return n.prototype._createSymbol=function(r,s,l,u,c){this.removeAll();var f=createSymbol$1(r,-1,-1,2,2,null,c);f.attr({z2:100,culling:!0,scaleX:u[0]/2,scaleY:u[1]/2}),f.drift=driftSymbol,this._symbolType=r,this.add(f)},n.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){enterEmphasis(this.childAt(0))},n.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},n.prototype.setZ=function(r,s){var l=this.childAt(0);l.zlevel=r,l.z=s},n.prototype.setDraggable=function(r,s){var l=this.childAt(0);l.draggable=r,l.cursor=!s&&r?"move":l.cursor},n.prototype.updateData=function(r,s,l,u){this.silent=!1;var c=r.getItemVisual(s,"symbol")||"circle",f=r.hostModel,d=n.getSymbolSize(r,s),v=c!==this._symbolType,g=u&&u.disableAnimation;if(v){var y=r.getItemVisual(s,"symbolKeepAspect");this._createSymbol(c,r,s,d,y)}else{var _=this.childAt(0);_.silent=!1;var S={scaleX:d[0]/2,scaleY:d[1]/2};g?_.attr(S):updateProps$1(_,S,f,s),saveOldStyle(_)}if(this._updateCommon(r,s,d,l,u),v){var _=this.childAt(0);if(!g){var S={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:_.style.opacity}};_.scaleX=_.scaleY=0,_.style.opacity=0,initProps(_,S,f,s)}}g&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(r,s,l,u,c){var f=this.childAt(0),d=r.hostModel,v,g,y,_,S,x,A,b,w;if(u&&(v=u.emphasisItemStyle,g=u.blurItemStyle,y=u.selectItemStyle,_=u.focus,S=u.blurScope,A=u.labelStatesModels,b=u.hoverScale,w=u.cursorStyle,x=u.emphasisDisabled),!u||r.hasItemOption){var E=u&&u.itemModel?u.itemModel:r.getItemModel(s),M=E.getModel("emphasis");v=M.getModel("itemStyle").getItemStyle(),y=E.getModel(["select","itemStyle"]).getItemStyle(),g=E.getModel(["blur","itemStyle"]).getItemStyle(),_=M.get("focus"),S=M.get("blurScope"),x=M.get("disabled"),A=getLabelStatesModels(E),b=M.getShallow("scale"),w=E.getShallow("cursor")}var P=r.getItemVisual(s,"symbolRotate");f.attr("rotation",(P||0)*Math.PI/180||0);var R=normalizeSymbolOffset(r.getItemVisual(s,"symbolOffset"),l);R&&(f.x=R[0],f.y=R[1]),w&&f.attr("cursor",w);var I=r.getItemVisual(s,"style"),L=I.fill;if(f instanceof ZRImage$1){var O=f.style;f.useStyle(extend({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},I))}else f.__isEmptyBrush?f.useStyle(extend({},I)):f.useStyle(I),f.style.decal=null,f.setColor(L,c&&c.symbolInnerColor),f.style.strokeNoScale=!0;var N=r.getItemVisual(s,"liftZ"),B=this._z2;N!=null?B==null&&(this._z2=f.z2,f.z2+=N):B!=null&&(f.z2=B,this._z2=null);var F=c&&c.useNameLabel;setLabelStyle(f,A,{labelFetcher:d,labelDataIndex:s,defaultText:V,inheritColor:L,defaultOpacity:I.opacity});function V(Y){return F?r.getName(Y):getDefaultLabel(r,Y)}this._sizeX=l[0]/2,this._sizeY=l[1]/2;var z=f.ensureState("emphasis");z.style=v,f.ensureState("select").style=y,f.ensureState("blur").style=g;var U=b==null||b===!0?Math.max(1.1,3/this._sizeY):isFinite(b)&&b>0?+b:1;z.scaleX=this._sizeX*U,z.scaleY=this._sizeY*U,this.setSymbolScale(1),toggleHoverEmphasis(this,_,S,x)},n.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},n.prototype.fadeOut=function(r,s,l){var u=this.childAt(0),c=getECData(this).dataIndex,f=l&&l.animation;if(this.silent=u.silent=!0,l&&l.fadeLabel){var d=u.getTextContent();d&&removeElement(d,{style:{opacity:0}},s,{dataIndex:c,removeOpt:f,cb:function(){u.removeTextContent()}})}else u.removeTextContent();removeElement(u,{style:{opacity:0},scaleX:0,scaleY:0},s,{dataIndex:c,cb:r,removeOpt:f})},n.getSymbolSize=function(r,s){return normalizeSymbolSize(r.getItemVisual(s,"symbolSize"))},n}(Group$4);function driftSymbol(a,n){this.parent.drift(a,n)}const SymbolClz=Symbol$1;function symbolNeedsDraw$1(a,n,r,s){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(s.isIgnore&&s.isIgnore(r))&&!(s.clipShape&&!s.clipShape.contain(n[0],n[1]))&&a.getItemVisual(r,"symbol")!=="none"}function normalizeUpdateOpt(a){return a!=null&&!isObject$3(a)&&(a={isIgnore:a}),a||{}}function makeSeriesScope$2(a){var n=a.hostModel,r=n.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:getLabelStatesModels(n),cursorStyle:n.get("cursor")}}var SymbolDraw=function(){function a(n){this.group=new Group$4,this._SymbolCtor=n||SymbolClz}return a.prototype.updateData=function(n,r){this._progressiveEls=null,r=normalizeUpdateOpt(r);var s=this.group,l=n.hostModel,u=this._data,c=this._SymbolCtor,f=r.disableAnimation,d=makeSeriesScope$2(n),v={disableAnimation:f},g=r.getSymbolPoint||function(y){return n.getItemLayout(y)};u||s.removeAll(),n.diff(u).add(function(y){var _=g(y);if(symbolNeedsDraw$1(n,_,y,r)){var S=new c(n,y,d,v);S.setPosition(_),n.setItemGraphicEl(y,S),s.add(S)}}).update(function(y,_){var S=u.getItemGraphicEl(_),x=g(y);if(!symbolNeedsDraw$1(n,x,y,r)){s.remove(S);return}var A=n.getItemVisual(y,"symbol")||"circle",b=S&&S.getSymbolType&&S.getSymbolType();if(!S||b&&b!==A)s.remove(S),S=new c(n,y,d,v),S.setPosition(x);else{S.updateData(n,y,d,v);var w={x:x[0],y:x[1]};f?S.attr(w):updateProps$1(S,w,l)}s.add(S),n.setItemGraphicEl(y,S)}).remove(function(y){var _=u.getItemGraphicEl(y);_&&_.fadeOut(function(){s.remove(_)},l)}).execute(),this._getSymbolPoint=g,this._data=n},a.prototype.updateLayout=function(){var n=this,r=this._data;r&&r.eachItemGraphicEl(function(s,l){var u=n._getSymbolPoint(l);s.setPosition(u),s.markRedraw()})},a.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$2(n),this._data=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(n,r,s){this._progressiveEls=[],s=normalizeUpdateOpt(s);function l(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var u=n.start;u<n.end;u++){var c=r.getItemLayout(u);if(symbolNeedsDraw$1(r,c,u,s)){var f=new this._SymbolCtor(r,u,this._seriesScope);f.traverse(l),f.setPosition(c),this.group.add(f),r.setItemGraphicEl(u,f),this._progressiveEls.push(f)}}},a.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},a.prototype.remove=function(n){var r=this.group,s=this._data;s&&n?s.eachItemGraphicEl(function(l){l.fadeOut(function(){r.remove(l)},s.hostModel)}):r.removeAll()},a}();const SymbolDraw$1=SymbolDraw;function prepareDataCoordInfo(a,n,r){var s=a.getBaseAxis(),l=a.getOtherAxis(s),u=getValueStart(l,r),c=s.dim,f=l.dim,d=n.mapDimension(f),v=n.mapDimension(c),g=f==="x"||f==="radius"?1:0,y=map$1(a.dimensions,function(x){return n.mapDimension(x)}),_=!1,S=n.getCalculationInfo("stackResultDimension");return isDimensionStacked(n,y[0])&&(_=!0,y[0]=S),isDimensionStacked(n,y[1])&&(_=!0,y[1]=S),{dataDimsForPoint:y,valueStart:u,valueAxisDim:f,baseAxisDim:c,stacked:!!_,valueDim:d,baseDim:v,baseDataOffset:g,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function getValueStart(a,n){var r=0,s=a.scale.getExtent();return n==="start"?r=s[0]:n==="end"?r=s[1]:isNumber(n)&&!isNaN(n)?r=n:s[0]>0?r=s[0]:s[1]<0&&(r=s[1]),r}function getStackedOnPoint(a,n,r,s){var l=NaN;a.stacked&&(l=r.get(r.getCalculationInfo("stackedOverDimension"),s)),isNaN(l)&&(l=a.valueStart);var u=a.baseDataOffset,c=[];return c[u]=r.get(a.baseDim,s),c[1-u]=l,n.dataToPoint(c)}function diffData(a,n){var r=[];return n.diff(a).add(function(s){r.push({cmd:"+",idx:s})}).update(function(s,l){r.push({cmd:"=",idx:l,idx1:s})}).remove(function(s){r.push({cmd:"-",idx:s})}).execute(),r}function lineAnimationDiff(a,n,r,s,l,u,c,f){for(var d=diffData(a,n),v=[],g=[],y=[],_=[],S=[],x=[],A=[],b=prepareDataCoordInfo(l,n,c),w=a.getLayout("points")||[],E=n.getLayout("points")||[],M=0;M<d.length;M++){var P=d[M],R=!0,I=void 0,L=void 0;switch(P.cmd){case"=":I=P.idx*2,L=P.idx1*2;var O=w[I],N=w[I+1],B=E[L],F=E[L+1];(isNaN(O)||isNaN(N))&&(O=B,N=F),v.push(O,N),g.push(B,F),y.push(r[I],r[I+1]),_.push(s[L],s[L+1]),A.push(n.getRawIndex(P.idx1));break;case"+":var V=P.idx,z=b.dataDimsForPoint,U=l.dataToPoint([n.get(z[0],V),n.get(z[1],V)]);L=V*2,v.push(U[0],U[1]),g.push(E[L],E[L+1]);var Y=getStackedOnPoint(b,l,n,V);y.push(Y[0],Y[1]),_.push(s[L],s[L+1]),A.push(n.getRawIndex(V));break;case"-":R=!1}R&&(S.push(P),x.push(x.length))}x.sort(function(ae,me){return A[ae]-A[me]});for(var q=v.length,Q=createFloat32Array(q),j=createFloat32Array(q),ne=createFloat32Array(q),fe=createFloat32Array(q),de=[],M=0;M<x.length;M++){var be=x[M],Me=M*2,Pe=be*2;Q[Me]=v[Pe],Q[Me+1]=v[Pe+1],j[Me]=g[Pe],j[Me+1]=g[Pe+1],ne[Me]=y[Pe],ne[Me+1]=y[Pe+1],fe[Me]=_[Pe],fe[Me+1]=_[Pe+1],de[M]=S[be]}return{current:Q,next:j,stackedOnCurrent:ne,stackedOnNext:fe,status:de}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(a,n){return isNaN(a)||isNaN(n)}function drawSegment(a,n,r,s,l,u,c,f,d){for(var v,g,y,_,S,x,A=r,b=0;b<s;b++){var w=n[A*2],E=n[A*2+1];if(A>=l||A<0)break;if(isPointNull$1(w,E)){if(d){A+=u;continue}break}if(A===r)a[u>0?"moveTo":"lineTo"](w,E),y=w,_=E;else{var M=w-v,P=E-g;if(M*M+P*P<.5){A+=u;continue}if(c>0){for(var R=A+u,I=n[R*2],L=n[R*2+1];I===w&&L===E&&b<s;)b++,R+=u,A+=u,I=n[R*2],L=n[R*2+1],w=n[A*2],E=n[A*2+1],M=w-v,P=E-g;var O=b+1;if(d)for(;isPointNull$1(I,L)&&O<s;)O++,R+=u,I=n[R*2],L=n[R*2+1];var N=.5,B=0,F=0,V=void 0,z=void 0;if(O>=s||isPointNull$1(I,L))S=w,x=E;else{B=I-v,F=L-g;var U=w-v,Y=I-w,q=E-g,Q=L-E,j=void 0,ne=void 0;if(f==="x"){j=Math.abs(U),ne=Math.abs(Y);var fe=B>0?1:-1;S=w-fe*j*c,x=E,V=w+fe*ne*c,z=E}else if(f==="y"){j=Math.abs(q),ne=Math.abs(Q);var de=F>0?1:-1;S=w,x=E-de*j*c,V=w,z=E+de*ne*c}else j=Math.sqrt(U*U+q*q),ne=Math.sqrt(Y*Y+Q*Q),N=ne/(ne+j),S=w-B*c*(1-N),x=E-F*c*(1-N),V=w+B*c*N,z=E+F*c*N,V=mathMin$5(V,mathMax$5(I,w)),z=mathMin$5(z,mathMax$5(L,E)),V=mathMax$5(V,mathMin$5(I,w)),z=mathMax$5(z,mathMin$5(L,E)),B=V-w,F=z-E,S=w-B*j/ne,x=E-F*j/ne,S=mathMin$5(S,mathMax$5(v,w)),x=mathMin$5(x,mathMax$5(g,E)),S=mathMax$5(S,mathMin$5(v,w)),x=mathMax$5(x,mathMin$5(g,E)),B=w-S,F=E-x,V=w+B*ne/j,z=E+F*ne/j}a.bezierCurveTo(y,_,S,x,w,E),y=V,_=z}else a.lineTo(w,E)}v=w,g=E,A+=u}return b}var ECPolylineShape=function(){function a(){this.smooth=0,this.smoothConstraint=!0}return a}(),ECPolyline=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s.type="ec-polyline",s}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ECPolylineShape},n.prototype.buildPath=function(r,s){var l=s.points,u=0,c=l.length/2;if(s.connectNulls){for(;c>0&&isPointNull$1(l[c*2-2],l[c*2-1]);c--);for(;u<c&&isPointNull$1(l[u*2],l[u*2+1]);u++);}for(;u<c;)u+=drawSegment(r,l,u,c,c,1,s.smooth,s.smoothMonotone,s.connectNulls)+1},n.prototype.getPointOn=function(r,s){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var l=this.path,u=l.data,c=PathProxy.CMD,f,d,v=s==="x",g=[],y=0;y<u.length;){var _=u[y++],S=void 0,x=void 0,A=void 0,b=void 0,w=void 0,E=void 0,M=void 0;switch(_){case c.M:f=u[y++],d=u[y++];break;case c.L:if(S=u[y++],x=u[y++],M=v?(r-f)/(S-f):(r-d)/(x-d),M<=1&&M>=0){var P=v?(x-d)*M+d:(S-f)*M+f;return v?[r,P]:[P,r]}f=S,d=x;break;case c.C:S=u[y++],x=u[y++],A=u[y++],b=u[y++],w=u[y++],E=u[y++];var R=v?cubicRootAt(f,S,A,w,r,g):cubicRootAt(d,x,b,E,r,g);if(R>0)for(var I=0;I<R;I++){var L=g[I];if(L<=1&&L>=0){var P=v?cubicAt(d,x,b,E,L):cubicAt(f,S,A,w,L);return v?[r,P]:[P,r]}}f=w,d=E;break}}},n}(Path$1),ECPolygonShape=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n}(ECPolylineShape),ECPolygon=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s.type="ec-polygon",s}return n.prototype.getDefaultShape=function(){return new ECPolygonShape},n.prototype.buildPath=function(r,s){var l=s.points,u=s.stackedOnPoints,c=0,f=l.length/2,d=s.smoothMonotone;if(s.connectNulls){for(;f>0&&isPointNull$1(l[f*2-2],l[f*2-1]);f--);for(;c<f&&isPointNull$1(l[c*2],l[c*2+1]);c++);}for(;c<f;){var v=drawSegment(r,l,c,f,f,1,s.smooth,d,s.connectNulls);drawSegment(r,u,c+v-1,v,f,-1,s.stackedOnSmooth,d,s.connectNulls),c+=v+1,r.closePath()}},n}(Path$1);function createGridClipPath(a,n,r,s,l){var u=a.getArea(),c=u.x,f=u.y,d=u.width,v=u.height,g=r.get(["lineStyle","width"])||2;c-=g/2,f-=g/2,d+=g,v+=g,c=Math.floor(c),d=Math.round(d);var y=new Rect$3({shape:{x:c,y:f,width:d,height:v}});if(n){var _=a.getBaseAxis(),S=_.isHorizontal(),x=_.inverse;S?(x&&(y.shape.x+=d),y.shape.width=0):(x||(y.shape.y+=v),y.shape.height=0);var A=isFunction(l)?function(b){l(b,y)}:null;initProps(y,{shape:{width:d,height:v,x:c,y:f}},r,null,s,A)}return y}function createPolarClipPath(a,n,r){var s=a.getArea(),l=round$3(s.r0,1),u=round$3(s.r,1),c=new Sector$1({shape:{cx:round$3(a.cx,1),cy:round$3(a.cy,1),r0:l,r:u,startAngle:s.startAngle,endAngle:s.endAngle,clockwise:s.clockwise}});if(n){var f=a.getBaseAxis().dim==="angle";f?c.shape.endAngle=s.startAngle:c.shape.r=l,initProps(c,{shape:{endAngle:s.endAngle,r:u}},r)}return c}function createClipPath(a,n,r,s,l){if(a){if(a.type==="polar")return createPolarClipPath(a,n,r);if(a.type==="cartesian2d")return createGridClipPath(a,n,r,s,l)}else return null;return null}function isCoordinateSystemType(a,n){return a.type===n}function isPointsSame(a,n){if(a.length===n.length){for(var r=0;r<a.length;r++)if(a[r]!==n[r])return;return!0}}function bboxFromPoints(a){for(var n=1/0,r=1/0,s=-1/0,l=-1/0,u=0;u<a.length;){var c=a[u++],f=a[u++];isNaN(c)||(n=Math.min(c,n),s=Math.max(c,s)),isNaN(f)||(r=Math.min(f,r),l=Math.max(f,l))}return[[n,r],[s,l]]}function getBoundingDiff(a,n){var r=bboxFromPoints(a),s=r[0],l=r[1],u=bboxFromPoints(n),c=u[0],f=u[1];return Math.max(Math.abs(s[0]-c[0]),Math.abs(s[1]-c[1]),Math.abs(l[0]-f[0]),Math.abs(l[1]-f[1]))}function getSmooth(a){return isNumber(a)?a:a?.5:0}function getStackedOnPoints(a,n,r){if(!r.valueDim)return[];for(var s=n.count(),l=createFloat32Array(s*2),u=0;u<s;u++){var c=getStackedOnPoint(r,a,n,u);l[u*2]=c[0],l[u*2+1]=c[1]}return l}function turnPointsIntoStep(a,n,r,s){var l=n.getBaseAxis(),u=l.dim==="x"||l.dim==="radius"?0:1,c=[],f=0,d=[],v=[],g=[],y=[];if(s){for(f=0;f<a.length;f+=2)!isNaN(a[f])&&!isNaN(a[f+1])&&y.push(a[f],a[f+1]);a=y}for(f=0;f<a.length-2;f+=2)switch(g[0]=a[f+2],g[1]=a[f+3],v[0]=a[f],v[1]=a[f+1],c.push(v[0],v[1]),r){case"end":d[u]=g[u],d[1-u]=v[1-u],c.push(d[0],d[1]);break;case"middle":var _=(v[u]+g[u])/2,S=[];d[u]=S[u]=_,d[1-u]=v[1-u],S[1-u]=g[1-u],c.push(d[0],d[1]),c.push(S[0],S[1]);break;default:d[u]=v[u],d[1-u]=g[1-u],c.push(d[0],d[1])}return c.push(a[f++],a[f++]),c}function clipColorStops(a,n){var r=[],s=a.length,l,u;function c(g,y,_){var S=g.coord,x=(_-S)/(y.coord-S),A=lerp(x,[g.color,y.color]);return{coord:_,color:A}}for(var f=0;f<s;f++){var d=a[f],v=d.coord;if(v<0)l=d;else if(v>n){u?r.push(c(u,d,n)):l&&r.push(c(l,d,0),c(l,d,n));break}else l&&(r.push(c(l,d,0)),l=null),r.push(d),u=d}return r}function getVisualGradient(a,n,r){var s=a.getVisual("visualMeta");if(!(!s||!s.length||!a.count())&&n.type==="cartesian2d"){for(var l,u,c=s.length-1;c>=0;c--){var f=a.getDimensionInfo(s[c].dimension);if(l=f&&f.coordDim,l==="x"||l==="y"){u=s[c];break}}if(!!u){var d=n.getAxis(l),v=map$1(u.stops,function(M){return{coord:d.toGlobalCoord(d.dataToCoord(M.value)),color:M.color}}),g=v.length,y=u.outerColors.slice();g&&v[0].coord>v[g-1].coord&&(v.reverse(),y.reverse());var _=clipColorStops(v,l==="x"?r.getWidth():r.getHeight()),S=_.length;if(!S&&g)return v[0].coord<0?y[1]?y[1]:v[g-1].color:y[0]?y[0]:v[0].color;var x=10,A=_[0].coord-x,b=_[S-1].coord+x,w=b-A;if(w<.001)return"transparent";each$f(_,function(M){M.offset=(M.coord-A)/w}),_.push({offset:S?_[S-1].offset:.5,color:y[1]||"transparent"}),_.unshift({offset:S?_[0].offset:.5,color:y[0]||"transparent"});var E=new LinearGradient$1(0,0,0,0,_,!0);return E[l]=A,E[l+"2"]=b,E}}}function getIsIgnoreFunc(a,n,r){var s=a.get("showAllSymbol"),l=s==="auto";if(!(s&&!l)){var u=r.getAxesByScale("ordinal")[0];if(!!u&&!(l&&canShowAllSymbolForCategory(u,n))){var c=n.mapDimension(u.dim),f={};return each$f(u.getViewLabels(),function(d){var v=u.scale.getRawOrdinalNumber(d.tickValue);f[v]=1}),function(d){return!f.hasOwnProperty(n.get(c,d))}}}}function canShowAllSymbolForCategory(a,n){var r=a.getExtent(),s=Math.abs(r[1]-r[0])/a.scale.count();isNaN(s)&&(s=0);for(var l=n.count(),u=Math.max(1,Math.round(l/5)),c=0;c<l;c+=u)if(SymbolClz.getSymbolSize(n,c)[a.isHorizontal()?1:0]*1.5>s)return!1;return!0}function isPointNull(a,n){return isNaN(a)||isNaN(n)}function getLastIndexNotNull(a){for(var n=a.length/2;n>0&&isPointNull(a[n*2-2],a[n*2-1]);n--);return n-1}function getPointAtIndex(a,n){return[a[n*2],a[n*2+1]]}function getIndexRange(a,n,r){for(var s=a.length/2,l=r==="x"?0:1,u,c,f=0,d=-1,v=0;v<s;v++)if(c=a[v*2+l],!(isNaN(c)||isNaN(a[v*2+1-l]))){if(v===0){u=c;continue}if(u<=n&&c>=n||u>=n&&c<=n){d=v;break}f=v,u=c}return{range:[f,d],t:(n-u)/(c-u)}}function anyStateShowEndLabel(a){if(a.get(["endLabel","show"]))return!0;for(var n=0;n<SPECIAL_STATES.length;n++)if(a.get([SPECIAL_STATES[n],"endLabel","show"]))return!0;return!1}function createLineClipPath(a,n,r,s){if(isCoordinateSystemType(n,"cartesian2d")){var l=s.getModel("endLabel"),u=l.get("valueAnimation"),c=s.getData(),f={lastFrameIndex:0},d=anyStateShowEndLabel(s)?function(S,x){a._endLabelOnDuring(S,x,c,f,u,l,n)}:null,v=n.getBaseAxis().isHorizontal(),g=createGridClipPath(n,r,s,function(){var S=a._endLabel;S&&r&&f.originalX!=null&&S.attr({x:f.originalX,y:f.originalY})},d);if(!s.get("clip",!0)){var y=g.shape,_=Math.max(y.width,y.height);v?(y.y-=_,y.height+=_*2):(y.x-=_,y.width+=_*2)}return d&&d(1,g),g}else return createPolarClipPath(n,r,s)}function getEndLabelStateSpecified(a,n){var r=n.getBaseAxis(),s=r.isHorizontal(),l=r.inverse,u=s?l?"right":"left":"center",c=s?"middle":l?"top":"bottom";return{normal:{align:a.get("align")||u,verticalAlign:a.get("verticalAlign")||c}}}var LineView=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.init=function(){var r=new Group$4,s=new SymbolDraw$1;this.group.add(s.group),this._symbolDraw=s,this._lineGroup=r},n.prototype.render=function(r,s,l){var u=this,c=r.coordinateSystem,f=this.group,d=r.getData(),v=r.getModel("lineStyle"),g=r.getModel("areaStyle"),y=d.getLayout("points")||[],_=c.type==="polar",S=this._coordSys,x=this._symbolDraw,A=this._polyline,b=this._polygon,w=this._lineGroup,E=r.get("animation"),M=!g.isEmpty(),P=g.get("origin"),R=prepareDataCoordInfo(c,d,P),I=M&&getStackedOnPoints(c,d,R),L=r.get("showSymbol"),O=r.get("connectNulls"),N=L&&!_&&getIsIgnoreFunc(r,d,c),B=this._data;B&&B.eachItemGraphicEl(function(me,se){me.__temp&&(f.remove(me),B.setItemGraphicEl(se,null))}),L||x.remove(),f.add(w);var F=_?!1:r.get("step"),V;c&&c.getArea&&r.get("clip",!0)&&(V=c.getArea(),V.width!=null?(V.x-=.1,V.y-=.1,V.width+=.2,V.height+=.2):V.r0&&(V.r0-=.5,V.r+=.5)),this._clipShapeForSymbol=V;var z=getVisualGradient(d,c,l)||d.getVisual("style")[d.getVisual("drawType")];if(!(A&&S.type===c.type&&F===this._step))L&&x.updateData(d,{isIgnore:N,clipShape:V,disableAnimation:!0,getSymbolPoint:function(me){return[y[me*2],y[me*2+1]]}}),E&&this._initSymbolLabelAnimation(d,c,V),F&&(y=turnPointsIntoStep(y,c,F,O),I&&(I=turnPointsIntoStep(I,c,F,O))),A=this._newPolyline(y),M?b=this._newPolygon(y,I):b&&(w.remove(b),b=this._polygon=null),_||this._initOrUpdateEndLabel(r,c,convertToColorString(z)),w.setClipPath(createLineClipPath(this,c,!0,r));else{M&&!b?b=this._newPolygon(y,I):b&&!M&&(w.remove(b),b=this._polygon=null),_||this._initOrUpdateEndLabel(r,c,convertToColorString(z));var U=w.getClipPath();if(U){var Y=createLineClipPath(this,c,!1,r);initProps(U,{shape:Y.shape},r)}else w.setClipPath(createLineClipPath(this,c,!0,r));L&&x.updateData(d,{isIgnore:N,clipShape:V,disableAnimation:!0,getSymbolPoint:function(me){return[y[me*2],y[me*2+1]]}}),(!isPointsSame(this._stackedOnPoints,I)||!isPointsSame(this._points,y))&&(E?this._doUpdateAnimation(d,I,c,l,F,P,O):(F&&(y=turnPointsIntoStep(y,c,F,O),I&&(I=turnPointsIntoStep(I,c,F,O))),A.setShape({points:y}),b&&b.setShape({points:y,stackedOnPoints:I})))}var q=r.getModel("emphasis"),Q=q.get("focus"),j=q.get("blurScope"),ne=q.get("disabled");if(A.useStyle(defaults(v.getLineStyle(),{fill:"none",stroke:z,lineJoin:"bevel"})),setStatesStylesFromModel(A,r,"lineStyle"),A.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var fe=A.getState("emphasis").style;fe.lineWidth=+A.style.lineWidth+1}getECData(A).seriesIndex=r.seriesIndex,toggleHoverEmphasis(A,Q,j,ne);var de=getSmooth(r.get("smooth")),be=r.get("smoothMonotone");if(A.setShape({smooth:de,smoothMonotone:be,connectNulls:O}),b){var Me=d.getCalculationInfo("stackedOnSeries"),Pe=0;b.useStyle(defaults(g.getAreaStyle(),{fill:z,opacity:.7,lineJoin:"bevel",decal:d.getVisual("style").decal})),Me&&(Pe=getSmooth(Me.get("smooth"))),b.setShape({smooth:de,stackedOnSmooth:Pe,smoothMonotone:be,connectNulls:O}),setStatesStylesFromModel(b,r,"areaStyle"),getECData(b).seriesIndex=r.seriesIndex,toggleHoverEmphasis(b,Q,j,ne)}var ae=function(me){u._changePolyState(me)};d.eachItemGraphicEl(function(me){me&&(me.onHoverStateChange=ae)}),this._polyline.onHoverStateChange=ae,this._data=d,this._coordSys=c,this._stackedOnPoints=I,this._points=y,this._step=F,this._valueOrigin=P,r.get("triggerLineEvent")&&(this.packEventData(r,A),b&&this.packEventData(r,b))},n.prototype.packEventData=function(r,s){getECData(s).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},n.prototype.highlight=function(r,s,l,u){var c=r.getData(),f=queryDataIndex(c,u);if(this._changePolyState("emphasis"),!(f instanceof Array)&&f!=null&&f>=0){var d=c.getLayout("points"),v=c.getItemGraphicEl(f);if(!v){var g=d[f*2],y=d[f*2+1];if(isNaN(g)||isNaN(y)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(g,y))return;var _=r.get("zlevel")||0,S=r.get("z")||0;v=new SymbolClz(c,f),v.x=g,v.y=y,v.setZ(_,S);var x=v.getSymbolPath().getTextContent();x&&(x.zlevel=_,x.z=S,x.z2=this._polyline.z2+1),v.__temp=!0,c.setItemGraphicEl(f,v),v.stopSymbolAnimation(!0),this.group.add(v)}v.highlight()}else ChartView$1.prototype.highlight.call(this,r,s,l,u)},n.prototype.downplay=function(r,s,l,u){var c=r.getData(),f=queryDataIndex(c,u);if(this._changePolyState("normal"),f!=null&&f>=0){var d=c.getItemGraphicEl(f);d&&(d.__temp?(c.setItemGraphicEl(f,null),this.group.remove(d)):d.downplay())}else ChartView$1.prototype.downplay.call(this,r,s,l,u)},n.prototype._changePolyState=function(r){var s=this._polygon;setStatesFlag(this._polyline,r),s&&setStatesFlag(s,r)},n.prototype._newPolyline=function(r){var s=this._polyline;return s&&this._lineGroup.remove(s),s=new ECPolyline({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(s),this._polyline=s,s},n.prototype._newPolygon=function(r,s){var l=this._polygon;return l&&this._lineGroup.remove(l),l=new ECPolygon({shape:{points:r,stackedOnPoints:s},segmentIgnoreThreshold:2}),this._lineGroup.add(l),this._polygon=l,l},n.prototype._initSymbolLabelAnimation=function(r,s,l){var u,c,f=s.getBaseAxis(),d=f.inverse;s.type==="cartesian2d"?(u=f.isHorizontal(),c=!1):s.type==="polar"&&(u=f.dim==="angle",c=!0);var v=r.hostModel,g=v.get("animationDuration");isFunction(g)&&(g=g(null));var y=v.get("animationDelay")||0,_=isFunction(y)?y(null):y;r.eachItemGraphicEl(function(S,x){var A=S;if(A){var b=[S.x,S.y],w=void 0,E=void 0,M=void 0;if(l)if(c){var P=l,R=s.pointToCoord(b);u?(w=P.startAngle,E=P.endAngle,M=-R[1]/180*Math.PI):(w=P.r0,E=P.r,M=R[0])}else{var I=l;u?(w=I.x,E=I.x+I.width,M=S.x):(w=I.y+I.height,E=I.y,M=S.y)}var L=E===w?0:(M-w)/(E-w);d&&(L=1-L);var O=isFunction(y)?y(x):g*L+_,N=A.getSymbolPath(),B=N.getTextContent();A.attr({scaleX:0,scaleY:0}),A.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:O}),B&&B.animateFrom({style:{opacity:0}},{duration:300,delay:O}),N.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(r,s,l){var u=r.getModel("endLabel");if(anyStateShowEndLabel(r)){var c=r.getData(),f=this._polyline,d=c.getLayout("points");if(!d){f.removeTextContent(),this._endLabel=null;return}var v=this._endLabel;v||(v=this._endLabel=new ZRText$1({z2:200}),v.ignoreClip=!0,f.setTextContent(this._endLabel),f.disableLabelAnimation=!0);var g=getLastIndexNotNull(d);g>=0&&(setLabelStyle(f,getLabelStatesModels(r,"endLabel"),{inheritColor:l,labelFetcher:r,labelDataIndex:g,defaultText:function(y,_,S){return S!=null?getDefaultInterpolatedLabel(c,S):getDefaultLabel(c,y)},enableTextSetter:!0},getEndLabelStateSpecified(u,s)),f.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(r,s,l,u,c,f,d){var v=this._endLabel,g=this._polyline;if(v){r<1&&u.originalX==null&&(u.originalX=v.x,u.originalY=v.y);var y=l.getLayout("points"),_=l.hostModel,S=_.get("connectNulls"),x=f.get("precision"),A=f.get("distance")||0,b=d.getBaseAxis(),w=b.isHorizontal(),E=b.inverse,M=s.shape,P=E?w?M.x:M.y+M.height:w?M.x+M.width:M.y,R=(w?A:0)*(E?-1:1),I=(w?0:-A)*(E?-1:1),L=w?"x":"y",O=getIndexRange(y,P,L),N=O.range,B=N[1]-N[0],F=void 0;if(B>=1){if(B>1&&!S){var V=getPointAtIndex(y,N[0]);v.attr({x:V[0]+R,y:V[1]+I}),c&&(F=_.getRawValue(N[0]))}else{var V=g.getPointOn(P,L);V&&v.attr({x:V[0]+R,y:V[1]+I});var z=_.getRawValue(N[0]),U=_.getRawValue(N[1]);c&&(F=interpolateRawValues(l,x,z,U,O.t))}u.lastFrameIndex=N[0]}else{var Y=r===1||u.lastFrameIndex>0?N[0]:0,V=getPointAtIndex(y,Y);c&&(F=_.getRawValue(Y)),v.attr({x:V[0]+R,y:V[1]+I})}c&&labelInner(v).setLabelText(F)}},n.prototype._doUpdateAnimation=function(r,s,l,u,c,f,d){var v=this._polyline,g=this._polygon,y=r.hostModel,_=lineAnimationDiff(this._data,r,this._stackedOnPoints,s,this._coordSys,l,this._valueOrigin),S=_.current,x=_.stackedOnCurrent,A=_.next,b=_.stackedOnNext;if(c&&(S=turnPointsIntoStep(_.current,l,c,d),x=turnPointsIntoStep(_.stackedOnCurrent,l,c,d),A=turnPointsIntoStep(_.next,l,c,d),b=turnPointsIntoStep(_.stackedOnNext,l,c,d)),getBoundingDiff(S,A)>3e3||g&&getBoundingDiff(x,b)>3e3){v.stopAnimation(),v.setShape({points:A}),g&&(g.stopAnimation(),g.setShape({points:A,stackedOnPoints:b}));return}v.shape.__points=_.current,v.shape.points=S;var w={shape:{points:A}};_.current!==S&&(w.shape.__points=_.next),v.stopAnimation(),updateProps$1(v,w,y),g&&(g.setShape({points:S,stackedOnPoints:x}),g.stopAnimation(),updateProps$1(g,{shape:{stackedOnPoints:b}},y),v.shape.points!==g.shape.points&&(g.shape.points=v.shape.points));for(var E=[],M=_.status,P=0;P<M.length;P++){var R=M[P].cmd;if(R==="="){var I=r.getItemGraphicEl(M[P].idx1);I&&E.push({el:I,ptIdx:P})}}v.animators&&v.animators.length&&v.animators[0].during(function(){g&&g.dirtyShape();for(var L=v.shape.__points,O=0;O<E.length;O++){var N=E[O].el,B=E[O].ptIdx*2;N.x=L[B],N.y=L[B+1],N.markRedraw()}})},n.prototype.remove=function(r){var s=this.group,l=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),l&&l.eachItemGraphicEl(function(u,c){u.__temp&&(s.remove(u),l.setItemGraphicEl(c,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(ChartView$1);const LineView$1=LineView;function pointsLayout(a,n){return{seriesType:a,plan:createRenderPlanner(),reset:function(r){var s=r.getData(),l=r.coordinateSystem,u=r.pipelineContext,c=n||u.large;if(!!l){var f=map$1(l.dimensions,function(S){return s.mapDimension(S)}).slice(0,2),d=f.length,v=s.getCalculationInfo("stackResultDimension");isDimensionStacked(s,f[0])&&(f[0]=v),isDimensionStacked(s,f[1])&&(f[1]=v);var g=s.getStore(),y=s.getDimensionIndex(f[0]),_=s.getDimensionIndex(f[1]);return d&&{progress:function(S,x){for(var A=S.end-S.start,b=c&&createFloat32Array(A*d),w=[],E=[],M=S.start,P=0;M<S.end;M++){var R=void 0;if(d===1){var I=g.get(y,M);R=l.dataToPoint(I,null,E)}else w[0]=g.get(y,M),w[1]=g.get(_,M),R=l.dataToPoint(w,null,E);c?(b[P++]=R[0],b[P++]=R[1]):x.setItemLayout(M,R.slice())}c&&x.setLayout("points",b)}}}}}}var samplers={average:function(a){for(var n=0,r=0,s=0;s<a.length;s++)isNaN(a[s])||(n+=a[s],r++);return r===0?NaN:n/r},sum:function(a){for(var n=0,r=0;r<a.length;r++)n+=a[r]||0;return n},max:function(a){for(var n=-1/0,r=0;r<a.length;r++)a[r]>n&&(n=a[r]);return isFinite(n)?n:NaN},min:function(a){for(var n=1/0,r=0;r<a.length;r++)a[r]<n&&(n=a[r]);return isFinite(n)?n:NaN},nearest:function(a){return a[0]}},indexSampler=function(a){return Math.round(a.length/2)};function dataSample(a){return{seriesType:a,reset:function(n,r,s){var l=n.getData(),u=n.get("sampling"),c=n.coordinateSystem,f=l.count();if(f>10&&c.type==="cartesian2d"&&u){var d=c.getBaseAxis(),v=c.getOtherAxis(d),g=d.getExtent(),y=s.getDevicePixelRatio(),_=Math.abs(g[1]-g[0])*(y||1),S=Math.round(f/_);if(isFinite(S)&&S>1){u==="lttb"&&n.setData(l.lttbDownSample(l.mapDimension(v.dim),1/S));var x=void 0;isString(u)?x=samplers[u]:isFunction(u)&&(x=u),x&&n.setData(l.downSample(l.mapDimension(v.dim),1/S,x,indexSampler))}}}}}function install$Q(a){a.registerChartView(LineView$1),a.registerSeriesModel(LineSeries),a.registerLayout(pointsLayout("line",!0)),a.registerVisual({seriesType:"line",reset:function(n){var r=n.getData(),s=n.getModel("lineStyle").getLineStyle();s&&!s.stroke&&(s.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",s)}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,s){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(r,s,l){var u=this.coordinateSystem;if(u&&u.clampData){var c=u.dataToPoint(u.clampData(r));if(l)each$f(u.getAxes(),function(y,_){if(y.type==="category"){var S=y.getTicksCoords(),x=u.clampData(r)[_];s&&(s[_]==="x1"||s[_]==="y1")&&(x+=1),x>S.length-1&&(x=S.length-1),x<0&&(x=0),S[x]&&(c[_]=y.toGlobalCoord(S[x].coord))}});else{var f=this.getData(),d=f.getLayout("offset"),v=f.getLayout("size"),g=u.getBaseAxis().isHorizontal()?0:1;c[g]+=d+v/2}return c}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(SeriesModel$1);SeriesModel$1.registerClass(BaseBarSeriesModel);const BaseBarSeriesModel$1=BaseBarSeriesModel;var BarSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},n.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),s=this.get("largeThreshold");return s>r&&(r=s),r},n.prototype.brushSelector=function(r,s,l){return l.rect(s.getItemLayout(r))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(BaseBarSeriesModel$1);const BarSeries=BarSeriesModel;var SausageShape=function(){function a(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return a}(),SausagePath=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s.type="sausage",s}return n.prototype.getDefaultShape=function(){return new SausageShape},n.prototype.buildPath=function(r,s){var l=s.cx,u=s.cy,c=Math.max(s.r0||0,0),f=Math.max(s.r,0),d=(f-c)*.5,v=c+d,g=s.startAngle,y=s.endAngle,_=s.clockwise,S=Math.PI*2,x=_?y-g<S:g-y<S;x||(g=y-(_?S:-S));var A=Math.cos(g),b=Math.sin(g),w=Math.cos(y),E=Math.sin(y);x?(r.moveTo(A*c+l,b*c+u),r.arc(A*v+l,b*v+u,d,-Math.PI+g,g,!_)):r.moveTo(A*f+l,b*f+u),r.arc(l,u,f,g,y,!_),r.arc(w*v+l,E*v+u,d,y-Math.PI*2,y-Math.PI,!_),c!==0&&r.arc(l,u,c,y,g,_)},n}(Path$1);const Sausage=SausagePath;function createSectorCalculateTextPosition(a,n){n=n||{};var r=n.isRoundCap;return function(s,l,u){var c=l.position;if(!c||c instanceof Array)return calculateTextPosition(s,l,u);var f=a(c),d=l.distance!=null?l.distance:5,v=this.shape,g=v.cx,y=v.cy,_=v.r,S=v.r0,x=(_+S)/2,A=v.startAngle,b=v.endAngle,w=(A+b)/2,E=r?Math.abs(_-S)/2:0,M=Math.cos,P=Math.sin,R=g+_*M(A),I=y+_*P(A),L="left",O="top";switch(f){case"startArc":R=g+(S-d)*M(w),I=y+(S-d)*P(w),L="center",O="top";break;case"insideStartArc":R=g+(S+d)*M(w),I=y+(S+d)*P(w),L="center",O="bottom";break;case"startAngle":R=g+x*M(A)+adjustAngleDistanceX(A,d+E,!1),I=y+x*P(A)+adjustAngleDistanceY(A,d+E,!1),L="right",O="middle";break;case"insideStartAngle":R=g+x*M(A)+adjustAngleDistanceX(A,-d+E,!1),I=y+x*P(A)+adjustAngleDistanceY(A,-d+E,!1),L="left",O="middle";break;case"middle":R=g+x*M(w),I=y+x*P(w),L="center",O="middle";break;case"endArc":R=g+(_+d)*M(w),I=y+(_+d)*P(w),L="center",O="bottom";break;case"insideEndArc":R=g+(_-d)*M(w),I=y+(_-d)*P(w),L="center",O="top";break;case"endAngle":R=g+x*M(b)+adjustAngleDistanceX(b,d+E,!0),I=y+x*P(b)+adjustAngleDistanceY(b,d+E,!0),L="left",O="middle";break;case"insideEndAngle":R=g+x*M(b)+adjustAngleDistanceX(b,-d+E,!0),I=y+x*P(b)+adjustAngleDistanceY(b,-d+E,!0),L="right",O="middle";break;default:return calculateTextPosition(s,l,u)}return s=s||{},s.x=R,s.y=I,s.align=L,s.verticalAlign=O,s}}function setSectorTextRotation(a,n,r,s){if(isNumber(s)){a.setTextConfig({rotation:s});return}else if(isArray$2(n)){a.setTextConfig({rotation:0});return}var l=a.shape,u=l.clockwise?l.startAngle:l.endAngle,c=l.clockwise?l.endAngle:l.startAngle,f=(u+c)/2,d,v=r(n);switch(v){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":d=f;break;case"startAngle":case"insideStartAngle":d=u;break;case"endAngle":case"insideEndAngle":d=c;break;default:a.setTextConfig({rotation:0});return}var g=Math.PI*1.5-d;v==="middle"&&g>Math.PI/2&&g<Math.PI*1.5&&(g-=Math.PI),a.setTextConfig({rotation:g})}function adjustAngleDistanceX(a,n,r){return n*Math.sin(a)*(r?-1:1)}function adjustAngleDistanceY(a,n,r){return n*Math.cos(a)*(r?1:-1)}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(a,n){var r=a.getArea&&a.getArea();if(isCoordinateSystemType(a,"cartesian2d")){var s=a.getBaseAxis();if(s.type!=="category"||!s.onBand){var l=n.getLayout("bandWidth");s.isHorizontal()?(r.x-=l,r.width+=l*2):(r.y-=l,r.height+=l*2)}}return r}var BarView=function(a){__extends(n,a);function n(){var r=a.call(this)||this;return r.type=n.type,r._isFirstFrame=!0,r}return n.prototype.render=function(r,s,l,u){this._model=r,this._removeOnRenderedListener(l),this._updateDrawMode(r);var c=r.get("coordinateSystem");(c==="cartesian2d"||c==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,s,l):this._renderNormal(r,s,l,u))},n.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},n.prototype.incrementalRender=function(r,s){this._progressiveEls=[],this._incrementalRenderLarge(r,s)},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var s=r.pipelineContext.large;(this._isLargeDraw==null||s!==this._isLargeDraw)&&(this._isLargeDraw=s,this._clear())},n.prototype._renderNormal=function(r,s,l,u){var c=this.group,f=r.getData(),d=this._data,v=r.coordinateSystem,g=v.getBaseAxis(),y;v.type==="cartesian2d"?y=g.isHorizontal():v.type==="polar"&&(y=g.dim==="angle");var _=r.isAnimationEnabled()?r:null,S=shouldRealtimeSort(r,v);S&&this._enableRealtimeSort(S,f,l);var x=r.get("clip",!0)||S,A=getClipArea(v,f);c.removeClipPath();var b=r.get("roundCap",!0),w=r.get("showBackground",!0),E=r.getModel("backgroundStyle"),M=E.get("borderRadius")||0,P=[],R=this._backgroundEls,I=u&&u.isInitSort,L=u&&u.type==="changeAxisOrder";function O(F){var V=getLayout[v.type](f,F),z=createBackgroundEl(v,y,V);return z.useStyle(E.getItemStyle()),v.type==="cartesian2d"&&z.setShape("r",M),P[F]=z,z}f.diff(d).add(function(F){var V=f.getItemModel(F),z=getLayout[v.type](f,F,V);if(w&&O(F),!(!f.hasValue(F)||!isValidLayout[v.type](z))){var U=!1;x&&(U=clip[v.type](A,z));var Y=elementCreator[v.type](r,f,F,z,y,_,g.model,!1,b);S&&(Y.forceLabelAnimation=!0),updateStyle(Y,f,F,V,z,r,y,v.type==="polar"),I?Y.attr({shape:z}):S?updateRealtimeAnimation(S,_,Y,z,F,y,!1,!1):initProps(Y,{shape:z},r,F),f.setItemGraphicEl(F,Y),c.add(Y),Y.ignore=U}}).update(function(F,V){var z=f.getItemModel(F),U=getLayout[v.type](f,F,z);if(w){var Y=void 0;R.length===0?Y=O(V):(Y=R[V],Y.useStyle(E.getItemStyle()),v.type==="cartesian2d"&&Y.setShape("r",M),P[F]=Y);var q=getLayout[v.type](f,F),Q=createBackgroundShape(y,q,v);updateProps$1(Y,{shape:Q},_,F)}var j=d.getItemGraphicEl(V);if(!f.hasValue(F)||!isValidLayout[v.type](U)){c.remove(j);return}var ne=!1;if(x&&(ne=clip[v.type](A,U),ne&&c.remove(j)),j?saveOldStyle(j):j=elementCreator[v.type](r,f,F,U,y,_,g.model,!!j,b),S&&(j.forceLabelAnimation=!0),L){var fe=j.getTextContent();if(fe){var de=labelInner(fe);de.prevValue!=null&&(de.prevValue=de.value)}}else updateStyle(j,f,F,z,U,r,y,v.type==="polar");I?j.attr({shape:U}):S?updateRealtimeAnimation(S,_,j,U,F,y,!0,L):updateProps$1(j,{shape:U},r,F,null),f.setItemGraphicEl(F,j),j.ignore=ne,c.add(j)}).remove(function(F){var V=d.getItemGraphicEl(F);V&&removeElementWithFadeOut(V,r,F)}).execute();var N=this._backgroundGroup||(this._backgroundGroup=new Group$4);N.removeAll();for(var B=0;B<P.length;++B)N.add(P[B]);c.add(N),this._backgroundEls=P,this._data=f},n.prototype._renderLarge=function(r,s,l){this._clear(),createLarge$1(r,this.group),this._updateLargeClip(r)},n.prototype._incrementalRenderLarge=function(r,s){this._removeBackground(),createLarge$1(s,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(r){var s=r.get("clip",!0)&&createClipPath(r.coordinateSystem,!1,r),l=this.group;s?l.setClipPath(s):l.removeClipPath()},n.prototype._enableRealtimeSort=function(r,s,l){var u=this;if(!!s.count()){var c=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(s,r,l),this._isFirstFrame=!1;else{var f=function(d){var v=s.getItemGraphicEl(d),g=v&&v.shape;return g&&Math.abs(c.isHorizontal()?g.height:g.width)||0};this._onRendered=function(){u._updateSortWithinSameData(s,f,c,l)},l.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(r,s,l){var u=[];return r.each(r.mapDimension(s.dim),function(c,f){var d=l(f);d=d==null?NaN:d,u.push({dataIndex:f,mappedValue:d,ordinalNumber:c})}),u.sort(function(c,f){return f.mappedValue-c.mappedValue}),{ordinalNumbers:map$1(u,function(c){return c.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(r,s,l){for(var u=l.scale,c=r.mapDimension(l.dim),f=Number.MAX_VALUE,d=0,v=u.getOrdinalMeta().categories.length;d<v;++d){var g=r.rawIndexOf(c,u.getRawOrdinalNumber(d)),y=g<0?Number.MIN_VALUE:s(r.indexOfRawIndex(g));if(y>f)return!0;f=y}return!1},n.prototype._isOrderDifferentInView=function(r,s){for(var l=s.scale,u=l.getExtent(),c=Math.max(0,u[0]),f=Math.min(u[1],l.getOrdinalMeta().categories.length-1);c<=f;++c)if(r.ordinalNumbers[c]!==l.getRawOrdinalNumber(c))return!0},n.prototype._updateSortWithinSameData=function(r,s,l,u){if(!!this._isOrderChangedWithinSameData(r,s,l)){var c=this._dataSort(r,l,s);this._isOrderDifferentInView(c,l)&&(this._removeOnRenderedListener(u),u.dispatchAction({type:"changeAxisOrder",componentType:l.dim+"Axis",axisId:l.index,sortInfo:c}))}},n.prototype._dispatchInitSort=function(r,s,l){var u=s.baseAxis,c=this._dataSort(r,u,function(f){return r.get(r.mapDimension(s.otherAxis.dim),f)});l.dispatchAction({type:"changeAxisOrder",componentType:u.dim+"Axis",isInitSort:!0,axisId:u.index,sortInfo:c})},n.prototype.remove=function(r,s){this._clear(this._model),this._removeOnRenderedListener(s)},n.prototype.dispose=function(r,s){this._removeOnRenderedListener(s)},n.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(r){var s=this.group,l=this._data;r&&r.isAnimationEnabled()&&l&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],l.eachItemGraphicEl(function(u){removeElementWithFadeOut(u,r,getECData(u).dataIndex)})):s.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n}(ChartView$1),clip={cartesian2d:function(a,n){var r=n.width<0?-1:1,s=n.height<0?-1:1;r<0&&(n.x+=n.width,n.width=-n.width),s<0&&(n.y+=n.height,n.height=-n.height);var l=a.x+a.width,u=a.y+a.height,c=mathMax$4(n.x,a.x),f=mathMin$4(n.x+n.width,l),d=mathMax$4(n.y,a.y),v=mathMin$4(n.y+n.height,u),g=f<c,y=v<d;return n.x=g&&c>l?f:c,n.y=y&&d>u?v:d,n.width=g?0:f-c,n.height=y?0:v-d,r<0&&(n.x+=n.width,n.width=-n.width),s<0&&(n.y+=n.height,n.height=-n.height),g||y},polar:function(a,n){var r=n.r0<=n.r?1:-1;if(r<0){var s=n.r;n.r=n.r0,n.r0=s}var l=mathMin$4(n.r,a.r),u=mathMax$4(n.r0,a.r0);n.r=l,n.r0=u;var c=l-u<0;if(r<0){var s=n.r;n.r=n.r0,n.r0=s}return c}},elementCreator={cartesian2d:function(a,n,r,s,l,u,c,f,d){var v=new Rect$3({shape:extend({},s),z2:1});if(v.__dataIndex=r,v.name="item",u){var g=v.shape,y=l?"height":"width";g[y]=0}return v},polar:function(a,n,r,s,l,u,c,f,d){var v=!l&&d?Sausage:Sector$1,g=new v({shape:s,z2:1});g.name="item";var y=createPolarPositionMapping(l);if(g.calculateTextPosition=createSectorCalculateTextPosition(y,{isRoundCap:v===Sausage}),u){var _=g.shape,S=l?"r":"endAngle",x={};_[S]=l?0:s.startAngle,x[S]=s[S],(f?updateProps$1:initProps)(g,{shape:x},u)}return g}};function shouldRealtimeSort(a,n){var r=a.get("realtimeSort",!0),s=n.getBaseAxis();if(r&&s.type==="category"&&n.type==="cartesian2d")return{baseAxis:s,otherAxis:n.getOtherAxis(s)}}function updateRealtimeAnimation(a,n,r,s,l,u,c,f){var d,v;u?(v={x:s.x,width:s.width},d={y:s.y,height:s.height}):(v={y:s.y,height:s.height},d={x:s.x,width:s.width}),f||(c?updateProps$1:initProps)(r,{shape:d},n,l,null);var g=n?a.baseAxis.model:null;(c?updateProps$1:initProps)(r,{shape:v},g,l)}function checkPropertiesNotValid(a,n){for(var r=0;r<n.length;r++)if(!isFinite(a[n[r]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(a){return!checkPropertiesNotValid(a,rectPropties)},polar:function(a){return!checkPropertiesNotValid(a,polarPropties)}},getLayout={cartesian2d:function(a,n,r){var s=a.getItemLayout(n),l=r?getLineWidth(r,s):0,u=s.width>0?1:-1,c=s.height>0?1:-1;return{x:s.x+u*l/2,y:s.y+c*l/2,width:s.width-u*l,height:s.height-c*l}},polar:function(a,n,r){var s=a.getItemLayout(n);return{cx:s.cx,cy:s.cy,r0:s.r0,r:s.r,startAngle:s.startAngle,endAngle:s.endAngle,clockwise:s.clockwise}}};function isZeroOnPolar(a){return a.startAngle!=null&&a.endAngle!=null&&a.startAngle===a.endAngle}function createPolarPositionMapping(a){return function(n){var r=n?"Arc":"Angle";return function(s){switch(s){case"start":case"insideStart":case"end":case"insideEnd":return s+r;default:return s}}}(a)}function updateStyle(a,n,r,s,l,u,c,f){var d=n.getItemVisual(r,"style");f||a.setShape("r",s.get(["itemStyle","borderRadius"])||0),a.useStyle(d);var v=s.getShallow("cursor");v&&a.attr("cursor",v);var g=f?c?l.r>=l.r0?"endArc":"startArc":l.endAngle>=l.startAngle?"endAngle":"startAngle":c?l.height>=0?"bottom":"top":l.width>=0?"right":"left",y=getLabelStatesModels(s);setLabelStyle(a,y,{labelFetcher:u,labelDataIndex:r,defaultText:getDefaultLabel(u.getData(),r),inheritColor:d.fill,defaultOpacity:d.opacity,defaultOutsidePosition:g});var _=a.getTextContent();if(f&&_){var S=s.get(["label","position"]);a.textConfig.inside=S==="middle"?!0:null,setSectorTextRotation(a,S==="outside"?g:S,createPolarPositionMapping(c),s.get(["label","rotate"]))}setLabelValueAnimation(_,y,u.getRawValue(r),function(A){return getDefaultInterpolatedLabel(n,A)});var x=s.getModel(["emphasis"]);toggleHoverEmphasis(a,x.get("focus"),x.get("blurScope"),x.get("disabled")),setStatesStylesFromModel(a,s),isZeroOnPolar(l)&&(a.style.fill="none",a.style.stroke="none",each$f(a.states,function(A){A.style&&(A.style.fill=A.style.stroke="none")}))}function getLineWidth(a,n){var r=a.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var s=a.get(["itemStyle","borderWidth"])||0,l=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),u=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min(s,l,u)}var LagePathShape=function(){function a(){}return a}(),LargePath=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s.type="largeBar",s}return n.prototype.getDefaultShape=function(){return new LagePathShape},n.prototype.buildPath=function(r,s){for(var l=s.points,u=this.baseDimIdx,c=1-this.baseDimIdx,f=[],d=[],v=this.barWidth,g=0;g<l.length;g+=3)d[u]=v,d[c]=l[g+2],f[u]=l[g+u],f[c]=l[g+c],r.rect(f[0],f[1],d[0],d[1])},n}(Path$1);function createLarge$1(a,n,r,s){var l=a.getData(),u=l.getLayout("valueAxisHorizontal")?1:0,c=l.getLayout("largeDataIndices"),f=l.getLayout("size"),d=a.getModel("backgroundStyle"),v=l.getLayout("largeBackgroundPoints");if(v){var g=new LargePath({shape:{points:v},incremental:!!s,silent:!0,z2:0});g.baseDimIdx=u,g.largeDataIndices=c,g.barWidth=f,g.useStyle(d.getItemStyle()),n.add(g),r&&r.push(g)}var y=new LargePath({shape:{points:l.getLayout("largePoints")},incremental:!!s,ignoreCoarsePointer:!0,z2:1});y.baseDimIdx=u,y.largeDataIndices=c,y.barWidth=f,n.add(y),y.useStyle(l.getVisual("style")),getECData(y).seriesIndex=a.seriesIndex,a.get("silent")||(y.on("mousedown",largePathUpdateDataIndex),y.on("mousemove",largePathUpdateDataIndex)),r&&r.push(y)}var largePathUpdateDataIndex=throttle(function(a){var n=this,r=largePathFindDataIndex(n,a.offsetX,a.offsetY);getECData(n).dataIndex=r>=0?r:null},30,!1);function largePathFindDataIndex(a,n,r){for(var s=a.baseDimIdx,l=1-s,u=a.shape.points,c=a.largeDataIndices,f=[],d=[],v=a.barWidth,g=0,y=u.length/3;g<y;g++){var _=g*3;if(d[s]=v,d[l]=u[_+2],f[s]=u[_+s],f[l]=u[_+l],d[l]<0&&(f[l]+=d[l],d[l]=-d[l]),n>=f[0]&&n<=f[0]+d[0]&&r>=f[1]&&r<=f[1]+d[1])return c[g]}return-1}function createBackgroundShape(a,n,r){if(isCoordinateSystemType(r,"cartesian2d")){var s=n,l=r.getArea();return{x:a?s.x:l.x,y:a?l.y:s.y,width:a?s.width:l.width,height:a?l.height:s.height}}else{var l=r.getArea(),u=n;return{cx:l.cx,cy:l.cy,r0:a?l.r0:u.r0,r:a?l.r:u.r,startAngle:a?u.startAngle:0,endAngle:a?u.endAngle:Math.PI*2}}}function createBackgroundEl(a,n,r){var s=a.type==="polar"?Sector$1:Rect$3;return new s({shape:createBackgroundShape(n,r,a),silent:!0,z2:0})}const BarView$1=BarView;function install$P(a){a.registerChartView(BarView$1),a.registerSeriesModel(BarSeries),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),a.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(n,r){var s=n.componentType||"series";r.eachComponent({mainType:s,query:n},function(l){n.sortInfo&&l.axis.setCategorySortInfo(n.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(a,n){return getLayoutRect(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(a,n){var r=getViewRect$5(a,n),s=a.get("center"),l=a.get("radius");isArray$2(l)||(l=[0,l]);var u=parsePercent(r.width,n.getWidth()),c=parsePercent(r.height,n.getHeight()),f=Math.min(u,c),d=parsePercent(l[0],f/2),v=parsePercent(l[1],f/2),g,y,_=a.coordinateSystem;if(_){var S=_.dataToPoint(s);g=S[0]||0,y=S[1]||0}else isArray$2(s)||(s=[s,s]),g=parsePercent(s[0],u)+r.x,y=parsePercent(s[1],c)+r.y;return{cx:g,cy:y,r0:d,r:v}}function pieLayout(a,n,r){n.eachSeriesByType(a,function(s){var l=s.getData(),u=l.mapDimension("value"),c=getViewRect$5(s,r),f=getBasicPieLayout(s,r),d=f.cx,v=f.cy,g=f.r,y=f.r0,_=-s.get("startAngle")*RADIAN$2,S=s.get("minAngle")*RADIAN$2,x=0;l.each(u,function(B){!isNaN(B)&&x++});var A=l.getSum(u),b=Math.PI/(A||x)*2,w=s.get("clockwise"),E=s.get("roseType"),M=s.get("stillShowZeroSum"),P=l.getDataExtent(u);P[0]=0;var R=PI2,I=0,L=_,O=w?1:-1;if(l.setLayout({viewRect:c,r:g}),l.each(u,function(B,F){var V;if(isNaN(B)){l.setItemLayout(F,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:w,cx:d,cy:v,r0:y,r:E?NaN:g});return}E!=="area"?V=A===0&&M?b:B*b:V=PI2/x,V<S?(V=S,R-=S):I+=B;var z=L+O*V;l.setItemLayout(F,{angle:V,startAngle:L,endAngle:z,clockwise:w,cx:d,cy:v,r0:y,r:E?linearMap$2(B,P,[y,g]):g}),L=z}),R<PI2&&x)if(R<=.001){var N=PI2/x;l.each(u,function(B,F){if(!isNaN(B)){var V=l.getItemLayout(F);V.angle=N,V.startAngle=_+O*F*N,V.endAngle=_+O*(F+1)*N}})}else b=R/I,L=_,l.each(u,function(B,F){if(!isNaN(B)){var V=l.getItemLayout(F),z=V.angle===S?S:B*b;V.startAngle=L,V.endAngle=L+O*z,L+=O*z}})})}function dataFilter$1(a){return{seriesType:a,reset:function(n,r){var s=r.findComponents({mainType:"legend"});if(!(!s||!s.length)){var l=n.getData();l.filterSelf(function(u){for(var c=l.getName(u),f=0;f<s.length;f++)if(!s[f].isSelected(c))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(a,n,r,s,l,u,c,f,d,v){if(a.length<2)return;function g(A){for(var b=A.rB,w=b*b,E=0;E<A.list.length;E++){var M=A.list[E],P=Math.abs(M.label.y-r),R=s+M.len,I=R*R,L=Math.sqrt((1-Math.abs(P*P/w))*I),O=n+(L+M.len2)*l,N=O-M.label.x,B=M.targetTextWidth-N*l;constrainTextWidth(M,B,!0),M.label.x=O}}function y(A){for(var b={list:[],maxY:0},w={list:[],maxY:0},E=0;E<A.length;E++)if(A[E].labelAlignTo==="none"){var M=A[E],P=M.label.y>r?w:b,R=Math.abs(M.label.y-r);if(R>=P.maxY){var I=M.label.x-n-M.len2*l,L=s+M.len,O=Math.abs(I)<L?Math.sqrt(R*R/(1-I*I/L/L)):L;P.rB=O,P.maxY=R}P.list.push(M)}g(b),g(w)}for(var _=a.length,S=0;S<_;S++)if(a[S].position==="outer"&&a[S].labelAlignTo==="labelLine"){var x=a[S].label.x-v;a[S].linePoints[1][0]+=x,a[S].label.x=v}shiftLayoutOnY(a,d,d+c)&&y(a)}function avoidOverlap(a,n,r,s,l,u,c,f){for(var d=[],v=[],g=Number.MAX_VALUE,y=-Number.MAX_VALUE,_=0;_<a.length;_++){var S=a[_].label;isPositionCenter(a[_])||(S.x<n?(g=Math.min(g,S.x),d.push(a[_])):(y=Math.max(y,S.x),v.push(a[_])))}for(var _=0;_<a.length;_++){var x=a[_];if(!isPositionCenter(x)&&x.linePoints){if(x.labelStyleWidth!=null)continue;var S=x.label,A=x.linePoints,b=void 0;x.labelAlignTo==="edge"?S.x<n?b=A[2][0]-x.labelDistance-c-x.edgeDistance:b=c+l-x.edgeDistance-A[2][0]-x.labelDistance:x.labelAlignTo==="labelLine"?S.x<n?b=g-c-x.bleedMargin:b=c+l-y-x.bleedMargin:S.x<n?b=S.x-c-x.bleedMargin:b=c+l-S.x-x.bleedMargin,x.targetTextWidth=b,constrainTextWidth(x,b)}}adjustSingleSide(v,n,r,s,1,l,u,c,f,y),adjustSingleSide(d,n,r,s,-1,l,u,c,f,g);for(var _=0;_<a.length;_++){var x=a[_];if(!isPositionCenter(x)&&x.linePoints){var S=x.label,A=x.linePoints,w=x.labelAlignTo==="edge",E=S.style.padding,M=E?E[1]+E[3]:0,P=S.style.backgroundColor?0:M,R=x.rect.width+P,I=A[1][0]-A[2][0];w?S.x<n?A[2][0]=c+x.edgeDistance+R+x.labelDistance:A[2][0]=c+l-x.edgeDistance-R-x.labelDistance:(S.x<n?A[2][0]=S.x+x.labelDistance:A[2][0]=S.x-x.labelDistance,A[1][0]=A[2][0]+I),A[1][1]=A[2][1]=S.y}}}function constrainTextWidth(a,n,r){if(r===void 0&&(r=!1),a.labelStyleWidth==null){var s=a.label,l=s.style,u=a.rect,c=l.backgroundColor,f=l.padding,d=f?f[1]+f[3]:0,v=l.overflow,g=u.width+(c?0:d);if(n<g||r){var y=u.height;if(v&&v.match("break")){s.setStyle("backgroundColor",null),s.setStyle("width",n-d);var _=s.getBoundingRect();s.setStyle("width",Math.ceil(_.width)),s.setStyle("backgroundColor",c)}else{var S=n-d,x=n<g?S:r?S>a.unconstrainedWidth?null:S:null;s.setStyle("width",x)}var A=s.getBoundingRect();u.width=A.width;var b=(s.style.margin||0)+2.1;u.height=A.height+b,u.y-=(u.height-y)/2}}}function isPositionCenter(a){return a.position==="center"}function pieLabelLayout(a){var n=a.getData(),r=[],s,l,u=!1,c=(a.get("minShowLabelAngle")||0)*RADIAN$1,f=n.getLayout("viewRect"),d=n.getLayout("r"),v=f.width,g=f.x,y=f.y,_=f.height;function S(I){I.ignore=!0}function x(I){if(!I.ignore)return!0;for(var L in I.states)if(I.states[L].ignore===!1)return!0;return!1}n.each(function(I){var L=n.getItemGraphicEl(I),O=L.shape,N=L.getTextContent(),B=L.getTextGuideLine(),F=n.getItemModel(I),V=F.getModel("label"),z=V.get("position")||F.get(["emphasis","label","position"]),U=V.get("distanceToLabelLine"),Y=V.get("alignTo"),q=parsePercent(V.get("edgeDistance"),v),Q=V.get("bleedMargin"),j=F.getModel("labelLine"),ne=j.get("length");ne=parsePercent(ne,v);var fe=j.get("length2");if(fe=parsePercent(fe,v),Math.abs(O.endAngle-O.startAngle)<c){each$f(N.states,S),N.ignore=!0,B&&(each$f(B.states,S),B.ignore=!0);return}if(!!x(N)){var de=(O.startAngle+O.endAngle)/2,be=Math.cos(de),Me=Math.sin(de),Pe,ae,me,se;s=O.cx,l=O.cy;var ue=z==="inside"||z==="inner";if(z==="center")Pe=O.cx,ae=O.cy,se="center";else{var Ee=(ue?(O.r+O.r0)/2*be:O.r*be)+s,$e=(ue?(O.r+O.r0)/2*Me:O.r*Me)+l;if(Pe=Ee+be*3,ae=$e+Me*3,!ue){var pe=Ee+be*(ne+d-O.r),ye=$e+Me*(ne+d-O.r),Z=pe+(be<0?-1:1)*fe,X=ye;Y==="edge"?Pe=be<0?g+q:g+v-q:Pe=Z+(be<0?-U:U),ae=X,me=[[Ee,$e],[pe,ye],[Z,X]]}se=ue?"center":Y==="edge"?be>0?"right":"left":be>0?"left":"right"}var re=Math.PI,ce=0,le=V.get("rotate");if(isNumber(le))ce=le*(re/180);else if(z==="center")ce=0;else if(le==="radial"||le===!0){var Te=be<0?-de+re:-de;ce=Te}else if(le==="tangential"&&z!=="outside"&&z!=="outer"){var Ce=Math.atan2(be,Me);Ce<0&&(Ce=re*2+Ce);var Ae=Me>0;Ae&&(Ce=re+Ce),ce=Ce-re}if(u=!!ce,N.x=Pe,N.y=ae,N.rotation=ce,N.setStyle({verticalAlign:"middle"}),ue){N.setStyle({align:se});var Le=N.states.select;Le&&(Le.x+=N.x,Le.y+=N.y)}else{var xe=N.getBoundingRect().clone();xe.applyTransform(N.getComputedTransform());var _e=(N.style.margin||0)+2.1;xe.y-=_e/2,xe.height+=_e,r.push({label:N,labelLine:B,position:z,len:ne,len2:fe,minTurnAngle:j.get("minTurnAngle"),maxSurfaceAngle:j.get("maxSurfaceAngle"),surfaceNormal:new Point$1(be,Me),linePoints:me,textAlign:se,labelDistance:U,labelAlignTo:Y,edgeDistance:q,bleedMargin:Q,rect:xe,unconstrainedWidth:xe.width,labelStyleWidth:N.style.width})}L.setTextConfig({inside:ue})}}),!u&&a.get("avoidLabelOverlap")&&avoidOverlap(r,s,l,d,v,_,g,y);for(var A=0;A<r.length;A++){var b=r[A],w=b.label,E=b.labelLine,M=isNaN(w.x)||isNaN(w.y);if(w){w.setStyle({align:b.textAlign}),M&&(each$f(w.states,S),w.ignore=!0);var P=w.states.select;P&&(P.x+=w.x,P.y+=w.y)}if(E){var R=b.linePoints;M||!R?(each$f(E.states,S),E.ignore=!0):(limitTurnAngle(R,b.minTurnAngle),limitSurfaceAngle(R,b.surfaceNormal,b.maxSurfaceAngle),E.setShape({points:R}),w.__hostTarget.textGuideLineConfig={anchor:new Point$1(R[0][0],R[0][1])})}}}function getSectorCornerRadius(a,n,r){var s=a.get("borderRadius");if(s==null)return r?{cornerRadius:0}:null;isArray$2(s)||(s=[s,s,s,s]);var l=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$1(s,function(u){return parsePercent$1(u,l)})}}var PiePiece=function(a){__extends(n,a);function n(r,s,l){var u=a.call(this)||this;u.z2=2;var c=new ZRText$1;return u.setTextContent(c),u.updateData(r,s,l,!0),u}return n.prototype.updateData=function(r,s,l,u){var c=this,f=r.hostModel,d=r.getItemModel(s),v=d.getModel("emphasis"),g=r.getItemLayout(s),y=extend(getSectorCornerRadius(d.getModel("itemStyle"),g,!0),g);if(isNaN(y.startAngle)){c.setShape(y);return}if(u){c.setShape(y);var _=f.getShallow("animationType");f.ecModel.ssr?(initProps(c,{scaleX:0,scaleY:0},f,{dataIndex:s,isFrom:!0}),c.originX=y.cx,c.originY=y.cy):_==="scale"?(c.shape.r=g.r0,initProps(c,{shape:{r:g.r}},f,s)):l!=null?(c.setShape({startAngle:l,endAngle:l}),initProps(c,{shape:{startAngle:g.startAngle,endAngle:g.endAngle}},f,s)):(c.shape.endAngle=g.startAngle,updateProps$1(c,{shape:{endAngle:g.endAngle}},f,s))}else saveOldStyle(c),updateProps$1(c,{shape:y},f,s);c.useStyle(r.getItemVisual(s,"style")),setStatesStylesFromModel(c,d);var S=(g.startAngle+g.endAngle)/2,x=f.get("selectedOffset"),A=Math.cos(S)*x,b=Math.sin(S)*x,w=d.getShallow("cursor");w&&c.attr("cursor",w),this._updateLabel(f,r,s),c.ensureState("emphasis").shape=extend({r:g.r+(v.get("scale")&&v.get("scaleSize")||0)},getSectorCornerRadius(v.getModel("itemStyle"),g)),extend(c.ensureState("select"),{x:A,y:b,shape:getSectorCornerRadius(d.getModel(["select","itemStyle"]),g)}),extend(c.ensureState("blur"),{shape:getSectorCornerRadius(d.getModel(["blur","itemStyle"]),g)});var E=c.getTextGuideLine(),M=c.getTextContent();E&&extend(E.ensureState("select"),{x:A,y:b}),extend(M.ensureState("select"),{x:A,y:b}),toggleHoverEmphasis(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},n.prototype._updateLabel=function(r,s,l){var u=this,c=s.getItemModel(l),f=c.getModel("labelLine"),d=s.getItemVisual(l,"style"),v=d&&d.fill,g=d&&d.opacity;setLabelStyle(u,getLabelStatesModels(c),{labelFetcher:s.hostModel,labelDataIndex:l,inheritColor:v,defaultOpacity:g,defaultText:r.getFormattedLabel(l,"normal")||s.getName(l)});var y=u.getTextContent();u.setTextConfig({position:null,rotation:null}),y.attr({z2:10});var _=r.get(["label","position"]);if(_!=="outside"&&_!=="outer")u.removeTextGuideLine();else{var S=this.getTextGuideLine();S||(S=new Polyline$3,this.setTextGuideLine(S)),setLabelLineStyle(this,getLabelLineStatesModels(c),{stroke:v,opacity:retrieve3(f.get(["lineStyle","opacity"]),g,1)})}},n}(Sector$1),PieView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,s,l,u){var c=r.getData(),f=this._data,d=this.group,v;if(!f&&c.count()>0){for(var g=c.getItemLayout(0),y=1;isNaN(g&&g.startAngle)&&y<c.count();++y)g=c.getItemLayout(y);g&&(v=g.startAngle)}if(this._emptyCircleSector&&d.remove(this._emptyCircleSector),c.count()===0&&r.get("showEmptyCircle")){var _=new Sector$1({shape:getBasicPieLayout(r,l)});_.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=_,d.add(_)}c.diff(f).add(function(S){var x=new PiePiece(c,S,v);c.setItemGraphicEl(S,x),d.add(x)}).update(function(S,x){var A=f.getItemGraphicEl(x);A.updateData(c,S,v),A.off("click"),d.add(A),c.setItemGraphicEl(S,A)}).remove(function(S){var x=f.getItemGraphicEl(S);removeElementWithFadeOut(x,r,S)}).execute(),pieLabelLayout(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=c)},n.prototype.dispose=function(){},n.prototype.containPoint=function(r,s){var l=s.getData(),u=l.getItemLayout(0);if(u){var c=r[0]-u.cx,f=r[1]-u.cy,d=Math.sqrt(c*c+f*f);return d<=u.r&&d>=u.r0}},n.type="pie",n}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(a,n,r){n=isArray$2(n)&&{coordDimensions:n}||extend({encodeDefine:a.getEncode()},n);var s=a.getSource(),l=prepareSeriesDataSchema(s,n).dimensions,u=new SeriesData$1(l,a);return u.initData(s,r),u}var LegendVisualProvider=function(){function a(n,r){this._getDataWithEncodedVisual=n,this._getRawData=r}return a.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},a.prototype.containName=function(n){var r=this._getRawData();return r.indexOfName(n)>=0},a.prototype.indexOfName=function(n){var r=this._getDataWithEncodedVisual();return r.indexOfName(n)},a.prototype.getItemVisual=function(n,r){var s=this._getDataWithEncodedVisual();return s.getItemVisual(n,r)},a}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.mergeOption=function(){a.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(r){var s=this.getData(),l=innerData(s),u=l.seats;if(!u){var c=[];s.each(s.mapDimension("value"),function(d){c.push(d)}),u=l.seats=getPercentSeats(c,s.hostModel.get("percentPrecision"))}var f=a.prototype.getDataParams.call(this,r);return f.percent=u[r]||0,f.$vars.push("percent"),f},n.prototype._defaultLabelLine=function(r){defaultEmphasis(r,"labelLine",["show"]);var s=r.labelLine,l=r.emphasis.labelLine;s.show=s.show&&r.label.show,l.show=l.show&&r.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(a){return{seriesType:a,reset:function(n,r){var s=n.getData();s.filterSelf(function(l){var u=s.mapDimension("value"),c=s.get(u,l);return!(isNumber(c)&&!isNaN(c)&&c<0)})}}}function install$O(a){a.registerChartView(PieView$1),a.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",a.registerAction),a.registerLayout(curry$1(pieLayout,"pie")),a.registerProcessor(dataFilter$1("pie")),a.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,s){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var r=this.option.progressive;return r==null?this.option.large?5e3:this.get("progressive"):r},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r==null?this.option.large?1e4:this.get("progressiveThreshold"):r},n.prototype.brushSelector=function(r,s,l){return l.point(s.getItemLayout(r))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(SeriesModel$1);const ScatterSeriesModel$1=ScatterSeriesModel;var BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function a(){}return a}(),LargeSymbolPath=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s._off=0,s.hoverDataIdx=-1,s}return n.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.buildPath=function(r,s){var l=s.points,u=s.size,c=this.symbolProxy,f=c.shape,d=r.getContext?r.getContext():r,v=d&&u[0]<BOOST_SIZE_THRESHOLD,g=this.softClipShape,y;if(v){this._ctx=d;return}for(this._ctx=null,y=this._off;y<l.length;){var _=l[y++],S=l[y++];isNaN(_)||isNaN(S)||g&&!g.contain(_,S)||(f.x=_-u[0]/2,f.y=S-u[1]/2,f.width=u[0],f.height=u[1],c.buildPath(r,f,!0))}this.incremental&&(this._off=y,this.notClear=!0)},n.prototype.afterBrush=function(){var r=this.shape,s=r.points,l=r.size,u=this._ctx,c=this.softClipShape,f;if(!!u){for(f=this._off;f<s.length;){var d=s[f++],v=s[f++];isNaN(d)||isNaN(v)||c&&!c.contain(d,v)||u.fillRect(d-l[0]/2,v-l[1]/2,l[0],l[1])}this.incremental&&(this._off=f,this.notClear=!0)}},n.prototype.findDataIndex=function(r,s){for(var l=this.shape,u=l.points,c=l.size,f=Math.max(c[0],4),d=Math.max(c[1],4),v=u.length/2-1;v>=0;v--){var g=v*2,y=u[g]-f/2,_=u[g+1]-d/2;if(r>=y&&s>=_&&r<=y+f&&s<=_+d)return v}return-1},n.prototype.contain=function(r,s){var l=this.transformCoordToLocal(r,s),u=this.getBoundingRect();if(r=l[0],s=l[1],u.contain(r,s)){var c=this.hoverDataIdx=this.findDataIndex(r,s);return c>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var s=this.shape,l=s.points,u=s.size,c=u[0],f=u[1],d=1/0,v=1/0,g=-1/0,y=-1/0,_=0;_<l.length;){var S=l[_++],x=l[_++];d=Math.min(S,d),g=Math.max(S,g),v=Math.min(x,v),y=Math.max(x,y)}r=this._rect=new BoundingRect$1(d-c/2,v-f/2,g-d+c,y-v+f)}return r},n}(Path$1),LargeSymbolDraw=function(){function a(){this.group=new Group$4}return a.prototype.updateData=function(n,r){this._clear();var s=this._create();s.setShape({points:n.getLayout("points")}),this._setCommon(s,n,r)},a.prototype.updateLayout=function(n){var r=n.getLayout("points");this.group.eachChild(function(s){if(s.startIndex!=null){var l=(s.endIndex-s.startIndex)*2,u=s.startIndex*4*2;r=new Float32Array(r.buffer,u,l)}s.setShape("points",r),s.reset()})},a.prototype.incrementalPrepareUpdate=function(n){this._clear()},a.prototype.incrementalUpdate=function(n,r,s){var l=this._newAdded[0],u=r.getLayout("points"),c=l&&l.shape.points;if(c&&c.length<2e4){var f=c.length,d=new Float32Array(f+u.length);d.set(c),d.set(u,f),l.endIndex=n.end,l.setShape({points:d})}else{this._newAdded=[];var v=this._create();v.startIndex=n.start,v.endIndex=n.end,v.incremental=!0,v.setShape({points:u}),this._setCommon(v,r,s)}},a.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},a.prototype._create=function(){var n=new LargeSymbolPath({cursor:"default"});return n.ignoreCoarsePointer=!0,this.group.add(n),this._newAdded.push(n),n},a.prototype._setCommon=function(n,r,s){var l=r.hostModel;s=s||{};var u=r.getVisual("symbolSize");n.setShape("size",u instanceof Array?u:[u,u]),n.softClipShape=s.clipShape||null,n.symbolProxy=createSymbol$1(r.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var c=n.shape.size[0]<BOOST_SIZE_THRESHOLD;n.useStyle(l.getModel("itemStyle").getItemStyle(c?["color","shadowBlur","shadowColor"]:["color"]));var f=r.getVisual("style"),d=f&&f.fill;d&&n.setColor(d);var v=getECData(n);v.seriesIndex=l.seriesIndex,n.on("mousemove",function(g){v.dataIndex=null;var y=n.hoverDataIdx;y>=0&&(v.dataIndex=y+(n.startIndex||0))})},a.prototype.remove=function(){this._clear()},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}();const LargeSymbolDraw$1=LargeSymbolDraw;var ScatterView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){var u=r.getData(),c=this._updateSymbolDraw(u,r);c.updateData(u,{clipShape:this._getClipShape(r)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(r,s,l){var u=r.getData(),c=this._updateSymbolDraw(u,r);c.incrementalPrepareUpdate(u),this._finished=!1},n.prototype.incrementalRender=function(r,s,l){this._symbolDraw.incrementalUpdate(r,s.getData(),{clipShape:this._getClipShape(s)}),this._finished=r.end===s.getData().count()},n.prototype.updateTransform=function(r,s,l){var u=r.getData();if(this.group.dirty(),!this._finished||u.count()>1e4)return{update:!0};var c=pointsLayout("").reset(r,s,l);c.progress&&c.progress({start:0,end:u.count(),count:u.count()},u),this._symbolDraw.updateLayout(u)},n.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},n.prototype._getClipShape=function(r){var s=r.coordinateSystem,l=s&&s.getArea&&s.getArea();return r.get("clip",!0)?l:null},n.prototype._updateSymbolDraw=function(r,s){var l=this._symbolDraw,u=s.pipelineContext,c=u.large;return(!l||c!==this._isLargeDraw)&&(l&&l.remove(),l=this._symbolDraw=c?new LargeSymbolDraw$1:new SymbolDraw$1,this._isLargeDraw=c,this.group.removeAll()),this.group.add(l.group),l},n.prototype.remove=function(r,s){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type="scatter",n}(ChartView$1);const ScatterView$1=ScatterView;var GridModel=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(ComponentModel$1);const GridModel$1=GridModel;var CartesianAxisModel=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},n.type="cartesian2dAxis",n}(ComponentModel$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(a,n,r,s){each$f(AXIS_TYPES,function(l,u){var c=merge(merge({},axisDefault[u],!0),s,!0),f=function(d){__extends(v,d);function v(){var g=d!==null&&d.apply(this,arguments)||this;return g.type=n+"Axis."+u,g}return v.prototype.mergeDefaultAndTheme=function(g,y){var _=fetchLayoutMode(this),S=_?getLayoutParams(g):{},x=y.getTheme();merge(g,x.get(u+"Axis")),merge(g,this.getDefaultOption()),g.type=getAxisType(g),_&&mergeLayoutParam(g,S,_)},v.prototype.optionUpdated=function(){var g=this.option;g.type==="category"&&(this.__ordinalMeta=OrdinalMeta$1.createByAxisModel(this))},v.prototype.getCategories=function(g){var y=this.option;if(y.type==="category")return g?y.data:this.__ordinalMeta.categories},v.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},v.type=n+"Axis."+u,v.defaultOption=c,v}(r);a.registerComponentModel(f)}),a.registerSubTypeDefaulter(n+"Axis",getAxisType)}function getAxisType(a){return a.type||(a.data?"category":"value")}var Cartesian=function(){function a(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return a.prototype.getAxis=function(n){return this._axes[n]},a.prototype.getAxes=function(){return map$1(this._dimList,function(n){return this._axes[n]},this)},a.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),filter(this.getAxes(),function(r){return r.scale.type===n})},a.prototype.addAxis=function(n){var r=n.dim;this._axes[r]=n,this._dimList.push(r)},a}();const Cartesian$1=Cartesian;var cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(a){return a.type==="interval"||a.type==="time"}var Cartesian2D=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=cartesian2DDimensions,r}return n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,s=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(r)||!canCalculateAffineTransform(s))){var l=r.getExtent(),u=s.getExtent(),c=this.dataToPoint([l[0],u[0]]),f=this.dataToPoint([l[1],u[1]]),d=l[1]-l[0],v=u[1]-u[0];if(!(!d||!v)){var g=(f[0]-c[0])/d,y=(f[1]-c[1])/v,_=c[0]-l[0]*g,S=c[1]-u[0]*y,x=this._transform=[g,0,0,y,_,S];this._invTransform=invert([],x)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(r){var s=this.getAxis("x"),l=this.getAxis("y");return s.contain(s.toLocalCoord(r[0]))&&l.contain(l.toLocalCoord(r[1]))},n.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},n.prototype.containZone=function(r,s){var l=this.dataToPoint(r),u=this.dataToPoint(s),c=this.getArea(),f=new BoundingRect$1(l[0],l[1],u[0]-l[0],u[1]-l[1]);return c.intersect(f)},n.prototype.dataToPoint=function(r,s,l){l=l||[];var u=r[0],c=r[1];if(this._transform&&u!=null&&isFinite(u)&&c!=null&&isFinite(c))return applyTransform$1(l,r,this._transform);var f=this.getAxis("x"),d=this.getAxis("y");return l[0]=f.toGlobalCoord(f.dataToCoord(u,s)),l[1]=d.toGlobalCoord(d.dataToCoord(c,s)),l},n.prototype.clampData=function(r,s){var l=this.getAxis("x").scale,u=this.getAxis("y").scale,c=l.getExtent(),f=u.getExtent(),d=l.parse(r[0]),v=u.parse(r[1]);return s=s||[],s[0]=Math.min(Math.max(Math.min(c[0],c[1]),d),Math.max(c[0],c[1])),s[1]=Math.min(Math.max(Math.min(f[0],f[1]),v),Math.max(f[0],f[1])),s},n.prototype.pointToData=function(r,s){var l=[];if(this._invTransform)return applyTransform$1(l,r,this._invTransform);var u=this.getAxis("x"),c=this.getAxis("y");return l[0]=u.coordToData(u.toLocalCoord(r[0]),s),l[1]=c.coordToData(c.toLocalCoord(r[1]),s),l},n.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},n.prototype.getArea=function(){var r=this.getAxis("x").getGlobalExtent(),s=this.getAxis("y").getGlobalExtent(),l=Math.min(r[0],r[1]),u=Math.min(s[0],s[1]),c=Math.max(r[0],r[1])-l,f=Math.max(s[0],s[1])-u;return new BoundingRect$1(l,u,c,f)},n}(Cartesian$1),Axis2D=function(a){__extends(n,a);function n(r,s,l,u,c){var f=a.call(this,r,s,l)||this;return f.index=0,f.type=u||"value",f.position=c||"bottom",f}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.getGlobalExtent=function(r){var s=this.getExtent();return s[0]=this.toGlobalCoord(s[0]),s[1]=this.toGlobalCoord(s[1]),r&&s[0]>s[1]&&s.reverse(),s},n.prototype.pointToData=function(r,s){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),s)},n.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},n}(Axis$1);const Axis2D$1=Axis2D;function layout$2(a,n,r){r=r||{};var s=a.coordinateSystem,l=n.axis,u={},c=l.getAxesOnZeroOf()[0],f=l.position,d=c?"onZero":f,v=l.dim,g=s.getRect(),y=[g.x,g.x+g.width,g.y,g.y+g.height],_={left:0,right:1,top:0,bottom:1,onZero:2},S=n.get("offset")||0,x=v==="x"?[y[2]-S,y[3]+S]:[y[0]-S,y[1]+S];if(c){var A=c.toGlobalCoord(c.dataToCoord(0));x[_.onZero]=Math.max(Math.min(A,x[1]),x[0])}u.position=[v==="y"?x[_[d]]:y[0],v==="x"?x[_[d]]:y[3]],u.rotation=Math.PI/2*(v==="x"?0:1);var b={top:-1,bottom:1,left:-1,right:1};u.labelDirection=u.tickDirection=u.nameDirection=b[f],u.labelOffset=c?x[_[f]]-x[_.onZero]:0,n.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),retrieve(r.labelInside,n.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var w=n.get(["axisLabel","rotate"]);return u.labelRotate=d==="top"?-w:w,u.z2=1,u}function isCartesian2DSeries(a){return a.get("coordinateSystem")==="cartesian2d"}function findAxisModels(a){var n={xAxisModel:null,yAxisModel:null};return each$f(n,function(r,s){var l=s.replace(/Model$/,""),u=a.getReferringComponents(l,SINGLE_REFERRING).models[0];n[s]=u}),n}var mathLog=Math.log;function alignScaleTicks(a,n,r){var s=IntervalScale$1.prototype,l=s.getTicks.call(r),u=s.getTicks.call(r,!0),c=l.length-1,f=s.getInterval.call(r),d=getScaleExtent(a,n),v=d.extent,g=d.fixMin,y=d.fixMax;if(a.type==="log"){var _=mathLog(a.base);v=[mathLog(v[0])/_,mathLog(v[1])/_]}a.setExtent(v[0],v[1]),a.calcNiceExtent({splitNumber:c,fixMin:g,fixMax:y});var S=s.getExtent.call(a);g&&(v[0]=S[0]),y&&(v[1]=S[1]);var x=s.getInterval.call(a),A=v[0],b=v[1];if(g&&y)x=(b-A)/c;else if(g)for(b=v[0]+x*c;b<v[1]&&isFinite(b)&&isFinite(v[1]);)x=increaseInterval(x),b=v[0]+x*c;else if(y)for(A=v[1]-x*c;A>v[0]&&isFinite(A)&&isFinite(v[0]);)x=increaseInterval(x),A=v[1]-x*c;else{var w=a.getTicks().length-1;w>c&&(x=increaseInterval(x));var E=x*c;b=Math.ceil(v[1]/x)*x,A=round$3(b-E),A<0&&v[0]>=0?(A=0,b=round$3(E)):b>0&&v[1]<=0&&(b=0,A=-round$3(E))}var M=(l[0].value-u[0].value)/f,P=(l[c].value-u[c].value)/f;s.setExtent.call(a,A+x*M,b+x*P),s.setInterval.call(a,x),(M||P)&&s.setNiceExtent.call(a,A+x,b-x)}var Grid=function(){function a(n,r,s){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(n,r,s),this.model=n}return a.prototype.getRect=function(){return this._rect},a.prototype.update=function(n,r){var s=this._axesMap;this._updateScale(n,this.model);function l(c){var f,d=keys(c),v=d.length;if(!!v){for(var g=[],y=v-1;y>=0;y--){var _=+d[y],S=c[_],x=S.model,A=S.scale;isIntervalOrLogScale(A)&&x.get("alignTicks")&&x.get("interval")==null?g.push(S):(niceScaleExtent(A,x),isIntervalOrLogScale(A)&&(f=S))}g.length&&(f||(f=g.pop(),niceScaleExtent(f.scale,f.model)),each$f(g,function(b){alignScaleTicks(b.scale,b.model,f.scale)}))}}l(s.x),l(s.y);var u={};each$f(s.x,function(c){fixAxisOnZero(s,"y",c,u)}),each$f(s.y,function(c){fixAxisOnZero(s,"x",c,u)}),this.resize(this.model,r)},a.prototype.resize=function(n,r,s){var l=n.getBoxLayoutParams(),u=!s&&n.get("containLabel"),c=getLayoutRect(l,{width:r.getWidth(),height:r.getHeight()});this._rect=c;var f=this._axesList;d(),u&&(each$f(f,function(v){if(!v.model.get(["axisLabel","inside"])){var g=estimateLabelUnionRect(v);if(g){var y=v.isHorizontal()?"height":"width",_=v.model.get(["axisLabel","margin"]);c[y]-=g[y]+_,v.position==="top"?c.y+=g.height+_:v.position==="left"&&(c.x+=g.width+_)}}}),d()),each$f(this._coordsList,function(v){v.calcAffineTransform()});function d(){each$f(f,function(v){var g=v.isHorizontal(),y=g?[0,c.width]:[0,c.height],_=v.inverse?1:0;v.setExtent(y[_],y[1-_]),updateAxisTransform(v,g?c.x:c.y)})}},a.prototype.getAxis=function(n,r){var s=this._axesMap[n];if(s!=null)return s[r||0]},a.prototype.getAxes=function(){return this._axesList.slice()},a.prototype.getCartesian=function(n,r){if(n!=null&&r!=null){var s="x"+n+"y"+r;return this._coordsMap[s]}isObject$3(n)&&(r=n.yAxisIndex,n=n.xAxisIndex);for(var l=0,u=this._coordsList;l<u.length;l++)if(u[l].getAxis("x").index===n||u[l].getAxis("y").index===r)return u[l]},a.prototype.getCartesians=function(){return this._coordsList.slice()},a.prototype.convertToPixel=function(n,r,s){var l=this._findConvertTarget(r);return l.cartesian?l.cartesian.dataToPoint(s):l.axis?l.axis.toGlobalCoord(l.axis.dataToCoord(s)):null},a.prototype.convertFromPixel=function(n,r,s){var l=this._findConvertTarget(r);return l.cartesian?l.cartesian.pointToData(s):l.axis?l.axis.coordToData(l.axis.toLocalCoord(s)):null},a.prototype._findConvertTarget=function(n){var r=n.seriesModel,s=n.xAxisModel||r&&r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],l=n.yAxisModel||r&&r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],u=n.gridModel,c=this._coordsList,f,d;if(r)f=r.coordinateSystem,indexOf(c,f)<0&&(f=null);else if(s&&l)f=this.getCartesian(s.componentIndex,l.componentIndex);else if(s)d=this.getAxis("x",s.componentIndex);else if(l)d=this.getAxis("y",l.componentIndex);else if(u){var v=u.coordinateSystem;v===this&&(f=this._coordsList[0])}return{cartesian:f,axis:d}},a.prototype.containPoint=function(n){var r=this._coordsList[0];if(r)return r.containPoint(n)},a.prototype._initCartesian=function(n,r,s){var l=this,u=this,c={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},d={x:0,y:0};if(r.eachComponent("xAxis",v("x"),this),r.eachComponent("yAxis",v("y"),this),!d.x||!d.y){this._axesMap={},this._axesList=[];return}this._axesMap=f,each$f(f.x,function(g,y){each$f(f.y,function(_,S){var x="x"+y+"y"+S,A=new Cartesian2D(x);A.master=l,A.model=n,l._coordsMap[x]=A,l._coordsList.push(A),A.addAxis(g),A.addAxis(_)})});function v(g){return function(y,_){if(!!isAxisUsedInTheGrid(y,n)){var S=y.get("position");g==="x"?S!=="top"&&S!=="bottom"&&(S=c.bottom?"top":"bottom"):S!=="left"&&S!=="right"&&(S=c.left?"right":"left"),c[S]=!0;var x=new Axis2D$1(g,createScaleByModel$1(y),[0,0],y.get("type"),S),A=x.type==="category";x.onBand=A&&y.get("boundaryGap"),x.inverse=y.get("inverse"),y.axis=x,x.model=y,x.grid=u,x.index=_,u._axesList.push(x),f[g][_]=x,d[g]++}}}},a.prototype._updateScale=function(n,r){each$f(this._axesList,function(l){if(l.scale.setExtent(1/0,-1/0),l.type==="category"){var u=l.model.get("categorySortInfo");l.scale.setSortInfo(u)}}),n.eachSeries(function(l){if(isCartesian2DSeries(l)){var u=findAxisModels(l),c=u.xAxisModel,f=u.yAxisModel;if(!isAxisUsedInTheGrid(c,r)||!isAxisUsedInTheGrid(f,r))return;var d=this.getCartesian(c.componentIndex,f.componentIndex),v=l.getData(),g=d.getAxis("x"),y=d.getAxis("y");s(v,g),s(v,y)}},this);function s(l,u){each$f(getDataDimensionsOnAxis(l,u.dim),function(c){u.scale.unionExtentFromData(l,c)})}},a.prototype.getTooltipAxes=function(n){var r=[],s=[];return each$f(this.getCartesians(),function(l){var u=n!=null&&n!=="auto"?l.getAxis(n):l.getBaseAxis(),c=l.getOtherAxis(u);indexOf(r,u)<0&&r.push(u),indexOf(s,c)<0&&s.push(c)}),{baseAxes:r,otherAxes:s}},a.create=function(n,r){var s=[];return n.eachComponent("grid",function(l,u){var c=new a(l,n,r);c.name="grid_"+u,c.resize(l,r,!0),l.coordinateSystem=c,s.push(c)}),n.eachSeries(function(l){if(!!isCartesian2DSeries(l)){var u=findAxisModels(l),c=u.xAxisModel,f=u.yAxisModel,d=c.getCoordSysModel(),v=d.coordinateSystem;l.coordinateSystem=v.getCartesian(c.componentIndex,f.componentIndex)}}),s},a.dimensions=cartesian2DDimensions,a}();function isAxisUsedInTheGrid(a,n){return a.getCoordSysModel()===n}function fixAxisOnZero(a,n,r,s){r.getAxesOnZeroOf=function(){return u?[u]:[]};var l=a[n],u,c=r.model,f=c.get(["axisLine","onZero"]),d=c.get(["axisLine","onZeroAxisIndex"]);if(!f)return;if(d!=null)canOnZeroToAxis(l[d])&&(u=l[d]);else for(var v in l)if(l.hasOwnProperty(v)&&canOnZeroToAxis(l[v])&&!s[g(l[v])]){u=l[v];break}u&&(s[g(u)]=!0);function g(y){return y.dim+"_"+y.index}}function canOnZeroToAxis(a){return a&&a.type!=="category"&&a.type!=="time"&&ifAxisCrossZero(a)}function updateAxisTransform(a,n){var r=a.getExtent(),s=r[0]+r[1];a.toGlobalCoord=a.dim==="x"?function(l){return l+n}:function(l){return s-l+n},a.toLocalCoord=a.dim==="x"?function(l){return l-n}:function(l){return s-l+n}}const Grid$1=Grid;var PI$3=Math.PI,AxisBuilder=function(){function a(n,r){this.group=new Group$4,this.opt=r,this.axisModel=n,defaults(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var s=new Group$4({x:r.position[0],y:r.position[1],rotation:r.rotation});s.updateTransform(),this._transformGroup=s}return a.prototype.hasBuilder=function(n){return!!builders[n]},a.prototype.add=function(n){builders[n](this.opt,this.axisModel,this.group,this._transformGroup)},a.prototype.getGroup=function(){return this.group},a.innerTextLayout=function(n,r,s){var l=remRadian(r-n),u,c;return isRadianAroundZero(l)?(c=s>0?"top":"bottom",u="center"):isRadianAroundZero(l-PI$3)?(c=s>0?"bottom":"top",u="center"):(c="middle",l>0&&l<PI$3?u=s>0?"right":"left":u=s>0?"left":"right"),{rotation:l,textAlign:u,textVerticalAlign:c}},a.makeAxisEventDataBase=function(n){var r={componentType:n.mainType,componentIndex:n.componentIndex};return r[n.mainType+"Index"]=n.componentIndex,r},a.isLabelSilent=function(n){var r=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||r&&r.show)},a}(),builders={axisLine:function(a,n,r,s){var l=n.get(["axisLine","show"]);if(l==="auto"&&a.handleAutoShown&&(l=a.handleAutoShown("axisLine")),!!l){var u=n.axis.getExtent(),c=s.transform,f=[u[0],0],d=[u[1],0],v=f[0]>d[0];c&&(applyTransform$1(f,f,c),applyTransform$1(d,d,c));var g=extend({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),y=new Line$3({shape:{x1:f[0],y1:f[1],x2:d[0],y2:d[1]},style:g,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(y.shape,y.style.lineWidth),y.anid="line",r.add(y);var _=n.get(["axisLine","symbol"]);if(_!=null){var S=n.get(["axisLine","symbolSize"]);isString(_)&&(_=[_,_]),(isString(S)||isNumber(S))&&(S=[S,S]);var x=normalizeSymbolOffset(n.get(["axisLine","symbolOffset"])||0,S),A=S[0],b=S[1];each$f([{rotate:a.rotation+Math.PI/2,offset:x[0],r:0},{rotate:a.rotation-Math.PI/2,offset:x[1],r:Math.sqrt((f[0]-d[0])*(f[0]-d[0])+(f[1]-d[1])*(f[1]-d[1]))}],function(w,E){if(_[E]!=="none"&&_[E]!=null){var M=createSymbol$1(_[E],-A/2,-b/2,A,b,g.stroke,!0),P=w.r+w.offset,R=v?d:f;M.attr({rotation:w.rotate,x:R[0]+P*Math.cos(a.rotation),y:R[1]-P*Math.sin(a.rotation),silent:!0,z2:11}),r.add(M)}})}}},axisTickLabel:function(a,n,r,s){var l=buildAxisMajorTicks(r,s,n,a),u=buildAxisLabel(r,s,n,a);if(fixMinMaxLabelShow(n,u,l),buildAxisMinorTicks(r,s,n,a.tickDirection),n.get(["axisLabel","hideOverlap"])){var c=prepareLayoutList(map$1(u,function(f){return{label:f,priority:f.z2,defaultAttr:{ignore:f.ignore}}}));hideOverlap(c)}},axisName:function(a,n,r,s){var l=retrieve(a.axisName,n.get("name"));if(!!l){var u=n.get("nameLocation"),c=a.nameDirection,f=n.getModel("nameTextStyle"),d=n.get("nameGap")||0,v=n.axis.getExtent(),g=v[0]>v[1]?-1:1,y=[u==="start"?v[0]-g*d:u==="end"?v[1]+g*d:(v[0]+v[1])/2,isNameLocationCenter(u)?a.labelOffset+c*d:0],_,S=n.get("nameRotate");S!=null&&(S=S*PI$3/180);var x;isNameLocationCenter(u)?_=AxisBuilder.innerTextLayout(a.rotation,S!=null?S:a.rotation,c):(_=endTextLayout(a.rotation,u,S||0,v),x=a.axisNameAvailableWidth,x!=null&&(x=Math.abs(x/Math.sin(_.rotation)),!isFinite(x)&&(x=null)));var A=f.getFont(),b=n.get("nameTruncate",!0)||{},w=b.ellipsis,E=retrieve(a.nameTruncateMaxWidth,b.maxWidth,x),M=new ZRText$1({x:y[0],y:y[1],rotation:_.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(f,{text:l,font:A,overflow:"truncate",width:E,ellipsis:w,fill:f.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:f.get("align")||_.textAlign,verticalAlign:f.get("verticalAlign")||_.textVerticalAlign}),z2:1});if(setTooltipConfig({el:M,componentModel:n,itemName:l}),M.__fullText=l,M.anid="name",n.get("triggerEvent")){var P=AxisBuilder.makeAxisEventDataBase(n);P.targetType="axisName",P.name=l,getECData(M).eventData=P}s.add(M),M.updateTransform(),r.add(M),M.decomposeTransform()}}};function endTextLayout(a,n,r,s){var l=remRadian(r-a),u,c,f=s[0]>s[1],d=n==="start"&&!f||n!=="start"&&f;return isRadianAroundZero(l-PI$3/2)?(c=d?"bottom":"top",u="center"):isRadianAroundZero(l-PI$3*1.5)?(c=d?"top":"bottom",u="center"):(c="middle",l<PI$3*1.5&&l>PI$3/2?u=d?"left":"right":u=d?"right":"left"),{rotation:l,textAlign:u,textVerticalAlign:c}}function fixMinMaxLabelShow(a,n,r){if(!shouldShowAllLabels(a.axis)){var s=a.get(["axisLabel","showMinLabel"]),l=a.get(["axisLabel","showMaxLabel"]);n=n||[],r=r||[];var u=n[0],c=n[1],f=n[n.length-1],d=n[n.length-2],v=r[0],g=r[1],y=r[r.length-1],_=r[r.length-2];s===!1?(ignoreEl(u),ignoreEl(v)):isTwoLabelOverlapped(u,c)&&(s?(ignoreEl(c),ignoreEl(g)):(ignoreEl(u),ignoreEl(v))),l===!1?(ignoreEl(f),ignoreEl(y)):isTwoLabelOverlapped(d,f)&&(l?(ignoreEl(d),ignoreEl(_)):(ignoreEl(f),ignoreEl(y)))}}function ignoreEl(a){a&&(a.ignore=!0)}function isTwoLabelOverlapped(a,n){var r=a&&a.getBoundingRect().clone(),s=n&&n.getBoundingRect().clone();if(!(!r||!s)){var l=identity([]);return rotate(l,l,-a.rotation),r.applyTransform(mul([],l,a.getLocalTransform())),s.applyTransform(mul([],l,n.getLocalTransform())),r.intersect(s)}}function isNameLocationCenter(a){return a==="middle"||a==="center"}function createTicks(a,n,r,s,l){for(var u=[],c=[],f=[],d=0;d<a.length;d++){var v=a[d].coord;c[0]=v,c[1]=0,f[0]=v,f[1]=r,n&&(applyTransform$1(c,c,n),applyTransform$1(f,f,n));var g=new Line$3({shape:{x1:c[0],y1:c[1],x2:f[0],y2:f[1]},style:s,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(g.shape,g.style.lineWidth),g.anid=l+"_"+a[d].tickValue,u.push(g)}return u}function buildAxisMajorTicks(a,n,r,s){var l=r.axis,u=r.getModel("axisTick"),c=u.get("show");if(c==="auto"&&s.handleAutoShown&&(c=s.handleAutoShown("axisTick")),!(!c||l.scale.isBlank())){for(var f=u.getModel("lineStyle"),d=s.tickDirection*u.get("length"),v=l.getTicksCoords(),g=createTicks(v,n.transform,d,defaults(f.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),y=0;y<g.length;y++)a.add(g[y]);return g}}function buildAxisMinorTicks(a,n,r,s){var l=r.axis,u=r.getModel("minorTick");if(!(!u.get("show")||l.scale.isBlank())){var c=l.getMinorTicksCoords();if(!!c.length)for(var f=u.getModel("lineStyle"),d=s*u.get("length"),v=defaults(f.getLineStyle(),defaults(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),g=0;g<c.length;g++)for(var y=createTicks(c[g],n.transform,d,v,"minorticks_"+g),_=0;_<y.length;_++)a.add(y[_])}}function buildAxisLabel(a,n,r,s){var l=r.axis,u=retrieve(s.axisLabelShow,r.get(["axisLabel","show"]));if(!(!u||l.scale.isBlank())){var c=r.getModel("axisLabel"),f=c.get("margin"),d=l.getViewLabels(),v=(retrieve(s.labelRotate,c.get("rotate"))||0)*PI$3/180,g=AxisBuilder.innerTextLayout(s.rotation,v,s.labelDirection),y=r.getCategories&&r.getCategories(!0),_=[],S=AxisBuilder.isLabelSilent(r),x=r.get("triggerEvent");return each$f(d,function(A,b){var w=l.scale.type==="ordinal"?l.scale.getRawOrdinalNumber(A.tickValue):A.tickValue,E=A.formattedLabel,M=A.rawLabel,P=c;if(y&&y[w]){var R=y[w];isObject$3(R)&&R.textStyle&&(P=new Model$1(R.textStyle,c,r.ecModel))}var I=P.getTextColor()||r.get(["axisLine","lineStyle","color"]),L=l.dataToCoord(w),O=new ZRText$1({x:L,y:s.labelOffset+s.labelDirection*f,rotation:g.rotation,silent:S,z2:10+(A.level||0),style:createTextStyle(P,{text:E,align:P.getShallow("align",!0)||g.textAlign,verticalAlign:P.getShallow("verticalAlign",!0)||P.getShallow("baseline",!0)||g.textVerticalAlign,fill:isFunction(I)?I(l.type==="category"?M:l.type==="value"?w+"":w,b):I})});if(O.anid="label_"+w,x){var N=AxisBuilder.makeAxisEventDataBase(r);N.targetType="axisLabel",N.value=M,N.tickIndex=b,l.type==="category"&&(N.dataIndex=w),getECData(O).eventData=N}n.add(O),O.updateTransform(),_.push(O),a.add(O),O.decomposeTransform()}),_}}const AxisBuilder$1=AxisBuilder;function collect(a,n){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(r,a,n),r.seriesInvolved&&collectSeriesInfo(r,a),r}function collectAxesInfo(a,n,r){var s=n.getComponent("tooltip"),l=n.getComponent("axisPointer"),u=l.get("link",!0)||[],c=[];each$f(r.getCoordinateSystems(),function(f){if(!f.axisPointerEnabled)return;var d=makeKey(f.model),v=a.coordSysAxesInfo[d]={};a.coordSysMap[d]=f;var g=f.model,y=g.getModel("tooltip",s);if(each$f(f.getAxes(),curry$1(A,!1,null)),f.getTooltipAxes&&s&&y.get("show")){var _=y.get("trigger")==="axis",S=y.get(["axisPointer","type"])==="cross",x=f.getTooltipAxes(y.get(["axisPointer","axis"]));(_||S)&&each$f(x.baseAxes,curry$1(A,S?"cross":!0,_)),S&&each$f(x.otherAxes,curry$1(A,"cross",!1))}function A(b,w,E){var M=E.model.getModel("axisPointer",l),P=M.get("show");if(!(!P||P==="auto"&&!b&&!isHandleTrigger(M))){w==null&&(w=M.get("triggerTooltip")),M=b?makeAxisPointerModel(E,y,l,n,b,w):M;var R=M.get("snap"),I=makeKey(E.model),L=w||R||E.type==="category",O=a.axesInfo[I]={key:I,axis:E,coordSys:f,axisPointerModel:M,triggerTooltip:w,involveSeries:L,snap:R,useHandle:isHandleTrigger(M),seriesModels:[],linkGroup:null};v[I]=O,a.seriesInvolved=a.seriesInvolved||L;var N=getLinkGroupIndex(u,E);if(N!=null){var B=c[N]||(c[N]={axesInfo:{}});B.axesInfo[I]=O,B.mapper=u[N].mapper,O.linkGroup=B}}}})}function makeAxisPointerModel(a,n,r,s,l,u){var c=n.getModel("axisPointer"),f=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],d={};each$f(f,function(_){d[_]=clone$4(c.get(_))}),d.snap=a.type!=="category"&&!!u,c.get("type")==="cross"&&(d.type="line");var v=d.label||(d.label={});if(v.show==null&&(v.show=!1),l==="cross"){var g=c.get(["label","show"]);if(v.show=g!=null?g:!0,!u){var y=d.lineStyle=c.get("crossStyle");y&&defaults(v,y.textStyle)}}return a.model.getModel("axisPointer",new Model$1(d,r,s))}function collectSeriesInfo(a,n){n.eachSeries(function(r){var s=r.coordinateSystem,l=r.get(["tooltip","trigger"],!0),u=r.get(["tooltip","show"],!0);!s||l==="none"||l===!1||l==="item"||u===!1||r.get(["axisPointer","show"],!0)===!1||each$f(a.coordSysAxesInfo[makeKey(s.model)],function(c){var f=c.axis;s.getAxis(f.dim)===f&&(c.seriesModels.push(r),c.seriesDataCount==null&&(c.seriesDataCount=0),c.seriesDataCount+=r.getData().count())})})}function getLinkGroupIndex(a,n){for(var r=n.model,s=n.dim,l=0;l<a.length;l++){var u=a[l]||{};if(checkPropInLink(u[s+"AxisId"],r.id)||checkPropInLink(u[s+"AxisIndex"],r.componentIndex)||checkPropInLink(u[s+"AxisName"],r.name))return l}}function checkPropInLink(a,n){return a==="all"||isArray$2(a)&&indexOf(a,n)>=0||a===n}function fixValue(a){var n=getAxisInfo$1(a);if(!!n){var r=n.axisPointerModel,s=n.axis.scale,l=r.option,u=r.get("status"),c=r.get("value");c!=null&&(c=s.parse(c));var f=isHandleTrigger(r);u==null&&(l.status=f?"show":"hide");var d=s.getExtent().slice();d[0]>d[1]&&d.reverse(),(c==null||c>d[1])&&(c=d[1]),c<d[0]&&(c=d[0]),l.value=c,f&&(l.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(a){var n=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(a)]}function getAxisPointerModel(a){var n=getAxisInfo$1(a);return n&&n.axisPointerModel}function isHandleTrigger(a){return!!a.get(["handle","show"])}function makeKey(a){return a.type+"||"+a.id}var axisPointerClazz={},AxisView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l,u){this.axisPointerClass&&fixValue(r),a.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,l,!0)},n.prototype.updateAxisPointer=function(r,s,l,u){this._doUpdateAxisPointerClass(r,l,!1)},n.prototype.remove=function(r,s){var l=this._axisPointer;l&&l.remove(s)},n.prototype.dispose=function(r,s){this._disposeAxisPointer(s),a.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(r,s,l){var u=n.getAxisPointerClass(this.axisPointerClass);if(!!u){var c=getAxisPointerModel(r);c?(this._axisPointer||(this._axisPointer=new u)).render(r,c,s,l):this._disposeAxisPointer(s)}},n.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},n.registerAxisPointerClass=function(r,s){axisPointerClazz[r]=s},n.getAxisPointerClass=function(r){return r&&axisPointerClazz[r]},n.type="axis",n}(ComponentView$1);const AxisView$1=AxisView;var inner$f=makeInner();function rectCoordAxisBuildSplitArea(a,n,r,s){var l=r.axis;if(!l.scale.isBlank()){var u=r.getModel("splitArea"),c=u.getModel("areaStyle"),f=c.get("color"),d=s.coordinateSystem.getRect(),v=l.getTicksCoords({tickModel:u,clamp:!0});if(!!v.length){var g=f.length,y=inner$f(a).splitAreaColors,_=createHashMap(),S=0;if(y)for(var x=0;x<v.length;x++){var A=y.get(v[x].tickValue);if(A!=null){S=(A+(g-1)*x)%g;break}}var b=l.toGlobalCoord(v[0].coord),w=c.getAreaStyle();f=isArray$2(f)?f:[f];for(var x=1;x<v.length;x++){var E=l.toGlobalCoord(v[x].coord),M=void 0,P=void 0,R=void 0,I=void 0;l.isHorizontal()?(M=b,P=d.y,R=E-M,I=d.height,b=M+R):(M=d.x,P=b,R=d.width,I=E-P,b=P+I);var L=v[x-1].tickValue;L!=null&&_.set(L,S),n.add(new Rect$3({anid:L!=null?"area_"+L:null,shape:{x:M,y:P,width:R,height:I},style:defaults({fill:f[S]},w),autoBatch:!0,silent:!0})),S=(S+1)%g}inner$f(a).splitAreaColors=_}}}function rectCoordAxisHandleRemove(a){inner$f(a).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="CartesianAxisPointer",r}return n.prototype.render=function(r,s,l,u){this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!r.get("show")){var f=r.getCoordSysModel(),d=layout$2(f,r),v=new AxisBuilder$1(r,extend({handleAutoShown:function(y){for(var _=f.coordinateSystem.getCartesians(),S=0;S<_.length;S++)if(isIntervalOrLogScale(_[S].getOtherAxis(r.axis).scale))return!0;return!1}},d));each$f(axisBuilderAttrs$3,v.add,v),this._axisGroup.add(v.getGroup()),each$f(selfBuilderAttrs$2,function(y){r.get([y,"show"])&&axisElementBuilders$2[y](this,this._axisGroup,r,f)},this);var g=u&&u.type==="changeAxisOrder"&&u.isInitSort;g||groupTransition(c,this._axisGroup,r),a.prototype.render.call(this,r,s,l,u)}},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="cartesianAxis",n}(AxisView$1),axisElementBuilders$2={splitLine:function(a,n,r,s){var l=r.axis;if(!l.scale.isBlank()){var u=r.getModel("splitLine"),c=u.getModel("lineStyle"),f=c.get("color");f=isArray$2(f)?f:[f];for(var d=s.coordinateSystem.getRect(),v=l.isHorizontal(),g=0,y=l.getTicksCoords({tickModel:u}),_=[],S=[],x=c.getLineStyle(),A=0;A<y.length;A++){var b=l.toGlobalCoord(y[A].coord);v?(_[0]=b,_[1]=d.y,S[0]=b,S[1]=d.y+d.height):(_[0]=d.x,_[1]=b,S[0]=d.x+d.width,S[1]=b);var w=g++%f.length,E=y[A].tickValue,M=new Line$3({anid:E!=null?"line_"+y[A].tickValue:null,autoBatch:!0,shape:{x1:_[0],y1:_[1],x2:S[0],y2:S[1]},style:defaults({stroke:f[w]},x),silent:!0});subPixelOptimizeLine(M.shape,x.lineWidth),n.add(M)}}},minorSplitLine:function(a,n,r,s){var l=r.axis,u=r.getModel("minorSplitLine"),c=u.getModel("lineStyle"),f=s.coordinateSystem.getRect(),d=l.isHorizontal(),v=l.getMinorTicksCoords();if(!!v.length)for(var g=[],y=[],_=c.getLineStyle(),S=0;S<v.length;S++)for(var x=0;x<v[S].length;x++){var A=l.toGlobalCoord(v[S][x].coord);d?(g[0]=A,g[1]=f.y,y[0]=A,y[1]=f.y+f.height):(g[0]=f.x,g[1]=A,y[0]=f.x+f.width,y[1]=A);var b=new Line$3({anid:"minor_line_"+v[S][x].tickValue,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:y[0],y2:y[1]},style:_,silent:!0});subPixelOptimizeLine(b.shape,_.lineWidth),n.add(b)}},splitArea:function(a,n,r,s){rectCoordAxisBuildSplitArea(a,n,r,s)}},CartesianXAxisView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="xAxis",n}(CartesianAxisView),CartesianYAxisView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=CartesianXAxisView.type,r}return n.type="yAxis",n}(CartesianAxisView),GridView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="grid",r}return n.prototype.render=function(r,s){this.group.removeAll(),r.get("show")&&this.group.add(new Rect$3({shape:r.coordinateSystem.getRect(),style:defaults({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(ComponentView$1),extraOption={offset:0};function install$N(a){a.registerComponentView(GridView),a.registerComponentModel(GridModel$1),a.registerCoordinateSystem("cartesian2d",Grid$1),axisModelCreator(a,"x",CartesianAxisModel,extraOption),axisModelCreator(a,"y",CartesianAxisModel,extraOption),a.registerComponentView(CartesianXAxisView),a.registerComponentView(CartesianYAxisView),a.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}function install$M(a){use(install$N),a.registerSeriesModel(ScatterSeriesModel$1),a.registerChartView(ScatterView$1),a.registerLayout(pointsLayout("scatter"))}function radarLayout(a){a.eachSeriesByType("radar",function(n){var r=n.getData(),s=[],l=n.coordinateSystem;if(!!l){var u=l.getIndicatorAxes();each$f(u,function(c,f){r.each(r.mapDimension(u[f].dim),function(d,v){s[v]=s[v]||[];var g=l.dataToPoint(d,f);s[v][f]=isValidPoint(g)?g:getValueMissingPoint(l)})}),r.each(function(c){var f=find(s[c],function(d){return isValidPoint(d)})||getValueMissingPoint(l);s[c].push(f.slice()),r.setItemLayout(c,s[c])})}})}function isValidPoint(a){return!isNaN(a[0])&&!isNaN(a[1])}function getValueMissingPoint(a){return[a.cx,a.cy]}function radarBackwardCompat(a){var n=a.polar;if(n){isArray$2(n)||(n=[n]);var r=[];each$f(n,function(s,l){s.indicator?(s.type&&!s.shape&&(s.shape=s.type),a.radar=a.radar||[],isArray$2(a.radar)||(a.radar=[a.radar]),a.radar.push(s)):r.push(s)}),a.polar=r}each$f(a.series,function(s){s&&s.type==="radar"&&s.polarIndex&&(s.radarIndex=s.polarIndex)})}var RadarView$2=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){var u=r.coordinateSystem,c=this.group,f=r.getData(),d=this._data;function v(_,S){var x=_.getItemVisual(S,"symbol")||"circle";if(x!=="none"){var A=normalizeSymbolSize(_.getItemVisual(S,"symbolSize")),b=createSymbol$1(x,-1,-1,2,2),w=_.getItemVisual(S,"symbolRotate")||0;return b.attr({style:{strokeNoScale:!0},z2:100,scaleX:A[0]/2,scaleY:A[1]/2,rotation:w*Math.PI/180||0}),b}}function g(_,S,x,A,b,w){x.removeAll();for(var E=0;E<S.length-1;E++){var M=v(A,b);M&&(M.__dimIdx=E,_[E]?(M.setPosition(_[E]),graphic[w?"initProps":"updateProps"](M,{x:S[E][0],y:S[E][1]},r,b)):M.setPosition(S[E]),x.add(M))}}function y(_){return map$1(_,function(S){return[u.cx,u.cy]})}f.diff(d).add(function(_){var S=f.getItemLayout(_);if(!!S){var x=new Polygon$1,A=new Polyline$3,b={shape:{points:S}};x.shape.points=y(S),A.shape.points=y(S),initProps(x,b,r,_),initProps(A,b,r,_);var w=new Group$4,E=new Group$4;w.add(A),w.add(x),w.add(E),g(A.shape.points,S,E,f,_,!0),f.setItemGraphicEl(_,w)}}).update(function(_,S){var x=d.getItemGraphicEl(S),A=x.childAt(0),b=x.childAt(1),w=x.childAt(2),E={shape:{points:f.getItemLayout(_)}};!E.shape.points||(g(A.shape.points,E.shape.points,w,f,_,!1),saveOldStyle(b),saveOldStyle(A),updateProps$1(A,E,r),updateProps$1(b,E,r),f.setItemGraphicEl(_,x))}).remove(function(_){c.remove(d.getItemGraphicEl(_))}).execute(),f.eachItemGraphicEl(function(_,S){var x=f.getItemModel(S),A=_.childAt(0),b=_.childAt(1),w=_.childAt(2),E=f.getItemVisual(S,"style"),M=E.fill;c.add(_),A.useStyle(defaults(x.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:M})),setStatesStylesFromModel(A,x,"lineStyle"),setStatesStylesFromModel(b,x,"areaStyle");var P=x.getModel("areaStyle"),R=P.isEmpty()&&P.parentModel.isEmpty();b.ignore=R,each$f(["emphasis","select","blur"],function(O){var N=x.getModel([O,"areaStyle"]),B=N.isEmpty()&&N.parentModel.isEmpty();b.ensureState(O).ignore=B&&R}),b.useStyle(defaults(P.getAreaStyle(),{fill:M,opacity:.7,decal:E.decal}));var I=x.getModel("emphasis"),L=I.getModel("itemStyle").getItemStyle();w.eachChild(function(O){if(O instanceof ZRImage$1){var N=O.style;O.useStyle(extend({image:N.image,x:N.x,y:N.y,width:N.width,height:N.height},E))}else O.useStyle(E),O.setColor(M),O.style.strokeNoScale=!0;var B=O.ensureState("emphasis");B.style=clone$4(L);var F=f.getStore().get(f.getDimensionIndex(O.__dimIdx),S);(F==null||isNaN(F))&&(F=""),setLabelStyle(O,getLabelStatesModels(x),{labelFetcher:f.hostModel,labelDataIndex:S,labelDimIndex:O.__dimIdx,defaultText:F,inheritColor:M,defaultOpacity:E.opacity})}),toggleHoverEmphasis(_,I.get("focus"),I.get("blurScope"),I.get("disabled"))}),this._data=f},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(ChartView$1);const RadarView$3=RadarView$2;var RadarSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},n.prototype.getInitialData=function(r,s){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(r,s,l){var u=this.getData(),c=this.coordinateSystem,f=c.getIndicatorAxes(),d=this.getData().getName(r),v=d===""?this.name:d,g=retrieveVisualColorForTooltipMarker(this,r);return createTooltipMarkup("section",{header:v,sortBlocks:!0,blocks:map$1(f,function(y){var _=u.get(u.mapDimension(y.dim),r);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:g,name:y.name,value:_,sortParam:_})})})},n.prototype.getTooltipPosition=function(r){if(r!=null){for(var s=this.getData(),l=this.coordinateSystem,u=s.getValues(map$1(l.dimensions,function(v){return s.mapDimension(v)}),r),c=0,f=u.length;c<f;c++)if(!isNaN(u[c])){var d=l.getIndicatorAxes();return l.coordToPoint(d[c].dataToCoord(u[c]),c)}}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n}(SeriesModel$1);const RadarSeriesModel$1=RadarSeriesModel;var valueAxisDefault=axisDefault.value;function defaultsShow(a,n){return defaults({show:n},a)}var RadarModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),s=this.get("splitNumber"),l=this.get("scale"),u=this.get("axisLine"),c=this.get("axisTick"),f=this.get("axisLabel"),d=this.get("axisName"),v=this.get(["axisName","show"]),g=this.get(["axisName","formatter"]),y=this.get("axisNameGap"),_=this.get("triggerEvent"),S=map$1(this.get("indicator")||[],function(x){x.max!=null&&x.max>0&&!x.min?x.min=0:x.min!=null&&x.min<0&&!x.max&&(x.max=0);var A=d;x.color!=null&&(A=defaults({color:x.color},d));var b=merge(clone$4(x),{boundaryGap:r,splitNumber:s,scale:l,axisLine:u,axisTick:c,axisLabel:f,name:x.text,showName:v,nameLocation:"end",nameGap:y,nameTextStyle:A,triggerEvent:_},!1);if(isString(g)){var w=b.name;b.name=g.replace("{value}",w!=null?w:"")}else isFunction(g)&&(b.name=g(b.name,b));var E=new Model$1(b,null,this.ecModel);return mixin(E,AxisModelCommonMixin.prototype),E.mainType="radar",E.componentIndex=this.componentIndex,E},this);this._indicatorModels=S},n.prototype.getIndicatorModels=function(){return this._indicatorModels},n.type="radar",n.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},n}(ComponentModel$1);const RadarModel$1=RadarModel;var axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){var u=this.group;u.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},n.prototype._buildAxes=function(r){var s=r.coordinateSystem,l=s.getIndicatorAxes(),u=map$1(l,function(c){var f=c.model.get("showName")?c.name:"",d=new AxisBuilder$1(c.model,{axisName:f,position:[s.cx,s.cy],rotation:c.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return d});each$f(u,function(c){each$f(axisBuilderAttrs$2,c.add,c),this.group.add(c.getGroup())},this)},n.prototype._buildSplitLineAndArea=function(r){var s=r.coordinateSystem,l=s.getIndicatorAxes();if(!l.length)return;var u=r.get("shape"),c=r.getModel("splitLine"),f=r.getModel("splitArea"),d=c.getModel("lineStyle"),v=f.getModel("areaStyle"),g=c.get("show"),y=f.get("show"),_=d.get("color"),S=v.get("color"),x=isArray$2(_)?_:[_],A=isArray$2(S)?S:[S],b=[],w=[];function E(Y,q,Q){var j=Q%q.length;return Y[j]=Y[j]||[],j}if(u==="circle")for(var M=l[0].getTicksCoords(),P=s.cx,R=s.cy,I=0;I<M.length;I++){if(g){var L=E(b,x,I);b[L].push(new Circle$1({shape:{cx:P,cy:R,r:M[I].coord}}))}if(y&&I<M.length-1){var L=E(w,A,I);w[L].push(new Ring$1({shape:{cx:P,cy:R,r0:M[I].coord,r:M[I+1].coord}}))}}else for(var O,N=map$1(l,function(Y,q){var Q=Y.getTicksCoords();return O=O==null?Q.length-1:Math.min(Q.length-1,O),map$1(Q,function(j){return s.coordToPoint(j.coord,q)})}),B=[],I=0;I<=O;I++){for(var F=[],V=0;V<l.length;V++)F.push(N[V][I]);if(F[0]&&F.push(F[0].slice()),g){var L=E(b,x,I);b[L].push(new Polyline$3({shape:{points:F}}))}if(y&&B){var L=E(w,A,I-1);w[L].push(new Polygon$1({shape:{points:F.concat(B)}}))}B=F.slice().reverse()}var z=d.getLineStyle(),U=v.getAreaStyle();each$f(w,function(Y,q){this.group.add(mergePath(Y,{style:defaults({stroke:"none",fill:A[q%A.length]},U),silent:!0}))},this),each$f(b,function(Y,q){this.group.add(mergePath(Y,{style:defaults({fill:"none",stroke:x[q%x.length]},z),silent:!0}))},this)},n.type="radar",n}(ComponentView$1);const RadarView$1=RadarView;var IndicatorAxis=function(a){__extends(n,a);function n(r,s,l){var u=a.call(this,r,s,l)||this;return u.type="value",u.angle=0,u.name="",u}return n}(Axis$1);const IndicatorAxis$1=IndicatorAxis;var Radar=function(){function a(n,r,s){this.dimensions=[],this._model=n,this._indicatorAxes=map$1(n.getIndicatorModels(),function(l,u){var c="indicator_"+u,f=new IndicatorAxis$1(c,new IntervalScale$1);return f.name=l.get("name"),f.model=l,l.axis=f,this.dimensions.push(c),f},this),this.resize(n,s)}return a.prototype.getIndicatorAxes=function(){return this._indicatorAxes},a.prototype.dataToPoint=function(n,r){var s=this._indicatorAxes[r];return this.coordToPoint(s.dataToCoord(n),r)},a.prototype.coordToPoint=function(n,r){var s=this._indicatorAxes[r],l=s.angle,u=this.cx+n*Math.cos(l),c=this.cy-n*Math.sin(l);return[u,c]},a.prototype.pointToData=function(n){var r=n[0]-this.cx,s=n[1]-this.cy,l=Math.sqrt(r*r+s*s);r/=l,s/=l;for(var u=Math.atan2(-s,r),c=1/0,f,d=-1,v=0;v<this._indicatorAxes.length;v++){var g=this._indicatorAxes[v],y=Math.abs(u-g.angle);y<c&&(f=g,d=v,c=y)}return[d,+(f&&f.coordToData(l))]},a.prototype.resize=function(n,r){var s=n.get("center"),l=r.getWidth(),u=r.getHeight(),c=Math.min(l,u)/2;this.cx=parsePercent(s[0],l),this.cy=parsePercent(s[1],u),this.startAngle=n.get("startAngle")*Math.PI/180;var f=n.get("radius");(isString(f)||isNumber(f))&&(f=[0,f]),this.r0=parsePercent(f[0],c),this.r=parsePercent(f[1],c),each$f(this._indicatorAxes,function(d,v){d.setExtent(this.r0,this.r);var g=this.startAngle+v*Math.PI*2/this._indicatorAxes.length;g=Math.atan2(Math.sin(g),Math.cos(g)),d.angle=g},this)},a.prototype.update=function(n,r){var s=this._indicatorAxes,l=this._model;each$f(s,function(f){f.scale.setExtent(1/0,-1/0)}),n.eachSeriesByType("radar",function(f,d){if(!(f.get("coordinateSystem")!=="radar"||n.getComponent("radar",f.get("radarIndex"))!==l)){var v=f.getData();each$f(s,function(g){g.scale.unionExtentFromData(v,v.mapDimension(g.dim))})}},this);var u=l.get("splitNumber"),c=new IntervalScale$1;c.setExtent(0,u),c.setInterval(1),each$f(s,function(f,d){alignScaleTicks(f.scale,f.model,c)})},a.prototype.convertToPixel=function(n,r,s){return console.warn("Not implemented."),null},a.prototype.convertFromPixel=function(n,r,s){return console.warn("Not implemented."),null},a.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},a.create=function(n,r){var s=[];return n.eachComponent("radar",function(l){var u=new a(l,n,r);s.push(u),l.coordinateSystem=u}),n.eachSeriesByType("radar",function(l){l.get("coordinateSystem")==="radar"&&(l.coordinateSystem=s[l.get("radarIndex")||0])}),s},a.dimensions=[],a}();const Radar$1=Radar;function install$L(a){a.registerCoordinateSystem("radar",Radar$1),a.registerComponentModel(RadarModel$1),a.registerComponentView(RadarView$1),a.registerVisual({seriesType:"radar",reset:function(n){var r=n.getData();r.each(function(s){r.setItemVisual(s,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function install$K(a){use(install$L),a.registerChartView(RadarView$3),a.registerSeriesModel(RadarSeriesModel$1),a.registerLayout(radarLayout),a.registerProcessor(dataFilter$1("radar")),a.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(a,n,r){var s=getStore(a);s[n]=r}function release(a,n,r){var s=getStore(a),l=s[n];l===r&&(s[n]=null)}function isTaken(a,n){return!!getStore(a)[n]}function getStore(a){return a[ATTR]||(a[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop$1);var RoamController=function(a){__extends(n,a);function n(r){var s=a.call(this)||this;s._zr=r;var l=bind$1(s._mousedownHandler,s),u=bind$1(s._mousemoveHandler,s),c=bind$1(s._mouseupHandler,s),f=bind$1(s._mousewheelHandler,s),d=bind$1(s._pinchHandler,s);return s.enable=function(v,g){this.disable(),this._opt=defaults(clone$4(g)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),v==null&&(v=!0),(v===!0||v==="move"||v==="pan")&&(r.on("mousedown",l),r.on("mousemove",u),r.on("mouseup",c)),(v===!0||v==="scale"||v==="zoom")&&(r.on("mousewheel",f),r.on("pinch",d))},s.disable=function(){r.off("mousedown",l),r.off("mousemove",u),r.off("mouseup",c),r.off("mousewheel",f),r.off("pinch",d)},s}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(r){this.pointerChecker=r},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(r){if(!isMiddleOrRightButtonOnMouseUpDown(r)){for(var s=r.target;s;){if(s.draggable)return;s=s.__hostTarget||s.parent}var l=r.offsetX,u=r.offsetY;this.pointerChecker&&this.pointerChecker(r,l,u)&&(this._x=l,this._y=u,this._dragging=!0)}},n.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var s=r.offsetX,l=r.offsetY,u=this._x,c=this._y,f=s-u,d=l-c;this._x=s,this._y=l,this._opt.preventDefaultMouseMove&&stop(r.event),trigger$1(this,"pan","moveOnMouseMove",r,{dx:f,dy:d,oldX:u,oldY:c,newX:s,newY:l,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(r){isMiddleOrRightButtonOnMouseUpDown(r)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(r){var s=isAvailableBehavior("zoomOnMouseWheel",r,this._opt),l=isAvailableBehavior("moveOnMouseWheel",r,this._opt),u=r.wheelDelta,c=Math.abs(u),f=r.offsetX,d=r.offsetY;if(!(u===0||!s&&!l)){if(s){var v=c>3?1.4:c>1?1.2:1.1,g=u>0?v:1/v;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",r,{scale:g,originX:f,originY:d,isAvailableBehavior:null})}if(l){var y=Math.abs(u),_=(u>0?1:-1)*(y>3?.4:y>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:_,originX:f,originY:d,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(r){if(!isTaken(this._zr,"globalPan")){var s=r.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,r,{scale:s,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},n}(Eventful$1);function checkPointerAndTrigger(a,n,r,s,l){a.pointerChecker&&a.pointerChecker(s,l.originX,l.originY)&&(stop(s.event),trigger$1(a,n,r,s,l))}function trigger$1(a,n,r,s,l){l.isAvailableBehavior=bind$1(isAvailableBehavior,null,r,s),a.trigger(n,l)}function isAvailableBehavior(a,n,r){var s=r[a];return!a||s&&(!isString(s)||n.event[s+"Key"])}const RoamController$1=RoamController;function updateViewOnPan(a,n,r){var s=a.target;s.x+=n,s.y+=r,s.dirty()}function updateViewOnZoom(a,n,r,s){var l=a.target,u=a.zoomLimit,c=a.zoom=a.zoom||1;if(c*=n,u){var f=u.min||0,d=u.max||1/0;c=Math.max(Math.min(d,c),f)}var v=c/a.zoom;a.zoom=c,l.x-=(r-l.x)*(v-1),l.y-=(s-l.y)*(v-1),l.scaleX*=v,l.scaleY*=v,l.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(a,n,r){var s=n.getComponentByElement(a.topTarget),l=s&&s.coordinateSystem;return s&&s!==r&&!IRRELEVANT_EXCLUDES.hasOwnProperty(s.mainType)&&l&&l.model!==r}function parseXML(a){if(isString(a)){var n=new DOMParser;a=n.parseFromString(a,"text/xml")}var r=a;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function a(){this._defs={},this._root=null}return a.prototype.parse=function(n,r){r=r||{};var s=parseXML(n);this._defsUsePending=[];var l=new Group$4;this._root=l;var u=[],c=s.getAttribute("viewBox")||"",f=parseFloat(s.getAttribute("width")||r.width),d=parseFloat(s.getAttribute("height")||r.height);isNaN(f)&&(f=null),isNaN(d)&&(d=null),parseAttributes(s,l,null,!0,!1);for(var v=s.firstChild;v;)this._parseNode(v,l,u,null,!1,!1),v=v.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var g,y;if(c){var _=splitNumberSequence(c);_.length>=4&&(g={x:parseFloat(_[0]||0),y:parseFloat(_[1]||0),width:parseFloat(_[2]),height:parseFloat(_[3])})}if(g&&f!=null&&d!=null&&(y=makeViewBoxTransform(g,{x:0,y:0,width:f,height:d}),!r.ignoreViewBox)){var S=l;l=new Group$4,l.add(S),S.scaleX=S.scaleY=y.scale,S.x=y.x,S.y=y.y}return!r.ignoreRootClip&&f!=null&&d!=null&&l.setClipPath(new Rect$3({shape:{x:0,y:0,width:f,height:d}})),{root:l,width:f,height:d,viewBoxRect:g,viewBoxTransform:y,named:u}},a.prototype._parseNode=function(n,r,s,l,u,c){var f=n.nodeName.toLowerCase(),d,v=l;if(f==="defs"&&(u=!0),f==="text"&&(c=!0),f==="defs"||f==="switch")d=r;else{if(!u){var g=nodeParsers[f];if(g&&hasOwn(nodeParsers,f)){d=g.call(this,n,r);var y=n.getAttribute("name");if(y){var _={name:y,namedFrom:null,svgNodeTagLower:f,el:d};s.push(_),f==="g"&&(v=_)}else l&&s.push({name:l.name,namedFrom:l,svgNodeTagLower:f,el:d});r.add(d)}}var S=paintServerParsers[f];if(S&&hasOwn(paintServerParsers,f)){var x=S.call(this,n),A=n.getAttribute("id");A&&(this._defs[A]=x)}}if(d&&d.isGroup)for(var b=n.firstChild;b;)b.nodeType===1?this._parseNode(b,d,s,v,u,c):b.nodeType===3&&c&&this._parseText(b,d),b=b.nextSibling},a.prototype._parseText=function(n,r){var s=new TSpan$1({style:{text:n.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(r,s),parseAttributes(n,s,this._defsUsePending,!1,!1),applyTextAlignment(s,r);var l=s.style,u=l.fontSize;u&&u<9&&(l.fontSize=9,s.scaleX*=u/9,s.scaleY*=u/9);var c=(l.fontSize||l.fontFamily)&&[l.fontStyle,l.fontWeight,(l.fontSize||12)+"px",l.fontFamily||"sans-serif"].join(" ");l.font=c;var f=s.getBoundingRect();return this._textX+=f.width,r.add(s),s},a.internalField=function(){nodeParsers={g:function(n,r){var s=new Group$4;return inheritStyle(r,s),parseAttributes(n,s,this._defsUsePending,!1,!1),s},rect:function(n,r){var s=new Rect$3;return inheritStyle(r,s),parseAttributes(n,s,this._defsUsePending,!1,!1),s.setShape({x:parseFloat(n.getAttribute("x")||"0"),y:parseFloat(n.getAttribute("y")||"0"),width:parseFloat(n.getAttribute("width")||"0"),height:parseFloat(n.getAttribute("height")||"0")}),s.silent=!0,s},circle:function(n,r){var s=new Circle$1;return inheritStyle(r,s),parseAttributes(n,s,this._defsUsePending,!1,!1),s.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),r:parseFloat(n.getAttribute("r")||"0")}),s.silent=!0,s},line:function(n,r){var s=new Line$3;return inheritStyle(r,s),parseAttributes(n,s,this._defsUsePending,!1,!1),s.setShape({x1:parseFloat(n.getAttribute("x1")||"0"),y1:parseFloat(n.getAttribute("y1")||"0"),x2:parseFloat(n.getAttribute("x2")||"0"),y2:parseFloat(n.getAttribute("y2")||"0")}),s.silent=!0,s},ellipse:function(n,r){var s=new Ellipse$1;return inheritStyle(r,s),parseAttributes(n,s,this._defsUsePending,!1,!1),s.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),rx:parseFloat(n.getAttribute("rx")||"0"),ry:parseFloat(n.getAttribute("ry")||"0")}),s.silent=!0,s},polygon:function(n,r){var s=n.getAttribute("points"),l;s&&(l=parsePoints(s));var u=new Polygon$1({shape:{points:l||[]},silent:!0});return inheritStyle(r,u),parseAttributes(n,u,this._defsUsePending,!1,!1),u},polyline:function(n,r){var s=n.getAttribute("points"),l;s&&(l=parsePoints(s));var u=new Polyline$3({shape:{points:l||[]},silent:!0});return inheritStyle(r,u),parseAttributes(n,u,this._defsUsePending,!1,!1),u},image:function(n,r){var s=new ZRImage$1;return inheritStyle(r,s),parseAttributes(n,s,this._defsUsePending,!1,!1),s.setStyle({image:n.getAttribute("xlink:href")||n.getAttribute("href"),x:+n.getAttribute("x"),y:+n.getAttribute("y"),width:+n.getAttribute("width"),height:+n.getAttribute("height")}),s.silent=!0,s},text:function(n,r){var s=n.getAttribute("x")||"0",l=n.getAttribute("y")||"0",u=n.getAttribute("dx")||"0",c=n.getAttribute("dy")||"0";this._textX=parseFloat(s)+parseFloat(u),this._textY=parseFloat(l)+parseFloat(c);var f=new Group$4;return inheritStyle(r,f),parseAttributes(n,f,this._defsUsePending,!1,!0),f},tspan:function(n,r){var s=n.getAttribute("x"),l=n.getAttribute("y");s!=null&&(this._textX=parseFloat(s)),l!=null&&(this._textY=parseFloat(l));var u=n.getAttribute("dx")||"0",c=n.getAttribute("dy")||"0",f=new Group$4;return inheritStyle(r,f),parseAttributes(n,f,this._defsUsePending,!1,!0),this._textX+=parseFloat(u),this._textY+=parseFloat(c),f},path:function(n,r){var s=n.getAttribute("d")||"",l=createFromString(s);return inheritStyle(r,l),parseAttributes(n,l,this._defsUsePending,!1,!1),l.silent=!0,l}}}(),a}(),paintServerParsers={lineargradient:function(a){var n=parseInt(a.getAttribute("x1")||"0",10),r=parseInt(a.getAttribute("y1")||"0",10),s=parseInt(a.getAttribute("x2")||"10",10),l=parseInt(a.getAttribute("y2")||"0",10),u=new LinearGradient$1(n,r,s,l);return parsePaintServerUnit(a,u),parseGradientColorStops(a,u),u},radialgradient:function(a){var n=parseInt(a.getAttribute("cx")||"0",10),r=parseInt(a.getAttribute("cy")||"0",10),s=parseInt(a.getAttribute("r")||"0",10),l=new RadialGradient$1(n,r,s);return parsePaintServerUnit(a,l),parseGradientColorStops(a,l),l}};function parsePaintServerUnit(a,n){var r=a.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(n.global=!0)}function parseGradientColorStops(a,n){for(var r=a.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var s=r.getAttribute("offset"),l=void 0;s&&s.indexOf("%")>0?l=parseInt(s,10)/100:s?l=parseFloat(s):l=0;var u={};parseInlineStyle(r,u,u);var c=u.stopColor||r.getAttribute("stop-color")||"#000000";n.colorStops.push({offset:l,color:c})}r=r.nextSibling}}function inheritStyle(a,n){a&&a.__inheritedStyle&&(n.__inheritedStyle||(n.__inheritedStyle={}),defaults(n.__inheritedStyle,a.__inheritedStyle))}function parsePoints(a){for(var n=splitNumberSequence(a),r=[],s=0;s<n.length;s+=2){var l=parseFloat(n[s]),u=parseFloat(n[s+1]);r.push([l,u])}return r}function parseAttributes(a,n,r,s,l){var u=n,c=u.__inheritedStyle=u.__inheritedStyle||{},f={};a.nodeType===1&&(parseTransformAttribute(a,n),parseInlineStyle(a,c,f),s||parseAttributeStyle(a,c,f)),u.style=u.style||{},c.fill!=null&&(u.style.fill=getFillStrokeStyle(u,"fill",c.fill,r)),c.stroke!=null&&(u.style.stroke=getFillStrokeStyle(u,"stroke",c.stroke,r)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(d){c[d]!=null&&(u.style[d]=parseFloat(c[d]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(d){c[d]!=null&&(u.style[d]=c[d])}),l&&(u.__selfStyle=f),c.lineDash&&(u.style.lineDash=map$1(splitNumberSequence(c.lineDash),function(d){return parseFloat(d)})),(c.visibility==="hidden"||c.visibility==="collapse")&&(u.invisible=!0),c.display==="none"&&(u.ignore=!0)}function applyTextAlignment(a,n){var r=n.__selfStyle;if(r){var s=r.textBaseline,l=s;!s||s==="auto"||s==="baseline"?l="alphabetic":s==="before-edge"||s==="text-before-edge"?l="top":s==="after-edge"||s==="text-after-edge"?l="bottom":(s==="central"||s==="mathematical")&&(l="middle"),a.style.textBaseline=l}var u=n.__inheritedStyle;if(u){var c=u.textAlign,f=c;c&&(c==="middle"&&(f="center"),a.style.textAlign=f)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(a,n,r,s){var l=r&&r.match(urlRegex);if(l){var u=trim$1(l[1]);s.push([a,n,u]);return}return r==="none"&&(r=null),r}function applyDefs(a,n){for(var r=0;r<n.length;r++){var s=n[r];s[0].style[s[1]]=a[s[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(a){return a.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(a,n){var r=a.getAttribute("transform");if(r){r=r.replace(/,/g," ");var s=[],l=null;r.replace(transformRegex,function(y,_,S){return s.push(_,S),""});for(var u=s.length-1;u>0;u-=2){var c=s[u],f=s[u-1],d=splitNumberSequence(c);switch(l=l||create$1(),f){case"translate":translate(l,l,[parseFloat(d[0]),parseFloat(d[1]||"0")]);break;case"scale":scale$1(l,l,[parseFloat(d[0]),parseFloat(d[1]||d[0])]);break;case"rotate":rotate(l,l,-parseFloat(d[0])*DEGREE_TO_ANGLE);break;case"skewX":var v=Math.tan(parseFloat(d[0])*DEGREE_TO_ANGLE);mul(l,[1,0,v,1,0,0],l);break;case"skewY":var g=Math.tan(parseFloat(d[0])*DEGREE_TO_ANGLE);mul(l,[1,g,0,1,0,0],l);break;case"matrix":l[0]=parseFloat(d[0]),l[1]=parseFloat(d[1]),l[2]=parseFloat(d[2]),l[3]=parseFloat(d[3]),l[4]=parseFloat(d[4]),l[5]=parseFloat(d[5]);break}}n.setLocalTransform(l)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(a,n,r){var s=a.getAttribute("style");if(!!s){styleRegex.lastIndex=0;for(var l;(l=styleRegex.exec(s))!=null;){var u=l[1],c=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,u)?INHERITABLE_STYLE_ATTRIBUTES_MAP[u]:null;c&&(n[c]=l[2]);var f=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,u)?SELF_STYLE_ATTRIBUTES_MAP[u]:null;f&&(r[f]=l[2])}}}function parseAttributeStyle(a,n,r){for(var s=0;s<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;s++){var l=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[s],u=a.getAttribute(l);u!=null&&(n[INHERITABLE_STYLE_ATTRIBUTES_MAP[l]]=u)}for(var s=0;s<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;s++){var l=SELF_STYLE_ATTRIBUTES_MAP_KEYS[s],u=a.getAttribute(l);u!=null&&(r[SELF_STYLE_ATTRIBUTES_MAP[l]]=u)}}function makeViewBoxTransform(a,n){var r=n.width/a.width,s=n.height/a.height,l=Math.min(r,s);return{scale:l,x:-(a.x+a.width/2)*l+(n.x+n.width/2),y:-(a.y+a.height/2)*l+(n.y+n.height/2)}}function parseSVG(a,n){var r=new SVGParser;return r.parse(a,n)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function a(n,r){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=n,this._parsedXML=parseXML(r)}return a.prototype.load=function(){var n=this._firstGraphic;if(!n){n=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(n),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=createRegions(n.named),s=r.regions,l=r.regionsMap;this._regions=s,this._regionsMap=l}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},a.prototype._buildGraphic=function(n){var r,s;try{r=n&&parseSVG(n,{ignoreViewBox:!0,ignoreRootClip:!0})||{},s=r.root,assert(s!=null)}catch(b){throw new Error(`Invalid svg format
`+b.message)}var l=new Group$4;l.add(s),l.isGeoSVGGraphicRoot=!0;var u=r.width,c=r.height,f=r.viewBoxRect,d=this._boundingRect;if(!d){var v=void 0,g=void 0,y=void 0,_=void 0;if(u!=null?(v=0,y=u):f&&(v=f.x,y=f.width),c!=null?(g=0,_=c):f&&(g=f.y,_=f.height),v==null||g==null){var S=s.getBoundingRect();v==null&&(v=S.x,y=S.width),g==null&&(g=S.y,_=S.height)}d=this._boundingRect=new BoundingRect$1(v,g,y,_)}if(f){var x=makeViewBoxTransform(f,d);s.scaleX=s.scaleY=x.scale,s.x=x.x,s.y=x.y}l.setClipPath(new Rect$3({shape:d.plain()}));var A=[];return each$f(r.named,function(b){REGION_AVAILABLE_SVG_TAG_MAP.get(b.svgNodeTagLower)!=null&&(A.push(b),setSilent(b.el))}),{root:l,boundingRect:d,named:A}},a.prototype.useGraphic=function(n){var r=this._usedGraphicMap,s=r.get(n);return s||(s=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(n,s),s)},a.prototype.freeGraphic=function(n){var r=this._usedGraphicMap,s=r.get(n);s&&(r.removeKey(n),this._freedGraphics.push(s))},a}();function setSilent(a){a.silent=!1,a.isGroup&&a.traverse(function(n){n.silent=!1})}function createRegions(a){var n=[],r=createHashMap();return each$f(a,function(s){if(s.namedFrom==null){var l=new GeoSVGRegion(s.name,s.el);n.push(l),r.set(s.name,l)}}),{regions:n,regionsMap:r}}var geoCoord=[126,25],nanhaiName="\u5357\u6D77\u8BF8\u5C9B",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(a,n){if(a==="china"){for(var r=0;r<n.length;r++)if(n[r].name===nanhaiName)return;n.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(s){return{type:"polygon",exterior:s}}),geoCoord))}}var coordsOffsetMap={\u5357\u6D77\u8BF8\u5C9B:[32,80],\u5E7F\u4E1C:[0,-10],\u9999\u6E2F:[10,5],\u6FB3\u95E8:[-10,10],\u5929\u6D25:[5,5]};function fixTextCoords(a,n){if(a==="china"){var r=coordsOffsetMap[n.name];if(r){var s=n.getCenter();s[0]+=r[0]/10.5,s[1]+=-r[1]/(10.5/.75),n.setCenter(s)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(a,n){a==="china"&&n.name==="\u53F0\u6E7E"&&n.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function a(n,r,s){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=n,this._specialAreas=s,this._geoJSON=parseInput(r)}return a.prototype.load=function(n,r){r=r||DEFAULT_NAME_PROPERTY;var s=this._parsedMap.get(r);if(!s){var l=this._parseToRegions(r);s=this._parsedMap.set(r,{regions:l,boundingRect:calculateBoundingRect(l)})}var u=createHashMap(),c=[];return each$f(s.regions,function(f){var d=f.name;n&&hasOwn(n,d)&&(f=f.cloneShallow(d=n[d])),c.push(f),u.set(d,f)}),{regions:c,boundingRect:s.boundingRect||new BoundingRect$1(0,0,0,0),regionsMap:u}},a.prototype._parseToRegions=function(n){var r=this._mapName,s=this._geoJSON,l;try{l=s?parseGeoJSON(s,n):[]}catch(u){throw new Error(`Invalid geoJson format
`+u.message)}return fixNanhai(r,l),each$f(l,function(u){var c=u.name;fixTextCoords(r,u),fixDiaoyuIsland(r,u);var f=this._specialAreas&&this._specialAreas[c];f&&u.transformTo(f.left,f.top,f.width,f.height)},this),l},a.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},a}();function calculateBoundingRect(a){for(var n,r=0;r<a.length;r++){var s=a[r].getBoundingRect();n=n||s.clone(),n.union(s)}return n}function parseInput(a){return isString(a)?typeof JSON<"u"&&JSON.parse?JSON.parse(a):new Function("return ("+a+");")():a}var storage=createHashMap();const geoSourceManager={registerMap:function(a,n,r){if(n.svg){var s=new GeoSVGResource(a,n.svg);storage.set(a,s)}else{var l=n.geoJson||n.geoJSON;l&&!n.features?r=n.specialAreas:l=n;var s=new GeoJSONResource(a,l,r);storage.set(a,s)}},getGeoResource:function(a){return storage.get(a)},getMapForUser:function(a){var n=storage.get(a);return n&&n.type==="geoJSON"&&n.getMapForUser()},load:function(a,n,r){var s=storage.get(a);if(!!s)return s.load(n,r)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(a){var n=a.getItemStyle(),r=a.get("areaColor");return r!=null&&(n.fill=r),n}function fixLineStyle(a){var n=a.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var MapDraw=function(){function a(n){var r=new Group$4;this.uid=getUID("ec_map_draw"),this._controller=new RoamController$1(n.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new Group$4),r.add(this._svgGroup=new Group$4)}return a.prototype.draw=function(n,r,s,l,u){var c=n.mainType==="geo",f=n.getData&&n.getData();c&&r.eachComponent({mainType:"series",subType:"map"},function(w){!f&&w.getHostGeoModel()===n&&(f=w.getData())});var d=n.coordinateSystem,v=this._regionsGroup,g=this.group,y=d.getTransformInfo(),_=y.raw,S=y.roam,x=!v.childAt(0)||u;x?(g.x=S.x,g.y=S.y,g.scaleX=S.scaleX,g.scaleY=S.scaleY,g.dirty()):updateProps$1(g,S,n);var A=f&&f.getVisual("visualMeta")&&f.getVisual("visualMeta").length>0,b={api:s,geo:d,mapOrGeoModel:n,data:f,isVisualEncodedByVisualMap:A,isGeo:c,transformInfoRaw:_};d.resourceType==="geoJSON"?this._buildGeoJSON(b):d.resourceType==="geoSVG"&&this._buildSVG(b),this._updateController(n,r,s),this._updateMapSelectHandler(n,v,s,l)},a.prototype._buildGeoJSON=function(n){var r=this._regionsGroupByName=createHashMap(),s=createHashMap(),l=this._regionsGroup,u=n.transformInfoRaw,c=n.mapOrGeoModel,f=n.data,d=n.geo.projection,v=d&&d.stream;function g(S,x){return x&&(S=x(S)),S&&[S[0]*u.scaleX+u.x,S[1]*u.scaleY+u.y]}function y(S){for(var x=[],A=!v&&d&&d.project,b=0;b<S.length;++b){var w=g(S[b],A);w&&x.push(w)}return x}function _(S){return{shape:{points:y(S)}}}l.removeAll(),each$f(n.geo.regions,function(S){var x=S.name,A=r.get(x),b=s.get(x)||{},w=b.dataIdx,E=b.regionModel;A||(A=r.set(x,new Group$4),l.add(A),w=f?f.indexOfName(x):null,E=n.isGeo?c.getRegionModel(x):f?f.getItemModel(w):null,s.set(x,{dataIdx:w,regionModel:E}));var M=[],P=[];each$f(S.geometries,function(L){if(L.type==="polygon"){var O=[L.exterior].concat(L.interiors||[]);v&&(O=projectPolys(O,v)),each$f(O,function(B){M.push(new Polygon$1(_(B)))})}else{var N=L.points;v&&(N=projectPolys(N,v,!0)),each$f(N,function(B){P.push(new Polyline$3(_(B)))})}});var R=g(S.getCenter(),d&&d.project);function I(L,O){if(!!L.length){var N=new CompoundPath$1({culling:!0,segmentIgnoreThreshold:1,shape:{paths:L}});A.add(N),applyOptionStyleForRegion(n,N,w,E),resetLabelForRegion(n,N,x,E,c,w,R),O&&(fixLineStyle(N),each$f(N.states,fixLineStyle))}}I(M),I(P,!0)}),r.each(function(S,x){var A=s.get(x),b=A.dataIdx,w=A.regionModel;resetEventTriggerForRegion(n,S,x,w,c,b),resetTooltipForRegion(n,S,x,w,c),resetStateTriggerForRegion(n,S,x,w,c)},this)},a.prototype._buildSVG=function(n){var r=n.geo.map,s=n.transformInfoRaw;this._svgGroup.x=s.x,this._svgGroup.y=s.y,this._svgGroup.scaleX=s.scaleX,this._svgGroup.scaleY=s.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var l=this._svgDispatcherMap=createHashMap(),u=!1;each$f(this._svgGraphicRecord.named,function(c){var f=c.name,d=n.mapOrGeoModel,v=n.data,g=c.svgNodeTagLower,y=c.el,_=v?v.indexOfName(f):null,S=d.getRegionModel(f);if(OPTION_STYLE_ENABLED_TAG_MAP.get(g)!=null&&y instanceof Displayable$1&&applyOptionStyleForRegion(n,y,_,S),y instanceof Displayable$1&&(y.culling=!0),y.z2EmphasisLift=0,!c.namedFrom&&(LABEL_HOST_MAP.get(g)!=null&&resetLabelForRegion(n,y,f,S,d,_,null),resetEventTriggerForRegion(n,y,f,S,d,_),resetTooltipForRegion(n,y,f,S,d),STATE_TRIGGER_TAG_MAP.get(g)!=null)){var x=resetStateTriggerForRegion(n,y,f,S,d);x==="self"&&(u=!0);var A=l.get(f)||l.set(f,[]);A.push(y)}},this),this._enableBlurEntireSVG(u,n)},a.prototype._enableBlurEntireSVG=function(n,r){if(n&&r.isGeo){var s=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),l=s.opacity;this._svgGraphicRecord.root.traverse(function(u){if(!u.isGroup){setDefaultStateProxy(u);var c=u.ensureState("blur").style||{};c.opacity==null&&l!=null&&(c.opacity=l),u.ensureState("emphasis")}})}},a.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},a.prototype.findHighDownDispatchers=function(n,r){if(n==null)return[];var s=r.coordinateSystem;if(s.resourceType==="geoJSON"){var l=this._regionsGroupByName;if(l){var u=l.get(n);return u?[u]:[]}}else if(s.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(n)||[]},a.prototype._svgResourceChanged=function(n){return this._svgMapName!==n},a.prototype._useSVG=function(n){var r=geoSourceManager.getGeoResource(n);if(r&&r.type==="geoSVG"){var s=r.useGraphic(this.uid);this._svgGroup.add(s.root),this._svgGraphicRecord=s,this._svgMapName=n}},a.prototype._freeSVG=function(){var n=this._svgMapName;if(n!=null){var r=geoSourceManager.getGeoResource(n);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},a.prototype._updateController=function(n,r,s){var l=n.coordinateSystem,u=this._controller,c=this._controllerHost;c.zoomLimit=n.get("scaleLimit"),c.zoom=l.getZoom(),u.enable(n.get("roam")||!1);var f=n.mainType;function d(){var v={type:"geoRoam",componentType:f};return v[f+"Id"]=n.id,v}u.off("pan").on("pan",function(v){this._mouseDownFlag=!1,updateViewOnPan(c,v.dx,v.dy),s.dispatchAction(extend(d(),{dx:v.dx,dy:v.dy,animation:{duration:0}}))},this),u.off("zoom").on("zoom",function(v){this._mouseDownFlag=!1,updateViewOnZoom(c,v.scale,v.originX,v.originY),s.dispatchAction(extend(d(),{zoom:v.scale,originX:v.originX,originY:v.originY,animation:{duration:0}}))},this),u.setPointerChecker(function(v,g,y){return l.containPoint([g,y])&&!onIrrelevantElement(v,s,n)})},a.prototype.resetForLabelLayout=function(){this.group.traverse(function(n){var r=n.getTextContent();r&&(r.ignore=mapLabelRaw(r).ignore)})},a.prototype._updateMapSelectHandler=function(n,r,s,l){var u=this;r.off("mousedown"),r.off("click"),n.get("selectedMode")&&(r.on("mousedown",function(){u._mouseDownFlag=!0}),r.on("click",function(c){!u._mouseDownFlag||(u._mouseDownFlag=!1)}))},a}();function applyOptionStyleForRegion(a,n,r,s){var l=s.getModel("itemStyle"),u=s.getModel(["emphasis","itemStyle"]),c=s.getModel(["blur","itemStyle"]),f=s.getModel(["select","itemStyle"]),d=getFixedItemStyle(l),v=getFixedItemStyle(u),g=getFixedItemStyle(f),y=getFixedItemStyle(c),_=a.data;if(_){var S=_.getItemVisual(r,"style"),x=_.getItemVisual(r,"decal");a.isVisualEncodedByVisualMap&&S.fill&&(d.fill=S.fill),x&&(d.decal=createOrUpdatePatternFromDecal(x,a.api))}n.setStyle(d),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=v,n.ensureState("select").style=g,n.ensureState("blur").style=y,setDefaultStateProxy(n)}function resetLabelForRegion(a,n,r,s,l,u,c){var f=a.data,d=a.isGeo,v=f&&isNaN(f.get(f.mapDimension("value"),u)),g=f&&f.getItemLayout(u);if(d||v||g&&g.showLabel){var y=d?r:u,_=void 0;(!f||u>=0)&&(_=l);var S=c?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(n,getLabelStatesModels(s),{labelFetcher:_,labelDataIndex:y,defaultText:r},S);var x=n.getTextContent();if(x&&(mapLabelRaw(x).ignore=x.ignore,n.textConfig&&c)){var A=n.getBoundingRect().clone();n.textConfig.layoutRect=A,n.textConfig.position=[(c[0]-A.x)/A.width*100+"%",(c[1]-A.y)/A.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function resetEventTriggerForRegion(a,n,r,s,l,u){a.data?a.data.setItemGraphicEl(u,n):getECData(n).eventData={componentType:"geo",componentIndex:l.componentIndex,geoIndex:l.componentIndex,name:r,region:s&&s.option||{}}}function resetTooltipForRegion(a,n,r,s,l){a.data||setTooltipConfig({el:n,componentModel:l,itemName:r,itemTooltipOption:s.get("tooltip")})}function resetStateTriggerForRegion(a,n,r,s,l){n.highDownSilentOnTouch=!!l.get("selectedMode");var u=s.getModel("emphasis"),c=u.get("focus");return toggleHoverEmphasis(n,c,u.get("blurScope"),u.get("disabled")),a.isGeo&&enableComponentHighDownFeatures(n,l,r),c}function projectPolys(a,n,r){var s=[],l;function u(){l=[]}function c(){l.length&&(s.push(l),l=[])}var f=n({polygonStart:u,polygonEnd:c,lineStart:u,lineEnd:c,point:function(d,v){isFinite(d)&&isFinite(v)&&l.push([d,v])},sphere:function(){}});return!r&&f.polygonStart(),each$f(a,function(d){f.lineStart();for(var v=0;v<d.length;v++)f.point(d[v][0],d[v][1]);f.lineEnd()}),!r&&f.polygonEnd(),s}const MapDraw$1=MapDraw;var MapView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l,u){if(!(u&&u.type==="mapToggleSelect"&&u.from===this.uid)){var c=this.group;if(c.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&u&&u.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),u&&u.type==="geoRoam"&&u.componentType==="series"&&u.seriesId===r.id){var f=this._mapDraw;f&&c.add(f.group)}else if(r.needsDrawMap){var f=this._mapDraw||new MapDraw$1(l);c.add(f.group),f.draw(r,s,l,this,u),this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&s.getComponent("legend")&&this._renderSymbols(r,s,l)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(r,s,l){var u=r.originalData,c=this.group;u.each(u.mapDimension("value"),function(f,d){if(!isNaN(f)){var v=u.getItemLayout(d);if(!(!v||!v.point)){var g=v.point,y=v.offset,_=new Circle$1({style:{fill:r.getData().getVisual("style").fill},shape:{cx:g[0]+y*9,cy:g[1],r:3},silent:!0,z2:8+(y?0:Z2_EMPHASIS_LIFT+1)});if(!y){var S=r.mainSeries.getData(),x=u.getName(d),A=S.indexOfName(x),b=u.getItemModel(d),w=b.getModel("label"),E=S.getItemGraphicEl(A);setLabelStyle(_,getLabelStatesModels(b),{labelFetcher:{getFormattedLabel:function(M,P){return r.getFormattedLabel(A,P)}},defaultText:x}),_.disableLabelAnimation=!0,w.get("position")||_.setTextConfig({position:"bottom"}),E.onHoverStateChange=function(M){setStatesFlag(_,M)}}c.add(_)}}})},n.type="map",n}(ChartView$1);const MapView$1=MapView;var MapSeries=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(s){if(s!=null){var l=this.getData().getName(s),u=this.coordinateSystem,c=u.getRegion(l);return c&&u.dataToPoint(c.getCenter())}},r}return n.prototype.getInitialData=function(r){for(var s=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),l=createHashMap(),u=[],c=0,f=s.count();c<f;c++){var d=s.getName(c);l.set(d,!0)}var v=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(v.regions,function(g){var y=g.name;l.get(y)||u.push(y)}),s.appendValues([],u),s},n.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(r){var s=this.getData();return s.get(s.mapDimension("value"),r)},n.prototype.getRegionModel=function(r){var s=this.getData();return s.getItemModel(s.indexOfName(r))},n.prototype.formatTooltip=function(r,s,l){for(var u=this.getData(),c=this.getRawValue(r),f=u.getName(r),d=this.seriesGroup,v=[],g=0;g<d.length;g++){var y=d[g].originalData.indexOfName(f),_=u.mapDimension("value");isNaN(d[g].originalData.get(_,y))||v.push(d[g].name)}return createTooltipMarkup("section",{header:v.join(", "),noHeader:!v.length,blocks:[createTooltipMarkup("nameValue",{name:f,value:c})]})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.getLegendIcon=function(r){var s=r.icon||"roundRect",l=createSymbol$1(s,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return l.setStyle(r.itemStyle),l.style.stroke="none",s.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),l},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},n}(SeriesModel$1);const MapSeries$1=MapSeries;function dataStatistics(a,n){var r={};return each$f(a,function(s){s.each(s.mapDimension("value"),function(l,u){var c="ec-"+s.getName(u);r[c]=r[c]||[],isNaN(l)||r[c].push(l)})}),a[0].map(a[0].mapDimension("value"),function(s,l){for(var u="ec-"+a[0].getName(l),c=0,f=1/0,d=-1/0,v=r[u].length,g=0;g<v;g++)f=Math.min(f,r[u][g]),d=Math.max(d,r[u][g]),c+=r[u][g];var y;return n==="min"?y=f:n==="max"?y=d:n==="average"?y=c/v:y=c,v===0?NaN:y})}function mapDataStatistic(a){var n={};a.eachSeriesByType("map",function(r){var s=r.getHostGeoModel(),l=s?"o"+s.id:"i"+r.getMapType();(n[l]=n[l]||[]).push(r)}),each$f(n,function(r,s){for(var l=dataStatistics(map$1(r,function(c){return c.getData()}),r[0].get("mapValueCalculation")),u=0;u<r.length;u++)r[u].originalData=r[u].getData();for(var u=0;u<r.length;u++)r[u].seriesGroup=r,r[u].needsDrawMap=u===0&&!r[u].getHostGeoModel(),r[u].setData(l.cloneShallow()),r[u].mainSeries=r[0]})}function mapSymbolLayout(a){var n={};a.eachSeriesByType("map",function(r){var s=r.getMapType();if(!(r.getHostGeoModel()||n[s])){var l={};each$f(r.seriesGroup,function(c){var f=c.coordinateSystem,d=c.originalData;c.get("showLegendSymbol")&&a.getComponent("legend")&&d.each(d.mapDimension("value"),function(v,g){var y=d.getName(g),_=f.getRegion(y);if(!(!_||isNaN(v))){var S=l[y]||0,x=f.dataToPoint(_.getCenter());l[y]=S+1,d.setItemLayout(g,{point:x,offset:S})}})});var u=r.getData();u.each(function(c){var f=u.getName(c),d=u.getItemLayout(c)||{};d.showLabel=!l[f],u.setItemLayout(c,d)}),n[s]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(a){__extends(n,a);function n(r){var s=a.call(this)||this;return s.type="view",s.dimensions=["x","y"],s._roamTransformable=new Transformable$1,s._rawTransformable=new Transformable$1,s.name=r,s}return n.prototype.setBoundingRect=function(r,s,l,u){return this._rect=new BoundingRect$1(r,s,l,u),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(r,s,l,u){this._transformTo(r,s,l,u),this._viewRect=new BoundingRect$1(r,s,l,u)},n.prototype._transformTo=function(r,s,l,u){var c=this.getBoundingRect(),f=this._rawTransformable;f.transform=c.calculateTransform(new BoundingRect$1(r,s,l,u));var d=f.parent;f.parent=null,f.decomposeTransform(),f.parent=d,this._updateTransform()},n.prototype.setCenter=function(r,s){!r||(this._center=[parsePercent(r[0],s.getWidth()),parsePercent(r[1],s.getHeight())],this._updateCenterAndZoom())},n.prototype.setZoom=function(r){r=r||1;var s=this.zoomLimit;s&&(s.max!=null&&(r=Math.min(s.max,r)),s.min!=null&&(r=Math.max(s.min,r))),this._zoom=r,this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),s=r.x+r.width/2,l=r.y+r.height/2;return[s,l]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),s=this._roamTransformable,l=this.getDefaultCenter(),u=this.getCenter(),c=this.getZoom();u=applyTransform$1([],u,r),l=applyTransform$1([],l,r),s.originX=u[0],s.originY=u[1],s.x=l[0]-u[0],s.y=l[1]-u[1],s.scaleX=s.scaleY=c,this._updateTransform()},n.prototype._updateTransform=function(){var r=this._roamTransformable,s=this._rawTransformable;s.parent=r,r.updateTransform(),s.updateTransform(),copy(this.transform||(this.transform=[]),s.transform||create$1()),this._rawTransform=s.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var r=this._rawTransformable,s=this._roamTransformable,l=new Transformable$1;return l.transform=s.transform,l.decomposeTransform(),{roam:{x:l.x,y:l.y,scaleX:l.scaleX,scaleY:l.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},n.prototype.dataToPoint=function(r,s,l){var u=s?this._rawTransform:this.transform;return l=l||[],u?v2ApplyTransform(l,r,u):copy$1(l,r)},n.prototype.pointToData=function(r){var s=this.invTransform;return s?v2ApplyTransform([],r,s):[r[0],r[1]]},n.prototype.convertToPixel=function(r,s,l){var u=getCoordSys$4(s);return u===this?u.dataToPoint(l):null},n.prototype.convertFromPixel=function(r,s,l){var u=getCoordSys$4(s);return u===this?u.pointToData(l):null},n.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},n.dimensions=["x","y"],n}(Transformable$1);function getCoordSys$4(a){var n=a.seriesModel;return n?n.coordinateSystem:null}const View$1=View;var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(a){__extends(n,a);function n(r,s,l){var u=a.call(this,r)||this;u.dimensions=geo2DDimensions,u.type="geo",u._nameCoordMap=createHashMap(),u.map=s;var c=l.projection,f=geoSourceManager.load(s,l.nameMap,l.nameProperty),d=geoSourceManager.getGeoResource(s);u.resourceType=d?d.type:null;var v=u.regions=f.regions,g=GEO_DEFAULT_PARAMS[d.type];u._regionsMap=f.regionsMap,u.regions=f.regions,u.projection=c;var y;if(c)for(var _=0;_<v.length;_++){var S=v[_].getBoundingRect(c);y=y||S.clone(),y.union(S)}else y=f.boundingRect;return u.setBoundingRect(y.x,y.y,y.width,y.height),u.aspectScale=c?1:retrieve2(l.aspectScale,g.aspectScale),u._invertLongitute=c?!1:g.invertLongitute,u}return n.prototype._transformTo=function(r,s,l,u){var c=this.getBoundingRect(),f=this._invertLongitute;c=c.clone(),f&&(c.y=-c.y-c.height);var d=this._rawTransformable;d.transform=c.calculateTransform(new BoundingRect$1(r,s,l,u));var v=d.parent;d.parent=null,d.decomposeTransform(),d.parent=v,f&&(d.scaleY=-d.scaleY),this._updateTransform()},n.prototype.getRegion=function(r){return this._regionsMap.get(r)},n.prototype.getRegionByCoord=function(r){for(var s=this.regions,l=0;l<s.length;l++){var u=s[l];if(u.type==="geoJSON"&&u.contain(r))return s[l]}},n.prototype.addGeoCoord=function(r,s){this._nameCoordMap.set(r,s)},n.prototype.getGeoCoord=function(r){var s=this._regionsMap.get(r);return this._nameCoordMap.get(r)||s&&s.getCenter()},n.prototype.dataToPoint=function(r,s,l){if(isString(r)&&(r=this.getGeoCoord(r)),r){var u=this.projection;return u&&(r=u.project(r)),r&&this.projectedToPoint(r,s,l)}},n.prototype.pointToData=function(r){var s=this.projection;return s&&(r=s.unproject(r)),r&&this.pointToProjected(r)},n.prototype.pointToProjected=function(r){return a.prototype.pointToData.call(this,r)},n.prototype.projectedToPoint=function(r,s,l){return a.prototype.dataToPoint.call(this,r,s,l)},n.prototype.convertToPixel=function(r,s,l){var u=getCoordSys$3(s);return u===this?u.dataToPoint(l):null},n.prototype.convertFromPixel=function(r,s,l){var u=getCoordSys$3(s);return u===this?u.pointToData(l):null},n}(View$1);mixin(Geo,View$1);function getCoordSys$3(a){var n=a.geoModel,r=a.seriesModel;return n?n.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}const Geo$1=Geo;function resizeGeo(a,n){var r=a.get("boundingCoords");if(r!=null){var s=r[0],l=r[1];if(isFinite(s[0])&&isFinite(s[1])&&isFinite(l[0])&&isFinite(l[1])){var u=this.projection;if(u){var c=s[0],f=s[1],d=l[0],v=l[1];s=[1/0,1/0],l=[-1/0,-1/0];var g=function(I,L,O,N){for(var B=O-I,F=N-L,V=0;V<=100;V++){var z=V/100,U=u.project([I+B*z,L+F*z]);min$1(s,s,U),max$1(l,l,U)}};g(c,f,d,f),g(d,f,d,v),g(d,v,c,v),g(c,v,d,f)}this.setBoundingRect(s[0],s[1],l[0]-s[0],l[1]-s[1])}}var y=this.getBoundingRect(),_=a.get("layoutCenter"),S=a.get("layoutSize"),x=n.getWidth(),A=n.getHeight(),b=y.width/y.height*this.aspectScale,w=!1,E,M;_&&S&&(E=[parsePercent(_[0],x),parsePercent(_[1],A)],M=parsePercent(S,Math.min(x,A)),!isNaN(E[0])&&!isNaN(E[1])&&!isNaN(M)&&(w=!0));var P;if(w)P={},b>1?(P.width=M,P.height=M/b):(P.height=M,P.width=M*b),P.y=E[1]-P.height/2,P.x=E[0]-P.width/2;else{var R=a.getBoxLayoutParams();R.aspect=b,P=getLayoutRect(R,{width:x,height:A})}this.setViewRect(P.x,P.y,P.width,P.height),this.setCenter(a.get("center"),n),this.setZoom(a.get("zoom"))}function setGeoCoords(a,n){each$f(n.get("geoCoord"),function(r,s){a.addGeoCoord(s,r)})}var GeoCreator=function(){function a(){this.dimensions=geo2DDimensions}return a.prototype.create=function(n,r){var s=[];function l(c){return{nameProperty:c.get("nameProperty"),aspectScale:c.get("aspectScale"),projection:c.get("projection")}}n.eachComponent("geo",function(c,f){var d=c.get("map"),v=new Geo$1(d+f,d,extend({nameMap:c.get("nameMap")},l(c)));v.zoomLimit=c.get("scaleLimit"),s.push(v),c.coordinateSystem=v,v.model=c,v.resize=resizeGeo,v.resize(c,r)}),n.eachSeries(function(c){var f=c.get("coordinateSystem");if(f==="geo"){var d=c.get("geoIndex")||0;c.coordinateSystem=s[d]}});var u={};return n.eachSeriesByType("map",function(c){if(!c.getHostGeoModel()){var f=c.getMapType();u[f]=u[f]||[],u[f].push(c)}}),each$f(u,function(c,f){var d=map$1(c,function(g){return g.get("nameMap")}),v=new Geo$1(f,f,extend({nameMap:mergeAll(d)},l(c[0])));v.zoomLimit=retrieve.apply(null,map$1(c,function(g){return g.get("scaleLimit")})),s.push(v),v.resize=resizeGeo,v.resize(c[0],r),each$f(c,function(g){g.coordinateSystem=v,setGeoCoords(v,g)})}),s},a.prototype.getFilledRegions=function(n,r,s,l){for(var u=(n||[]).slice(),c=createHashMap(),f=0;f<u.length;f++)c.set(u[f].name,u[f]);var d=geoSourceManager.load(r,s,l);return each$f(d.regions,function(v){var g=v.name;!c.get(g)&&u.push({name:g})}),u},a}(),geoCreator=new GeoCreator;const geoCreator$1=geoCreator;var GeoModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,s,l){var u=geoSourceManager.getGeoResource(r.map);if(u&&u.type==="geoJSON"){var c=r.itemStyle=r.itemStyle||{};"color"in c||(c.color="#eee")}this.mergeDefaultAndTheme(r,l),defaultEmphasis(r,"label",["show"])},n.prototype.optionUpdated=function(){var r=this,s=this.option;s.regions=geoCreator$1.getFilledRegions(s.regions,s.map,s.nameMap,s.nameProperty);var l={};this._optionModelMap=reduce(s.regions||[],function(u,c){var f=c.name;return f&&(u.set(f,new Model$1(c,r,r.ecModel)),c.selected&&(l[f]=!0)),u},createHashMap()),s.selectedMap||(s.selectedMap=l)},n.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new Model$1(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(r,s){var l=this.getRegionModel(r),u=s==="normal"?l.get(["label","formatter"]):l.get(["emphasis","label","formatter"]),c={name:r};if(isFunction(u))return c.status=s,u(c);if(isString(u))return u.replace("{a}",r!=null?r:"")},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.select=function(r){var s=this.option,l=s.selectedMode;if(!!l){l!=="multiple"&&(s.selectedMap=null);var u=s.selectedMap||(s.selectedMap={});u[r]=!0}},n.prototype.unSelect=function(r){var s=this.option.selectedMap;s&&(s[r]=!1)},n.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},n.prototype.isSelected=function(r){var s=this.option.selectedMap;return!!(s&&s[r])},n.type="geo",n.layoutMode="box",n.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},n}(ComponentModel$1);const GeoModel$1=GeoModel;function getCenterCoord(a,n){return a.pointToProjected?a.pointToProjected(n):a.pointToData(n)}function updateCenterAndZoom(a,n,r,s){var l=a.getZoom(),u=a.getCenter(),c=n.zoom,f=a.projectedToPoint?a.projectedToPoint(u):a.dataToPoint(u);if(n.dx!=null&&n.dy!=null&&(f[0]-=n.dx,f[1]-=n.dy,a.setCenter(getCenterCoord(a,f),s)),c!=null){if(r){var d=r.min||0,v=r.max||1/0;c=Math.max(Math.min(l*c,v),d)/l}a.scaleX*=c,a.scaleY*=c;var g=(n.originX-a.x)*(c-1),y=(n.originY-a.y)*(c-1);a.x-=g,a.y-=y,a.updateTransform(),a.setCenter(getCenterCoord(a,f),s),a.setZoom(c*l)}return{center:a.getCenter(),zoom:a.getZoom()}}var GeoView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.focusBlurEnabled=!0,r}return n.prototype.init=function(r,s){this._api=s},n.prototype.render=function(r,s,l,u){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw$1(l));var c=this._mapDraw;c.draw(r,s,l,this,u),c.group.on("click",this._handleRegionClick,this),c.group.silent=r.get("silent"),this.group.add(c.group),this.updateSelectStatus(r,s,l)},n.prototype._handleRegionClick=function(r){var s;findEventDispatcher(r.target,function(l){return(s=getECData(l).eventData)!=null},!0),s&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:s.name})},n.prototype.updateSelectStatus=function(r,s,l){var u=this;this._mapDraw.group.traverse(function(c){var f=getECData(c).eventData;if(f)return u._model.isSelected(f.name)?l.enterSelect(c):l.leaveSelect(c),!0})},n.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type="geo",n}(ComponentView$1);const GeoView$1=GeoView;function registerMap(a,n,r){geoSourceManager.registerMap(a,n,r)}function install$J(a){a.registerCoordinateSystem("geo",geoCreator$1),a.registerComponentModel(GeoModel$1),a.registerComponentView(GeoView$1),a.registerImpl("registerMap",registerMap),a.registerImpl("getMap",function(r){return geoSourceManager.getMapForUser(r)});function n(r,s){s.update="geo:updateSelectStatus",a.registerAction(s,function(l,u){var c={},f=[];return u.eachComponent({mainType:"geo",query:l},function(d){d[r](l.name);var v=d.coordinateSystem;each$f(v.regions,function(y){c[y.name]=d.isSelected(y.name)||!1});var g=[];each$f(c,function(y,_){c[_]&&g.push(_)}),f.push({geoIndex:d.componentIndex,name:g})}),{selected:c,allSelected:f,name:l.name}})}n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),a.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,s,l){var u=r.componentType||"series";s.eachComponent({mainType:u,query:r},function(c){var f=c.coordinateSystem;if(f.type==="geo"){var d=updateCenterAndZoom(f,r,c.get("scaleLimit"),l);c.setCenter&&c.setCenter(d.center),c.setZoom&&c.setZoom(d.zoom),u==="series"&&each$f(c.seriesGroup,function(v){v.setCenter(d.center),v.setZoom(d.zoom)})}})})}function install$I(a){use(install$J),a.registerChartView(MapView$1),a.registerSeriesModel(MapSeries$1),a.registerLayout(mapSymbolLayout),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",a.registerAction)}function init(a){var n=a;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[n],s,l;s=r.pop();)if(l=s.children,s.isExpand&&l.length)for(var u=l.length,c=u-1;c>=0;c--){var f=l[c];f.hierNode={defaultAncestor:null,ancestor:f,prelim:0,modifier:0,change:0,shift:0,i:c,thread:null},r.push(f)}}function firstWalk(a,n){var r=a.isExpand?a.children:[],s=a.parentNode.children,l=a.hierNode.i?s[a.hierNode.i-1]:null;if(r.length){executeShifts(a);var u=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;l?(a.hierNode.prelim=l.hierNode.prelim+n(a,l),a.hierNode.modifier=a.hierNode.prelim-u):a.hierNode.prelim=u}else l&&(a.hierNode.prelim=l.hierNode.prelim+n(a,l));a.parentNode.hierNode.defaultAncestor=apportion(a,l,a.parentNode.hierNode.defaultAncestor||s[0],n)}function secondWalk(a){var n=a.hierNode.prelim+a.parentNode.hierNode.modifier;a.setLayout({x:n},!0),a.hierNode.modifier+=a.parentNode.hierNode.modifier}function separation(a){return arguments.length?a:defaultSeparation}function radialCoordinate(a,n){return a-=Math.PI/2,{x:n*Math.cos(a),y:n*Math.sin(a)}}function getViewRect$4(a,n){return getLayoutRect(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function executeShifts(a){for(var n=a.children,r=n.length,s=0,l=0;--r>=0;){var u=n[r];u.hierNode.prelim+=s,u.hierNode.modifier+=s,l+=u.hierNode.change,s+=u.hierNode.shift+l}}function apportion(a,n,r,s){if(n){for(var l=a,u=a,c=u.parentNode.children[0],f=n,d=l.hierNode.modifier,v=u.hierNode.modifier,g=c.hierNode.modifier,y=f.hierNode.modifier;f=nextRight(f),u=nextLeft(u),f&&u;){l=nextRight(l),c=nextLeft(c),l.hierNode.ancestor=a;var _=f.hierNode.prelim+y-u.hierNode.prelim-v+s(f,u);_>0&&(moveSubtree(nextAncestor(f,a,r),a,_),v+=_,d+=_),y+=f.hierNode.modifier,v+=u.hierNode.modifier,d+=l.hierNode.modifier,g+=c.hierNode.modifier}f&&!nextRight(l)&&(l.hierNode.thread=f,l.hierNode.modifier+=y-d),u&&!nextLeft(c)&&(c.hierNode.thread=u,c.hierNode.modifier+=v-g,r=a)}return r}function nextRight(a){var n=a.children;return n.length&&a.isExpand?n[n.length-1]:a.hierNode.thread}function nextLeft(a){var n=a.children;return n.length&&a.isExpand?n[0]:a.hierNode.thread}function nextAncestor(a,n,r){return a.hierNode.ancestor.parentNode===n.parentNode?a.hierNode.ancestor:r}function moveSubtree(a,n,r){var s=r/(n.hierNode.i-a.hierNode.i);n.hierNode.change-=s,n.hierNode.shift+=r,n.hierNode.modifier+=r,n.hierNode.prelim+=r,a.hierNode.change+=s}function defaultSeparation(a,n){return a.parentNode===n.parentNode?1:2}var TreeEdgeShape=function(){function a(){this.parentPoint=[],this.childPoints=[]}return a}(),TreePath=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new TreeEdgeShape},n.prototype.buildPath=function(r,s){var l=s.childPoints,u=l.length,c=s.parentPoint,f=l[0],d=l[u-1];if(u===1){r.moveTo(c[0],c[1]),r.lineTo(f[0],f[1]);return}var v=s.orient,g=v==="TB"||v==="BT"?0:1,y=1-g,_=parsePercent(s.forkPosition,1),S=[];S[g]=c[g],S[y]=c[y]+(d[y]-c[y])*_,r.moveTo(c[0],c[1]),r.lineTo(S[0],S[1]),r.moveTo(f[0],f[1]),S[g]=f[g],r.lineTo(S[0],S[1]),S[g]=d[g],r.lineTo(S[0],S[1]),r.lineTo(d[0],d[1]);for(var x=1;x<u-1;x++){var A=l[x];r.moveTo(A[0],A[1]),S[g]=A[g],r.lineTo(S[0],S[1])}},n}(Path$1),TreeView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._mainGroup=new Group$4,r}return n.prototype.init=function(r,s){this._controller=new RoamController$1(s.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(r,s,l){var u=r.getData(),c=r.layoutInfo,f=this._mainGroup,d=r.get("layout");d==="radial"?(f.x=c.x+c.width/2,f.y=c.y+c.height/2):(f.x=c.x,f.y=c.y),this._updateViewCoordSys(r,l),this._updateController(r,s,l);var v=this._data;u.diff(v).add(function(g){symbolNeedsDraw(u,g)&&updateNode(u,g,null,f,r)}).update(function(g,y){var _=v.getItemGraphicEl(y);if(!symbolNeedsDraw(u,g)){_&&removeNode(v,y,_,f,r);return}updateNode(u,g,_,f,r)}).remove(function(g){var y=v.getItemGraphicEl(g);y&&removeNode(v,g,y,f,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&u.eachItemGraphicEl(function(g,y){g.off("click").on("click",function(){l.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:y})})}),this._data=u},n.prototype._updateViewCoordSys=function(r,s){var l=r.getData(),u=[];l.each(function(y){var _=l.getItemLayout(y);_&&!isNaN(_.x)&&!isNaN(_.y)&&u.push([+_.x,+_.y])});var c=[],f=[];fromPoints(u,c,f);var d=this._min,v=this._max;f[0]-c[0]===0&&(c[0]=d?d[0]:c[0]-1,f[0]=v?v[0]:f[0]+1),f[1]-c[1]===0&&(c[1]=d?d[1]:c[1]-1,f[1]=v?v[1]:f[1]+1);var g=r.coordinateSystem=new View$1;g.zoomLimit=r.get("scaleLimit"),g.setBoundingRect(c[0],c[1],f[0]-c[0],f[1]-c[1]),g.setCenter(r.get("center"),s),g.setZoom(r.get("zoom")),this.group.attr({x:g.x,y:g.y,scaleX:g.scaleX,scaleY:g.scaleY}),this._min=c,this._max=f},n.prototype._updateController=function(r,s,l){var u=this,c=this._controller,f=this._controllerHost,d=this.group;c.setPointerChecker(function(v,g,y){var _=d.getBoundingRect();return _.applyTransform(d.transform),_.contain(g,y)&&!onIrrelevantElement(v,l,r)}),c.enable(r.get("roam")),f.zoomLimit=r.get("scaleLimit"),f.zoom=r.coordinateSystem.getZoom(),c.off("pan").off("zoom").on("pan",function(v){updateViewOnPan(f,v.dx,v.dy),l.dispatchAction({seriesId:r.id,type:"treeRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){updateViewOnZoom(f,v.scale,v.originX,v.originY),l.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),u._updateNodeAndLinkScale(r),l.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(r){var s=r.getData(),l=this._getNodeGlobalScale(r);s.eachItemGraphicEl(function(u,c){u.setSymbolScale(l)})},n.prototype._getNodeGlobalScale=function(r){var s=r.coordinateSystem;if(s.type!=="view")return 1;var l=this._nodeScaleRatio,u=s.scaleX||1,c=s.getZoom(),f=(c-1)*l+1;return f/u},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type="tree",n}(ChartView$1);function symbolNeedsDraw(a,n){var r=a.getItemLayout(n);return r&&!isNaN(r.x)&&!isNaN(r.y)}function updateNode(a,n,r,s,l){var u=!r,c=a.tree.getNodeByDataIndex(n),f=c.getModel(),d=c.getVisual("style").fill,v=c.isExpand===!1&&c.children.length!==0?d:"#fff",g=a.tree.root,y=c.parentNode===g?c:c.parentNode||c,_=a.getItemGraphicEl(y.dataIndex),S=y.getLayout(),x=_?{x:_.__oldX,y:_.__oldY,rawX:_.__radialOldRawX,rawY:_.__radialOldRawY}:S,A=c.getLayout();u?(r=new SymbolClz(a,n,null,{symbolInnerColor:v,useNameLabel:!0}),r.x=x.x,r.y=x.y):r.updateData(a,n,null,{symbolInnerColor:v,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=A.rawX,r.__radialRawY=A.rawY,s.add(r),a.setItemGraphicEl(n,r),r.__oldX=r.x,r.__oldY=r.y,updateProps$1(r,{x:A.x,y:A.y},l);var b=r.getSymbolPath();if(l.get("layout")==="radial"){var w=g.children[0],E=w.getLayout(),M=w.children.length,P=void 0,R=void 0;if(A.x===E.x&&c.isExpand===!0&&w.children.length){var I={x:(w.children[0].getLayout().x+w.children[M-1].getLayout().x)/2,y:(w.children[0].getLayout().y+w.children[M-1].getLayout().y)/2};P=Math.atan2(I.y-E.y,I.x-E.x),P<0&&(P=Math.PI*2+P),R=I.x<E.x,R&&(P=P-Math.PI)}else P=Math.atan2(A.y-E.y,A.x-E.x),P<0&&(P=Math.PI*2+P),c.children.length===0||c.children.length!==0&&c.isExpand===!1?(R=A.x<E.x,R&&(P=P-Math.PI)):(R=A.x>E.x,R||(P=P-Math.PI));var L=R?"left":"right",O=f.getModel("label"),N=O.get("rotate"),B=N*(Math.PI/180),F=b.getTextContent();F&&(b.setTextConfig({position:O.get("position")||L,rotation:N==null?-P:B,origin:"center"}),F.setStyle("verticalAlign","middle"))}var V=f.get(["emphasis","focus"]),z=V==="relative"?concatArray(c.getAncestorsIndices(),c.getDescendantIndices()):V==="ancestor"?c.getAncestorsIndices():V==="descendant"?c.getDescendantIndices():null;z&&(getECData(r).focus=z),drawEdge(l,c,g,r,x,S,A,s),r.__edge&&(r.onHoverStateChange=function(U){if(U!=="blur"){var Y=c.parentNode&&a.getItemGraphicEl(c.parentNode.dataIndex);Y&&Y.hoverState===HOVER_STATE_BLUR||setStatesFlag(r.__edge,U)}})}function drawEdge(a,n,r,s,l,u,c,f){var d=n.getModel(),v=a.get("edgeShape"),g=a.get("layout"),y=a.getOrient(),_=a.get(["lineStyle","curveness"]),S=a.get("edgeForkPosition"),x=d.getModel("lineStyle").getLineStyle(),A=s.__edge;if(v==="curve")n.parentNode&&n.parentNode!==r&&(A||(A=s.__edge=new BezierCurve$1({shape:getEdgeShape(g,y,_,l,l)})),updateProps$1(A,{shape:getEdgeShape(g,y,_,u,c)},a));else if(v==="polyline"&&g==="orthogonal"&&n!==r&&n.children&&n.children.length!==0&&n.isExpand===!0){for(var b=n.children,w=[],E=0;E<b.length;E++){var M=b[E].getLayout();w.push([M.x,M.y])}A||(A=s.__edge=new TreePath({shape:{parentPoint:[c.x,c.y],childPoints:[[c.x,c.y]],orient:y,forkPosition:S}})),updateProps$1(A,{shape:{parentPoint:[c.x,c.y],childPoints:w}},a)}A&&!(v==="polyline"&&!n.isExpand)&&(A.useStyle(defaults({strokeNoScale:!0,fill:null},x)),setStatesStylesFromModel(A,d,"lineStyle"),setDefaultStateProxy(A),f.add(A))}function removeNodeEdge(a,n,r,s,l){var u=n.tree.root,c=getSourceNode(u,a),f=c.source,d=c.sourceLayout,v=n.getItemGraphicEl(a.dataIndex);if(!!v){var g=n.getItemGraphicEl(f.dataIndex),y=g.__edge,_=v.__edge||(f.isExpand===!1||f.children.length===1?y:void 0),S=s.get("edgeShape"),x=s.get("layout"),A=s.get("orient"),b=s.get(["lineStyle","curveness"]);_&&(S==="curve"?removeElement(_,{shape:getEdgeShape(x,A,b,d,d),style:{opacity:0}},s,{cb:function(){r.remove(_)},removeOpt:l}):S==="polyline"&&s.get("layout")==="orthogonal"&&removeElement(_,{shape:{parentPoint:[d.x,d.y],childPoints:[[d.x,d.y]]},style:{opacity:0}},s,{cb:function(){r.remove(_)},removeOpt:l}))}}function getSourceNode(a,n){for(var r=n.parentNode===a?n:n.parentNode||n,s;s=r.getLayout(),s==null;)r=r.parentNode===a?r:r.parentNode||r;return{source:r,sourceLayout:s}}function removeNode(a,n,r,s,l){var u=a.tree.getNodeByDataIndex(n),c=a.tree.root,f=getSourceNode(c,u).sourceLayout,d={duration:l.get("animationDurationUpdate"),easing:l.get("animationEasingUpdate")};removeElement(r,{x:f.x+1,y:f.y+1},l,{cb:function(){s.remove(r),a.setItemGraphicEl(n,null)},removeOpt:d}),r.fadeOut(null,a.hostModel,{fadeLabel:!0,animation:d}),u.children.forEach(function(v){removeNodeEdge(v,a,s,l,d)}),removeNodeEdge(u,a,s,l,d)}function getEdgeShape(a,n,r,s,l){var u,c,f,d,v,g,y,_;if(a==="radial"){v=s.rawX,y=s.rawY,g=l.rawX,_=l.rawY;var S=radialCoordinate(v,y),x=radialCoordinate(v,y+(_-y)*r),A=radialCoordinate(g,_+(y-_)*r),b=radialCoordinate(g,_);return{x1:S.x||0,y1:S.y||0,x2:b.x||0,y2:b.y||0,cpx1:x.x||0,cpy1:x.y||0,cpx2:A.x||0,cpy2:A.y||0}}else v=s.x,y=s.y,g=l.x,_=l.y,(n==="LR"||n==="RL")&&(u=v+(g-v)*r,c=y,f=g+(v-g)*r,d=_),(n==="TB"||n==="BT")&&(u=v,c=y+(_-y)*r,f=g,d=_+(y-_)*r);return{x1:v,y1:y,x2:g,y2:_,cpx1:u,cpy1:c,cpx2:f,cpy2:d}}const TreeView$1=TreeView;var inner$e=makeInner();function linkSeriesData(a){var n=a.mainData,r=a.datas;r||(r={main:n},a.datasAttr={main:"data"}),a.datas=a.mainData=null,linkAll(n,r,a),each$f(r,function(s){each$f(n.TRANSFERABLE_METHODS,function(l){s.wrapMethod(l,curry$1(transferInjection,a))})}),n.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,a)),each$f(n.CHANGABLE_METHODS,function(s){n.wrapMethod(s,curry$1(changeInjection,a))}),assert(r[n.dataType]===n)}function transferInjection(a,n){if(isMainData(this)){var r=extend({},inner$e(this).datas);r[this.dataType]=n,linkAll(n,r,a)}else linkSingle(n,this.dataType,inner$e(this).mainData,a);return n}function changeInjection(a,n){return a.struct&&a.struct.update(),n}function cloneShallowInjection(a,n){return each$f(inner$e(n).datas,function(r,s){r!==n&&linkSingle(r.cloneShallow(),s,n,a)}),n}function getLinkedData(a){var n=inner$e(this).mainData;return a==null||n==null?n:inner$e(n).datas[a]}function getLinkedDataAll(){var a=inner$e(this).mainData;return a==null?[{data:a}]:map$1(keys(inner$e(a).datas),function(n){return{type:n,data:inner$e(a).datas[n]}})}function isMainData(a){return inner$e(a).mainData===a}function linkAll(a,n,r){inner$e(a).datas={},each$f(n,function(s,l){linkSingle(s,l,a,r)})}function linkSingle(a,n,r,s){inner$e(r).datas[n]=a,inner$e(a).mainData=r,a.dataType=n,s.struct&&(a[s.structAttr]=s.struct,s.struct[s.datasAttr[n]]=a),a.getLinkedData=getLinkedData,a.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function a(n,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=n||"",this.hostTree=r}return a.prototype.isRemoved=function(){return this.dataIndex<0},a.prototype.eachNode=function(n,r,s){isFunction(n)&&(s=r,r=n,n=null),n=n||{},isString(n)&&(n={order:n});var l=n.order||"preorder",u=this[n.attr||"children"],c;l==="preorder"&&(c=r.call(s,this));for(var f=0;!c&&f<u.length;f++)u[f].eachNode(n,r,s);l==="postorder"&&r.call(s,this)},a.prototype.updateDepthAndHeight=function(n){var r=0;this.depth=n;for(var s=0;s<this.children.length;s++){var l=this.children[s];l.updateDepthAndHeight(n+1),l.height>r&&(r=l.height)}this.height=r+1},a.prototype.getNodeById=function(n){if(this.getId()===n)return this;for(var r=0,s=this.children,l=s.length;r<l;r++){var u=s[r].getNodeById(n);if(u)return u}},a.prototype.contains=function(n){if(n===this)return!0;for(var r=0,s=this.children,l=s.length;r<l;r++){var u=s[r].contains(n);if(u)return u}},a.prototype.getAncestors=function(n){for(var r=[],s=n?this:this.parentNode;s;)r.push(s),s=s.parentNode;return r.reverse(),r},a.prototype.getAncestorsIndices=function(){for(var n=[],r=this;r;)n.push(r.dataIndex),r=r.parentNode;return n.reverse(),n},a.prototype.getDescendantIndices=function(){var n=[];return this.eachNode(function(r){n.push(r.dataIndex)}),n},a.prototype.getValue=function(n){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},a.prototype.setLayout=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,r)},a.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},a.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostTree,s=r.data.getItemModel(this.dataIndex);return s.getModel(n)}},a.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},a.prototype.setVisual=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,r)},a.prototype.getVisual=function(n){return this.hostTree.data.getItemVisual(this.dataIndex,n)},a.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},a.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},a.prototype.getChildIndex=function(){if(this.parentNode){for(var n=this.parentNode.children,r=0;r<n.length;++r)if(n[r]===this)return r;return-1}return-1},a.prototype.isAncestorOf=function(n){for(var r=n.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},a.prototype.isDescendantOf=function(n){return n!==this&&n.isAncestorOf(this)},a}(),Tree=function(){function a(n){this.type="tree",this._nodes=[],this.hostModel=n}return a.prototype.eachNode=function(n,r,s){this.root.eachNode(n,r,s)},a.prototype.getNodeByDataIndex=function(n){var r=this.data.getRawIndex(n);return this._nodes[r]},a.prototype.getNodeById=function(n){return this.root.getNodeById(n)},a.prototype.update=function(){for(var n=this.data,r=this._nodes,s=0,l=r.length;s<l;s++)r[s].dataIndex=-1;for(var s=0,l=n.count();s<l;s++)r[n.getRawIndex(s)].dataIndex=s},a.prototype.clearLayouts=function(){this.data.clearItemLayouts()},a.createTree=function(n,r,s){var l=new a(r),u=[],c=1;f(n);function f(g,y){var _=g.value;c=Math.max(c,isArray$2(_)?_.length:1),u.push(g);var S=new TreeNode(convertOptionIdName(g.name,""),l);y?addChild(S,y):l.root=S,l._nodes.push(S);var x=g.children;if(x)for(var A=0;A<x.length;A++)f(x[A],S)}l.root.updateDepthAndHeight(0);var d=prepareSeriesDataSchema(u,{coordDimensions:["value"],dimensionsCount:c}).dimensions,v=new SeriesData$1(d,r);return v.initData(u),s&&s(v),linkSeriesData({mainData:v,struct:l,structAttr:"tree"}),l.update(),l},a}();function addChild(a,n){var r=n.children;a.parentNode!==n&&(r.push(a),a.parentNode=n)}const Tree$1=Tree;function retrieveTargetInfo(a,n,r){if(a&&indexOf(n,a.type)>=0){var s=r.getData().tree.root,l=a.targetNode;if(isString(l)&&(l=s.getNodeById(l)),l&&s.contains(l))return{node:l};var u=a.targetNodeId;if(u!=null&&(l=s.getNodeById(u)))return{node:l}}}function getPathToRoot(a){for(var n=[];a;)a=a.parentNode,a&&n.push(a);return n.reverse()}function aboveViewRoot(a,n){var r=getPathToRoot(a);return indexOf(r,n)>=0}function wrapTreePathInfo(a,n){for(var r=[];a;){var s=a.dataIndex;r.push({name:a.name,dataIndex:s,value:n.getRawValue(s)}),a=a.parentNode}return r.reverse(),r}var TreeSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r){var s={name:r.name,children:r.data},l=r.leaves||{},u=new Model$1(l,this,this.ecModel),c=Tree$1.createTree(s,this,f);function f(y){y.wrapMethod("getItemModel",function(_,S){var x=c.getNodeByDataIndex(S);return x&&x.children.length&&x.isExpand||(_.parentModel=u),_})}var d=0;c.eachNode("preorder",function(y){y.depth>d&&(d=y.depth)});var v=r.expandAndCollapse,g=v&&r.initialTreeDepth>=0?r.initialTreeDepth:d;return c.root.eachNode("preorder",function(y){var _=y.hostTree.data.getRawDataItem(y.dataIndex);y.isExpand=_&&_.collapsed!=null?!_.collapsed:y.depth<=g}),c.data},n.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.formatTooltip=function(r,s,l){for(var u=this.getData().tree,c=u.root.children[0],f=u.getNodeByDataIndex(r),d=f.getValue(),v=f.name;f&&f!==c;)v=f.parentNode.name+"."+v,f=f.parentNode;return createTooltipMarkup("nameValue",{name:v,value:d,noValue:isNaN(d)||d==null})},n.prototype.getDataParams=function(r){var s=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(r);return s.treeAncestors=wrapTreePathInfo(l,this),s.collapsed=!l.isExpand,s},n.type="series.tree",n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n}(SeriesModel$1);const TreeSeriesModel$1=TreeSeriesModel;function eachAfter(a,n,r){for(var s=[a],l=[],u;u=s.pop();)if(l.push(u),u.isExpand){var c=u.children;if(c.length)for(var f=0;f<c.length;f++)s.push(c[f])}for(;u=l.pop();)n(u,r)}function eachBefore(a,n){for(var r=[a],s;s=r.pop();)if(n(s),s.isExpand){var l=s.children;if(l.length)for(var u=l.length-1;u>=0;u--)r.push(l[u])}}function treeLayout(a,n){a.eachSeriesByType("tree",function(r){commonLayout(r,n)})}function commonLayout(a,n){var r=getViewRect$4(a,n);a.layoutInfo=r;var s=a.get("layout"),l=0,u=0,c=null;s==="radial"?(l=2*Math.PI,u=Math.min(r.height,r.width)/2,c=separation(function(M,P){return(M.parentNode===P.parentNode?1:2)/M.depth})):(l=r.width,u=r.height,c=separation());var f=a.getData().tree.root,d=f.children[0];if(d){init(f),eachAfter(d,firstWalk,c),f.hierNode.modifier=-d.hierNode.prelim,eachBefore(d,secondWalk);var v=d,g=d,y=d;eachBefore(d,function(M){var P=M.getLayout().x;P<v.getLayout().x&&(v=M),P>g.getLayout().x&&(g=M),M.depth>y.depth&&(y=M)});var _=v===g?1:c(v,g)/2,S=_-v.getLayout().x,x=0,A=0,b=0,w=0;if(s==="radial")x=l/(g.getLayout().x+_+S),A=u/(y.depth-1||1),eachBefore(d,function(M){b=(M.getLayout().x+S)*x,w=(M.depth-1)*A;var P=radialCoordinate(b,w);M.setLayout({x:P.x,y:P.y,rawX:b,rawY:w},!0)});else{var E=a.getOrient();E==="RL"||E==="LR"?(A=u/(g.getLayout().x+_+S),x=l/(y.depth-1||1),eachBefore(d,function(M){w=(M.getLayout().x+S)*A,b=E==="LR"?(M.depth-1)*x:l-(M.depth-1)*x,M.setLayout({x:b,y:w},!0)})):(E==="TB"||E==="BT")&&(x=l/(g.getLayout().x+_+S),A=u/(y.depth-1||1),eachBefore(d,function(M){b=(M.getLayout().x+S)*x,w=E==="TB"?(M.depth-1)*A:u-(M.depth-1)*A,M.setLayout({x:b,y:w},!0)}))}}}function treeVisual(a){a.eachSeriesByType("tree",function(n){var r=n.getData(),s=r.tree;s.eachNode(function(l){var u=l.getModel(),c=u.getModel("itemStyle").getItemStyle(),f=r.ensureUniqueItemVisual(l.dataIndex,"style");extend(f,c)})})}function installTreeAction(a){a.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"tree",query:n},function(s){var l=n.dataIndex,u=s.getData().tree,c=u.getNodeByDataIndex(l);c.isExpand=!c.isExpand})}),a.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(n,r,s){r.eachComponent({mainType:"series",subType:"tree",query:n},function(l){var u=l.coordinateSystem,c=updateCenterAndZoom(u,n,void 0,s);l.setCenter&&l.setCenter(c.center),l.setZoom&&l.setZoom(c.zoom)})})}function install$H(a){a.registerChartView(TreeView$1),a.registerSeriesModel(TreeSeriesModel$1),a.registerLayout(treeLayout),a.registerVisual(treeVisual),installTreeAction(a)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(a){for(var n=0;n<actionTypes.length;n++)a.registerAction({type:actionTypes[n],update:"updateView"},noop$1);a.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,s){s.eachComponent({mainType:"series",subType:"treemap",query:r},l);function l(u,c){var f=["treemapZoomToNode","treemapRootToNode"],d=retrieveTargetInfo(r,f,u);if(d){var v=u.getViewRoot();v&&(r.direction=aboveViewRoot(v,d.node)?"rollUp":"drillDown"),u.resetViewRoot(d.node)}}})}function enableAriaDecalForTree(a){var n=a.getData(),r=n.tree,s={};r.eachNode(function(l){for(var u=l;u&&u.depth>1;)u=u.parentNode;var c=getDecalFromPalette(a.ecModel,u.name||u.dataIndex+"",s);l.setVisual("decal",c)})}var TreemapSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.preventUsingHoverLayer=!0,r}return n.prototype.getInitialData=function(r,s){var l={name:r.name,children:r.data};completeTreeValue$1(l);var u=r.levels||[],c=this.designatedVisualItemStyle={},f=new Model$1({itemStyle:c},this,s);u=r.levels=setDefault(u,s);var d=map$1(u||[],function(y){return new Model$1(y,f,s)},this),v=Tree$1.createTree(l,this,g);function g(y){y.wrapMethod("getItemModel",function(_,S){var x=v.getNodeByDataIndex(S),A=x?d[x.depth]:null;return _.parentModel=A||f,_})}return v.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(r,s,l){var u=this.getData(),c=this.getRawValue(r),f=u.getName(r);return createTooltipMarkup("nameValue",{name:f,value:c})},n.prototype.getDataParams=function(r){var s=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(r);return s.treeAncestors=wrapTreePathInfo(l,this),s.treePathInfo=s.treeAncestors,s},n.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,r)},n.prototype.mapIdToIndex=function(r){var s=this._idIndexMap;s||(s=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var l=s.get(r);return l==null&&s.set(r,l=this._idIndexMapCount++),l},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var s=this.getRawData().tree.root;(!r||r!==s&&!s.contains(r))&&(this._viewRoot=s)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25B6",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n}(SeriesModel$1);function completeTreeValue$1(a){var n=0;each$f(a.children,function(s){completeTreeValue$1(s);var l=s.value;isArray$2(l)&&(l=l[0]),n+=l});var r=a.value;isArray$2(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$2(a.value)?a.value[0]=r:a.value=r}function setDefault(a,n){var r=normalizeToArray(n.get("color")),s=normalizeToArray(n.get(["aria","decal","decals"]));if(!!r){a=a||[];var l,u;each$f(a,function(f){var d=new Model$1(f),v=d.get("color"),g=d.get("decal");(d.get(["itemStyle","color"])||v&&v!=="none")&&(l=!0),(d.get(["itemStyle","decal"])||g&&g!=="none")&&(u=!0)});var c=a[0]||(a[0]={});return l||(c.color=r.slice()),!u&&s&&(c.decal=s.slice()),a}}const TreemapSeriesModel$1=TreemapSeriesModel;var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function a(n){this.group=new Group$4,n.add(this.group)}return a.prototype.render=function(n,r,s,l){var u=n.getModel("breadcrumb"),c=this.group;if(c.removeAll(),!(!u.get("show")||!s)){var f=u.getModel("itemStyle"),d=u.getModel("emphasis"),v=f.getModel("textStyle"),g=d.getModel(["itemStyle","textStyle"]),y={pos:{left:u.get("left"),right:u.get("right"),top:u.get("top"),bottom:u.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:u.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(s,y,v),this._renderContent(n,y,f,d,v,g,l),positionElement(c,y.pos,y.box)}},a.prototype._prepare=function(n,r,s){for(var l=n;l;l=l.parentNode){var u=convertOptionIdName(l.getModel().get("name"),""),c=s.getTextRect(u),f=Math.max(c.width+TEXT_PADDING*2,r.emptyItemWidth);r.totalWidth+=f+ITEM_GAP,r.renderList.push({node:l,text:u,width:f})}},a.prototype._renderContent=function(n,r,s,l,u,c,f){for(var d=0,v=r.emptyItemWidth,g=n.get(["breadcrumb","height"]),y=getAvailableSize(r.pos,r.box),_=r.totalWidth,S=r.renderList,x=l.getModel("itemStyle").getItemStyle(),A=S.length-1;A>=0;A--){var b=S[A],w=b.node,E=b.width,M=b.text;_>y.width&&(_-=E-v,E=v,M=null);var P=new Polygon$1({shape:{points:makeItemPoints(d,0,E,g,A===S.length-1,A===0)},style:defaults(s.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText$1({style:createTextStyle(u,{text:M})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(f,w)});P.disableLabelAnimation=!0,P.getTextContent().ensureState("emphasis").style=createTextStyle(c,{text:M}),P.ensureState("emphasis").style=x,toggleHoverEmphasis(P,l.get("focus"),l.get("blurScope"),l.get("disabled")),this.group.add(P),packEventData(P,n,w),d+=E+ITEM_GAP}},a.prototype.remove=function(){this.group.removeAll()},a}();function makeItemPoints(a,n,r,s,l,u){var c=[[l?a:a-ARRAY_LENGTH,n],[a+r,n],[a+r,n+s],[l?a:a-ARRAY_LENGTH,n+s]];return!u&&c.splice(2,0,[a+r+ARRAY_LENGTH,n+s/2]),!l&&c.push([a,n+s/2]),c}function packEventData(a,n,r){getECData(a).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&wrapTreePathInfo(r,n)}}const Breadcrumb$1=Breadcrumb;var AnimationWrap=function(){function a(){this._storage=[],this._elExistsMap={}}return a.prototype.add=function(n,r,s,l,u){return this._elExistsMap[n.id]?!1:(this._elExistsMap[n.id]=!0,this._storage.push({el:n,target:r,duration:s,delay:l,easing:u}),!0)},a.prototype.finished=function(n){return this._finishedCallback=n,this},a.prototype.start=function(){for(var n=this,r=this._storage.length,s=function(){r--,r<=0&&(n._storage.length=0,n._elExistsMap={},n._finishedCallback&&n._finishedCallback())},l=0,u=this._storage.length;l<u;l++){var c=this._storage[l];c.el.animateTo(c.target,{duration:c.duration,delay:c.delay,easing:c.easing,setToFinal:!0,done:s,aborted:s})}return this},a}();function createWrap(){return new AnimationWrap}var Group$2=Group$4,Rect$1=Rect$3,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(a){var n=getStateItemStyle(a);return n.stroke=n.fill=n.lineWidth=null,n},inner$d=makeInner(),TreemapView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._state="ready",r._storage=createStorage(),r}return n.prototype.render=function(r,s,l,u){var c=s.findComponents({mainType:"series",subType:"treemap",query:u});if(!(indexOf(c,r)<0)){this.seriesModel=r,this.api=l,this.ecModel=s;var f=["treemapZoomToNode","treemapRootToNode"],d=retrieveTargetInfo(u,f,r),v=u&&u.type,g=r.layoutInfo,y=!this._oldTree,_=this._storage,S=v==="treemapRootToNode"&&d&&_?{rootNodeGroup:_.nodeGroup[d.node.getRawIndex()],direction:u.direction}:null,x=this._giveContainerGroup(g),A=r.get("animation"),b=this._doRender(x,r,S);A&&!y&&(!v||v==="treemapZoomToNode"||v==="treemapRootToNode")?this._doAnimation(x,b,r,S):b.renderFinally(),this._resetController(l),this._renderBreadcrumb(r,l,d)}},n.prototype._giveContainerGroup=function(r){var s=this._containerGroup;return s||(s=this._containerGroup=new Group$2,this._initEvents(s),this.group.add(s)),s.x=r.x,s.y=r.y,s},n.prototype._doRender=function(r,s,l){var u=s.getData().tree,c=this._oldTree,f=createStorage(),d=createStorage(),v=this._storage,g=[];function y(b,w,E,M){return renderNode(s,d,v,l,f,g,b,w,E,M)}S(u.root?[u.root]:[],c&&c.root?[c.root]:[],r,u===c||!c,0);var _=x(v);return this._oldTree=u,this._storage=d,{lastsForAnimation:f,willDeleteEls:_,renderFinally:A};function S(b,w,E,M,P){M?(w=b,each$f(b,function(L,O){!L.isRemoved()&&I(O,O)})):new DataDiffer$1(w,b,R,R).add(I).update(I).remove(curry$1(I,null)).execute();function R(L){return L.getId()}function I(L,O){var N=L!=null?b[L]:null,B=O!=null?w[O]:null,F=y(N,B,E,P);F&&S(N&&N.viewChildren||[],B&&B.viewChildren||[],F,M,P+1)}}function x(b){var w=createStorage();return b&&each$f(b,function(E,M){var P=w[M];each$f(E,function(R){R&&(P.push(R),inner$d(R).willDelete=!0)})}),w}function A(){each$f(_,function(b){each$f(b,function(w){w.parent&&w.parent.remove(w)})}),each$f(g,function(b){b.invisible=!0,b.dirty()})}},n.prototype._doAnimation=function(r,s,l,u){var c=l.get("animationDurationUpdate"),f=l.get("animationEasing"),d=(isFunction(c)?0:c)||0,v=(isFunction(f)?null:f)||"cubicOut",g=createWrap();each$f(s.willDeleteEls,function(y,_){each$f(y,function(S,x){if(!S.invisible){var A=S.parent,b,w=inner$d(A);if(u&&u.direction==="drillDown")b=A===u.rootNodeGroup?{shape:{x:0,y:0,width:w.nodeWidth,height:w.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var E=0,M=0;w.willDelete||(E=w.nodeWidth/2,M=w.nodeHeight/2),b=_==="nodeGroup"?{x:E,y:M,style:{opacity:0}}:{shape:{x:E,y:M,width:0,height:0},style:{opacity:0}}}b&&g.add(S,b,d,0,v)}})}),each$f(this._storage,function(y,_){each$f(y,function(S,x){var A=s.lastsForAnimation[_][x],b={};!A||(S instanceof Group$4?A.oldX!=null&&(b.x=S.x,b.y=S.y,S.x=A.oldX,S.y=A.oldY):(A.oldShape&&(b.shape=extend({},S.shape),S.setShape(A.oldShape)),A.fadein?(S.setStyle("opacity",0),b.style={opacity:1}):S.style.opacity!==1&&(b.style={opacity:1})),g.add(S,b,d,0,v))})},this),this._state="animating",g.finished(bind$1(function(){this._state="ready",s.renderFinally()},this)).start()},n.prototype._resetController=function(r){var s=this._controller;s||(s=this._controller=new RoamController$1(r.getZr()),s.enable(this.seriesModel.get("roam")),s.on("pan",bind$1(this._onPan,this)),s.on("zoom",bind$1(this._onZoom,this)));var l=new BoundingRect$1(0,0,r.getWidth(),r.getHeight());s.setPointerChecker(function(u,c,f){return l.contain(c,f)})},n.prototype._clearController=function(){var r=this._controller;r&&(r.dispose(),r=null)},n.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>DRAG_THRESHOLD||Math.abs(r.dy)>DRAG_THRESHOLD)){var s=this.seriesModel.getData().tree.root;if(!s)return;var l=s.getLayout();if(!l)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x+r.dx,y:l.y+r.dy,width:l.width,height:l.height}})}},n.prototype._onZoom=function(r){var s=r.originX,l=r.originY;if(this._state!=="animating"){var u=this.seriesModel.getData().tree.root;if(!u)return;var c=u.getLayout();if(!c)return;var f=new BoundingRect$1(c.x,c.y,c.width,c.height),d=this.seriesModel.layoutInfo;s-=d.x,l-=d.y;var v=create$1();translate(v,v,[-s,-l]),scale$1(v,v,[r.scale,r.scale]),translate(v,v,[s,l]),f.applyTransform(v),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},n.prototype._initEvents=function(r){var s=this;r.on("click",function(l){if(s._state==="ready"){var u=s.seriesModel.get("nodeClick",!0);if(!!u){var c=s.findTarget(l.offsetX,l.offsetY);if(!!c){var f=c.node;if(f.getLayout().isLeafRoot)s._rootToNode(c);else if(u==="zoomToNode")s._zoomToNode(c);else if(u==="link"){var d=f.hostTree.data.getItemModel(f.dataIndex),v=d.get("link",!0),g=d.get("target",!0)||"blank";v&&windowOpen(v,g)}}}}},this)},n.prototype._renderBreadcrumb=function(r,s,l){var u=this;l||(l=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(s.getWidth()/2,s.getHeight()/2),l||(l={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb$1(this.group))).render(r,s,l.node,function(c){u._state!=="animating"&&(aboveViewRoot(r.getViewRoot(),c)?u._rootToNode({node:c}):u._zoomToNode({node:c}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype.findTarget=function(r,s){var l,u=this.seriesModel.getViewRoot();return u.eachNode({attr:"viewChildren",order:"preorder"},function(c){var f=this._storage.background[c.getRawIndex()];if(f){var d=f.transformCoordToLocal(r,s),v=f.shape;if(v.x<=d[0]&&d[0]<=v.x+v.width&&v.y<=d[1]&&d[1]<=v.y+v.height)l={node:c,offsetX:d[0],offsetY:d[1]};else return!1}},this),l},n.type="treemap",n}(ChartView$1);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(a,n,r,s,l,u,c,f,d,v){if(!c)return;var g=c.getLayout(),y=a.getData(),_=c.getModel();if(y.setItemGraphicEl(c.dataIndex,null),!g||!g.isInView)return;var S=g.width,x=g.height,A=g.borderWidth,b=g.invisible,w=c.getRawIndex(),E=f&&f.getRawIndex(),M=c.viewChildren,P=g.upperHeight,R=M&&M.length,I=_.getModel("itemStyle"),L=_.getModel(["emphasis","itemStyle"]),O=_.getModel(["blur","itemStyle"]),N=_.getModel(["select","itemStyle"]),B=I.get("borderRadius")||0,F=Pe("nodeGroup",Group$2);if(!F)return;if(d.add(F),F.x=g.x||0,F.y=g.y||0,F.markRedraw(),inner$d(F).nodeWidth=S,inner$d(F).nodeHeight=x,g.isAboveViewRoot)return F;var V=Pe("background",Rect$1,v,Z2_BG);V&&ne(F,V,R&&g.upperLabelHeight);var z=_.getModel("emphasis"),U=z.get("focus"),Y=z.get("blurScope"),q=z.get("disabled"),Q=U==="ancestor"?c.getAncestorsIndices():U==="descendant"?c.getDescendantIndices():U;if(R)isHighDownDispatcher(F)&&setAsHighDownDispatcher(F,!1),V&&(setAsHighDownDispatcher(V,!q),y.setItemGraphicEl(c.dataIndex,V),enableHoverFocus(V,Q,Y));else{var j=Pe("content",Rect$1,v,Z2_CONTENT);j&&fe(F,j),V.disableMorphing=!0,V&&isHighDownDispatcher(V)&&setAsHighDownDispatcher(V,!1),setAsHighDownDispatcher(F,!q),y.setItemGraphicEl(c.dataIndex,F),enableHoverFocus(F,Q,Y)}return F;function ne(se,ue,Ee){var $e=getECData(ue);if($e.dataIndex=c.dataIndex,$e.seriesIndex=a.seriesIndex,ue.setShape({x:0,y:0,width:S,height:x,r:B}),b)de(ue);else{ue.invisible=!1;var pe=c.getVisual("style"),ye=pe.stroke,Z=getItemStyleNormal(I);Z.fill=ye;var X=getStateItemStyle(L);X.fill=L.get("borderColor");var re=getStateItemStyle(O);re.fill=O.get("borderColor");var ce=getStateItemStyle(N);if(ce.fill=N.get("borderColor"),Ee){var le=S-2*A;be(ue,ye,pe.opacity,{x:A,y:0,width:le,height:P})}else ue.removeTextContent();ue.setStyle(Z),ue.ensureState("emphasis").style=X,ue.ensureState("blur").style=re,ue.ensureState("select").style=ce,setDefaultStateProxy(ue)}se.add(ue)}function fe(se,ue){var Ee=getECData(ue);Ee.dataIndex=c.dataIndex,Ee.seriesIndex=a.seriesIndex;var $e=Math.max(S-2*A,0),pe=Math.max(x-2*A,0);if(ue.culling=!0,ue.setShape({x:A,y:A,width:$e,height:pe,r:B}),b)de(ue);else{ue.invisible=!1;var ye=c.getVisual("style"),Z=ye.fill,X=getItemStyleNormal(I);X.fill=Z,X.decal=ye.decal;var re=getStateItemStyle(L),ce=getStateItemStyle(O),le=getStateItemStyle(N);be(ue,Z,ye.opacity,null),ue.setStyle(X),ue.ensureState("emphasis").style=re,ue.ensureState("blur").style=ce,ue.ensureState("select").style=le,setDefaultStateProxy(ue)}se.add(ue)}function de(se){!se.invisible&&u.push(se)}function be(se,ue,Ee,$e){var pe=_.getModel($e?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),ye=convertOptionIdName(_.get("name"),null),Z=pe.getShallow("show");setLabelStyle(se,getLabelStatesModels(_,$e?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:Z?ye:null,inheritColor:ue,defaultOpacity:Ee,labelFetcher:a,labelDataIndex:c.dataIndex});var X=se.getTextContent();if(!!X){var re=X.style,ce=normalizeCssArray$1(re.padding||0);$e&&(se.setTextConfig({layoutRect:$e}),X.disableLabelLayout=!0),X.beforeUpdate=function(){var Te=Math.max(($e?$e.width:se.shape.width)-ce[1]-ce[3],0),Ce=Math.max(($e?$e.height:se.shape.height)-ce[0]-ce[2],0);(re.width!==Te||re.height!==Ce)&&X.setStyle({width:Te,height:Ce})},re.truncateMinChar=2,re.lineOverflow="truncate",Me(re,$e,g);var le=X.getState("emphasis");Me(le?le.style:null,$e,g)}}function Me(se,ue,Ee){var $e=se?se.text:null;if(!ue&&Ee.isLeafRoot&&$e!=null){var pe=a.get("drillDownIcon",!0);se.text=pe?pe+" "+$e:$e}}function Pe(se,ue,Ee,$e){var pe=E!=null&&r[se][E],ye=l[se];return pe?(r[se][E]=null,ae(ye,pe)):b||(pe=new ue,pe instanceof Displayable$1&&(pe.z2=calculateZ2(Ee,$e)),me(ye,pe)),n[se][w]=pe}function ae(se,ue){var Ee=se[w]={};ue instanceof Group$2?(Ee.oldX=ue.x,Ee.oldY=ue.y):Ee.oldShape=extend({},ue.shape)}function me(se,ue){var Ee=se[w]={},$e=c.parentNode,pe=ue instanceof Group$4;if($e&&(!s||s.direction==="drillDown")){var ye=0,Z=0,X=l.background[$e.getRawIndex()];!s&&X&&X.oldShape&&(ye=X.oldShape.width,Z=X.oldShape.height),pe?(Ee.oldX=0,Ee.oldY=Z):Ee.oldShape={x:ye,y:Z,width:0,height:0}}Ee.fadein=!pe}}function calculateZ2(a,n){return a*Z2_BASE+n}const TreemapView$1=TreemapView;var each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function a(n){var r=n.mappingMethod,s=n.type,l=this.option=clone$4(n);this.type=s,this.mappingMethod=r,this._normalizeData=normalizers[r];var u=a.visualHandlers[s];this.applyVisual=u.applyVisual,this.getColorMapper=u.getColorMapper,this._normalizedToVisual=u._normalizedToVisual[r],r==="piecewise"?(normalizeVisualRange(l),preprocessForPiecewise(l)):r==="category"?l.categories?preprocessForSpecifiedCategory(l):normalizeVisualRange(l,!0):(assert(r!=="linear"||l.dataExtent),normalizeVisualRange(l))}return a.prototype.mapValueToVisual=function(n){var r=this._normalizeData(n);return this._normalizedToVisual(r,n)},a.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},a.listVisualTypes=function(){return keys(a.visualHandlers)},a.isValidType=function(n){return a.visualHandlers.hasOwnProperty(n)},a.eachVisual=function(n,r,s){isObject$3(n)?each$f(n,r,s):r.call(s,n)},a.mapVisual=function(n,r,s){var l,u=isArray$2(n)?[]:isObject$3(n)?{}:(l=!0,null);return a.eachVisual(n,function(c,f){var d=r.call(s,c,f);l?u=d:u[f]=d}),u},a.retrieveVisuals=function(n){var r={},s;return n&&each$c(a.visualHandlers,function(l,u){n.hasOwnProperty(u)&&(r[u]=n[u],s=!0)}),s?r:null},a.prepareVisualTypes=function(n){if(isArray$2(n))n=n.slice();else if(isObject(n)){var r=[];each$c(n,function(s,l){r.push(l)}),n=r}else return[];return n.sort(function(s,l){return l==="color"&&s!=="color"&&s.indexOf("color")===0?1:-1}),n},a.dependsOn=function(n,r){return r==="color"?!!(n&&n.indexOf(r)===0):n===r},a.findPieceIndex=function(n,r,s){for(var l,u=1/0,c=0,f=r.length;c<f;c++){var d=r[c].value;if(d!=null){if(d===n||isString(d)&&d===n+"")return c;s&&_(d,c)}}for(var c=0,f=r.length;c<f;c++){var v=r[c],g=v.interval,y=v.close;if(g){if(g[0]===-1/0){if(littleThan(y[1],n,g[1]))return c}else if(g[1]===1/0){if(littleThan(y[0],g[0],n))return c}else if(littleThan(y[0],g[0],n)&&littleThan(y[1],n,g[1]))return c;s&&_(g[0],c),s&&_(g[1],c)}}if(s)return n===1/0?r.length-1:n===-1/0?0:l;function _(S,x){var A=Math.abs(S-n);A<u&&(u=A,l=x)}},a.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var n=this.option;return bind$1(n.mappingMethod==="category"?function(r,s){return!s&&(r=this._normalizeData(r)),doMapCategory.call(this,r)}:function(r,s,l){var u=!!l;return!s&&(r=this._normalizeData(r)),l=fastLerp(r,n.parsedVisual,l),u?l:stringify(l,"rgba")},this)},_normalizedToVisual:{linear:function(n){return stringify(fastLerp(n,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(n,r){var s=getSpecifiedVisual.call(this,r);return s==null&&(s=stringify(fastLerp(n,this.option.parsedVisual),"rgba")),s},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,r)}),colorSaturation:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,null,r)}),colorLightness:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,null,null,r)}),colorAlpha:makePartialColorVisualHandler(function(n,r){return modifyAlpha(n,r)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(n,r,s){var l=this.mapValueToVisual(n);s("symbol",l)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(n,r){var s=getSpecifiedVisual.call(this,r);return s==null&&(s=doMapToArray.call(this,n)),s},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},a}();function preprocessForPiecewise(a){var n=a.pieceList;a.hasSpecialVisual=!1,each$f(n,function(r,s){r.originIndex=s,r.visual!=null&&(a.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(a){var n=a.categories,r=a.categoryMap={},s=a.visual;if(each$c(n,function(c,f){r[c]=f}),!isArray$2(s)){var l=[];isObject$3(s)?each$c(s,function(c,f){var d=r[f];l[d!=null?d:CATEGORY_DEFAULT_VISUAL_INDEX]=c}):l[CATEGORY_DEFAULT_VISUAL_INDEX]=s,s=setVisualToOption(a,l)}for(var u=n.length-1;u>=0;u--)s[u]==null&&(delete r[n[u]],n.pop())}function normalizeVisualRange(a,n){var r=a.visual,s=[];isObject$3(r)?each$c(r,function(u){s.push(u)}):r!=null&&s.push(r);var l={color:1,symbol:1};!n&&s.length===1&&!l.hasOwnProperty(a.type)&&(s[1]=s[0]),setVisualToOption(a,s)}function makePartialColorVisualHandler(a){return{applyVisual:function(n,r,s){var l=this.mapValueToVisual(n);s("color",a(r("color"),l))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(a){var n=this.option.visual;return n[Math.round(linearMap$2(a,[0,1],[0,n.length-1],!0))]||{}}function makeApplyVisual(a){return function(n,r,s){s(a,this.mapValueToVisual(n))}}function doMapCategory(a){var n=this.option.visual;return n[this.option.loop&&a!==CATEGORY_DEFAULT_VISUAL_INDEX?a%n.length:a]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(a){return{linear:function(n){return linearMap$2(n,a,this.option.visual,!0)},category:doMapCategory,piecewise:function(n,r){var s=getSpecifiedVisual.call(this,r);return s==null&&(s=linearMap$2(n,a,this.option.visual,!0)),s},fixed:doMapFixed}}function getSpecifiedVisual(a){var n=this.option,r=n.pieceList;if(n.hasSpecialVisual){var s=VisualMapping.findPieceIndex(a,r),l=r[s];if(l&&l.visual)return l.visual[this.type]}}function setVisualToOption(a,n){return a.visual=n,a.type==="color"&&(a.parsedVisual=map$1(n,function(r){var s=parse(r);return s||[0,0,0,1]})),n}var normalizers={linear:function(a){return linearMap$2(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var n=this.option.pieceList,r=VisualMapping.findPieceIndex(a,n,!0);if(r!=null)return linearMap$2(r,[0,n.length-1],[0,1],!0)},category:function(a){var n=this.option.categories?this.option.categoryMap[a]:a;return n==null?CATEGORY_DEFAULT_VISUAL_INDEX:n},fixed:noop$1};function littleThan(a,n,r){return a?n<=r:n<r}const VisualMapping$1=VisualMapping;var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(a){var n=a.getData().tree,r=n.root;r.isRemoved()||travelTree(r,{},a.getViewRoot().getAncestors(),a)}};function travelTree(a,n,r,s){var l=a.getModel(),u=a.getLayout(),c=a.hostTree.data;if(!(!u||u.invisible||!u.isInView)){var f=l.getModel(ITEM_STYLE_NORMAL),d=buildVisuals(f,n,s),v=c.ensureUniqueItemVisual(a.dataIndex,"style"),g=f.get("borderColor"),y=f.get("borderColorSaturation"),_;y!=null&&(_=calculateColor(d),g=calculateBorderColor(y,_)),v.stroke=g;var S=a.viewChildren;if(!S||!S.length)_=calculateColor(d),v.fill=_;else{var x=buildVisualMapping(a,l,u,f,d,S);each$f(S,function(A,b){if(A.depth>=r.length||A===r[A.depth]){var w=mapVisual$1(l,d,A,b,x,s);travelTree(A,w,r,s)}})}}}function buildVisuals(a,n,r){var s=extend({},n),l=r.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function(u){l[u]=n[u];var c=a.get(u);l[u]=null,c!=null&&(s[u]=c)}),s}function calculateColor(a){var n=getValueVisualDefine(a,"color");if(n){var r=getValueVisualDefine(a,"colorAlpha"),s=getValueVisualDefine(a,"colorSaturation");return s&&(n=modifyHSL(n,null,null,s)),r&&(n=modifyAlpha(n,r)),n}}function calculateBorderColor(a,n){return n!=null?modifyHSL(n,null,null,a):null}function getValueVisualDefine(a,n){var r=a[n];if(r!=null&&r!=="none")return r}function buildVisualMapping(a,n,r,s,l,u){if(!(!u||!u.length)){var c=getRangeVisual(n,"color")||l.color!=null&&l.color!=="none"&&(getRangeVisual(n,"colorAlpha")||getRangeVisual(n,"colorSaturation"));if(!!c){var f=n.get("visualMin"),d=n.get("visualMax"),v=r.dataExtent.slice();f!=null&&f<v[0]&&(v[0]=f),d!=null&&d>v[1]&&(v[1]=d);var g=n.get("colorMappingBy"),y={type:c.name,dataExtent:v,visual:c.range};y.type==="color"&&(g==="index"||g==="id")?(y.mappingMethod="category",y.loop=!0):y.mappingMethod="linear";var _=new VisualMapping$1(y);return inner$c(_).drColorMappingBy=g,_}}}function getRangeVisual(a,n){var r=a.get(n);return isArray$2(r)&&r.length?{name:n,range:r}:null}function mapVisual$1(a,n,r,s,l,u){var c=extend({},n);if(l){var f=l.type,d=f==="color"&&inner$c(l).drColorMappingBy,v=d==="index"?s:d==="id"?u.mapIdToIndex(r.getId()):r.getValue(a.get("visualDimension"));c[f]=l.mapValueToVisual(v)}return c}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(a,n,r,s){var l=r.getWidth(),u=r.getHeight(),c=a.option,f=getLayoutRect(a.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),d=c.size||[],v=parsePercent(retrieveValue(f.width,d[0]),l),g=parsePercent(retrieveValue(f.height,d[1]),u),y=s&&s.type,_=["treemapZoomToNode","treemapRootToNode"],S=retrieveTargetInfo(s,_,a),x=y==="treemapRender"||y==="treemapMove"?s.rootRect:null,A=a.getViewRoot(),b=getPathToRoot(A);if(y!=="treemapMove"){var w=y==="treemapZoomToNode"?estimateRootSize(a,S,A,v,g):x?[x.width,x.height]:[v,g],E=c.sort;E&&E!=="asc"&&E!=="desc"&&(E="desc");var M={squareRatio:c.squareRatio,sort:E,leafDepth:c.leafDepth};A.hostTree.clearLayouts();var P={x:0,y:0,width:w[0],height:w[1],area:w[0]*w[1]};A.setLayout(P),squarify(A,M,!1,0),P=A.getLayout(),each$b(b,function(I,L){var O=(b[L+1]||A).getValue();I.setLayout(extend({dataExtent:[O,O],borderWidth:0,upperHeight:0},P))})}var R=a.getData().tree.root;R.setLayout(calculateRootPosition(f,x,S),!0),a.setLayoutInfo(f),prunning(R,new BoundingRect$1(-f.x,-f.y,l,u),b,A,0)}};function squarify(a,n,r,s){var l,u;if(!a.isRemoved()){var c=a.getLayout();l=c.width,u=c.height;var f=a.getModel(),d=f.get(PATH_BORDER_WIDTH),v=f.get(PATH_GAP_WIDTH)/2,g=getUpperLabelHeight(f),y=Math.max(d,g),_=d-v,S=y-v;a.setLayout({borderWidth:d,upperHeight:y,upperLabelHeight:g},!0),l=mathMax$3(l-2*_,0),u=mathMax$3(u-_-S,0);var x=l*u,A=initChildren$1(a,f,x,n,r,s);if(!!A.length){var b={x:_,y:S,width:l,height:u},w=mathMin$3(l,u),E=1/0,M=[];M.area=0;for(var P=0,R=A.length;P<R;){var I=A[P];M.push(I),M.area+=I.getLayout().area;var L=worst(M,w,n.squareRatio);L<=E?(P++,E=L):(M.area-=M.pop().getLayout().area,position(M,w,b,v,!1),w=mathMin$3(b.width,b.height),M.length=M.area=0,E=1/0)}if(M.length&&position(M,w,b,v,!0),!r){var O=f.get("childrenVisibleMin");O!=null&&x<O&&(r=!0)}for(var P=0,R=A.length;P<R;P++)squarify(A[P],n,r,s+1)}}}function initChildren$1(a,n,r,s,l,u){var c=a.children||[],f=s.sort;f!=="asc"&&f!=="desc"&&(f=null);var d=s.leafDepth!=null&&s.leafDepth<=u;if(l&&!d)return a.viewChildren=[];c=filter(c,function(S){return!S.isRemoved()}),sort$1(c,f);var v=statistic(n,c,f);if(v.sum===0)return a.viewChildren=[];if(v.sum=filterByThreshold(n,r,v.sum,f,c),v.sum===0)return a.viewChildren=[];for(var g=0,y=c.length;g<y;g++){var _=c[g].getValue()/v.sum*r;c[g].setLayout({area:_})}return d&&(c.length&&a.setLayout({isLeafRoot:!0},!0),c.length=0),a.viewChildren=c,a.setLayout({dataExtent:v.dataExtent},!0),c}function filterByThreshold(a,n,r,s,l){if(!s)return r;for(var u=a.get("visibleMin"),c=l.length,f=c,d=c-1;d>=0;d--){var v=l[s==="asc"?c-d-1:d].getValue();v/r*n<u&&(f=d,r-=v)}return s==="asc"?l.splice(0,c-f):l.splice(f,c-f),r}function sort$1(a,n){return n&&a.sort(function(r,s){var l=n==="asc"?r.getValue()-s.getValue():s.getValue()-r.getValue();return l===0?n==="asc"?r.dataIndex-s.dataIndex:s.dataIndex-r.dataIndex:l}),a}function statistic(a,n,r){for(var s=0,l=0,u=n.length;l<u;l++)s+=n[l].getValue();var c=a.get("visualDimension"),f;return!n||!n.length?f=[NaN,NaN]:c==="value"&&r?(f=[n[n.length-1].getValue(),n[0].getValue()],r==="asc"&&f.reverse()):(f=[1/0,-1/0],each$b(n,function(d){var v=d.getValue(c);v<f[0]&&(f[0]=v),v>f[1]&&(f[1]=v)})),{sum:s,dataExtent:f}}function worst(a,n,r){for(var s=0,l=1/0,u=0,c=void 0,f=a.length;u<f;u++)c=a[u].getLayout().area,c&&(c<l&&(l=c),c>s&&(s=c));var d=a.area*a.area,v=n*n*r;return d?mathMax$3(v*s/d,d/(v*l)):1/0}function position(a,n,r,s,l){var u=n===r.width?0:1,c=1-u,f=["x","y"],d=["width","height"],v=r[f[u]],g=n?a.area/n:0;(l||g>r[d[c]])&&(g=r[d[c]]);for(var y=0,_=a.length;y<_;y++){var S=a[y],x={},A=g?S.getLayout().area/g:0,b=x[d[c]]=mathMax$3(g-2*s,0),w=r[f[u]]+r[d[u]]-v,E=y===_-1||w<A?w:A,M=x[d[u]]=mathMax$3(E-2*s,0);x[f[c]]=r[f[c]]+mathMin$3(s,b/2),x[f[u]]=v+mathMin$3(s,M/2),v+=E,S.setLayout(x,!0)}r[f[c]]+=g,r[d[c]]-=g}function estimateRootSize(a,n,r,s,l){var u=(n||{}).node,c=[s,l];if(!u||u===r)return c;for(var f,d=s*l,v=d*a.option.zoomToNodeRatio;f=u.parentNode;){for(var g=0,y=f.children,_=0,S=y.length;_<S;_++)g+=y[_].getValue();var x=u.getValue();if(x===0)return c;v*=g/x;var A=f.getModel(),b=A.get(PATH_BORDER_WIDTH),w=Math.max(b,getUpperLabelHeight(A));v+=4*b*b+(3*b+w)*Math.pow(v,.5),v>MAX_SAFE_INTEGER&&(v=MAX_SAFE_INTEGER),u=f}v<d&&(v=d);var E=Math.pow(v/d,.5);return[s*E,l*E]}function calculateRootPosition(a,n,r){if(n)return{x:n.x,y:n.y};var s={x:0,y:0};if(!r)return s;var l=r.node,u=l.getLayout();if(!u)return s;for(var c=[u.width/2,u.height/2],f=l;f;){var d=f.getLayout();c[0]+=d.x,c[1]+=d.y,f=f.parentNode}return{x:a.width/2-c[0],y:a.height/2-c[1]}}function prunning(a,n,r,s,l){var u=a.getLayout(),c=r[l],f=c&&c===a;if(!(c&&!f||l===r.length&&a!==s)){a.setLayout({isInView:!0,invisible:!f&&!n.intersect(u),isAboveViewRoot:f},!0);var d=new BoundingRect$1(n.x-u.x,n.y-u.y,n.width,n.height);each$b(a.viewChildren||[],function(v){prunning(v,d,r,s,l+1)})}}function getUpperLabelHeight(a){return a.get(PATH_UPPER_LABEL_SHOW)?a.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(a){a.registerSeriesModel(TreemapSeriesModel$1),a.registerChartView(TreemapView$1),a.registerVisual(treemapVisual),a.registerLayout(treemapLayout),installTreemapAction(a)}function categoryFilter(a){var n=a.findComponents({mainType:"legend"});!n||!n.length||a.eachSeriesByType("graph",function(r){var s=r.getCategoriesData(),l=r.getGraph(),u=l.data,c=s.mapArray(s.getName);u.filterSelf(function(f){var d=u.getItemModel(f),v=d.getShallow("category");if(v!=null){isNumber(v)&&(v=c[v]);for(var g=0;g<n.length;g++)if(!n[g].isSelected(v))return!1}return!0})})}function categoryVisual(a){var n={};a.eachSeriesByType("graph",function(r){var s=r.getCategoriesData(),l=r.getData(),u={};s.each(function(c){var f=s.getName(c);u["ec-"+f]=c;var d=s.getItemModel(c),v=d.getModel("itemStyle").getItemStyle();v.fill||(v.fill=r.getColorFromPalette(f,n)),s.setItemVisual(c,"style",v);for(var g=["symbol","symbolSize","symbolKeepAspect"],y=0;y<g.length;y++){var _=d.getShallow(g[y],!0);_!=null&&s.setItemVisual(c,g[y],_)}}),s.count()&&l.each(function(c){var f=l.getItemModel(c),d=f.getShallow("category");if(d!=null){isString(d)&&(d=u["ec-"+d]);var v=s.getItemVisual(d,"style"),g=l.ensureUniqueItemVisual(c,"style");extend(g,v);for(var y=["symbol","symbolSize","symbolKeepAspect"],_=0;_<y.length;_++)l.setItemVisual(c,y[_],s.getItemVisual(d,y[_]))}})})}function normalize$1(a){return a instanceof Array||(a=[a,a]),a}function graphEdgeVisual(a){a.eachSeriesByType("graph",function(n){var r=n.getGraph(),s=n.getEdgeData(),l=normalize$1(n.get("edgeSymbol")),u=normalize$1(n.get("edgeSymbolSize"));s.setVisual("fromSymbol",l&&l[0]),s.setVisual("toSymbol",l&&l[1]),s.setVisual("fromSymbolSize",u&&u[0]),s.setVisual("toSymbolSize",u&&u[1]),s.setVisual("style",n.getModel("lineStyle").getLineStyle()),s.each(function(c){var f=s.getItemModel(c),d=r.getEdgeByIndex(c),v=normalize$1(f.getShallow("symbol",!0)),g=normalize$1(f.getShallow("symbolSize",!0)),y=f.getModel("lineStyle").getLineStyle(),_=s.ensureUniqueItemVisual(c,"style");switch(extend(_,y),_.stroke){case"source":{var S=d.node1.getVisual("style");_.stroke=S&&S.fill;break}case"target":{var S=d.node2.getVisual("style");_.stroke=S&&S.fill;break}}v[0]&&d.setVisual("fromSymbol",v[0]),v[1]&&d.setVisual("toSymbol",v[1]),g[0]&&d.setVisual("fromSymbolSize",g[0]),g[1]&&d.setVisual("toSymbolSize",g[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(a){return a.get("autoCurveness")||null},createCurveness=function(a,n){var r=getAutoCurvenessParams(a),s=20,l=[];if(isNumber(r))s=r;else if(isArray$2(r)){a.__curvenessList=r;return}n>s&&(s=n);var u=s%2?s+2:s+3;l=[];for(var c=0;c<u;c++)l.push((c%2?c+1:c)/10*(c%2?-1:1));a.__curvenessList=l},getKeyOfEdges=function(a,n,r){var s=[a.id,a.dataIndex].join("."),l=[n.id,n.dataIndex].join(".");return[r.uid,s,l].join(KEY_DELIMITER)},getOppositeKey=function(a){var n=a.split(KEY_DELIMITER);return[n[0],n[2],n[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(a,n){var r=getKeyOfEdges(a.node1,a.node2,n);return n.__edgeMap[r]},getTotalLengthBetweenNodes=function(a,n){var r=getEdgeMapLengthWithKey(getKeyOfEdges(a.node1,a.node2,n),n),s=getEdgeMapLengthWithKey(getKeyOfEdges(a.node2,a.node1,n),n);return r+s},getEdgeMapLengthWithKey=function(a,n){var r=n.__edgeMap;return r[a]?r[a].length:0};function initCurvenessList(a){!getAutoCurvenessParams(a)||(a.__curvenessList=[],a.__edgeMap={},createCurveness(a))}function createEdgeMapForCurveness(a,n,r,s){if(!!getAutoCurvenessParams(r)){var l=getKeyOfEdges(a,n,r),u=r.__edgeMap,c=u[getOppositeKey(l)];u[l]&&!c?u[l].isForward=!0:c&&u[l]&&(c.isForward=!0,u[l].isForward=!1),u[l]=u[l]||[],u[l].push(s)}}function getCurvenessForEdge(a,n,r,s){var l=getAutoCurvenessParams(n),u=isArray$2(l);if(!l)return null;var c=getEdgeFromMap(a,n);if(!c)return null;for(var f=-1,d=0;d<c.length;d++)if(c[d]===r){f=d;break}var v=getTotalLengthBetweenNodes(a,n);createCurveness(n,v),a.lineStyle=a.lineStyle||{};var g=getKeyOfEdges(a.node1,a.node2,n),y=n.__curvenessList,_=u||v%2?0:1;if(c.isForward)return y[_+f];var S=getOppositeKey(g),x=getEdgeMapLengthWithKey(S,n),A=y[f+x+_];return s?u?l&&l[0]===0?(x+_)%2?A:-A:((x%2?0:1)+_)%2?A:-A:(x+_)%2?A:-A:y[f+x+_]}function simpleLayout(a){var n=a.coordinateSystem;if(!(n&&n.type!=="view")){var r=a.getGraph();r.eachNode(function(s){var l=s.getModel();s.setLayout([+l.get("x"),+l.get("y")])}),simpleLayoutEdge(r,a)}}function simpleLayoutEdge(a,n){a.eachEdge(function(r,s){var l=retrieve3(r.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(r,n,s,!0),0),u=clone$3(r.node1.getLayout()),c=clone$3(r.node2.getLayout()),f=[u,c];+l&&f.push([(u[0]+c[0])/2-(u[1]-c[1])*l,(u[1]+c[1])/2-(c[0]-u[0])*l]),r.setLayout(f)})}function graphSimpleLayout(a,n){a.eachSeriesByType("graph",function(r){var s=r.get("layout"),l=r.coordinateSystem;if(l&&l.type!=="view"){var u=r.getData(),c=[];each$f(l.dimensions,function(_){c=c.concat(u.mapDimensionsAll(_))});for(var f=0;f<u.count();f++){for(var d=[],v=!1,g=0;g<c.length;g++){var y=u.get(c[g],f);isNaN(y)||(v=!0),d.push(y)}v?u.setItemLayout(f,l.dataToPoint(d)):u.setItemLayout(f,[NaN,NaN])}simpleLayoutEdge(u.graph,r)}else(!s||s==="none")&&simpleLayout(r)})}function getNodeGlobalScale(a){var n=a.coordinateSystem;if(n.type!=="view")return 1;var r=a.option.nodeScaleRatio,s=n.scaleX,l=n.getZoom(),u=(l-1)*r+1;return u/s}function getSymbolSize(a){var n=a.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(a,n,r,s){var l=a.coordinateSystem;if(!(l&&l.type!=="view")){var u=l.getBoundingRect(),c=a.getData(),f=c.graph,d=u.width/2+u.x,v=u.height/2+u.y,g=Math.min(u.width,u.height)/2,y=c.count();if(c.setLayout({cx:d,cy:v}),!!y){if(r){var _=l.pointToData(s),S=_[0],x=_[1],A=[S-d,x-v];normalize$3(A,A),scale$2(A,A,g),r.setLayout([d+A[0],v+A[1]],!0);var b=a.get(["circular","rotateLabel"]);rotateNodeLabel(r,b,d,v)}_layoutNodesBasedOn[n](a,f,c,g,d,v,y),f.eachEdge(function(w,E){var M=retrieve3(w.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(w,a,E),0),P=clone$3(w.node1.getLayout()),R=clone$3(w.node2.getLayout()),I,L=(P[0]+R[0])/2,O=(P[1]+R[1])/2;+M&&(M*=3,I=[d*M+L*(1-M),v*M+O*(1-M)]),w.setLayout([P,R,I])})}}}var _layoutNodesBasedOn={value:function(a,n,r,s,l,u,c){var f=0,d=r.getSum("value"),v=Math.PI*2/(d||c);n.eachNode(function(g){var y=g.getValue("value"),_=v*(d?y:1)/2;f+=_,g.setLayout([s*Math.cos(f)+l,s*Math.sin(f)+u]),f+=_})},symbolSize:function(a,n,r,s,l,u,c){var f=0;_symbolRadiansHalf.length=c;var d=getNodeGlobalScale(a);n.eachNode(function(y){var _=getSymbolSize(y);isNaN(_)&&(_=2),_<0&&(_=0),_*=d;var S=Math.asin(_/2/s);isNaN(S)&&(S=PI$2/2),_symbolRadiansHalf[y.dataIndex]=S,f+=S*2});var v=(2*PI$2-f)/c/2,g=0;n.eachNode(function(y){var _=v+_symbolRadiansHalf[y.dataIndex];g+=_,(!y.getLayout()||!y.getLayout().fixed)&&y.setLayout([s*Math.cos(g)+l,s*Math.sin(g)+u]),g+=_})}};function rotateNodeLabel(a,n,r,s){var l=a.getGraphicEl();if(!!l){var u=a.getModel(),c=u.get(["label","rotate"])||0,f=l.getSymbolPath();if(n){var d=a.getLayout(),v=Math.atan2(d[1]-s,d[0]-r);v<0&&(v=Math.PI*2+v);var g=d[0]<r;g&&(v=v-Math.PI);var y=g?"left":"right";f.setTextConfig({rotation:-v,position:y,origin:"center"});var _=f.ensureState("emphasis");extend(_.textConfig||(_.textConfig={}),{position:y})}else f.setTextConfig({rotation:c*=Math.PI/180})}}function graphCircularLayout(a){a.eachSeriesByType("graph",function(n){n.get("layout")==="circular"&&circularLayout(n,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(a,n,r){for(var s=a,l=n,u=r.rect,c=u.width,f=u.height,d=[u.x+c/2,u.y+f/2],v=r.gravity==null?.1:r.gravity,g=0;g<s.length;g++){var y=s[g];y.p||(y.p=create$2(c*(Math.random()-.5)+d[0],f*(Math.random()-.5)+d[1])),y.pp=clone$3(y.p),y.edges=null}var _=r.friction==null?.6:r.friction,S=_,x,A;return{warmUp:function(){S=_*.8},setFixed:function(b){s[b].fixed=!0},setUnfixed:function(b){s[b].fixed=!1},beforeStep:function(b){x=b},afterStep:function(b){A=b},step:function(b){x&&x(s,l);for(var w=[],E=s.length,M=0;M<l.length;M++){var P=l[M];if(!P.ignoreForceLayout){var R=P.n1,I=P.n2;sub(w,I.p,R.p);var L=len(w)-P.d,O=I.w/(R.w+I.w);isNaN(O)&&(O=0),normalize$3(w,w),!R.fixed&&scaleAndAdd(R.p,R.p,w,O*L*S),!I.fixed&&scaleAndAdd(I.p,I.p,w,-(1-O)*L*S)}}for(var M=0;M<E;M++){var N=s[M];N.fixed||(sub(w,d,N.p),scaleAndAdd(N.p,N.p,w,v*S))}for(var M=0;M<E;M++)for(var R=s[M],B=M+1;B<E;B++){var I=s[B];sub(w,I.p,R.p);var L=len(w);L===0&&(set$1(w,Math.random()-.5,Math.random()-.5),L=1);var F=(R.rep+I.rep)/L/L;!R.fixed&&scaleAndAdd(R.pp,R.pp,w,F),!I.fixed&&scaleAndAdd(I.pp,I.pp,w,-F)}for(var V=[],M=0;M<E;M++){var N=s[M];N.fixed||(sub(V,N.p,N.pp),scaleAndAdd(N.p,N.p,V,S),copy$1(N.pp,N.p))}S=S*.992;var z=S<.01;A&&A(s,l,z),b&&b(z)}}}function graphForceLayout(a){a.eachSeriesByType("graph",function(n){var r=n.coordinateSystem;if(!(r&&r.type!=="view"))if(n.get("layout")==="force"){var s=n.preservedPoints||{},l=n.getGraph(),u=l.data,c=l.edgeData,f=n.getModel("force"),d=f.get("initLayout");n.preservedPoints?u.each(function(M){var P=u.getId(M);u.setItemLayout(M,s[P]||[NaN,NaN])}):!d||d==="none"?simpleLayout(n):d==="circular"&&circularLayout(n,"value");var v=u.getDataExtent("value"),g=c.getDataExtent("value"),y=f.get("repulsion"),_=f.get("edgeLength"),S=isArray$2(y)?y:[y,y],x=isArray$2(_)?_:[_,_];x=[x[1],x[0]];var A=u.mapArray("value",function(M,P){var R=u.getItemLayout(P),I=linearMap$2(M,v,S);return isNaN(I)&&(I=(S[0]+S[1])/2),{w:I,rep:I,fixed:u.getItemModel(P).get("fixed"),p:!R||isNaN(R[0])||isNaN(R[1])?null:R}}),b=c.mapArray("value",function(M,P){var R=l.getEdgeByIndex(P),I=linearMap$2(M,g,x);isNaN(I)&&(I=(x[0]+x[1])/2);var L=R.getModel(),O=retrieve3(R.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(R,n,P,!0),0);return{n1:A[R.node1.dataIndex],n2:A[R.node2.dataIndex],d:I,curveness:O,ignoreForceLayout:L.get("ignoreForceLayout")}}),w=r.getBoundingRect(),E=forceLayout(A,b,{rect:w,gravity:f.get("gravity"),friction:f.get("friction")});E.beforeStep(function(M,P){for(var R=0,I=M.length;R<I;R++)M[R].fixed&&copy$1(M[R].p,l.getNodeByIndex(R).getLayout())}),E.afterStep(function(M,P,R){for(var I=0,L=M.length;I<L;I++)M[I].fixed||l.getNodeByIndex(I).setLayout(M[I].p),s[u.getId(I)]=M[I].p;for(var I=0,L=P.length;I<L;I++){var O=P[I],N=l.getEdgeByIndex(I),B=O.n1.p,F=O.n2.p,V=N.getLayout();V=V?V.slice():[],V[0]=V[0]||[],V[1]=V[1]||[],copy$1(V[0],B),copy$1(V[1],F),+O.curveness&&(V[2]=[(B[0]+F[0])/2-(B[1]-F[1])*O.curveness,(B[1]+F[1])/2-(F[0]-B[0])*O.curveness]),N.setLayout(V)}}),n.forceLayout=E,n.preservedPoints=s,E.step()}else n.forceLayout=null})}function getViewRect$3(a,n,r){var s=extend(a.getBoxLayoutParams(),{aspect:r});return getLayoutRect(s,{width:n.getWidth(),height:n.getHeight()})}function createViewCoordSys(a,n){var r=[];return a.eachSeriesByType("graph",function(s){var l=s.get("coordinateSystem");if(!l||l==="view"){var u=s.getData(),c=u.mapArray(function(b){var w=u.getItemModel(b);return[+w.get("x"),+w.get("y")]}),f=[],d=[];fromPoints(c,f,d),d[0]-f[0]===0&&(d[0]+=1,f[0]-=1),d[1]-f[1]===0&&(d[1]+=1,f[1]-=1);var v=(d[0]-f[0])/(d[1]-f[1]),g=getViewRect$3(s,n,v);isNaN(v)&&(f=[g.x,g.y],d=[g.x+g.width,g.y+g.height]);var y=d[0]-f[0],_=d[1]-f[1],S=g.width,x=g.height,A=s.coordinateSystem=new View$1;A.zoomLimit=s.get("scaleLimit"),A.setBoundingRect(f[0],f[1],y,_),A.setViewRect(g.x,g.y,S,x),A.setCenter(s.get("center"),n),A.setZoom(s.get("zoom")),r.push(A)}}),r}var straightLineProto=Line$3.prototype,bezierCurveProto=BezierCurve$1.prototype,StraightLineShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return a}();(function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n})(StraightLineShape);function isStraightLine(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}var ECLinePath=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s.type="ec-line",s}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new StraightLineShape},n.prototype.buildPath=function(r,s){isStraightLine(s)?straightLineProto.buildPath.call(this,r,s):bezierCurveProto.buildPath.call(this,r,s)},n.prototype.pointAt=function(r){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,r):bezierCurveProto.pointAt.call(this,r)},n.prototype.tangentAt=function(r){var s=this.shape,l=isStraightLine(s)?[s.x2-s.x1,s.y2-s.y1]:bezierCurveProto.tangentAt.call(this,r);return normalize$3(l,l)},n}(Path$1);const ECLinePath$1=ECLinePath;var SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(a){return"_"+a+"Type"}function createSymbol(a,n,r){var s=n.getItemVisual(r,a);if(!(!s||s==="none")){var l=n.getItemVisual(r,a+"Size"),u=n.getItemVisual(r,a+"Rotate"),c=n.getItemVisual(r,a+"Offset"),f=n.getItemVisual(r,a+"KeepAspect"),d=normalizeSymbolSize(l),v=normalizeSymbolOffset(c||0,d),g=createSymbol$1(s,-d[0]/2+v[0],-d[1]/2+v[1],d[0],d[1],null,f);return g.__specifiedRotation=u==null||isNaN(u)?void 0:+u*Math.PI/180||0,g.name=a,g}}function createLine(a){var n=new ECLinePath$1({name:"line",subPixelOptimize:!0});return setLinePoints(n.shape,a),n}function setLinePoints(a,n){a.x1=n[0][0],a.y1=n[0][1],a.x2=n[1][0],a.y2=n[1][1],a.percent=1;var r=n[2];r?(a.cpx1=r[0],a.cpy1=r[1]):(a.cpx1=NaN,a.cpy1=NaN)}var Line=function(a){__extends(n,a);function n(r,s,l){var u=a.call(this)||this;return u._createLine(r,s,l),u}return n.prototype._createLine=function(r,s,l){var u=r.hostModel,c=r.getItemLayout(s),f=createLine(c);f.shape.percent=0,initProps(f,{shape:{percent:1}},u,s),this.add(f),each$f(SYMBOL_CATEGORIES,function(d){var v=createSymbol(d,r,s);this.add(v),this[makeSymbolTypeKey(d)]=r.getItemVisual(s,d)},this),this._updateCommonStl(r,s,l)},n.prototype.updateData=function(r,s,l){var u=r.hostModel,c=this.childOfName("line"),f=r.getItemLayout(s),d={shape:{}};setLinePoints(d.shape,f),updateProps$1(c,d,u,s),each$f(SYMBOL_CATEGORIES,function(v){var g=r.getItemVisual(s,v),y=makeSymbolTypeKey(v);if(this[y]!==g){this.remove(this.childOfName(v));var _=createSymbol(v,r,s);this.add(_)}this[y]=g},this),this._updateCommonStl(r,s,l)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(r,s,l){var u=r.hostModel,c=this.childOfName("line"),f=l&&l.emphasisLineStyle,d=l&&l.blurLineStyle,v=l&&l.selectLineStyle,g=l&&l.labelStatesModels,y=l&&l.emphasisDisabled,_=l&&l.focus,S=l&&l.blurScope;if(!l||r.hasItemOption){var x=r.getItemModel(s),A=x.getModel("emphasis");f=A.getModel("lineStyle").getLineStyle(),d=x.getModel(["blur","lineStyle"]).getLineStyle(),v=x.getModel(["select","lineStyle"]).getLineStyle(),y=A.get("disabled"),_=A.get("focus"),S=A.get("blurScope"),g=getLabelStatesModels(x)}var b=r.getItemVisual(s,"style"),w=b.stroke;c.useStyle(b),c.style.fill=null,c.style.strokeNoScale=!0,c.ensureState("emphasis").style=f,c.ensureState("blur").style=d,c.ensureState("select").style=v,each$f(SYMBOL_CATEGORIES,function(I){var L=this.childOfName(I);if(L){L.setColor(w),L.style.opacity=b.opacity;for(var O=0;O<SPECIAL_STATES.length;O++){var N=SPECIAL_STATES[O],B=c.getState(N);if(B){var F=B.style||{},V=L.ensureState(N),z=V.style||(V.style={});F.stroke!=null&&(z[L.__isEmptyBrush?"stroke":"fill"]=F.stroke),F.opacity!=null&&(z.opacity=F.opacity)}}L.markRedraw()}},this);var E=u.getRawValue(s);setLabelStyle(this,g,{labelDataIndex:s,labelFetcher:{getFormattedLabel:function(I,L){return u.getFormattedLabel(I,L,r.dataType)}},inheritColor:w||"#000",defaultOpacity:b.opacity,defaultText:(E==null?r.getName(s):isFinite(E)?round$3(E):E)+""});var M=this.getTextContent();if(M){var P=g.normal;M.__align=M.style.align,M.__verticalAlign=M.style.verticalAlign,M.__position=P.get("position")||"middle";var R=P.get("distance");isArray$2(R)||(R=[R,R]),M.__labelDistance=R}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,_,S,y)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.updateLayout=function(r,s){this.setLinePoints(r.getItemLayout(s))},n.prototype.setLinePoints=function(r){var s=this.childOfName("line");setLinePoints(s.shape,r),s.dirty()},n.prototype.beforeUpdate=function(){var r=this,s=r.childOfName("fromSymbol"),l=r.childOfName("toSymbol"),u=r.getTextContent();if(!s&&!l&&(!u||u.ignore))return;for(var c=1,f=this.parent;f;)f.scaleX&&(c/=f.scaleX),f=f.parent;var d=r.childOfName("line");if(!this.__dirty&&!d.__dirty)return;var v=d.shape.percent,g=d.pointAt(0),y=d.pointAt(v),_=sub([],y,g);normalize$3(_,_);function S(B,F){var V=B.__specifiedRotation;if(V==null){var z=d.tangentAt(F);B.attr("rotation",(F===1?-1:1)*Math.PI/2-Math.atan2(z[1],z[0]))}else B.attr("rotation",V)}if(s&&(s.setPosition(g),S(s,0),s.scaleX=s.scaleY=c*v,s.markRedraw()),l&&(l.setPosition(y),S(l,1),l.scaleX=l.scaleY=c*v,l.markRedraw()),u&&!u.ignore){u.x=u.y=0,u.originX=u.originY=0;var x=void 0,A=void 0,b=u.__labelDistance,w=b[0]*c,E=b[1]*c,M=v/2,P=d.tangentAt(M),R=[P[1],-P[0]],I=d.pointAt(M);R[1]>0&&(R[0]=-R[0],R[1]=-R[1]);var L=P[0]<0?-1:1;if(u.__position!=="start"&&u.__position!=="end"){var O=-Math.atan2(P[1],P[0]);y[0]<g[0]&&(O=Math.PI+O),u.rotation=O}var N=void 0;switch(u.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":N=-E,A="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":N=E,A="top";break;default:N=0,A="middle"}switch(u.__position){case"end":u.x=_[0]*w+y[0],u.y=_[1]*E+y[1],x=_[0]>.8?"left":_[0]<-.8?"right":"center",A=_[1]>.8?"top":_[1]<-.8?"bottom":"middle";break;case"start":u.x=-_[0]*w+g[0],u.y=-_[1]*E+g[1],x=_[0]>.8?"right":_[0]<-.8?"left":"center",A=_[1]>.8?"bottom":_[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":u.x=w*L+g[0],u.y=g[1]+N,x=P[0]<0?"right":"left",u.originX=-w*L,u.originY=-N;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":u.x=I[0],u.y=I[1]+N,x="center",u.originY=-N;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":u.x=-w*L+y[0],u.y=y[1]+N,x=P[0]>=0?"right":"left",u.originX=w*L,u.originY=-N;break}u.scaleX=u.scaleY=c,u.setStyle({verticalAlign:u.__verticalAlign||A,align:u.__align||x})}},n}(Group$4);const Line$1=Line;var LineDraw=function(){function a(n){this.group=new Group$4,this._LineCtor=n||Line$1}return a.prototype.updateData=function(n){var r=this;this._progressiveEls=null;var s=this,l=s.group,u=s._lineData;s._lineData=n,u||l.removeAll();var c=makeSeriesScope$1(n);n.diff(u).add(function(f){r._doAdd(n,f,c)}).update(function(f,d){r._doUpdate(u,n,d,f,c)}).remove(function(f){l.remove(u.getItemGraphicEl(f))}).execute()},a.prototype.updateLayout=function(){var n=this._lineData;!n||n.eachItemGraphicEl(function(r,s){r.updateLayout(n,s)},this)},a.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$1(n),this._lineData=null,this.group.removeAll()},a.prototype.incrementalUpdate=function(n,r){this._progressiveEls=[];function s(f){!f.isGroup&&!isEffectObject(f)&&(f.incremental=!0,f.ensureState("emphasis").hoverLayer=!0)}for(var l=n.start;l<n.end;l++){var u=r.getItemLayout(l);if(lineNeedsDraw(u)){var c=new this._LineCtor(r,l,this._seriesScope);c.traverse(s),this.group.add(c),r.setItemGraphicEl(l,c),this._progressiveEls.push(c)}}},a.prototype.remove=function(){this.group.removeAll()},a.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},a.prototype._doAdd=function(n,r,s){var l=n.getItemLayout(r);if(!!lineNeedsDraw(l)){var u=new this._LineCtor(n,r,s);n.setItemGraphicEl(r,u),this.group.add(u)}},a.prototype._doUpdate=function(n,r,s,l,u){var c=n.getItemGraphicEl(s);if(!lineNeedsDraw(r.getItemLayout(l))){this.group.remove(c);return}c?c.updateData(r,l,u):c=new this._LineCtor(r,l,u),r.setItemGraphicEl(l,c),this.group.add(c)},a}();function isEffectObject(a){return a.animators&&a.animators.length>0}function makeSeriesScope$1(a){var n=a.hostModel,r=n.getModel("emphasis");return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:getLabelStatesModels(n)}}function isPointNaN(a){return isNaN(a[0])||isNaN(a[1])}function lineNeedsDraw(a){return a&&!isPointNaN(a[0])&&!isPointNaN(a[1])}const LineDraw$1=LineDraw;var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(a,n,r){for(var s=a[0],l=a[1],u=a[2],c=1/0,f,d=r*r,v=.1,g=.1;g<=.9;g+=.1){v1[0]=quadraticAt(s[0],l[0],u[0],g),v1[1]=quadraticAt(s[1],l[1],u[1],g);var y=mathAbs(v2DistSquare(v1,n)-d);y<c&&(c=y,f=g)}for(var _=0;_<32;_++){var S=f+v;v2[0]=quadraticAt(s[0],l[0],u[0],f),v2[1]=quadraticAt(s[1],l[1],u[1],f),v3[0]=quadraticAt(s[0],l[0],u[0],S),v3[1]=quadraticAt(s[1],l[1],u[1],S);var y=v2DistSquare(v2,n)-d;if(mathAbs(y)<.01)break;var x=v2DistSquare(v3,n)-d;v/=2,y<0?x>=0?f=f+v:f=f-v:x>=0?f=f-v:f=f+v}return f}function adjustEdge(a,n){var r=[],s=quadraticSubdivide,l=[[],[],[]],u=[[],[]],c=[];n/=2,a.eachEdge(function(f,d){var v=f.getLayout(),g=f.getVisual("fromSymbol"),y=f.getVisual("toSymbol");v.__original||(v.__original=[clone$3(v[0]),clone$3(v[1])],v[2]&&v.__original.push(clone$3(v[2])));var _=v.__original;if(v[2]!=null){if(copy$1(l[0],_[0]),copy$1(l[1],_[2]),copy$1(l[2],_[1]),g&&g!=="none"){var S=getSymbolSize(f.node1),x=intersectCurveCircle(l,_[0],S*n);s(l[0][0],l[1][0],l[2][0],x,r),l[0][0]=r[3],l[1][0]=r[4],s(l[0][1],l[1][1],l[2][1],x,r),l[0][1]=r[3],l[1][1]=r[4]}if(y&&y!=="none"){var S=getSymbolSize(f.node2),x=intersectCurveCircle(l,_[1],S*n);s(l[0][0],l[1][0],l[2][0],x,r),l[1][0]=r[1],l[2][0]=r[2],s(l[0][1],l[1][1],l[2][1],x,r),l[1][1]=r[1],l[2][1]=r[2]}copy$1(v[0],l[0]),copy$1(v[1],l[2]),copy$1(v[2],l[1])}else{if(copy$1(u[0],_[0]),copy$1(u[1],_[1]),sub(c,u[1],u[0]),normalize$3(c,c),g&&g!=="none"){var S=getSymbolSize(f.node1);scaleAndAdd$1(u[0],u[0],c,S*n)}if(y&&y!=="none"){var S=getSymbolSize(f.node2);scaleAndAdd$1(u[1],u[1],c,-S*n)}copy$1(v[0],u[0]),copy$1(v[1],u[1])}})}function isViewCoordSys(a){return a.type==="view"}var GraphView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,s){var l=new SymbolDraw$1,u=new LineDraw$1,c=this.group;this._controller=new RoamController$1(s.getZr()),this._controllerHost={target:c},c.add(l.group),c.add(u.group),this._symbolDraw=l,this._lineDraw=u,this._firstRender=!0},n.prototype.render=function(r,s,l){var u=this,c=r.coordinateSystem;this._model=r;var f=this._symbolDraw,d=this._lineDraw,v=this.group;if(isViewCoordSys(c)){var g={x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY};this._firstRender?v.attr(g):updateProps$1(v,g,r)}adjustEdge(r.getGraph(),getNodeGlobalScale(r));var y=r.getData();f.updateData(y);var _=r.getEdgeData();d.updateData(_),this._updateNodeAndLinkScale(),this._updateController(r,s,l),clearTimeout(this._layoutTimeout);var S=r.forceLayout,x=r.get(["force","layoutAnimation"]);S&&this._startForceLayoutIteration(S,x);var A=r.get("layout");y.graph.eachNode(function(M){var P=M.dataIndex,R=M.getGraphicEl(),I=M.getModel();if(!!R){R.off("drag").off("dragend");var L=I.get("draggable");L&&R.on("drag",function(N){switch(A){case"force":S.warmUp(),!u._layouting&&u._startForceLayoutIteration(S,x),S.setFixed(P),y.setItemLayout(P,[R.x,R.y]);break;case"circular":y.setItemLayout(P,[R.x,R.y]),M.setLayout({fixed:!0},!0),circularLayout(r,"symbolSize",M,[N.offsetX,N.offsetY]),u.updateLayout(r);break;case"none":default:y.setItemLayout(P,[R.x,R.y]),simpleLayoutEdge(r.getGraph(),r),u.updateLayout(r);break}}).on("dragend",function(){S&&S.setUnfixed(P)}),R.setDraggable(L,!!I.get("cursor"));var O=I.get(["emphasis","focus"]);O==="adjacency"&&(getECData(R).focus=M.getAdjacentDataIndices())}}),y.graph.eachEdge(function(M){var P=M.getGraphicEl(),R=M.getModel().get(["emphasis","focus"]);!P||R==="adjacency"&&(getECData(P).focus={edge:[M.dataIndex],node:[M.node1.dataIndex,M.node2.dataIndex]})});var b=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),w=y.getLayout("cx"),E=y.getLayout("cy");y.graph.eachNode(function(M){rotateNodeLabel(M,b,w,E)}),this._firstRender=!1},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(r,s){var l=this;(function u(){r.step(function(c){l.updateLayout(l._model),(l._layouting=!c)&&(s?l._layoutTimeout=setTimeout(u,16):u())})})()},n.prototype._updateController=function(r,s,l){var u=this,c=this._controller,f=this._controllerHost,d=this.group;if(c.setPointerChecker(function(v,g,y){var _=d.getBoundingRect();return _.applyTransform(d.transform),_.contain(g,y)&&!onIrrelevantElement(v,l,r)}),!isViewCoordSys(r.coordinateSystem)){c.disable();return}c.enable(r.get("roam")),f.zoomLimit=r.get("scaleLimit"),f.zoom=r.coordinateSystem.getZoom(),c.off("pan").off("zoom").on("pan",function(v){updateViewOnPan(f,v.dx,v.dy),l.dispatchAction({seriesId:r.id,type:"graphRoam",dx:v.dx,dy:v.dy})}).on("zoom",function(v){updateViewOnZoom(f,v.scale,v.originX,v.originY),l.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:v.scale,originX:v.originX,originY:v.originY}),u._updateNodeAndLinkScale(),adjustEdge(r.getGraph(),getNodeGlobalScale(r)),u._lineDraw.updateLayout(),l.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(){var r=this._model,s=r.getData(),l=getNodeGlobalScale(r);s.eachItemGraphicEl(function(u,c){u&&u.setSymbolScale(l)})},n.prototype.updateLayout=function(r){adjustEdge(r.getGraph(),getNodeGlobalScale(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},n.prototype.remove=function(r,s){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},n.type="graph",n}(ChartView$1);const GraphView$1=GraphView;function generateNodeKey(a){return"_EC_"+a}var Graph=function(){function a(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return a.prototype.isDirected=function(){return this._directed},a.prototype.addNode=function(n,r){n=n==null?""+r:""+n;var s=this._nodesMap;if(!s[generateNodeKey(n)]){var l=new GraphNode(n,r);return l.hostGraph=this,this.nodes.push(l),s[generateNodeKey(n)]=l,l}},a.prototype.getNodeByIndex=function(n){var r=this.data.getRawIndex(n);return this.nodes[r]},a.prototype.getNodeById=function(n){return this._nodesMap[generateNodeKey(n)]},a.prototype.addEdge=function(n,r,s){var l=this._nodesMap,u=this._edgesMap;if(isNumber(n)&&(n=this.nodes[n]),isNumber(r)&&(r=this.nodes[r]),n instanceof GraphNode||(n=l[generateNodeKey(n)]),r instanceof GraphNode||(r=l[generateNodeKey(r)]),!(!n||!r)){var c=n.id+"-"+r.id,f=new GraphEdge(n,r,s);return f.hostGraph=this,this._directed&&(n.outEdges.push(f),r.inEdges.push(f)),n.edges.push(f),n!==r&&r.edges.push(f),this.edges.push(f),u[c]=f,f}},a.prototype.getEdgeByIndex=function(n){var r=this.edgeData.getRawIndex(n);return this.edges[r]},a.prototype.getEdge=function(n,r){n instanceof GraphNode&&(n=n.id),r instanceof GraphNode&&(r=r.id);var s=this._edgesMap;return this._directed?s[n+"-"+r]:s[n+"-"+r]||s[r+"-"+n]},a.prototype.eachNode=function(n,r){for(var s=this.nodes,l=s.length,u=0;u<l;u++)s[u].dataIndex>=0&&n.call(r,s[u],u)},a.prototype.eachEdge=function(n,r){for(var s=this.edges,l=s.length,u=0;u<l;u++)s[u].dataIndex>=0&&s[u].node1.dataIndex>=0&&s[u].node2.dataIndex>=0&&n.call(r,s[u],u)},a.prototype.breadthFirstTraverse=function(n,r,s,l){if(r instanceof GraphNode||(r=this._nodesMap[generateNodeKey(r)]),!!r){for(var u=s==="out"?"outEdges":s==="in"?"inEdges":"edges",c=0;c<this.nodes.length;c++)this.nodes[c].__visited=!1;if(!n.call(l,r,null))for(var f=[r];f.length;)for(var d=f.shift(),v=d[u],c=0;c<v.length;c++){var g=v[c],y=g.node1===d?g.node2:g.node1;if(!y.__visited){if(n.call(l,y,d))return;f.push(y),y.__visited=!0}}}},a.prototype.update=function(){for(var n=this.data,r=this.edgeData,s=this.nodes,l=this.edges,u=0,c=s.length;u<c;u++)s[u].dataIndex=-1;for(var u=0,c=n.count();u<c;u++)s[n.getRawIndex(u)].dataIndex=u;r.filterSelf(function(f){var d=l[r.getRawIndex(f)];return d.node1.dataIndex>=0&&d.node2.dataIndex>=0});for(var u=0,c=l.length;u<c;u++)l[u].dataIndex=-1;for(var u=0,c=r.count();u<c;u++)l[r.getRawIndex(u)].dataIndex=u},a.prototype.clone=function(){for(var n=new a(this._directed),r=this.nodes,s=this.edges,l=0;l<r.length;l++)n.addNode(r[l].id,r[l].dataIndex);for(var l=0;l<s.length;l++){var u=s[l];n.addEdge(u.node1.id,u.node2.id,u.dataIndex)}return n},a}(),GraphNode=function(){function a(n,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n==null?"":n,this.dataIndex=r==null?-1:r}return a.prototype.degree=function(){return this.edges.length},a.prototype.inDegree=function(){return this.inEdges.length},a.prototype.outDegree=function(){return this.outEdges.length},a.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,s=r.data.getItemModel(this.dataIndex);return s.getModel(n)}},a.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},r=0;r<this.edges.length;r++){var s=this.edges[r];s.dataIndex<0||(n.edge.push(s.dataIndex),n.node.push(s.node1.dataIndex,s.node2.dataIndex))}return n},a}(),GraphEdge=function(){function a(n,r,s){this.dataIndex=-1,this.node1=n,this.node2=r,this.dataIndex=s==null?-1:s}return a.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,s=r.edgeData.getItemModel(this.dataIndex);return s.getModel(n)}},a.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},a}();function createGraphDataProxyMixin(a,n){return{getValue:function(r){var s=this[a][n];return s.getStore().get(s.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,s){this.dataIndex>=0&&this[a][n].setItemVisual(this.dataIndex,r,s)},getVisual:function(r){return this[a][n].getItemVisual(this.dataIndex,r)},setLayout:function(r,s){this.dataIndex>=0&&this[a][n].setItemLayout(this.dataIndex,r,s)},getLayout:function(){return this[a][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][n].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));const Graph$1=Graph;function createGraphFromNodeEdge(a,n,r,s,l){for(var u=new Graph$1(s),c=0;c<a.length;c++)u.addNode(retrieve(a[c].id,a[c].name,c),c);for(var f=[],d=[],v=0,c=0;c<n.length;c++){var g=n[c],y=g.source,_=g.target;u.addEdge(y,_,v)&&(d.push(g),f.push(retrieve(convertOptionIdName(g.id,null),y+" > "+_)),v++)}var S=r.get("coordinateSystem"),x;if(S==="cartesian2d"||S==="polar")x=createSeriesData(a,r);else{var A=CoordinateSystem.get(S),b=A?A.dimensions||[]:[];indexOf(b,"value")<0&&b.concat(["value"]);var w=prepareSeriesDataSchema(a,{coordDimensions:b,encodeDefine:r.getEncode()}).dimensions;x=new SeriesData$1(w,r),x.initData(a)}var E=new SeriesData$1(["value"],r);return E.initData(d,f),l&&l(x,E),linkSeriesData({mainData:x,struct:u,structAttr:"graph",datas:{node:x,edge:E},datasAttr:{node:"data",edge:"edgeData"}}),u.update(),u}var GraphSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments);var s=this;function l(){return s._categoriesData}this.legendVisualProvider=new LegendVisualProvider$1(l,l),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeOption=function(r){a.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(r){a.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(r,"edgeLabel",["show"])},n.prototype.getInitialData=function(r,s){var l=r.edges||r.links||[],u=r.data||r.nodes||[],c=this;if(u&&l){initCurvenessList(this);var f=createGraphFromNodeEdge(u,l,this,!0,d);return each$f(f.edges,function(v){createEdgeMapForCurveness(v.node1,v.node2,this,v.dataIndex)},this),f.data}function d(v,g){v.wrapMethod("getItemModel",function(x){var A=c._categoriesModels,b=x.getShallow("category"),w=A[b];return w&&(w.parentModel=x.parentModel,x.parentModel=w),x});var y=Model$1.prototype.getModel;function _(x,A){var b=y.call(this,x,A);return b.resolveParentPath=S,b}g.wrapMethod("getItemModel",function(x){return x.resolveParentPath=S,x.getModel=_,x});function S(x){if(x&&(x[0]==="label"||x[1]==="label")){var A=x.slice();return x[0]==="label"?A[0]="edgeLabel":x[1]==="label"&&(A[1]="edgeLabel"),A}return x}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(r,s,l){if(l==="edge"){var u=this.getData(),c=this.getDataParams(r,l),f=u.graph.getEdgeByIndex(r),d=u.getName(f.node1.dataIndex),v=u.getName(f.node2.dataIndex),g=[];return d!=null&&g.push(d),v!=null&&g.push(v),createTooltipMarkup("nameValue",{name:g.join(" > "),value:c.value,noValue:c.value==null})}var y=defaultSeriesFormatTooltip({series:this,dataIndex:r,multipleSeries:s});return y},n.prototype._updateCategoriesData=function(){var r=map$1(this.option.categories||[],function(l){return l.value!=null?l:extend({value:0},l)}),s=new SeriesData$1(["value"],this);s.initData(r),this._categoriesData=s,this._categoriesModels=s.mapArray(function(l){return s.getItemModel(l)})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.isAnimationEnabled=function(){return a.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$1);const GraphSeriesModel$1=GraphSeriesModel;var actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(a){a.registerChartView(GraphView$1),a.registerSeriesModel(GraphSeriesModel$1),a.registerProcessor(categoryFilter),a.registerVisual(categoryVisual),a.registerVisual(graphEdgeVisual),a.registerLayout(graphSimpleLayout),a.registerLayout(a.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),a.registerLayout(graphForceLayout),a.registerCoordinateSystem("graphView",{dimensions:View$1.dimensions,create:createViewCoordSys}),a.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop$1),a.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop$1),a.registerAction(actionInfo$1,function(n,r,s){r.eachComponent({mainType:"series",query:n},function(l){var u=l.coordinateSystem,c=updateCenterAndZoom(u,n,void 0,s);l.setCenter&&l.setCenter(c.center),l.setZoom&&l.setZoom(c.zoom)})})}var PointerShape=function(){function a(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return a}(),PointerPath=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s.type="pointer",s}return n.prototype.getDefaultShape=function(){return new PointerShape},n.prototype.buildPath=function(r,s){var l=Math.cos,u=Math.sin,c=s.r,f=s.width,d=s.angle,v=s.x-l(d)*f*(f>=c/3?1:2),g=s.y-u(d)*f*(f>=c/3?1:2);d=s.angle-Math.PI/2,r.moveTo(v,g),r.lineTo(s.x+l(d)*f,s.y+u(d)*f),r.lineTo(s.x+l(s.angle)*c,s.y+u(s.angle)*c),r.lineTo(s.x-l(d)*f,s.y-u(d)*f),r.lineTo(v,g)},n}(Path$1);const PointerPath$1=PointerPath;function parsePosition(a,n){var r=a.get("center"),s=n.getWidth(),l=n.getHeight(),u=Math.min(s,l),c=parsePercent(r[0],n.getWidth()),f=parsePercent(r[1],n.getHeight()),d=parsePercent(a.get("radius"),u/2);return{cx:c,cy:f,r:d}}function formatLabel(a,n){var r=a==null?"":a+"";return n&&(isString(n)?r=n.replace("{value}",r):isFunction(n)&&(r=n(a))),r}var GaugeView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){this.group.removeAll();var u=r.get(["axisLine","lineStyle","color"]),c=parsePosition(r,l);this._renderMain(r,s,l,u,c),this._data=r.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(r,s,l,u,c){var f=this.group,d=r.get("clockwise"),v=-r.get("startAngle")/180*Math.PI,g=-r.get("endAngle")/180*Math.PI,y=r.getModel("axisLine"),_=y.get("roundCap"),S=_?Sausage:Sector$1,x=y.get("show"),A=y.getModel("lineStyle"),b=A.get("width"),w=[v,g];normalizeArcAngles(w,!d),v=w[0],g=w[1];for(var E=g-v,M=v,P=[],R=0;x&&R<u.length;R++){var I=Math.min(Math.max(u[R][0],0),1);g=v+E*I;var L=new S({shape:{startAngle:M,endAngle:g,cx:c.cx,cy:c.cy,clockwise:d,r0:c.r-b,r:c.r},silent:!0});L.setStyle({fill:u[R][1]}),L.setStyle(A.getLineStyle(["color","width"])),P.push(L),M=g}P.reverse(),each$f(P,function(N){return f.add(N)});var O=function(N){if(N<=0)return u[0][1];var B;for(B=0;B<u.length;B++)if(u[B][0]>=N&&(B===0?0:u[B-1][0])<N)return u[B][1];return u[B-1][1]};this._renderTicks(r,s,l,O,c,v,g,d,b),this._renderTitleAndDetail(r,s,l,O,c),this._renderAnchor(r,c),this._renderPointer(r,s,l,O,c,v,g,d,b)},n.prototype._renderTicks=function(r,s,l,u,c,f,d,v,g){for(var y=this.group,_=c.cx,S=c.cy,x=c.r,A=+r.get("min"),b=+r.get("max"),w=r.getModel("splitLine"),E=r.getModel("axisTick"),M=r.getModel("axisLabel"),P=r.get("splitNumber"),R=E.get("splitNumber"),I=parsePercent(w.get("length"),x),L=parsePercent(E.get("length"),x),O=f,N=(d-f)/P,B=N/R,F=w.getModel("lineStyle").getLineStyle(),V=E.getModel("lineStyle").getLineStyle(),z=w.get("distance"),U,Y,q=0;q<=P;q++){if(U=Math.cos(O),Y=Math.sin(O),w.get("show")){var Q=z?z+g:g,j=new Line$3({shape:{x1:U*(x-Q)+_,y1:Y*(x-Q)+S,x2:U*(x-I-Q)+_,y2:Y*(x-I-Q)+S},style:F,silent:!0});F.stroke==="auto"&&j.setStyle({stroke:u(q/P)}),y.add(j)}if(M.get("show")){var Q=M.get("distance")+z,ne=formatLabel(round$3(q/P*(b-A)+A),M.get("formatter")),fe=u(q/P),de=U*(x-I-Q)+_,be=Y*(x-I-Q)+S,Me=M.get("rotate"),Pe=0;Me==="radial"?(Pe=-O+2*Math.PI,Pe>Math.PI/2&&(Pe+=Math.PI)):Me==="tangential"?Pe=-O-Math.PI/2:isNumber(Me)&&(Pe=Me*Math.PI/180),Pe===0?y.add(new ZRText$1({style:createTextStyle(M,{text:ne,x:de,y:be,verticalAlign:Y<-.8?"top":Y>.8?"bottom":"middle",align:U<-.4?"left":U>.4?"right":"center"},{inheritColor:fe}),silent:!0})):y.add(new ZRText$1({style:createTextStyle(M,{text:ne,x:de,y:be,verticalAlign:"middle",align:"center"},{inheritColor:fe}),silent:!0,originX:de,originY:be,rotation:Pe}))}if(E.get("show")&&q!==P){var Q=E.get("distance");Q=Q?Q+g:g;for(var ae=0;ae<=R;ae++){U=Math.cos(O),Y=Math.sin(O);var me=new Line$3({shape:{x1:U*(x-Q)+_,y1:Y*(x-Q)+S,x2:U*(x-L-Q)+_,y2:Y*(x-L-Q)+S},silent:!0,style:V});V.stroke==="auto"&&me.setStyle({stroke:u((q+ae/R)/P)}),y.add(me),O+=B}O-=B}else O+=N}},n.prototype._renderPointer=function(r,s,l,u,c,f,d,v,g){var y=this.group,_=this._data,S=this._progressEls,x=[],A=r.get(["pointer","show"]),b=r.getModel("progress"),w=b.get("show"),E=r.getData(),M=E.mapDimension("value"),P=+r.get("min"),R=+r.get("max"),I=[P,R],L=[f,d];function O(B,F){var V=E.getItemModel(B),z=V.getModel("pointer"),U=parsePercent(z.get("width"),c.r),Y=parsePercent(z.get("length"),c.r),q=r.get(["pointer","icon"]),Q=z.get("offsetCenter"),j=parsePercent(Q[0],c.r),ne=parsePercent(Q[1],c.r),fe=z.get("keepAspect"),de;return q?de=createSymbol$1(q,j-U/2,ne-Y,U,Y,null,fe):de=new PointerPath$1({shape:{angle:-Math.PI/2,width:U,r:Y,x:j,y:ne}}),de.rotation=-(F+Math.PI/2),de.x=c.cx,de.y=c.cy,de}function N(B,F){var V=b.get("roundCap"),z=V?Sausage:Sector$1,U=b.get("overlap"),Y=U?b.get("width"):g/E.count(),q=U?c.r-Y:c.r-(B+1)*Y,Q=U?c.r:c.r-B*Y,j=new z({shape:{startAngle:f,endAngle:F,cx:c.cx,cy:c.cy,clockwise:v,r0:q,r:Q}});return U&&(j.z2=R-E.get(M,B)%R),j}(w||A)&&(E.diff(_).add(function(B){var F=E.get(M,B);if(A){var V=O(B,f);initProps(V,{rotation:-((isNaN(+F)?L[0]:linearMap$2(F,I,L,!0))+Math.PI/2)},r),y.add(V),E.setItemGraphicEl(B,V)}if(w){var z=N(B,f),U=b.get("clip");initProps(z,{shape:{endAngle:linearMap$2(F,I,L,U)}},r),y.add(z),setCommonECData(r.seriesIndex,E.dataType,B,z),x[B]=z}}).update(function(B,F){var V=E.get(M,B);if(A){var z=_.getItemGraphicEl(F),U=z?z.rotation:f,Y=O(B,U);Y.rotation=U,updateProps$1(Y,{rotation:-((isNaN(+V)?L[0]:linearMap$2(V,I,L,!0))+Math.PI/2)},r),y.add(Y),E.setItemGraphicEl(B,Y)}if(w){var q=S[F],Q=q?q.shape.endAngle:f,j=N(B,Q),ne=b.get("clip");updateProps$1(j,{shape:{endAngle:linearMap$2(V,I,L,ne)}},r),y.add(j),setCommonECData(r.seriesIndex,E.dataType,B,j),x[B]=j}}).execute(),E.each(function(B){var F=E.getItemModel(B),V=F.getModel("emphasis"),z=V.get("focus"),U=V.get("blurScope"),Y=V.get("disabled");if(A){var q=E.getItemGraphicEl(B),Q=E.getItemVisual(B,"style"),j=Q.fill;if(q instanceof ZRImage$1){var ne=q.style;q.useStyle(extend({image:ne.image,x:ne.x,y:ne.y,width:ne.width,height:ne.height},Q))}else q.useStyle(Q),q.type!=="pointer"&&q.setColor(j);q.setStyle(F.getModel(["pointer","itemStyle"]).getItemStyle()),q.style.fill==="auto"&&q.setStyle("fill",u(linearMap$2(E.get(M,B),I,[0,1],!0))),q.z2EmphasisLift=0,setStatesStylesFromModel(q,F),toggleHoverEmphasis(q,z,U,Y)}if(w){var fe=x[B];fe.useStyle(E.getItemVisual(B,"style")),fe.setStyle(F.getModel(["progress","itemStyle"]).getItemStyle()),fe.z2EmphasisLift=0,setStatesStylesFromModel(fe,F),toggleHoverEmphasis(fe,z,U,Y)}}),this._progressEls=x)},n.prototype._renderAnchor=function(r,s){var l=r.getModel("anchor"),u=l.get("show");if(u){var c=l.get("size"),f=l.get("icon"),d=l.get("offsetCenter"),v=l.get("keepAspect"),g=createSymbol$1(f,s.cx-c/2+parsePercent(d[0],s.r),s.cy-c/2+parsePercent(d[1],s.r),c,c,null,v);g.z2=l.get("showAbove")?1:0,g.setStyle(l.getModel("itemStyle").getItemStyle()),this.group.add(g)}},n.prototype._renderTitleAndDetail=function(r,s,l,u,c){var f=this,d=r.getData(),v=d.mapDimension("value"),g=+r.get("min"),y=+r.get("max"),_=new Group$4,S=[],x=[],A=r.isAnimationEnabled(),b=r.get(["pointer","showAbove"]);d.diff(this._data).add(function(w){S[w]=new ZRText$1({silent:!0}),x[w]=new ZRText$1({silent:!0})}).update(function(w,E){S[w]=f._titleEls[E],x[w]=f._detailEls[E]}).execute(),d.each(function(w){var E=d.getItemModel(w),M=d.get(v,w),P=new Group$4,R=u(linearMap$2(M,[g,y],[0,1],!0)),I=E.getModel("title");if(I.get("show")){var L=I.get("offsetCenter"),O=c.cx+parsePercent(L[0],c.r),N=c.cy+parsePercent(L[1],c.r),B=S[w];B.attr({z2:b?0:2,style:createTextStyle(I,{x:O,y:N,text:d.getName(w),align:"center",verticalAlign:"middle"},{inheritColor:R})}),P.add(B)}var F=E.getModel("detail");if(F.get("show")){var V=F.get("offsetCenter"),z=c.cx+parsePercent(V[0],c.r),U=c.cy+parsePercent(V[1],c.r),Y=parsePercent(F.get("width"),c.r),q=parsePercent(F.get("height"),c.r),Q=r.get(["progress","show"])?d.getItemVisual(w,"style").fill:R,B=x[w],j=F.get("formatter");B.attr({z2:b?0:2,style:createTextStyle(F,{x:z,y:U,text:formatLabel(M,j),width:isNaN(Y)?null:Y,height:isNaN(q)?null:q,align:"center",verticalAlign:"middle"},{inheritColor:Q})}),setLabelValueAnimation(B,{normal:F},M,function(fe){return formatLabel(fe,j)}),A&&animateLabelValue(B,w,d,r,{getFormattedLabel:function(fe,de,be,Me,Pe,ae){return formatLabel(ae?ae.interpolatedValue:M,j)}}),P.add(B)}_.add(P)}),this.group.add(_),this._titleEls=S,this._detailEls=x},n.type="gauge",n}(ChartView$1);const GaugeView$1=GaugeView;var GaugeSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="itemStyle",r}return n.prototype.getInitialData=function(r,s){return createSeriesDataSimply(this,["value"])},n.type="series.gauge",n.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n}(SeriesModel$1);const GaugeSeriesModel$1=GaugeSeriesModel;function install$E(a){a.registerChartView(GaugeView$1),a.registerSeriesModel(GaugeSeriesModel$1)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(a){__extends(n,a);function n(r,s){var l=a.call(this)||this,u=l,c=new Polyline$3,f=new ZRText$1;return u.setTextContent(f),l.setTextGuideLine(c),l.updateData(r,s,!0),l}return n.prototype.updateData=function(r,s,l){var u=this,c=r.hostModel,f=r.getItemModel(s),d=r.getItemLayout(s),v=f.getModel("emphasis"),g=f.get(opacityAccessPath$1);g=g==null?1:g,l||saveOldStyle(u),u.useStyle(r.getItemVisual(s,"style")),u.style.lineJoin="round",l?(u.setShape({points:d.points}),u.style.opacity=0,initProps(u,{style:{opacity:g}},c,s)):updateProps$1(u,{style:{opacity:g},shape:{points:d.points}},c,s),setStatesStylesFromModel(u,f),this._updateLabel(r,s),toggleHoverEmphasis(this,v.get("focus"),v.get("blurScope"),v.get("disabled"))},n.prototype._updateLabel=function(r,s){var l=this,u=this.getTextGuideLine(),c=l.getTextContent(),f=r.hostModel,d=r.getItemModel(s),v=r.getItemLayout(s),g=v.label,y=r.getItemVisual(s,"style"),_=y.fill;setLabelStyle(c,getLabelStatesModels(d),{labelFetcher:r.hostModel,labelDataIndex:s,defaultOpacity:y.opacity,defaultText:r.getName(s)},{normal:{align:g.textAlign,verticalAlign:g.verticalAlign}}),l.setTextConfig({local:!0,inside:!!g.inside,insideStroke:_,outsideFill:_});var S=g.linePoints;u.setShape({points:S}),l.textGuideLineConfig={anchor:S?new Point$1(S[0][0],S[0][1]):null},updateProps$1(c,{style:{x:g.x,y:g.y}},f,s),c.attr({rotation:g.rotation,originX:g.x,originY:g.y,z2:10}),setLabelLineStyle(l,getLabelLineStatesModels(d),{stroke:_})},n}(Polygon$1),FunnelView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,s,l){var u=r.getData(),c=this._data,f=this.group;u.diff(c).add(function(d){var v=new FunnelPiece(u,d);u.setItemGraphicEl(d,v),f.add(v)}).update(function(d,v){var g=c.getItemGraphicEl(v);g.updateData(u,d),f.add(g),u.setItemGraphicEl(d,g)}).remove(function(d){var v=c.getItemGraphicEl(d);removeElementWithFadeOut(v,r,d)}).execute(),this._data=u},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type="funnel",n}(ChartView$1);const FunnelView$1=FunnelView;var FunnelSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.getInitialData=function(r,s){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype._defaultLabelLine=function(r){defaultEmphasis(r,"labelLine",["show"]);var s=r.labelLine,l=r.emphasis.labelLine;s.show=s.show&&r.label.show,l.show=l.show&&r.emphasis.label.show},n.prototype.getDataParams=function(r){var s=this.getData(),l=a.prototype.getDataParams.call(this,r),u=s.mapDimension("value"),c=s.getSum(u);return l.percent=c?+(s.get(u,r)/c*100).toFixed(2):0,l.$vars.push("percent"),l},n.type="series.funnel",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$1);const FunnelSeriesModel$1=FunnelSeriesModel;function getViewRect$2(a,n){return getLayoutRect(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getSortedIndices(a,n){for(var r=a.mapDimension("value"),s=a.mapArray(r,function(d){return d}),l=[],u=n==="ascending",c=0,f=a.count();c<f;c++)l[c]=c;return isFunction(n)?l.sort(n):n!=="none"&&l.sort(function(d,v){return u?s[d]-s[v]:s[v]-s[d]}),l}function labelLayout(a){var n=a.hostModel,r=n.get("orient");a.each(function(s){var l=a.getItemModel(s),u=l.getModel("label"),c=u.get("position"),f=l.getModel("labelLine"),d=a.getItemLayout(s),v=d.points,g=c==="inner"||c==="inside"||c==="center"||c==="insideLeft"||c==="insideRight",y,_,S,x;if(g)c==="insideLeft"?(_=(v[0][0]+v[3][0])/2+5,S=(v[0][1]+v[3][1])/2,y="left"):c==="insideRight"?(_=(v[1][0]+v[2][0])/2-5,S=(v[1][1]+v[2][1])/2,y="right"):(_=(v[0][0]+v[1][0]+v[2][0]+v[3][0])/4,S=(v[0][1]+v[1][1]+v[2][1]+v[3][1])/4,y="center"),x=[[_,S],[_,S]];else{var A=void 0,b=void 0,w=void 0,E=void 0,M=f.get("length");c==="left"?(A=(v[3][0]+v[0][0])/2,b=(v[3][1]+v[0][1])/2,w=A-M,_=w-5,y="right"):c==="right"?(A=(v[1][0]+v[2][0])/2,b=(v[1][1]+v[2][1])/2,w=A+M,_=w+5,y="left"):c==="top"?(A=(v[3][0]+v[0][0])/2,b=(v[3][1]+v[0][1])/2,E=b-M,S=E-5,y="center"):c==="bottom"?(A=(v[1][0]+v[2][0])/2,b=(v[1][1]+v[2][1])/2,E=b+M,S=E+5,y="center"):c==="rightTop"?(A=r==="horizontal"?v[3][0]:v[1][0],b=r==="horizontal"?v[3][1]:v[1][1],r==="horizontal"?(E=b-M,S=E-5,y="center"):(w=A+M,_=w+5,y="top")):c==="rightBottom"?(A=v[2][0],b=v[2][1],r==="horizontal"?(E=b+M,S=E+5,y="center"):(w=A+M,_=w+5,y="bottom")):c==="leftTop"?(A=v[0][0],b=r==="horizontal"?v[0][1]:v[1][1],r==="horizontal"?(E=b-M,S=E-5,y="center"):(w=A-M,_=w-5,y="right")):c==="leftBottom"?(A=r==="horizontal"?v[1][0]:v[3][0],b=r==="horizontal"?v[1][1]:v[2][1],r==="horizontal"?(E=b+M,S=E+5,y="center"):(w=A-M,_=w-5,y="right")):(A=(v[1][0]+v[2][0])/2,b=(v[1][1]+v[2][1])/2,r==="horizontal"?(E=b+M,S=E+5,y="center"):(w=A+M,_=w+5,y="left")),r==="horizontal"?(w=A,_=w):(E=b,S=E),x=[[A,b],[w,E]]}d.label={linePoints:x,x:_,y:S,verticalAlign:"middle",textAlign:y,inside:g}})}function funnelLayout(a,n){a.eachSeriesByType("funnel",function(r){var s=r.getData(),l=s.mapDimension("value"),u=r.get("sort"),c=getViewRect$2(r,n),f=r.get("orient"),d=c.width,v=c.height,g=getSortedIndices(s,u),y=c.x,_=c.y,S=f==="horizontal"?[parsePercent(r.get("minSize"),v),parsePercent(r.get("maxSize"),v)]:[parsePercent(r.get("minSize"),d),parsePercent(r.get("maxSize"),d)],x=s.getDataExtent(l),A=r.get("min"),b=r.get("max");A==null&&(A=Math.min(x[0],0)),b==null&&(b=x[1]);var w=r.get("funnelAlign"),E=r.get("gap"),M=f==="horizontal"?d:v,P=(M-E*(s.count()-1))/s.count(),R=function(U,Y){if(f==="horizontal"){var q=s.get(l,U)||0,Q=linearMap$2(q,[A,b],S,!0),j=void 0;switch(w){case"top":j=_;break;case"center":j=_+(v-Q)/2;break;case"bottom":j=_+(v-Q);break}return[[Y,j],[Y,j+Q]]}var ne=s.get(l,U)||0,fe=linearMap$2(ne,[A,b],S,!0),de;switch(w){case"left":de=y;break;case"center":de=y+(d-fe)/2;break;case"right":de=y+d-fe;break}return[[de,Y],[de+fe,Y]]};u==="ascending"&&(P=-P,E=-E,f==="horizontal"?y+=d:_+=v,g=g.reverse());for(var I=0;I<g.length;I++){var L=g[I],O=g[I+1],N=s.getItemModel(L);if(f==="horizontal"){var B=N.get(["itemStyle","width"]);B==null?B=P:(B=parsePercent(B,d),u==="ascending"&&(B=-B));var F=R(L,y),V=R(O,y+B);y+=B+E,s.setItemLayout(L,{points:F.concat(V.slice().reverse())})}else{var z=N.get(["itemStyle","height"]);z==null?z=P:(z=parsePercent(z,v),u==="ascending"&&(z=-z));var F=R(L,_),V=R(O,_+z);_+=z+E,s.setItemLayout(L,{points:F.concat(V.slice().reverse())})}}labelLayout(s)})}function install$D(a){a.registerChartView(FunnelView$1),a.registerSeriesModel(FunnelSeriesModel$1),a.registerLayout(funnelLayout),a.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$2=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._dataGroup=new Group$4,r._initialized=!1,r}return n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(r,s,l,u){this._progressiveEls=null;var c=this._dataGroup,f=r.getData(),d=this._data,v=r.coordinateSystem,g=v.dimensions,y=makeSeriesScope(r);f.diff(d).add(_).update(S).remove(x).execute();function _(b){var w=addEl(f,c,b,g,v);updateElCommon(w,f,b,y)}function S(b,w){var E=d.getItemGraphicEl(w),M=createLinePoints(f,b,g,v);f.setItemGraphicEl(b,E),updateProps$1(E,{shape:{points:M}},r,b),saveOldStyle(E),updateElCommon(E,f,b,y)}function x(b){var w=d.getItemGraphicEl(b);c.remove(w)}if(!this._initialized){this._initialized=!0;var A=createGridClipShape$2(v,r,function(){setTimeout(function(){c.removeClipPath()})});c.setClipPath(A)}this._data=f},n.prototype.incrementalPrepareRender=function(r,s,l){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(r,s,l){for(var u=s.getData(),c=s.coordinateSystem,f=c.dimensions,d=makeSeriesScope(s),v=this._progressiveEls=[],g=r.start;g<r.end;g++){var y=addEl(u,this._dataGroup,g,f,c);y.incremental=!0,updateElCommon(y,u,g,d),v.push(y)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type="parallel",n}(ChartView$1);function createGridClipShape$2(a,n,r){var s=a.model,l=a.getRect(),u=new Rect$3({shape:{x:l.x,y:l.y,width:l.width,height:l.height}}),c=s.get("layout")==="horizontal"?"width":"height";return u.setShape(c,0),initProps(u,{shape:{width:l.width,height:l.height}},n,r),u}function createLinePoints(a,n,r,s){for(var l=[],u=0;u<r.length;u++){var c=r[u],f=a.get(a.mapDimension(c),n);isEmptyValue(f,s.getAxis(c).type)||l.push(s.dataToPoint(f,c))}return l}function addEl(a,n,r,s,l){var u=createLinePoints(a,r,s,l),c=new Polyline$3({shape:{points:u},z2:10});return n.add(c),a.setItemGraphicEl(r,c),c}function makeSeriesScope(a){var n=a.get("smooth",!0);return n===!0&&(n=DEFAULT_SMOOTH),n=numericToNumber(n),eqNaN(n)&&(n=0),{smooth:n}}function updateElCommon(a,n,r,s){a.useStyle(n.getItemVisual(r,"style")),a.style.fill=null,a.setShape("smooth",s.smooth);var l=n.getItemModel(r),u=l.getModel("emphasis");setStatesStylesFromModel(a,l,"lineStyle"),toggleHoverEmphasis(a,u.get("focus"),u.get("blurScope"),u.get("disabled"))}function isEmptyValue(a,n){return n==="category"?a==null:a==null||isNaN(a)}const ParallelView$3=ParallelView$2;var ParallelSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.getInitialData=function(r,s){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},n.prototype.getRawIndicesByActiveState=function(r){var s=this.coordinateSystem,l=this.getData(),u=[];return s.eachActiveState(l,function(c,f){r===c&&u.push(l.getRawIndex(f))}),u},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n}(SeriesModel$1);function makeDefaultEncode(a){var n=a.ecModel.getComponent("parallel",a.get("parallelIndex"));if(!!n){var r={};return each$f(n.dimensions,function(s){var l=convertDimNameToNumber(s);r[s]=l}),r}}function convertDimNameToNumber(a){return+a.replace("dim","")}const ParallelSeriesModel$1=ParallelSeriesModel;var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(a,n){var r=a.coordinateSystem,s={normal:a.get(["lineStyle","opacity"]),active:a.get("activeOpacity"),inactive:a.get("inactiveOpacity")};return{progress:function(l,u){r.eachActiveState(u,function(c,f){var d=s[c];if(c==="normal"&&u.hasItemOption){var v=u.getItemModel(f).get(opacityAccessPath,!0);v!=null&&(d=v)}var g=u.ensureUniqueItemVisual(f,"style");g.opacity=d},l.start,l.end)}}}};const parallelVisual$1=parallelVisual;function parallelPreprocessor(a){createParallelIfNeeded(a),mergeAxisOptionFromParallel(a)}function createParallelIfNeeded(a){if(!a.parallel){var n=!1;each$f(a.series,function(r){r&&r.type==="parallel"&&(n=!0)}),n&&(a.parallel=[{}])}}function mergeAxisOptionFromParallel(a){var n=normalizeToArray(a.parallelAxis);each$f(n,function(r){if(!!isObject$3(r)){var s=r.parallelIndex||0,l=normalizeToArray(a.parallel)[s];l&&l.parallelAxisDefault&&merge(r,l.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){this._model=r,this._api=l,this._handlers||(this._handlers={},each$f(handlers$1,function(u,c){l.getZr().on(c,this._handlers[c]=bind$1(u,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(r,s){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(l,u){s.getZr().off(u,l)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},n.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},r))},n.type="parallel",n}(ComponentView$1),handlers$1={mousedown:function(a){checkTrigger(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var n=this._mouseDownPoint;if(checkTrigger(this,"click")&&n){var r=[a.offsetX,a.offsetY],s=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2);if(s>CLICK_THRESHOLD)return;var l=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);l.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:l.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var n=this._model,r=n.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]),s=r.behavior;s==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand(s==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:s==="jump"?null:{duration:0}})}}};function checkTrigger(a,n){var r=a._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===n}const ParallelView$1=ParallelView;var ParallelModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){a.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(r){var s=this.option;r&&merge(s,r,!0),this._initDimensions()},n.prototype.contains=function(r,s){var l=r.get("parallelIndex");return l!=null&&s.getComponent("parallel",l)===this},n.prototype.setAxisExpand=function(r){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(s){r.hasOwnProperty(s)&&(this.option[s]=r[s])},this)},n.prototype._initDimensions=function(){var r=this.dimensions=[],s=this.parallelAxisIndex=[],l=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(u){return(u.get("parallelIndex")||0)===this.componentIndex},this);each$f(l,function(u){r.push("dim"+u.get("dim")),s.push(u.componentIndex)})},n.type="parallel",n.dependencies=["parallelAxis"],n.layoutMode="box",n.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},n}(ComponentModel$1);const ParallelModel$1=ParallelModel;var ParallelAxis=function(a){__extends(n,a);function n(r,s,l,u,c){var f=a.call(this,r,s,l)||this;return f.type=u||"value",f.axisIndex=c,f}return n.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},n}(Axis$1);const ParallelAxis$1=ParallelAxis;function sliderMove(a,n,r,s,l,u){a=a||0;var c=r[1]-r[0];if(l!=null&&(l=restrict$1(l,[0,c])),u!=null&&(u=Math.max(u,l!=null?l:0)),s==="all"){var f=Math.abs(n[1]-n[0]);f=restrict$1(f,[0,c]),l=u=restrict$1(f,[l,u]),s=0}n[0]=restrict$1(n[0],r),n[1]=restrict$1(n[1],r);var d=getSpanSign(n,s);n[s]+=a;var v=l||0,g=r.slice();d.sign<0?g[0]+=v:g[1]-=v,n[s]=restrict$1(n[s],g);var y;return y=getSpanSign(n,s),l!=null&&(y.sign!==d.sign||y.span<l)&&(n[1-s]=n[s]+d.sign*l),y=getSpanSign(n,s),u!=null&&y.span>u&&(n[1-s]=n[s]+y.sign*u),n}function getSpanSign(a,n){var r=a[n]-a[1-n];return{span:Math.abs(r),sign:r>0?-1:r<0?1:n?-1:1}}function restrict$1(a,n){return Math.min(n[1]!=null?n[1]:1/0,Math.max(n[0]!=null?n[0]:-1/0,a))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function a(n,r,s){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=n.dimensions,this._model=n,this._init(n,r,s)}return a.prototype._init=function(n,r,s){var l=n.dimensions,u=n.parallelAxisIndex;each$a(l,function(c,f){var d=u[f],v=r.getComponent("parallelAxis",d),g=this._axesMap.set(c,new ParallelAxis$1(c,createScaleByModel$1(v),[0,0],v.get("type"),d)),y=g.type==="category";g.onBand=y&&v.get("boundaryGap"),g.inverse=v.get("inverse"),v.axis=g,g.model=v,g.coordinateSystem=v.coordinateSystem=this},this)},a.prototype.update=function(n,r){this._updateAxesFromSeries(this._model,n)},a.prototype.containPoint=function(n){var r=this._makeLayoutInfo(),s=r.axisBase,l=r.layoutBase,u=r.pixelDimIndex,c=n[1-u],f=n[u];return c>=s&&c<=s+r.axisLength&&f>=l&&f<=l+r.layoutLength},a.prototype.getModel=function(){return this._model},a.prototype._updateAxesFromSeries=function(n,r){r.eachSeries(function(s){if(!!n.contains(s,r)){var l=s.getData();each$a(this.dimensions,function(u){var c=this._axesMap.get(u);c.scale.unionExtentFromData(l,l.mapDimension(u)),niceScaleExtent(c.scale,c.model)},this)}},this)},a.prototype.resize=function(n,r){this._rect=getLayoutRect(n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},a.prototype.getRect=function(){return this._rect},a.prototype._makeLayoutInfo=function(){var n=this._model,r=this._rect,s=["x","y"],l=["width","height"],u=n.get("layout"),c=u==="horizontal"?0:1,f=r[l[c]],d=[0,f],v=this.dimensions.length,g=restrict(n.get("axisExpandWidth"),d),y=restrict(n.get("axisExpandCount")||0,[0,v]),_=n.get("axisExpandable")&&v>3&&v>y&&y>1&&g>0&&f>0,S=n.get("axisExpandWindow"),x;if(S)x=restrict(S[1]-S[0],d),S[1]=S[0]+x;else{x=restrict(g*(y-1),d);var A=n.get("axisExpandCenter")||mathFloor(v/2);S=[g*A-x/2],S[1]=S[0]+x}var b=(f-x)/(v-y);b<3&&(b=0);var w=[mathFloor(round(S[0]/g,1))+1,mathCeil(round(S[1]/g,1))-1],E=b/g*S[0];return{layout:u,pixelDimIndex:c,layoutBase:r[s[c]],layoutLength:f,axisBase:r[s[1-c]],axisLength:r[l[1-c]],axisExpandable:_,axisExpandWidth:g,axisCollapseWidth:b,axisExpandWindow:S,axisCount:v,winInnerIndices:w,axisExpandWindow0Pos:E}},a.prototype._layoutAxes=function(){var n=this._rect,r=this._axesMap,s=this.dimensions,l=this._makeLayoutInfo(),u=l.layout;r.each(function(c){var f=[0,l.axisLength],d=c.inverse?1:0;c.setExtent(f[d],f[1-d])}),each$a(s,function(c,f){var d=(l.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(f,l),v={horizontal:{x:d.position,y:l.axisLength},vertical:{x:0,y:d.position}},g={horizontal:PI$1/2,vertical:0},y=[v[u].x+n.x,v[u].y+n.y],_=g[u],S=create$1();rotate(S,S,_),translate(S,S,y),this._axesLayout[c]={position:y,rotation:_,transform:S,axisNameAvailableWidth:d.axisNameAvailableWidth,axisLabelShow:d.axisLabelShow,nameTruncateMaxWidth:d.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},a.prototype.getAxis=function(n){return this._axesMap.get(n)},a.prototype.dataToPoint=function(n,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(n),r)},a.prototype.eachActiveState=function(n,r,s,l){s==null&&(s=0),l==null&&(l=n.count());var u=this._axesMap,c=this.dimensions,f=[],d=[];each$f(c,function(b){f.push(n.mapDimension(b)),d.push(u.get(b).model)});for(var v=this.hasAxisBrushed(),g=s;g<l;g++){var y=void 0;if(!v)y="normal";else{y="active";for(var _=n.getValues(f,g),S=0,x=c.length;S<x;S++){var A=d[S].getActiveState(_[S]);if(A==="inactive"){y="inactive";break}}}r(y,g)}},a.prototype.hasAxisBrushed=function(){for(var n=this.dimensions,r=this._axesMap,s=!1,l=0,u=n.length;l<u;l++)r.get(n[l]).model.getActiveState()!=="normal"&&(s=!0);return s},a.prototype.axisCoordToPoint=function(n,r){var s=this._axesLayout[r];return applyTransform([n,0],s.transform)},a.prototype.getAxisLayout=function(n){return clone$4(this._axesLayout[n])},a.prototype.getSlidedAxisExpandWindow=function(n){var r=this._makeLayoutInfo(),s=r.pixelDimIndex,l=r.axisExpandWindow.slice(),u=l[1]-l[0],c=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:l};var f=n[s]-r.layoutBase-r.axisExpandWindow0Pos,d,v="slide",g=r.axisCollapseWidth,y=this._model.get("axisExpandSlideTriggerArea"),_=y[0]!=null;if(g)_&&g&&f<u*y[0]?(v="jump",d=f-u*y[2]):_&&g&&f>u*(1-y[0])?(v="jump",d=f-u*(1-y[2])):(d=f-u*y[1])>=0&&(d=f-u*(1-y[1]))<=0&&(d=0),d*=r.axisExpandWidth/g,d?sliderMove(d,l,c,"all"):v="none";else{var S=l[1]-l[0],x=c[1]*f/S;l=[mathMax$2(0,x-S/2)],l[1]=mathMin$2(c[1],l[0]+S),l[0]=l[1]-S}return{axisExpandWindow:l,behavior:v}},a}();function restrict(a,n){return mathMin$2(mathMax$2(a,n[0]),n[1])}function layoutAxisWithoutExpand(a,n){var r=n.layoutLength/(n.axisCount-1);return{position:r*a,axisNameAvailableWidth:r,axisLabelShow:!0}}function layoutAxisWithExpand(a,n){var r=n.layoutLength,s=n.axisExpandWidth,l=n.axisCount,u=n.axisCollapseWidth,c=n.winInnerIndices,f,d=u,v=!1,g;return a<c[0]?(f=a*u,g=u):a<=c[1]?(f=n.axisExpandWindow0Pos+a*s-n.axisExpandWindow[0],d=s,v=!0):(f=r-(l-1-a)*u,g=u),{position:f,axisNameAvailableWidth:d,axisLabelShow:v,nameTruncateMaxWidth:g}}const Parallel$1=Parallel;function createParallelCoordSys(a,n){var r=[];return a.eachComponent("parallel",function(s,l){var u=new Parallel$1(s,a,n);u.name="parallel_"+l,u.resize(s,n),s.coordinateSystem=u,u.model=s,r.push(u)}),a.eachSeries(function(s){if(s.get("coordinateSystem")==="parallel"){var l=s.getReferringComponents("parallel",SINGLE_REFERRING).models[0];s.coordinateSystem=l.coordinateSystem}}),r}var parallelCoordSysCreator={create:createParallelCoordSys};const parallelCoordSysCreator$1=parallelCoordSysCreator;var ParallelAxisModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.activeIntervals=[],r}return n.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},n.prototype.setActiveIntervals=function(r){var s=this.activeIntervals=clone$4(r);if(s)for(var l=s.length-1;l>=0;l--)asc$2(s[l])},n.prototype.getActiveState=function(r){var s=this.activeIntervals;if(!s.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(s.length===1){var l=s[0];if(l[0]<=r&&r<=l[1])return"active"}else for(var u=0,c=s.length;u<c;u++)if(s[u][0]<=r&&r<=s[u][1])return"active";return"inactive"},n}(ComponentModel$1);mixin(ParallelAxisModel,AxisModelCommonMixin);const ParallelAxisModel$1=ParallelAxisModel;var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(a){__extends(n,a);function n(r){var s=a.call(this)||this;return s._track=[],s._covers=[],s._handlers={},s._zr=r,s.group=new Group$4,s._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(l,u){this._handlers[u]=bind$1(l,this)},s),s}return n.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},n.prototype._doEnableBrush=function(r){var s=this._zr;this._enableGlobalPan||take(s,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(l,u){s.on(u,l)}),this._brushType=r.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),r,!0)},n.prototype._doDisableBrush=function(){var r=this._zr;release(r,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(s,l){r.off(l,s)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(r){if(r&&r.length){var s=this._panels={};each$f(r,function(l){s[l.panelId]=clone$4(l)})}else this._panels=null;return this},n.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var s=this.group;return this._zr.add(s),s.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=s.getLocalTransform(),this},n.prototype.updateCovers=function(r){r=map$1(r,function(_){return merge(clone$4(DEFAULT_BRUSH_OPT),_,!0)});var s="\0-brush-index-",l=this._covers,u=this._covers=[],c=this,f=this._creatingCover;return new DataDiffer$1(l,r,v,d).add(g).update(g).remove(y).execute(),this;function d(_,S){return(_.id!=null?_.id:s+S)+"-"+_.brushType}function v(_,S){return d(_.__brushOption,S)}function g(_,S){var x=r[_];if(S!=null&&l[S]===f)u[_]=l[S];else{var A=u[_]=S!=null?(l[S].__brushOption=x,l[S]):endCreating(c,createCover(c,x));updateCoverAfterCreation(c,A)}}function y(_){l[_]!==f&&c.group.remove(l[_])}},n.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Eventful$1);function createCover(a,n){var r=coverRenderers[n.brushType].createCover(a,n);return r.__brushOption=n,updateZ$1(r,n),a.group.add(r),r}function endCreating(a,n){var r=getCoverRenderer(n);return r.endCreating&&(r.endCreating(a,n),updateZ$1(n,n.__brushOption)),n}function updateCoverShape(a,n){var r=n.__brushOption;getCoverRenderer(n).updateCoverShape(a,n,r.range,r)}function updateZ$1(a,n){var r=n.z;r==null&&(r=COVER_Z),a.traverse(function(s){s.z=r,s.z2=r})}function updateCoverAfterCreation(a,n){getCoverRenderer(n).updateCommon(a,n),updateCoverShape(a,n)}function getCoverRenderer(a){return coverRenderers[a.__brushOption.brushType]}function getPanelByPoint(a,n,r){var s=a._panels;if(!s)return BRUSH_PANEL_GLOBAL;var l,u=a._transform;return each$f(s,function(c){c.isTargetByCursor(n,r,u)&&(l=c)}),l}function getPanelByCover(a,n){var r=a._panels;if(!r)return BRUSH_PANEL_GLOBAL;var s=n.__brushOption.panelId;return s!=null?r[s]:BRUSH_PANEL_GLOBAL}function clearCovers(a){var n=a._covers,r=n.length;return each$f(n,function(s){a.group.remove(s)},a),n.length=0,!!r}function trigger(a,n){var r=map$1(a._covers,function(s){var l=s.__brushOption,u=clone$4(l.range);return{brushType:l.brushType,panelId:l.panelId,range:u}});a.trigger("brush",{areas:r,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function shouldShowCover(a){var n=a._track;if(!n.length)return!1;var r=n[n.length-1],s=n[0],l=r[0]-s[0],u=r[1]-s[1],c=mathPow(l*l+u*u,.5);return c>UNSELECT_THRESHOLD}function getTrackEnds(a){var n=a.length-1;return n<0&&(n=0),[a[0],a[n]]}function createBaseRectCover(a,n,r,s){var l=new Group$4;return l.add(new Rect$3({name:"main",style:makeStyle(r),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,a,n,l,["n","s","w","e"]),ondragend:curry$1(trigger,n,{isEnd:!0})})),each$f(s,function(u){l.add(new Rect$3({name:u.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,a,n,l,u),ondragend:curry$1(trigger,n,{isEnd:!0})}))}),l}function updateBaseRect(a,n,r,s){var l=s.brushStyle.lineWidth||0,u=mathMax$1(l,MIN_RESIZE_LINE_WIDTH),c=r[0][0],f=r[1][0],d=c-l/2,v=f-l/2,g=r[0][1],y=r[1][1],_=g-u+l/2,S=y-u+l/2,x=g-c,A=y-f,b=x+l,w=A+l;updateRectShape(a,n,"main",c,f,x,A),s.transformable&&(updateRectShape(a,n,"w",d,v,u,w),updateRectShape(a,n,"e",_,v,u,w),updateRectShape(a,n,"n",d,v,b,u),updateRectShape(a,n,"s",d,S,b,u),updateRectShape(a,n,"nw",d,v,u,u),updateRectShape(a,n,"ne",_,v,u,u),updateRectShape(a,n,"sw",d,S,u,u),updateRectShape(a,n,"se",_,S,u,u))}function updateCommon$1(a,n){var r=n.__brushOption,s=r.transformable,l=n.childAt(0);l.useStyle(makeStyle(r)),l.attr({silent:!s,cursor:s?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(u){var c=n.childOfName(u.join("")),f=u.length===1?getGlobalDirection1(a,u[0]):getGlobalDirection2(a,u);c&&c.attr({silent:!s,invisible:!s,cursor:s?CURSOR_MAP[f]+"-resize":null})})}function updateRectShape(a,n,r,s,l,u,c){var f=n.childOfName(r);f&&f.setShape(pointsToRect(clipByPanel(a,n,[[s,l],[s+u,l+c]])))}function makeStyle(a){return defaults({strokeNoScale:!0},a.brushStyle)}function formatRectRange(a,n,r,s){var l=[mathMin$1(a,r),mathMin$1(n,s)],u=[mathMax$1(a,r),mathMax$1(n,s)];return[[l[0],u[0]],[l[1],u[1]]]}function getTransform(a){return getTransform$1(a.group)}function getGlobalDirection1(a,n){var r={w:"left",e:"right",n:"top",s:"bottom"},s={left:"w",right:"e",top:"n",bottom:"s"},l=transformDirection(r[n],getTransform(a));return s[l]}function getGlobalDirection2(a,n){var r=[getGlobalDirection1(a,n[0]),getGlobalDirection1(a,n[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function driftRect(a,n,r,s,l,u){var c=r.__brushOption,f=a.toRectRange(c.range),d=toLocalDelta(n,l,u);each$f(s,function(v){var g=DIRECTION_MAP[v];f[g[0]][g[1]]+=d[g[0]]}),c.range=a.fromRectRange(formatRectRange(f[0][0],f[1][0],f[0][1],f[1][1])),updateCoverAfterCreation(n,r),trigger(n,{isEnd:!1})}function driftPolygon(a,n,r,s){var l=n.__brushOption.range,u=toLocalDelta(a,r,s);each$f(l,function(c){c[0]+=u[0],c[1]+=u[1]}),updateCoverAfterCreation(a,n),trigger(a,{isEnd:!1})}function toLocalDelta(a,n,r){var s=a.group,l=s.transformCoordToLocal(n,r),u=s.transformCoordToLocal(0,0);return[l[0]-u[0],l[1]-u[1]]}function clipByPanel(a,n,r){var s=getPanelByCover(a,n);return s&&s!==BRUSH_PANEL_GLOBAL?s.clipPath(r,a._transform):clone$4(r)}function pointsToRect(a){var n=mathMin$1(a[0][0],a[1][0]),r=mathMin$1(a[0][1],a[1][1]),s=mathMax$1(a[0][0],a[1][0]),l=mathMax$1(a[0][1],a[1][1]);return{x:n,y:r,width:s-n,height:l-r}}function resetCursor(a,n,r){if(!(!a._brushType||isOutsideZrArea(a,n.offsetX,n.offsetY))){var s=a._zr,l=a._covers,u=getPanelByPoint(a,n,r);if(!a._dragging)for(var c=0;c<l.length;c++){var f=l[c].__brushOption;if(u&&(u===BRUSH_PANEL_GLOBAL||f.panelId===u.panelId)&&coverRenderers[f.brushType].contain(l[c],r[0],r[1]))return}u&&s.setCursorStyle("crosshair")}}function preventDefault(a){var n=a.event;n.preventDefault&&n.preventDefault()}function mainShapeContain(a,n,r){return a.childOfName("main").contain(n,r)}function updateCoverByMouse(a,n,r,s){var l=a._creatingCover,u=a._creatingPanel,c=a._brushOption,f;if(a._track.push(r.slice()),shouldShowCover(a)||l){if(u&&!l){c.brushMode==="single"&&clearCovers(a);var d=clone$4(c);d.brushType=determineBrushType(d.brushType,u),d.panelId=u===BRUSH_PANEL_GLOBAL?null:u.panelId,l=a._creatingCover=createCover(a,d),a._covers.push(l)}if(l){var v=coverRenderers[determineBrushType(a._brushType,u)],g=l.__brushOption;g.range=v.getCreatingRange(clipByPanel(a,l,a._track)),s&&(endCreating(a,l),v.updateCommon(a,l)),updateCoverShape(a,l),f={isEnd:s}}}else s&&c.brushMode==="single"&&c.removeOnClick&&getPanelByPoint(a,n,r)&&clearCovers(a)&&(f={isEnd:s,removeOnClick:!0});return f}function determineBrushType(a,n){return a==="auto"?n.defaultBrushType:a}var pointerHandlers={mousedown:function(a){if(this._dragging)handleDragEnd(this,a);else if(!a.target||!a.target.draggable){preventDefault(a);var n=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;var r=this._creatingPanel=getPanelByPoint(this,a,n);r&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(a){var n=a.offsetX,r=a.offsetY,s=this.group.transformCoordToLocal(n,r);if(resetCursor(this,a,s),this._dragging){preventDefault(a);var l=updateCoverByMouse(this,a,s,!1);l&&trigger(this,l)}},mouseup:function(a){handleDragEnd(this,a)}};function handleDragEnd(a,n){if(a._dragging){preventDefault(n);var r=n.offsetX,s=n.offsetY,l=a.group.transformCoordToLocal(r,s),u=updateCoverByMouse(a,n,l,!0);a._dragging=!1,a._track=[],a._creatingCover=null,u&&trigger(a,u)}}function isOutsideZrArea(a,n,r){var s=a._zr;return n<0||n>s.getWidth()||r<0||r>s.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(a,n){function r(s){return s}return createBaseRectCover({toRectRange:r,fromRectRange:r},a,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(a){var n=getTrackEnds(a);return formatRectRange(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(a,n,r,s){updateBaseRect(a,n,r,s)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(a,n){var r=new Group$4;return r.add(new Polyline$3({name:"main",style:makeStyle(n),silent:!0})),r},getCreatingRange:function(a){return a},endCreating:function(a,n){n.remove(n.childAt(0)),n.add(new Polygon$1({name:"main",draggable:!0,drift:curry$1(driftPolygon,a,n),ondragend:curry$1(trigger,a,{isEnd:!0})}))},updateCoverShape:function(a,n,r,s){n.childAt(0).setShape({points:clipByPanel(a,n,r)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(a){return{createCover:function(n,r){return createBaseRectCover({toRectRange:function(s){var l=[s,[0,100]];return a&&l.reverse(),l},fromRectRange:function(s){return s[a]}},n,r,[[["w"],["e"]],[["n"],["s"]]][a])},getCreatingRange:function(n){var r=getTrackEnds(n),s=mathMin$1(r[0][a],r[1][a]),l=mathMax$1(r[0][a],r[1][a]);return[s,l]},updateCoverShape:function(n,r,s,l){var u,c=getPanelByCover(n,r);if(c!==BRUSH_PANEL_GLOBAL&&c.getLinearBrushOtherExtent)u=c.getLinearBrushOtherExtent(a);else{var f=n._zr;u=[0,[f.getWidth(),f.getHeight()][1-a]]}var d=[s,u];a&&d.reverse(),updateBaseRect(n,r,d,l)},updateCommon:updateCommon$1,contain:mainShapeContain}}const BrushController$1=BrushController;function makeRectPanelClipPath(a){return a=normalizeRect(a),function(n){return clipPointsByRect(n,a)}}function makeLinearBrushOtherExtent(a,n){return a=normalizeRect(a),function(r){var s=n!=null?n:r,l=s?a.width:a.height,u=s?a.x:a.y;return[u,u+(l||0)]}}function makeRectIsTargetByCursor(a,n,r){var s=normalizeRect(a);return function(l,u){return s.contain(u[0],u[1])&&!onIrrelevantElement(l,n,r)}}function normalizeRect(a){return BoundingRect$1.create(a)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,s){a.prototype.init.apply(this,arguments),(this._brushController=new BrushController$1(s.getZr())).on("brush",bind$1(this._onBrush,this))},n.prototype.render=function(r,s,l,u){if(!fromAxisAreaSelect(r,s,u)){this.axisModel=r,this.api=l,this.group.removeAll();var c=this._axisGroup;if(this._axisGroup=new Group$4,this.group.add(this._axisGroup),!!r.get("show")){var f=getCoordSysModel(r,s),d=f.coordinateSystem,v=r.getAreaSelectStyle(),g=v.width,y=r.axis.dim,_=d.getAxisLayout(y),S=extend({strokeContainThreshold:g},_),x=new AxisBuilder$1(r,S);each$f(elementList$1,x.add,x),this._axisGroup.add(x.getGroup()),this._refreshBrushController(S,v,r,f,g,l),groupTransition(c,this._axisGroup,r)}}},n.prototype._refreshBrushController=function(r,s,l,u,c,f){var d=l.axis.getExtent(),v=d[1]-d[0],g=Math.min(30,Math.abs(v)*.1),y=BoundingRect$1.create({x:d[0],y:-c/2,width:v,height:c});y.x-=g,y.width+=2*g,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(y),isTargetByCursor:makeRectIsTargetByCursor(y,f,u),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(y,0)}]).enableBrush({brushType:"lineX",brushStyle:s,removeOnClick:!0}).updateCovers(getCoverInfoList(l))},n.prototype._onBrush=function(r){var s=r.areas,l=this.axisModel,u=l.axis,c=map$1(s,function(f){return[u.coordToData(f.range[0],!0),u.coordToData(f.range[1],!0)]});(!l.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:l.id,intervals:c})},n.prototype.dispose=function(){this._brushController.dispose()},n.type="parallelAxis",n}(ComponentView$1);function fromAxisAreaSelect(a,n,r){return r&&r.type==="axisAreaSelect"&&n.findComponents({mainType:"parallelAxis",query:r})[0]===a}function getCoverInfoList(a){var n=a.axis;return map$1(a.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(r[0],!0),n.dataToCoord(r[1],!0)]}})}function getCoordSysModel(a,n){return n.getComponent("parallel",a.get("parallelIndex"))}const ParallelAxisView$1=ParallelAxisView;var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(a){a.registerAction(actionInfo,function(n,r){r.eachComponent({mainType:"parallelAxis",query:n},function(s){s.axis.model.setActiveIntervals(n.intervals)})}),a.registerAction("parallelAxisExpand",function(n,r){r.eachComponent({mainType:"parallel",query:n},function(s){s.setAxisExpand(n)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(a){a.registerComponentView(ParallelView$1),a.registerComponentModel(ParallelModel$1),a.registerCoordinateSystem("parallel",parallelCoordSysCreator$1),a.registerPreprocessor(parallelPreprocessor),a.registerComponentModel(ParallelAxisModel$1),a.registerComponentView(ParallelAxisView$1),axisModelCreator(a,"parallel",ParallelAxisModel$1,defaultAxisOption),installParallelActions(a)}function install$B(a){use(install$C),a.registerChartView(ParallelView$3),a.registerSeriesModel(ParallelSeriesModel$1),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,parallelVisual$1)}var SankeyPathShape=function(){function a(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return a}(),SankeyPath=function(a){__extends(n,a);function n(r){return a.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SankeyPathShape},n.prototype.buildPath=function(r,s){var l=s.extent;r.moveTo(s.x1,s.y1),r.bezierCurveTo(s.cpx1,s.cpy1,s.cpx2,s.cpy2,s.x2,s.y2),s.orient==="vertical"?(r.lineTo(s.x2+l,s.y2),r.bezierCurveTo(s.cpx2+l,s.cpy2,s.cpx1+l,s.cpy1,s.x1+l,s.y1)):(r.lineTo(s.x2,s.y2+l),r.bezierCurveTo(s.cpx2,s.cpy2+l,s.cpx1,s.cpy1+l,s.x1,s.y1+l)),r.closePath()},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n}(Path$1),SankeyView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._focusAdjacencyDisabled=!1,r}return n.prototype.render=function(r,s,l){var u=this,c=r.getGraph(),f=this.group,d=r.layoutInfo,v=d.width,g=d.height,y=r.getData(),_=r.getData("edge"),S=r.get("orient");this._model=r,f.removeAll(),f.x=d.x,f.y=d.y,c.eachEdge(function(x){var A=new SankeyPath,b=getECData(A);b.dataIndex=x.dataIndex,b.seriesIndex=r.seriesIndex,b.dataType="edge";var w=x.getModel(),E=w.getModel("lineStyle"),M=E.get("curveness"),P=x.node1.getLayout(),R=x.node1.getModel(),I=R.get("localX"),L=R.get("localY"),O=x.node2.getLayout(),N=x.node2.getModel(),B=N.get("localX"),F=N.get("localY"),V=x.getLayout(),z,U,Y,q,Q,j,ne,fe;switch(A.shape.extent=Math.max(1,V.dy),A.shape.orient=S,S==="vertical"?(z=(I!=null?I*v:P.x)+V.sy,U=(L!=null?L*g:P.y)+P.dy,Y=(B!=null?B*v:O.x)+V.ty,q=F!=null?F*g:O.y,Q=z,j=U*(1-M)+q*M,ne=Y,fe=U*M+q*(1-M)):(z=(I!=null?I*v:P.x)+P.dx,U=(L!=null?L*g:P.y)+V.sy,Y=B!=null?B*v:O.x,q=(F!=null?F*g:O.y)+V.ty,Q=z*(1-M)+Y*M,j=U,ne=z*M+Y*(1-M),fe=q),A.setShape({x1:z,y1:U,x2:Y,y2:q,cpx1:Q,cpy1:j,cpx2:ne,cpy2:fe}),A.useStyle(E.getItemStyle()),A.style.fill){case"source":A.style.fill=x.node1.getVisual("color"),A.style.decal=x.node1.getVisual("style").decal;break;case"target":A.style.fill=x.node2.getVisual("color"),A.style.decal=x.node2.getVisual("style").decal;break;case"gradient":var de=x.node1.getVisual("color"),be=x.node2.getVisual("color");isString(de)&&isString(be)&&(A.style.fill=new LinearGradient$1(0,0,+(S==="horizontal"),+(S==="vertical"),[{color:de,offset:0},{color:be,offset:1}]))}setLabelStyle(A,getLabelStatesModels(w,"edgeLabel"),{labelFetcher:r,labelDataIndex:x.dataIndex,defaultText:""+w.get("value")}),A.setTextConfig({position:"inside"});var Me=w.getModel("emphasis");setStatesStylesFromModel(A,w,"lineStyle",function(ae){return ae.getItemStyle()}),f.add(A),_.setItemGraphicEl(x.dataIndex,A);var Pe=Me.get("focus");toggleHoverEmphasis(A,Pe==="adjacency"?x.getAdjacentDataIndices():Pe,Me.get("blurScope"),Me.get("disabled")),getECData(A).dataType="edge"}),c.eachNode(function(x){var A=x.getLayout(),b=x.getModel(),w=b.get("localX"),E=b.get("localY"),M=b.getModel("emphasis"),P=new Rect$3({shape:{x:w!=null?w*v:A.x,y:E!=null?E*g:A.y,width:A.dx,height:A.dy},style:b.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(P,getLabelStatesModels(b),{labelFetcher:r,labelDataIndex:x.dataIndex,defaultText:x.id}),P.disableLabelAnimation=!0,P.setStyle("fill",x.getVisual("color")),P.setStyle("decal",x.getVisual("style").decal),setStatesStylesFromModel(P,b),f.add(P),y.setItemGraphicEl(x.dataIndex,P),getECData(P).dataType="node";var R=M.get("focus");toggleHoverEmphasis(P,R==="adjacency"?x.getAdjacentDataIndices():R,M.get("blurScope"),M.get("disabled"))}),y.eachItemGraphicEl(function(x,A){var b=y.getItemModel(A);b.get("draggable")&&(x.drift=function(w,E){u._focusAdjacencyDisabled=!0,this.shape.x+=w,this.shape.y+=E,this.dirty(),l.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:y.getRawIndex(A),localX:this.shape.x/v,localY:this.shape.y/g})},x.ondragend=function(){u._focusAdjacencyDisabled=!1},x.draggable=!0,x.cursor="move")}),!this._data&&r.isAnimationEnabled()&&f.setClipPath(createGridClipShape$1(f.getBoundingRect(),r,function(){f.removeClipPath()})),this._data=r.getData()},n.prototype.dispose=function(){},n.type="sankey",n}(ChartView$1);function createGridClipShape$1(a,n,r){var s=new Rect$3({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return initProps(s,{shape:{width:a.width+20}},n,r),s}const SankeyView$1=SankeyView;var SankeySeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,s){var l=r.edges||r.links,u=r.data||r.nodes,c=r.levels;this.levelModels=[];for(var f=this.levelModels,d=0;d<c.length;d++)c[d].depth!=null&&c[d].depth>=0&&(f[c[d].depth]=new Model$1(c[d],this,s));if(u&&l){var v=createGraphFromNodeEdge(u,l,this,!0,g);return v.data}function g(y,_){y.wrapMethod("getItemModel",function(S,x){var A=S.parentModel,b=A.getData().getItemLayout(x);if(b){var w=b.depth,E=A.levelModels[w];E&&(S.parentModel=E)}return S}),_.wrapMethod("getItemModel",function(S,x){var A=S.parentModel,b=A.getGraph().getEdgeByIndex(x),w=b.node1.getLayout();if(w){var E=w.depth,M=A.levelModels[E];M&&(S.parentModel=M)}return S})}},n.prototype.setNodePosition=function(r,s){var l=this.option.data||this.option.nodes,u=l[r];u.localX=s[0],u.localY=s[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(r,s,l){function u(S){return isNaN(S)||S==null}if(l==="edge"){var c=this.getDataParams(r,l),f=c.data,d=c.value,v=f.source+" -- "+f.target;return createTooltipMarkup("nameValue",{name:v,value:d,noValue:u(d)})}else{var g=this.getGraph().getNodeByIndex(r),y=g.getLayout().value,_=this.getDataParams(r,l).data.name;return createTooltipMarkup("nameValue",{name:_!=null?_+"":null,value:y,noValue:u(y)})}},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(r,s){var l=a.prototype.getDataParams.call(this,r,s);if(l.value==null&&s==="node"){var u=this.getGraph().getNodeByIndex(r),c=u.getLayout().value;l.value=c}return l},n.type="series.sankey",n.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},n}(SeriesModel$1);const SankeySeriesModel$1=SankeySeriesModel;function sankeyLayout(a,n){a.eachSeriesByType("sankey",function(r){var s=r.get("nodeWidth"),l=r.get("nodeGap"),u=getViewRect$1(r,n);r.layoutInfo=u;var c=u.width,f=u.height,d=r.getGraph(),v=d.nodes,g=d.edges;computeNodeValues(v);var y=filter(v,function(A){return A.getLayout().value===0}),_=y.length!==0?0:r.get("layoutIterations"),S=r.get("orient"),x=r.get("nodeAlign");layoutSankey(v,g,s,l,c,f,_,S,x)})}function getViewRect$1(a,n){return getLayoutRect(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function layoutSankey(a,n,r,s,l,u,c,f,d){computeNodeBreadths(a,n,r,l,u,f,d),computeNodeDepths(a,n,u,l,s,c,f),computeEdgeDepths(a,f)}function computeNodeValues(a){each$f(a,function(n){var r=sum(n.outEdges,getEdgeValue),s=sum(n.inEdges,getEdgeValue),l=n.getValue()||0,u=Math.max(r,s,l);n.setLayout({value:u},!0)})}function computeNodeBreadths(a,n,r,s,l,u,c){for(var f=[],d=[],v=[],g=[],y=0,_=0;_<n.length;_++)f[_]=1;for(var _=0;_<a.length;_++)d[_]=a[_].inEdges.length,d[_]===0&&v.push(a[_]);for(var S=-1;v.length;){for(var x=0;x<v.length;x++){var A=v[x],b=A.hostGraph.data.getRawDataItem(A.dataIndex),w=b.depth!=null&&b.depth>=0;w&&b.depth>S&&(S=b.depth),A.setLayout({depth:w?b.depth:y},!0),u==="vertical"?A.setLayout({dy:r},!0):A.setLayout({dx:r},!0);for(var E=0;E<A.outEdges.length;E++){var M=A.outEdges[E],P=n.indexOf(M);f[P]=0;var R=M.node2,I=a.indexOf(R);--d[I]===0&&g.indexOf(R)<0&&g.push(R)}}++y,v=g,g=[]}for(var _=0;_<f.length;_++)if(f[_]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var L=S>y-1?S:y-1;c&&c!=="left"&&adjustNodeWithNodeAlign(a,c,u,L);var O=u==="vertical"?(l-r)/L:(s-r)/L;scaleNodeBreadths(a,O,u)}function isNodeDepth(a){var n=a.hostGraph.data.getRawDataItem(a.dataIndex);return n.depth!=null&&n.depth>=0}function adjustNodeWithNodeAlign(a,n,r,s){if(n==="right"){for(var l=[],u=a,c=0;u.length;){for(var f=0;f<u.length;f++){var d=u[f];d.setLayout({skNodeHeight:c},!0);for(var v=0;v<d.inEdges.length;v++){var g=d.inEdges[v];l.indexOf(g.node1)<0&&l.push(g.node1)}}u=l,l=[],++c}each$f(a,function(y){isNodeDepth(y)||y.setLayout({depth:Math.max(0,s-y.getLayout().skNodeHeight)},!0)})}else n==="justify"&&moveSinksRight(a,s)}function moveSinksRight(a,n){each$f(a,function(r){!isNodeDepth(r)&&!r.outEdges.length&&r.setLayout({depth:n},!0)})}function scaleNodeBreadths(a,n,r){each$f(a,function(s){var l=s.getLayout().depth*n;r==="vertical"?s.setLayout({y:l},!0):s.setLayout({x:l},!0)})}function computeNodeDepths(a,n,r,s,l,u,c){var f=prepareNodesByBreadth(a,c);initializeNodeDepth(f,n,r,s,l,c),resolveCollisions(f,l,r,s,c);for(var d=1;u>0;u--)d*=.99,relaxRightToLeft(f,d,c),resolveCollisions(f,l,r,s,c),relaxLeftToRight(f,d,c),resolveCollisions(f,l,r,s,c)}function prepareNodesByBreadth(a,n){var r=[],s=n==="vertical"?"y":"x",l=groupData(a,function(u){return u.getLayout()[s]});return l.keys.sort(function(u,c){return u-c}),each$f(l.keys,function(u){r.push(l.buckets.get(u))}),r}function initializeNodeDepth(a,n,r,s,l,u){var c=1/0;each$f(a,function(f){var d=f.length,v=0;each$f(f,function(y){v+=y.getLayout().value});var g=u==="vertical"?(s-(d-1)*l)/v:(r-(d-1)*l)/v;g<c&&(c=g)}),each$f(a,function(f){each$f(f,function(d,v){var g=d.getLayout().value*c;u==="vertical"?(d.setLayout({x:v},!0),d.setLayout({dx:g},!0)):(d.setLayout({y:v},!0),d.setLayout({dy:g},!0))})}),each$f(n,function(f){var d=+f.getValue()*c;f.setLayout({dy:d},!0)})}function resolveCollisions(a,n,r,s,l){var u=l==="vertical"?"x":"y";each$f(a,function(c){c.sort(function(A,b){return A.getLayout()[u]-b.getLayout()[u]});for(var f,d,v,g=0,y=c.length,_=l==="vertical"?"dx":"dy",S=0;S<y;S++)d=c[S],v=g-d.getLayout()[u],v>0&&(f=d.getLayout()[u]+v,l==="vertical"?d.setLayout({x:f},!0):d.setLayout({y:f},!0)),g=d.getLayout()[u]+d.getLayout()[_]+n;var x=l==="vertical"?s:r;if(v=g-n-x,v>0){f=d.getLayout()[u]-v,l==="vertical"?d.setLayout({x:f},!0):d.setLayout({y:f},!0),g=f;for(var S=y-2;S>=0;--S)d=c[S],v=d.getLayout()[u]+d.getLayout()[_]+n-g,v>0&&(f=d.getLayout()[u]-v,l==="vertical"?d.setLayout({x:f},!0):d.setLayout({y:f},!0)),g=d.getLayout()[u]}})}function relaxRightToLeft(a,n,r){each$f(a.slice().reverse(),function(s){each$f(s,function(l){if(l.outEdges.length){var u=sum(l.outEdges,weightedTarget,r)/sum(l.outEdges,getEdgeValue);if(isNaN(u)){var c=l.outEdges.length;u=c?sum(l.outEdges,centerTarget,r)/c:0}if(r==="vertical"){var f=l.getLayout().x+(u-center(l,r))*n;l.setLayout({x:f},!0)}else{var d=l.getLayout().y+(u-center(l,r))*n;l.setLayout({y:d},!0)}}})})}function weightedTarget(a,n){return center(a.node2,n)*a.getValue()}function centerTarget(a,n){return center(a.node2,n)}function weightedSource(a,n){return center(a.node1,n)*a.getValue()}function centerSource(a,n){return center(a.node1,n)}function center(a,n){return n==="vertical"?a.getLayout().x+a.getLayout().dx/2:a.getLayout().y+a.getLayout().dy/2}function getEdgeValue(a){return a.getValue()}function sum(a,n,r){for(var s=0,l=a.length,u=-1;++u<l;){var c=+n(a[u],r);isNaN(c)||(s+=c)}return s}function relaxLeftToRight(a,n,r){each$f(a,function(s){each$f(s,function(l){if(l.inEdges.length){var u=sum(l.inEdges,weightedSource,r)/sum(l.inEdges,getEdgeValue);if(isNaN(u)){var c=l.inEdges.length;u=c?sum(l.inEdges,centerSource,r)/c:0}if(r==="vertical"){var f=l.getLayout().x+(u-center(l,r))*n;l.setLayout({x:f},!0)}else{var d=l.getLayout().y+(u-center(l,r))*n;l.setLayout({y:d},!0)}}})})}function computeEdgeDepths(a,n){var r=n==="vertical"?"x":"y";each$f(a,function(s){s.outEdges.sort(function(l,u){return l.node2.getLayout()[r]-u.node2.getLayout()[r]}),s.inEdges.sort(function(l,u){return l.node1.getLayout()[r]-u.node1.getLayout()[r]})}),each$f(a,function(s){var l=0,u=0;each$f(s.outEdges,function(c){c.setLayout({sy:l},!0),l+=c.getLayout().dy}),each$f(s.inEdges,function(c){c.setLayout({ty:u},!0),u+=c.getLayout().dy})})}function sankeyVisual(a){a.eachSeriesByType("sankey",function(n){var r=n.getGraph(),s=r.nodes,l=r.edges;if(s.length){var u=1/0,c=-1/0;each$f(s,function(f){var d=f.getLayout().value;d<u&&(u=d),d>c&&(c=d)}),each$f(s,function(f){var d=new VisualMapping$1({type:"color",mappingMethod:"linear",dataExtent:[u,c],visual:n.get("color")}),v=d.mapValueToVisual(f.getLayout().value),g=f.getModel().get(["itemStyle","color"]);g!=null?(f.setVisual("color",g),f.setVisual("style",{fill:g})):(f.setVisual("color",v),f.setVisual("style",{fill:v}))})}l.length&&each$f(l,function(f){var d=f.getModel().get("lineStyle");f.setVisual("style",d)})})}function install$A(a){a.registerChartView(SankeyView$1),a.registerSeriesModel(SankeySeriesModel$1),a.registerLayout(sankeyLayout),a.registerVisual(sankeyVisual),a.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"sankey",query:n},function(s){s.setNodePosition(n.dataIndex,[n.localX,n.localY])})})}var WhiskerBoxCommonMixin=function(){function a(){}return a.prototype.getInitialData=function(n,r){var s,l=r.getComponent("xAxis",this.get("xAxisIndex")),u=r.getComponent("yAxis",this.get("yAxisIndex")),c=l.get("type"),f=u.get("type"),d;c==="category"?(n.layout="horizontal",s=l.getOrdinalMeta(),d=!0):f==="category"?(n.layout="vertical",s=u.getOrdinalMeta(),d=!0):n.layout=n.layout||"horizontal";var v=["x","y"],g=n.layout==="horizontal"?0:1,y=this._baseAxisDim=v[g],_=v[1-g],S=[l,u],x=S[g].get("type"),A=S[1-g].get("type"),b=n.data;if(b&&d){var w=[];each$f(b,function(P,R){var I;isArray$2(P)?(I=P.slice(),P.unshift(R)):isArray$2(P.value)?(I=extend({},P),I.value=I.value.slice(),P.value.unshift(R)):I=P,w.push(I)}),n.data=w}var E=this.defaultValueDimensions,M=[{name:y,type:getDimensionTypeByAxis(x),ordinalMeta:s,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:_,type:getDimensionTypeByAxis(A),dimsDef:E.slice()}];return createSeriesDataSimply(this,{coordDimensions:M,dimensionsCount:E.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,M,this)})},a.prototype.getBaseAxis=function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis},a}(),BoxplotSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},n}(SeriesModel$1);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);const BoxplotSeriesModel$1=BoxplotSeriesModel;var BoxplotView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){var u=r.getData(),c=this.group,f=this._data;this._data||c.removeAll();var d=r.get("layout")==="horizontal"?1:0;u.diff(f).add(function(v){if(u.hasValue(v)){var g=u.getItemLayout(v),y=createNormalBox$1(g,u,v,d,!0);u.setItemGraphicEl(v,y),c.add(y)}}).update(function(v,g){var y=f.getItemGraphicEl(g);if(!u.hasValue(v)){c.remove(y);return}var _=u.getItemLayout(v);y?(saveOldStyle(y),updateNormalBoxData(_,y,u,v)):y=createNormalBox$1(_,u,v,d),c.add(y),u.setItemGraphicEl(v,y)}).remove(function(v){var g=f.getItemGraphicEl(v);g&&c.remove(g)}).execute(),this._data=u},n.prototype.remove=function(r){var s=this.group,l=this._data;this._data=null,l&&l.eachItemGraphicEl(function(u){u&&s.remove(u)})},n.type="boxplot",n}(ChartView$1),BoxPathShape=function(){function a(){}return a}(),BoxPath=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s.type="boxplotBoxPath",s}return n.prototype.getDefaultShape=function(){return new BoxPathShape},n.prototype.buildPath=function(r,s){var l=s.points,u=0;for(r.moveTo(l[u][0],l[u][1]),u++;u<4;u++)r.lineTo(l[u][0],l[u][1]);for(r.closePath();u<l.length;u++)r.moveTo(l[u][0],l[u][1]),u++,r.lineTo(l[u][0],l[u][1])},n}(Path$1);function createNormalBox$1(a,n,r,s,l){var u=a.ends,c=new BoxPath({shape:{points:l?transInit$1(u,s,a):u}});return updateNormalBoxData(a,c,n,r,l),c}function updateNormalBoxData(a,n,r,s,l){var u=r.hostModel,c=graphic[l?"initProps":"updateProps"];c(n,{shape:{points:a.ends}},u,s),n.useStyle(r.getItemVisual(s,"style")),n.style.strokeNoScale=!0,n.z2=100;var f=r.getItemModel(s),d=f.getModel("emphasis");setStatesStylesFromModel(n,f),toggleHoverEmphasis(n,d.get("focus"),d.get("blurScope"),d.get("disabled"))}function transInit$1(a,n,r){return map$1(a,function(s){return s=s.slice(),s[n]=r.initBaseline,s})}const BoxplotView$1=BoxplotView;var each$9=each$f;function boxplotLayout(a){var n=groupSeriesByAxis(a);each$9(n,function(r){var s=r.seriesModels;!s.length||(calculateBase(r),each$9(s,function(l,u){layoutSingleSeries(l,r.boxOffsetList[u],r.boxWidthList[u])}))})}function groupSeriesByAxis(a){var n=[],r=[];return a.eachSeriesByType("boxplot",function(s){var l=s.getBaseAxis(),u=indexOf(r,l);u<0&&(u=r.length,r[u]=l,n[u]={axis:l,seriesModels:[]}),n[u].seriesModels.push(s)}),n}function calculateBase(a){var n=a.axis,r=a.seriesModels,s=r.length,l=a.boxWidthList=[],u=a.boxOffsetList=[],c=[],f;if(n.type==="category")f=n.getBandWidth();else{var d=0;each$9(r,function(x){d=Math.max(d,x.getData().count())});var v=n.getExtent();f=Math.abs(v[1]-v[0])/d}each$9(r,function(x){var A=x.get("boxWidth");isArray$2(A)||(A=[A,A]),c.push([parsePercent(A[0],f)||0,parsePercent(A[1],f)||0])});var g=f*.8-2,y=g/s*.3,_=(g-y*(s-1))/s,S=_/2-g/2;each$9(r,function(x,A){u.push(S),S+=y+_,l.push(Math.min(Math.max(_,c[A][0]),c[A][1]))})}function layoutSingleSeries(a,n,r){var s=a.coordinateSystem,l=a.getData(),u=r/2,c=a.get("layout")==="horizontal"?0:1,f=1-c,d=["x","y"],v=l.mapDimension(d[c]),g=l.mapDimensionsAll(d[f]);if(v==null||g.length<5)return;for(var y=0;y<l.count();y++){var _=l.get(v,y),S=M(_,g[2],y),x=M(_,g[0],y),A=M(_,g[1],y),b=M(_,g[3],y),w=M(_,g[4],y),E=[];P(E,A,!1),P(E,b,!0),E.push(x,A,w,b),R(E,x),R(E,w),R(E,S),l.setItemLayout(y,{initBaseline:S[f],ends:E})}function M(I,L,O){var N=l.get(L,O),B=[];B[c]=I,B[f]=N;var F;return isNaN(I)||isNaN(N)?F=[NaN,NaN]:(F=s.dataToPoint(B),F[c]+=n),F}function P(I,L,O){var N=L.slice(),B=L.slice();N[c]+=u,B[c]-=u,O?I.push(N,B):I.push(B,N)}function R(I,L){var O=L.slice(),N=L.slice();O[c]-=u,N[c]+=u,I.push(O,N)}}function prepareBoxplotData(a,n){n=n||{};for(var r=[],s=[],l=n.boundIQR,u=l==="none"||l===0,c=0;c<a.length;c++){var f=asc$2(a[c].slice()),d=quantile(f,.25),v=quantile(f,.5),g=quantile(f,.75),y=f[0],_=f[f.length-1],S=(l==null?1.5:l)*(g-d),x=u?y:Math.max(y,d-S),A=u?_:Math.min(_,g+S),b=n.itemNameFormatter,w=isFunction(b)?b({value:c}):isString(b)?b.replace("{value}",c+""):c+"";r.push([w,x,d,v,g,A]);for(var E=0;E<f.length;E++){var M=f[E];if(M<x||M>A){var P=[w,M];s.push(P)}}}return{boxData:r,outliers:s}}var boxplotTransform={type:"echarts:boxplot",transform:function a(n){var r=n.upstream;if(r.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var s="";throwError(s)}var l=prepareBoxplotData(r.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:l.boxData},{data:l.outliers}]}};function install$z(a){a.registerSeriesModel(BoxplotSeriesModel$1),a.registerChartView(BoxplotView$1),a.registerLayout(boxplotLayout),a.registerTransform(boxplotTransform)}var SKIP_PROPS=["color","borderColor"],CandlestickView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},n.prototype.incrementalPrepareRender=function(r,s,l){this._clear(),this._updateDrawMode(r)},n.prototype.incrementalRender=function(r,s,l,u){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,s):this._incrementalRenderNormal(r,s)},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var s=r.pipelineContext.large;(this._isLargeDraw==null||s!==this._isLargeDraw)&&(this._isLargeDraw=s,this._clear())},n.prototype._renderNormal=function(r){var s=r.getData(),l=this._data,u=this.group,c=s.getLayout("isSimpleBox"),f=r.get("clip",!0),d=r.coordinateSystem,v=d.getArea&&d.getArea();this._data||u.removeAll(),s.diff(l).add(function(g){if(s.hasValue(g)){var y=s.getItemLayout(g);if(f&&isNormalBoxClipped(v,y))return;var _=createNormalBox(y,g,!0);initProps(_,{shape:{points:y.ends}},r,g),setBoxCommon(_,s,g,c),u.add(_),s.setItemGraphicEl(g,_)}}).update(function(g,y){var _=l.getItemGraphicEl(y);if(!s.hasValue(g)){u.remove(_);return}var S=s.getItemLayout(g);if(f&&isNormalBoxClipped(v,S)){u.remove(_);return}_?(updateProps$1(_,{shape:{points:S.ends}},r,g),saveOldStyle(_)):_=createNormalBox(S),setBoxCommon(_,s,g,c),u.add(_),s.setItemGraphicEl(g,_)}).remove(function(g){var y=l.getItemGraphicEl(g);y&&u.remove(y)}).execute(),this._data=s},n.prototype._renderLarge=function(r){this._clear(),createLarge(r,this.group);var s=r.get("clip",!0)?createClipPath(r.coordinateSystem,!1,r):null;s?this.group.setClipPath(s):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(r,s){for(var l=s.getData(),u=l.getLayout("isSimpleBox"),c;(c=r.next())!=null;){var f=l.getItemLayout(c),d=createNormalBox(f);setBoxCommon(d,l,c,u),d.incremental=!0,this.group.add(d),this._progressiveEls.push(d)}},n.prototype._incrementalRenderLarge=function(r,s){createLarge(s,this.group,this._progressiveEls,!0)},n.prototype.remove=function(r){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type="candlestick",n}(ChartView$1),NormalBoxPathShape=function(){function a(){}return a}(),NormalBoxPath=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s.type="normalCandlestickBox",s}return n.prototype.getDefaultShape=function(){return new NormalBoxPathShape},n.prototype.buildPath=function(r,s){var l=s.points;this.__simpleBox?(r.moveTo(l[4][0],l[4][1]),r.lineTo(l[6][0],l[6][1])):(r.moveTo(l[0][0],l[0][1]),r.lineTo(l[1][0],l[1][1]),r.lineTo(l[2][0],l[2][1]),r.lineTo(l[3][0],l[3][1]),r.closePath(),r.moveTo(l[4][0],l[4][1]),r.lineTo(l[5][0],l[5][1]),r.moveTo(l[6][0],l[6][1]),r.lineTo(l[7][0],l[7][1]))},n}(Path$1);function createNormalBox(a,n,r){var s=a.ends;return new NormalBoxPath({shape:{points:r?transInit(s,a):s},z2:100})}function isNormalBoxClipped(a,n){for(var r=!0,s=0;s<n.ends.length;s++)if(a.contain(n.ends[s][0],n.ends[s][1])){r=!1;break}return r}function setBoxCommon(a,n,r,s){var l=n.getItemModel(r);a.useStyle(n.getItemVisual(r,"style")),a.style.strokeNoScale=!0,a.__simpleBox=s,setStatesStylesFromModel(a,l)}function transInit(a,n){return map$1(a,function(r){return r=r.slice(),r[1]=n.initBaseline,r})}var LargeBoxPathShape=function(){function a(){}return a}(),LargeBoxPath=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s.type="largeCandlestickBox",s}return n.prototype.getDefaultShape=function(){return new LargeBoxPathShape},n.prototype.buildPath=function(r,s){for(var l=s.points,u=0;u<l.length;)if(this.__sign===l[u++]){var c=l[u++];r.moveTo(c,l[u++]),r.lineTo(c,l[u++])}else u+=3},n}(Path$1);function createLarge(a,n,r,s){var l=a.getData(),u=l.getLayout("largePoints"),c=new LargeBoxPath({shape:{points:u},__sign:1,ignoreCoarsePointer:!0});n.add(c);var f=new LargeBoxPath({shape:{points:u},__sign:-1,ignoreCoarsePointer:!0});n.add(f);var d=new LargeBoxPath({shape:{points:u},__sign:0,ignoreCoarsePointer:!0});n.add(d),setLargeStyle(1,c,a),setLargeStyle(-1,f,a),setLargeStyle(0,d,a),s&&(c.incremental=!0,f.incremental=!0),r&&r.push(c,f)}function setLargeStyle(a,n,r,s){var l=r.get(["itemStyle",a>0?"borderColor":"borderColor0"])||r.get(["itemStyle",a>0?"color":"color0"]);a===0&&(l=r.get(["itemStyle","borderColorDoji"]));var u=r.getModel("itemStyle").getItemStyle(SKIP_PROPS);n.useStyle(u),n.style.fill=null,n.style.stroke=l}const CandlestickView$1=CandlestickView;var CandlestickSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(r,s,l){var u=s.getItemLayout(r);return u&&l.rect(u.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n}(SeriesModel$1);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);const CandlestickSeriesModel$1=CandlestickSeriesModel;function candlestickPreprocessor(a){!a||!isArray$2(a.series)||each$f(a.series,function(n){isObject$3(n)&&n.type==="k"&&(n.type="candlestick")})}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"],candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(a,n){function r(u,c){return c.get(u>0?positiveColorQuery:negativeColorQuery)}function s(u,c){return c.get(u===0?dojiBorderColorQuery:u>0?positiveBorderColorQuery:negativeBorderColorQuery)}if(!n.isSeriesFiltered(a)){var l=a.pipelineContext.large;return!l&&{progress:function(u,c){for(var f;(f=u.next())!=null;){var d=c.getItemModel(f),v=c.getItemLayout(f).sign,g=d.getItemStyle();g.fill=r(v,d),g.stroke=s(v,d)||g.fill;var y=c.ensureUniqueItemVisual(f,"style");extend(y,g)}}}}}};const candlestickVisual$1=candlestickVisual;var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(a){var n=a.coordinateSystem,r=a.getData(),s=calculateCandleWidth(a,r),l=0,u=1,c=["x","y"],f=r.getDimensionIndex(r.mapDimension(c[l])),d=map$1(r.mapDimensionsAll(c[u]),r.getDimensionIndex,r),v=d[0],g=d[1],y=d[2],_=d[3];if(r.setLayout({candleWidth:s,isSimpleBox:s<=1.3}),f<0||d.length<4)return;return{progress:a.pipelineContext.large?x:S};function S(A,b){for(var w,E=b.getStore();(w=A.next())!=null;){var M=E.get(f,w),P=E.get(v,w),R=E.get(g,w),I=E.get(y,w),L=E.get(_,w),O=Math.min(P,R),N=Math.max(P,R),B=Q(O,M),F=Q(N,M),V=Q(I,M),z=Q(L,M),U=[];j(U,F,0),j(U,B,1),U.push(fe(z),fe(F),fe(V),fe(B));var Y=b.getItemModel(w),q=!!Y.get(["itemStyle","borderColorDoji"]);b.setItemLayout(w,{sign:getSign(E,w,P,R,g,q),initBaseline:P>R?F[u]:B[u],ends:U,brushRect:ne(I,L,M)})}function Q(de,be){var Me=[];return Me[l]=be,Me[u]=de,isNaN(be)||isNaN(de)?[NaN,NaN]:n.dataToPoint(Me)}function j(de,be,Me){var Pe=be.slice(),ae=be.slice();Pe[l]=subPixelOptimize(Pe[l]+s/2,1,!1),ae[l]=subPixelOptimize(ae[l]-s/2,1,!0),Me?de.push(Pe,ae):de.push(ae,Pe)}function ne(de,be,Me){var Pe=Q(de,Me),ae=Q(be,Me);return Pe[l]-=s/2,ae[l]-=s/2,{x:Pe[0],y:Pe[1],width:s,height:ae[1]-Pe[1]}}function fe(de){return de[l]=subPixelOptimize(de[l],1),de}}function x(A,b){for(var w=createFloat32Array(A.count*4),E=0,M,P=[],R=[],I,L=b.getStore(),O=!!a.get(["itemStyle","borderColorDoji"]);(I=A.next())!=null;){var N=L.get(f,I),B=L.get(v,I),F=L.get(g,I),V=L.get(y,I),z=L.get(_,I);if(isNaN(N)||isNaN(V)||isNaN(z)){w[E++]=NaN,E+=3;continue}w[E++]=getSign(L,I,B,F,g,O),P[l]=N,P[u]=V,M=n.dataToPoint(P,null,R),w[E++]=M?M[0]:NaN,w[E++]=M?M[1]:NaN,P[u]=z,M=n.dataToPoint(P,null,R),w[E++]=M?M[1]:NaN}b.setLayout("largePoints",w)}}};function getSign(a,n,r,s,l,u){var c;return r>s?c=-1:r<s?c=1:c=u?0:n>0?a.get(l,n-1)<=s?1:-1:1,c}function calculateCandleWidth(a,n){var r=a.getBaseAxis(),s,l=r.type==="category"?r.getBandWidth():(s=r.getExtent(),Math.abs(s[1]-s[0])/n.count()),u=parsePercent(retrieve2(a.get("barMaxWidth"),l),l),c=parsePercent(retrieve2(a.get("barMinWidth"),1),l),f=a.get("barWidth");return f!=null?parsePercent(f,l):Math.max(Math.min(l/2,u),c)}const candlestickLayout$1=candlestickLayout;function install$y(a){a.registerChartView(CandlestickView$1),a.registerSeriesModel(CandlestickSeriesModel$1),a.registerPreprocessor(candlestickPreprocessor),a.registerVisual(candlestickVisual$1),a.registerLayout(candlestickLayout$1)}function updateRipplePath(a,n){var r=n.rippleEffectColor||n.color;a.eachChild(function(s){s.attr({z:n.z,zlevel:n.zlevel,style:{stroke:n.brushType==="stroke"?r:null,fill:n.brushType==="fill"?r:null}})})}var EffectSymbol=function(a){__extends(n,a);function n(r,s){var l=a.call(this)||this,u=new SymbolClz(r,s),c=new Group$4;return l.add(u),l.add(c),l.updateData(r,s),l}return n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(r){for(var s=r.symbolType,l=r.color,u=r.rippleNumber,c=this.childAt(1),f=0;f<u;f++){var d=createSymbol$1(s,-1,-1,2,2,l);d.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var v=-f/u*r.period+r.effectOffset;d.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(v).start(),d.animateStyle(!0).when(r.period,{opacity:0}).delay(v).start(),c.add(d)}updateRipplePath(c,r)},n.prototype.updateEffectAnimation=function(r){for(var s=this._effectCfg,l=this.childAt(1),u=["symbolType","period","rippleScale","rippleNumber"],c=0;c<u.length;c++){var f=u[c];if(s[f]!==r[f]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}updateRipplePath(l,r)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},n.prototype.updateData=function(r,s){var l=this,u=r.hostModel;this.childAt(0).updateData(r,s);var c=this.childAt(1),f=r.getItemModel(s),d=r.getItemVisual(s,"symbol"),v=normalizeSymbolSize(r.getItemVisual(s,"symbolSize")),g=r.getItemVisual(s,"style"),y=g&&g.fill,_=f.getModel("emphasis");c.setScale(v),c.traverse(function(b){b.setStyle("fill",y)});var S=normalizeSymbolOffset(r.getItemVisual(s,"symbolOffset"),v);S&&(c.x=S[0],c.y=S[1]);var x=r.getItemVisual(s,"symbolRotate");c.rotation=(x||0)*Math.PI/180||0;var A={};A.showEffectOn=u.get("showEffectOn"),A.rippleScale=f.get(["rippleEffect","scale"]),A.brushType=f.get(["rippleEffect","brushType"]),A.period=f.get(["rippleEffect","period"])*1e3,A.effectOffset=s/r.count(),A.z=u.getShallow("z")||0,A.zlevel=u.getShallow("zlevel")||0,A.symbolType=d,A.color=y,A.rippleEffectColor=f.get(["rippleEffect","color"]),A.rippleNumber=f.get(["rippleEffect","number"]),A.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(A):this.startEffectAnimation(A),this._effectCfg=A):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(b){b==="emphasis"?A.showEffectOn!=="render"&&l.startEffectAnimation(A):b==="normal"&&A.showEffectOn!=="render"&&l.stopEffectAnimation()}),this._effectCfg=A,toggleHoverEmphasis(this,_.get("focus"),_.get("blurScope"),_.get("disabled"))},n.prototype.fadeOut=function(r){r&&r()},n}(Group$4);const EffectSymbol$1=EffectSymbol;var EffectScatterView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._symbolDraw=new SymbolDraw$1(EffectSymbol$1)},n.prototype.render=function(r,s,l){var u=r.getData(),c=this._symbolDraw;c.updateData(u,{clipShape:this._getClipShape(r)}),this.group.add(c.group)},n.prototype._getClipShape=function(r){var s=r.coordinateSystem,l=s&&s.getArea&&s.getArea();return r.get("clip",!0)?l:null},n.prototype.updateTransform=function(r,s,l){var u=r.getData();this.group.dirty();var c=pointsLayout("").reset(r,s,l);c.progress&&c.progress({start:0,end:u.count(),count:u.count()},u),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(r){var s=r.coordinateSystem;s&&s.getRoamTransform&&(this.group.transform=clone$2(s.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(r,s){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type="effectScatter",n}(ChartView$1);const EffectScatterView$1=EffectScatterView;var EffectScatterSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,s){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(r,s,l){return l.point(s.getItemLayout(r))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n}(SeriesModel$1);const EffectScatterSeriesModel$1=EffectScatterSeriesModel;function install$x(a){a.registerChartView(EffectScatterView$1),a.registerSeriesModel(EffectScatterSeriesModel$1),a.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(a){__extends(n,a);function n(r,s,l){var u=a.call(this)||this;return u.add(u.createLine(r,s,l)),u._updateEffectSymbol(r,s),u}return n.prototype.createLine=function(r,s,l){return new Line$1(r,s,l)},n.prototype._updateEffectSymbol=function(r,s){var l=r.getItemModel(s),u=l.getModel("effect"),c=u.get("symbolSize"),f=u.get("symbol");isArray$2(c)||(c=[c,c]);var d=r.getItemVisual(s,"style"),v=u.get("color")||d&&d.stroke,g=this.childAt(1);this._symbolType!==f&&(this.remove(g),g=createSymbol$1(f,-.5,-.5,1,1,v),g.z2=100,g.culling=!0,this.add(g)),g&&(g.setStyle("shadowColor",v),g.setStyle(u.getItemStyle(["color"])),g.scaleX=c[0],g.scaleY=c[1],g.setColor(v),this._symbolType=f,this._symbolScale=c,this._updateEffectAnimation(r,u,s))},n.prototype._updateEffectAnimation=function(r,s,l){var u=this.childAt(1);if(!!u){var c=r.getItemLayout(l),f=s.get("period")*1e3,d=s.get("loop"),v=s.get("roundTrip"),g=s.get("constantSpeed"),y=retrieve(s.get("delay"),function(S){return S/r.count()*f/3});if(u.ignore=!0,this._updateAnimationPoints(u,c),g>0&&(f=this._getLineLength(u)/g*1e3),f!==this._period||d!==this._loop||v!==this._roundTrip){u.stopAnimation();var _=void 0;isFunction(y)?_=y(l):_=y,u.__t>0&&(_=-f*u.__t),this._animateSymbol(u,f,_,d,v)}this._period=f,this._loop=d,this._roundTrip=v}},n.prototype._animateSymbol=function(r,s,l,u,c){if(s>0){r.__t=0;var f=this,d=r.animate("",u).when(c?s*2:s,{__t:c?2:1}).delay(l).during(function(){f._updateSymbolPosition(r)});u||d.done(function(){f.remove(r)}),d.start()}},n.prototype._getLineLength=function(r){return dist$1(r.__p1,r.__cp1)+dist$1(r.__cp1,r.__p2)},n.prototype._updateAnimationPoints=function(r,s){r.__p1=s[0],r.__p2=s[1],r.__cp1=s[2]||[(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]},n.prototype.updateData=function(r,s,l){this.childAt(0).updateData(r,s,l),this._updateEffectSymbol(r,s)},n.prototype._updateSymbolPosition=function(r){var s=r.__p1,l=r.__p2,u=r.__cp1,c=r.__t<1?r.__t:2-r.__t,f=[r.x,r.y],d=f.slice(),v=quadraticAt$1,g=quadraticDerivativeAt;f[0]=v(s[0],u[0],l[0],c),f[1]=v(s[1],u[1],l[1],c);var y=r.__t<1?g(s[0],u[0],l[0],c):g(l[0],u[0],s[0],1-c),_=r.__t<1?g(s[1],u[1],l[1],c):g(l[1],u[1],s[1],1-c);r.rotation=-Math.atan2(_,y)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=dist$1(d,f)*1.05,c===1&&(f[0]=d[0]+(f[0]-d[0])/2,f[1]=d[1]+(f[1]-d[1])/2)):r.__lastT===1?r.scaleY=2*dist$1(s,f):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=f[0],r.y=f[1]},n.prototype.updateLayout=function(r,s){this.childAt(0).updateLayout(r,s);var l=r.getItemModel(s).getModel("effect");this._updateEffectAnimation(r,l,s)},n}(Group$4);const EffectLine$1=EffectLine;var Polyline=function(a){__extends(n,a);function n(r,s,l){var u=a.call(this)||this;return u._createPolyline(r,s,l),u}return n.prototype._createPolyline=function(r,s,l){var u=r.getItemLayout(s),c=new Polyline$3({shape:{points:u}});this.add(c),this._updateCommonStl(r,s,l)},n.prototype.updateData=function(r,s,l){var u=r.hostModel,c=this.childAt(0),f={shape:{points:r.getItemLayout(s)}};updateProps$1(c,f,u,s),this._updateCommonStl(r,s,l)},n.prototype._updateCommonStl=function(r,s,l){var u=this.childAt(0),c=r.getItemModel(s),f=l&&l.emphasisLineStyle,d=l&&l.focus,v=l&&l.blurScope,g=l&&l.emphasisDisabled;if(!l||r.hasItemOption){var y=c.getModel("emphasis");f=y.getModel("lineStyle").getLineStyle(),g=y.get("disabled"),d=y.get("focus"),v=y.get("blurScope")}u.useStyle(r.getItemVisual(s,"style")),u.style.fill=null,u.style.strokeNoScale=!0;var _=u.ensureState("emphasis");_.style=f,toggleHoverEmphasis(this,d,v,g)},n.prototype.updateLayout=function(r,s){var l=this.childAt(0);l.setShape("points",r.getItemLayout(s))},n}(Group$4);const Polyline$1=Polyline;var EffectPolyline=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return n.prototype.createLine=function(r,s,l){return new Polyline$1(r,s,l)},n.prototype._updateAnimationPoints=function(r,s){this._points=s;for(var l=[0],u=0,c=1;c<s.length;c++){var f=s[c-1],d=s[c];u+=dist$1(f,d),l.push(u)}if(u===0){this._length=0;return}for(var c=0;c<l.length;c++)l[c]/=u;this._offsets=l,this._length=u},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(r){var s=r.__t<1?r.__t:2-r.__t,l=this._points,u=this._offsets,c=l.length;if(!!u){var f=this._lastFrame,d;if(s<this._lastFramePercent){var v=Math.min(f+1,c-1);for(d=v;d>=0&&!(u[d]<=s);d--);d=Math.min(d,c-2)}else{for(d=f;d<c&&!(u[d]>s);d++);d=Math.min(d-1,c-2)}var g=(s-u[d])/(u[d+1]-u[d]),y=l[d],_=l[d+1];r.x=y[0]*(1-g)+g*_[0],r.y=y[1]*(1-g)+g*_[1];var S=r.__t<1?_[0]-y[0]:y[0]-_[0],x=r.__t<1?_[1]-y[1]:y[1]-_[1];r.rotation=-Math.atan2(x,S)-Math.PI/2,this._lastFrame=d,this._lastFramePercent=s,r.ignore=!1}},n}(EffectLine$1);const EffectPolyline$1=EffectPolyline;var LargeLinesPathShape=function(){function a(){this.polyline=!1,this.curveness=0,this.segs=[]}return a}(),LargeLinesPath=function(a){__extends(n,a);function n(r){var s=a.call(this,r)||this;return s._off=0,s.hoverDataIdx=-1,s}return n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LargeLinesPathShape},n.prototype.buildPath=function(r,s){var l=s.segs,u=s.curveness,c;if(s.polyline)for(c=this._off;c<l.length;){var f=l[c++];if(f>0){r.moveTo(l[c++],l[c++]);for(var d=1;d<f;d++)r.lineTo(l[c++],l[c++])}}else for(c=this._off;c<l.length;){var v=l[c++],g=l[c++],y=l[c++],_=l[c++];if(r.moveTo(v,g),u>0){var S=(v+y)/2-(g-_)*u,x=(g+_)/2-(y-v)*u;r.quadraticCurveTo(S,x,y,_)}else r.lineTo(y,_)}this.incremental&&(this._off=c,this.notClear=!0)},n.prototype.findDataIndex=function(r,s){var l=this.shape,u=l.segs,c=l.curveness,f=this.style.lineWidth;if(l.polyline)for(var d=0,v=0;v<u.length;){var g=u[v++];if(g>0)for(var y=u[v++],_=u[v++],S=1;S<g;S++){var x=u[v++],A=u[v++];if(containStroke$4(y,_,x,A,f,r,s))return d}d++}else for(var d=0,v=0;v<u.length;){var y=u[v++],_=u[v++],x=u[v++],A=u[v++];if(c>0){var b=(y+x)/2-(_-A)*c,w=(_+A)/2-(x-y)*c;if(containStroke$2(y,_,b,w,x,A,f,r,s))return d}else if(containStroke$4(y,_,x,A,f,r,s))return d;d++}return-1},n.prototype.contain=function(r,s){var l=this.transformCoordToLocal(r,s),u=this.getBoundingRect();if(r=l[0],s=l[1],u.contain(r,s)){var c=this.hoverDataIdx=this.findDataIndex(r,s);return c>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var s=this.shape,l=s.segs,u=1/0,c=1/0,f=-1/0,d=-1/0,v=0;v<l.length;){var g=l[v++],y=l[v++];u=Math.min(g,u),f=Math.max(g,f),c=Math.min(y,c),d=Math.max(y,d)}r=this._rect=new BoundingRect$1(u,c,f,d)}return r},n}(Path$1),LargeLineDraw=function(){function a(){this.group=new Group$4}return a.prototype.updateData=function(n){this._clear();var r=this._create();r.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(r,n)},a.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clear()},a.prototype.incrementalUpdate=function(n,r){var s=this._newAdded[0],l=r.getLayout("linesPoints"),u=s&&s.shape.segs;if(u&&u.length<2e4){var c=u.length,f=new Float32Array(c+l.length);f.set(u),f.set(l,c),s.setShape({segs:f})}else{this._newAdded=[];var d=this._create();d.incremental=!0,d.setShape({segs:l}),this._setCommon(d,r),d.__startIndex=n.start}},a.prototype.remove=function(){this._clear()},a.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},a.prototype._create=function(){var n=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(n),this.group.add(n),n},a.prototype._setCommon=function(n,r,s){var l=r.hostModel;n.setShape({polyline:l.get("polyline"),curveness:l.get(["lineStyle","curveness"])}),n.useStyle(l.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var u=r.getVisual("style");u&&u.stroke&&n.setStyle("stroke",u.stroke),n.setStyle("fill",null);var c=getECData(n);c.seriesIndex=l.seriesIndex,n.on("mousemove",function(f){c.dataIndex=null;var d=n.hoverDataIdx;d>0&&(c.dataIndex=d+n.__startIndex)})},a.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},a}();const LargeLineDraw$1=LargeLineDraw;var linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(a){var n=a.coordinateSystem;if(!!n){var r=a.get("polyline"),s=a.pipelineContext.large;return{progress:function(l,u){var c=[];if(s){var f=void 0,d=l.end-l.start;if(r){for(var v=0,g=l.start;g<l.end;g++)v+=a.getLineCoordsCount(g);f=new Float32Array(d+v*2)}else f=new Float32Array(d*4);for(var y=0,_=[],g=l.start;g<l.end;g++){var S=a.getLineCoords(g,c);r&&(f[y++]=S);for(var x=0;x<S;x++)_=n.dataToPoint(c[x],!1,_),f[y++]=_[0],f[y++]=_[1]}u.setLayout("linesPoints",f)}else for(var g=l.start;g<l.end;g++){var A=u.getItemModel(g),S=a.getLineCoords(g,c),b=[];if(r)for(var w=0;w<S;w++)b.push(n.dataToPoint(c[w]));else{b[0]=n.dataToPoint(c[0]),b[1]=n.dataToPoint(c[1]);var E=A.get(["lineStyle","curveness"]);+E&&(b[2]=[(b[0][0]+b[1][0])/2-(b[0][1]-b[1][1])*E,(b[0][1]+b[1][1])/2-(b[1][0]-b[0][0])*E])}u.setItemLayout(g,b)}}}}}};const linesLayout$1=linesLayout;var LinesView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){var u=r.getData(),c=this._updateLineDraw(u,r),f=r.get("zlevel"),d=r.get(["effect","trailLength"]),v=l.getZr(),g=v.painter.getType()==="svg";g||v.painter.getLayer(f).clear(!0),this._lastZlevel!=null&&!g&&v.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&d>0&&(g||v.configLayer(f,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(d/10+.9,1),0)})),c.updateData(u);var y=r.get("clip",!0)&&createClipPath(r.coordinateSystem,!1,r);y?this.group.setClipPath(y):this.group.removeClipPath(),this._lastZlevel=f,this._finished=!0},n.prototype.incrementalPrepareRender=function(r,s,l){var u=r.getData(),c=this._updateLineDraw(u,r);c.incrementalPrepareUpdate(u),this._clearLayer(l),this._finished=!1},n.prototype.incrementalRender=function(r,s,l){this._lineDraw.incrementalUpdate(r,s.getData()),this._finished=r.end===s.getData().count()},n.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},n.prototype.updateTransform=function(r,s,l){var u=r.getData(),c=r.pipelineContext;if(!this._finished||c.large||c.progressiveRender)return{update:!0};var f=linesLayout$1.reset(r,s,l);f.progress&&f.progress({start:0,end:u.count(),count:u.count()},u),this._lineDraw.updateLayout(),this._clearLayer(l)},n.prototype._updateLineDraw=function(r,s){var l=this._lineDraw,u=this._showEffect(s),c=!!s.get("polyline"),f=s.pipelineContext,d=f.large;return(!l||u!==this._hasEffet||c!==this._isPolyline||d!==this._isLargeDraw)&&(l&&l.remove(),l=this._lineDraw=d?new LargeLineDraw$1:new LineDraw$1(c?u?EffectPolyline$1:Polyline$1:u?EffectLine$1:Line$1),this._hasEffet=u,this._isPolyline=c,this._isLargeDraw=d),this.group.add(l.group),l},n.prototype._showEffect=function(r){return!!r.get(["effect","show"])},n.prototype._clearLayer=function(r){var s=r.getZr(),l=s.painter.getType()==="svg";!l&&this._lastZlevel!=null&&s.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(r,s){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(s)},n.prototype.dispose=function(r,s){this.remove(r,s)},n.type="lines",n}(ChartView$1);const LinesView$1=LinesView;var Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(a){var n=a.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(a.data=map$1(n,function(r){var s=[r[0].coord,r[1].coord],l={coords:s};return r[0].name&&(l.fromName=r[0].name),r[1].name&&(l.toName=r[1].name),mergeAll([l,r[0],r[1]])}))}var LinesSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.init=function(r){r.data=r.data||[],compatEc2(r);var s=this._processFlatCoordsArray(r.data);this._flatCoords=s.flatCoords,this._flatCoordsOffset=s.flatCoordsOffset,s.flatCoords&&(r.data=new Float32Array(s.count)),a.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(r){if(compatEc2(r),r.data){var s=this._processFlatCoordsArray(r.data);this._flatCoords=s.flatCoords,this._flatCoordsOffset=s.flatCoordsOffset,s.flatCoords&&(r.data=new Float32Array(s.count))}a.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(r){var s=this._processFlatCoordsArray(r.data);s.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,s.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,s.flatCoordsOffset)):(this._flatCoords=s.flatCoords,this._flatCoordsOffset=s.flatCoordsOffset),r.data=new Float32Array(s.count)),this.getRawData().appendData(r.data)},n.prototype._getCoordsFromItemModel=function(r){var s=this.getData().getItemModel(r),l=s.option instanceof Array?s.option:s.getShallow("coords");return l},n.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},n.prototype.getLineCoords=function(r,s){if(this._flatCoordsOffset){for(var l=this._flatCoordsOffset[r*2],u=this._flatCoordsOffset[r*2+1],c=0;c<u;c++)s[c]=s[c]||[],s[c][0]=this._flatCoords[l+c*2],s[c][1]=this._flatCoords[l+c*2+1];return u}else{for(var f=this._getCoordsFromItemModel(r),c=0;c<f.length;c++)s[c]=s[c]||[],s[c][0]=f[c][0],s[c][1]=f[c][1];return f.length}},n.prototype._processFlatCoordsArray=function(r){var s=0;if(this._flatCoords&&(s=this._flatCoords.length),isNumber(r[0])){for(var l=r.length,u=new Uint32Arr(l),c=new Float64Arr(l),f=0,d=0,v=0,g=0;g<l;){v++;var y=r[g++];u[d++]=f+s,u[d++]=y;for(var _=0;_<y;_++){var S=r[g++],x=r[g++];c[f++]=S,c[f++]=x}}return{flatCoordsOffset:new Uint32Array(u.buffer,0,d),flatCoords:c,count:v}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},n.prototype.getInitialData=function(r,s){var l=new SeriesData$1(["value"],this);return l.hasItemOption=!1,l.initData(r.data,[],function(u,c,f,d){if(u instanceof Array)return NaN;l.hasItemOption=!0;var v=u.value;if(v!=null)return v instanceof Array?v[d]:v}),l},n.prototype.formatTooltip=function(r,s,l){var u=this.getData(),c=u.getItemModel(r),f=c.get("name");if(f)return f;var d=c.get("fromName"),v=c.get("toName"),g=[];return d!=null&&g.push(d),v!=null&&g.push(v),createTooltipMarkup("nameValue",{name:g.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var r=this.option.progressive;return r==null?this.option.large?1e4:this.get("progressive"):r},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r==null?this.option.large?2e4:this.get("progressiveThreshold"):r},n.prototype.getZLevelKey=function(){var r=this.getModel("effect"),s=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&s>0?s+"":""},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n}(SeriesModel$1);const LinesSeriesModel$1=LinesSeriesModel;function normalize(a){return a instanceof Array||(a=[a,a]),a}var linesVisual={seriesType:"lines",reset:function(a){var n=normalize(a.get("symbol")),r=normalize(a.get("symbolSize")),s=a.getData();s.setVisual("fromSymbol",n&&n[0]),s.setVisual("toSymbol",n&&n[1]),s.setVisual("fromSymbolSize",r&&r[0]),s.setVisual("toSymbolSize",r&&r[1]);function l(u,c){var f=u.getItemModel(c),d=normalize(f.getShallow("symbol",!0)),v=normalize(f.getShallow("symbolSize",!0));d[0]&&u.setItemVisual(c,"fromSymbol",d[0]),d[1]&&u.setItemVisual(c,"toSymbol",d[1]),v[0]&&u.setItemVisual(c,"fromSymbolSize",v[0]),v[1]&&u.setItemVisual(c,"toSymbolSize",v[1])}return{dataEach:s.hasItemOption?l:null}}};const linesVisual$1=linesVisual;function install$w(a){a.registerChartView(LinesView$1),a.registerSeriesModel(LinesSeriesModel$1),a.registerLayout(linesLayout$1),a.registerVisual(linesVisual$1)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function a(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=platformApi.createCanvas();this.canvas=n}return a.prototype.update=function(n,r,s,l,u,c){var f=this._getBrush(),d=this._getGradient(u,"inRange"),v=this._getGradient(u,"outOfRange"),g=this.pointSize+this.blurSize,y=this.canvas,_=y.getContext("2d"),S=n.length;y.width=r,y.height=s;for(var x=0;x<S;++x){var A=n[x],b=A[0],w=A[1],E=A[2],M=l(E);_.globalAlpha=M,_.drawImage(f,b-g,w-g)}if(!y.width||!y.height)return y;for(var P=_.getImageData(0,0,y.width,y.height),R=P.data,I=0,L=R.length,O=this.minOpacity,N=this.maxOpacity,B=N-O;I<L;){var M=R[I+3]/256,F=Math.floor(M*(GRADIENT_LEVELS-1))*4;if(M>0){var V=c(M)?d:v;M>0&&(M=M*B+O),R[I++]=V[F],R[I++]=V[F+1],R[I++]=V[F+2],R[I++]=V[F+3]*M*256}else I+=4}return _.putImageData(P,0,0),y},a.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),r=this.pointSize+this.blurSize,s=r*2;n.width=s,n.height=s;var l=n.getContext("2d");return l.clearRect(0,0,s,s),l.shadowOffsetX=s,l.shadowBlur=this.blurSize,l.shadowColor="#000",l.beginPath(),l.arc(-r,r,this.pointSize,0,Math.PI*2,!0),l.closePath(),l.fill(),n},a.prototype._getGradient=function(n,r){for(var s=this._gradientPixels,l=s[r]||(s[r]=new Uint8ClampedArray(256*4)),u=[0,0,0,0],c=0,f=0;f<256;f++)n[r](f/255,!0,u),l[c++]=u[0],l[c++]=u[1],l[c++]=u[2],l[c++]=u[3];return l},a}();const HeatmapLayer$1=HeatmapLayer;function getIsInPiecewiseRange(a,n,r){var s=a[1]-a[0];n=map$1(n,function(c){return{interval:[(c.interval[0]-a[0])/s,(c.interval[1]-a[0])/s]}});var l=n.length,u=0;return function(c){var f;for(f=u;f<l;f++){var d=n[f].interval;if(d[0]<=c&&c<=d[1]){u=f;break}}if(f===l)for(f=u-1;f>=0;f--){var d=n[f].interval;if(d[0]<=c&&c<=d[1]){u=f;break}}return f>=0&&f<l&&r[f]}}function getIsInContinuousRange(a,n){var r=a[1]-a[0];return n=[(n[0]-a[0])/r,(n[1]-a[0])/r],function(s){return s>=n[0]&&s<=n[1]}}function isGeoCoordSys(a){var n=a.dimensions;return n[0]==="lng"&&n[1]==="lat"}var HeatmapView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){var u;s.eachComponent("visualMap",function(f){f.eachTargetSeries(function(d){d===r&&(u=f)})}),this._progressiveEls=null,this.group.removeAll();var c=r.coordinateSystem;c.type==="cartesian2d"||c.type==="calendar"?this._renderOnCartesianAndCalendar(r,l,0,r.getData().count()):isGeoCoordSys(c)&&this._renderOnGeo(c,r,u,l)},n.prototype.incrementalPrepareRender=function(r,s,l){this.group.removeAll()},n.prototype.incrementalRender=function(r,s,l,u){var c=s.coordinateSystem;c&&(isGeoCoordSys(c)?this.render(s,l,u):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(s,u,r.start,r.end,!0)))},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._renderOnCartesianAndCalendar=function(r,s,l,u,c){var f=r.coordinateSystem,d=isCoordinateSystemType(f,"cartesian2d"),v,g,y,_;if(d){var S=f.getAxis("x"),x=f.getAxis("y");v=S.getBandWidth()+.5,g=x.getBandWidth()+.5,y=S.scale.getExtent(),_=x.scale.getExtent()}for(var A=this.group,b=r.getData(),w=r.getModel(["emphasis","itemStyle"]).getItemStyle(),E=r.getModel(["blur","itemStyle"]).getItemStyle(),M=r.getModel(["select","itemStyle"]).getItemStyle(),P=r.get(["itemStyle","borderRadius"]),R=getLabelStatesModels(r),I=r.getModel("emphasis"),L=I.get("focus"),O=I.get("blurScope"),N=I.get("disabled"),B=d?[b.mapDimension("x"),b.mapDimension("y"),b.mapDimension("value")]:[b.mapDimension("time"),b.mapDimension("value")],F=l;F<u;F++){var V=void 0,z=b.getItemVisual(F,"style");if(d){var U=b.get(B[0],F),Y=b.get(B[1],F);if(isNaN(b.get(B[2],F))||isNaN(U)||isNaN(Y)||U<y[0]||U>y[1]||Y<_[0]||Y>_[1])continue;var q=f.dataToPoint([U,Y]);V=new Rect$3({shape:{x:q[0]-v/2,y:q[1]-g/2,width:v,height:g},style:z})}else{if(isNaN(b.get(B[1],F)))continue;V=new Rect$3({z2:1,shape:f.dataToRect([b.get(B[0],F)]).contentShape,style:z})}if(b.hasItemOption){var Q=b.getItemModel(F),j=Q.getModel("emphasis");w=j.getModel("itemStyle").getItemStyle(),E=Q.getModel(["blur","itemStyle"]).getItemStyle(),M=Q.getModel(["select","itemStyle"]).getItemStyle(),P=Q.get(["itemStyle","borderRadius"]),L=j.get("focus"),O=j.get("blurScope"),N=j.get("disabled"),R=getLabelStatesModels(Q)}V.shape.r=P;var ne=r.getRawValue(F),fe="-";ne&&ne[2]!=null&&(fe=ne[2]+""),setLabelStyle(V,R,{labelFetcher:r,labelDataIndex:F,defaultOpacity:z.opacity,defaultText:fe}),V.ensureState("emphasis").style=w,V.ensureState("blur").style=E,V.ensureState("select").style=M,toggleHoverEmphasis(V,L,O,N),V.incremental=c,c&&(V.states.emphasis.hoverLayer=!0),A.add(V),b.setItemGraphicEl(F,V),this._progressiveEls&&this._progressiveEls.push(V)}},n.prototype._renderOnGeo=function(r,s,l,u){var c=l.targetVisuals.inRange,f=l.targetVisuals.outOfRange,d=s.getData(),v=this._hmLayer||this._hmLayer||new HeatmapLayer$1;v.blurSize=s.get("blurSize"),v.pointSize=s.get("pointSize"),v.minOpacity=s.get("minOpacity"),v.maxOpacity=s.get("maxOpacity");var g=r.getViewRect().clone(),y=r.getRoamTransform();g.applyTransform(y);var _=Math.max(g.x,0),S=Math.max(g.y,0),x=Math.min(g.width+g.x,u.getWidth()),A=Math.min(g.height+g.y,u.getHeight()),b=x-_,w=A-S,E=[d.mapDimension("lng"),d.mapDimension("lat"),d.mapDimension("value")],M=d.mapArray(E,function(L,O,N){var B=r.dataToPoint([L,O]);return B[0]-=_,B[1]-=S,B.push(N),B}),P=l.getExtent(),R=l.type==="visualMap.continuous"?getIsInContinuousRange(P,l.option.range):getIsInPiecewiseRange(P,l.getPieceList(),l.option.selected);v.update(M,b,w,c.color.getNormalizer(),{inRange:c.color.getColorMapper(),outOfRange:f.color.getColorMapper()},R);var I=new ZRImage$1({style:{width:b,height:w,x:_,y:S,image:v.canvas},silent:!0});this.group.add(I)},n.type="heatmap",n}(ChartView$1);const HeatmapView$1=HeatmapView;var HeatmapSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,s){return createSeriesData(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var r=CoordinateSystem.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel$1);const HeatmapSeriesModel$1=HeatmapSeriesModel;function install$v(a){a.registerChartView(HeatmapView$1),a.registerSeriesModel(HeatmapSeriesModel$1)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle$1,PictorialBarView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){var u=this.group,c=r.getData(),f=this._data,d=r.coordinateSystem,v=d.getBaseAxis(),g=v.isHorizontal(),y=d.master.getRect(),_={ecSize:{width:l.getWidth(),height:l.getHeight()},seriesModel:r,coordSys:d,coordSysExtent:[[y.x,y.x+y.width],[y.y,y.y+y.height]],isHorizontal:g,valueDim:LAYOUT_ATTRS[+g],categoryDim:LAYOUT_ATTRS[1-+g]};return c.diff(f).add(function(S){if(!!c.hasValue(S)){var x=getItemModel(c,S),A=getSymbolMeta(c,S,x,_),b=createBar(c,_,A);c.setItemGraphicEl(S,b),u.add(b),updateCommon(b,_,A)}}).update(function(S,x){var A=f.getItemGraphicEl(x);if(!c.hasValue(S)){u.remove(A);return}var b=getItemModel(c,S),w=getSymbolMeta(c,S,b,_),E=getShapeStr(c,w);A&&E!==A.__pictorialShapeStr&&(u.remove(A),c.setItemGraphicEl(S,null),A=null),A?updateBar(A,_,w):A=createBar(c,_,w,!0),c.setItemGraphicEl(S,A),A.__pictorialSymbolMeta=w,u.add(A),updateCommon(A,_,w)}).remove(function(S){var x=f.getItemGraphicEl(S);x&&removeBar(f,S,x.__pictorialSymbolMeta.animationModel,x)}).execute(),this._data=c,this.group},n.prototype.remove=function(r,s){var l=this.group,u=this._data;r.get("animation")?u&&u.eachItemGraphicEl(function(c){removeBar(u,getECData(c).dataIndex,r,c)}):l.removeAll()},n.type="pictorialBar",n}(ChartView$1);function getSymbolMeta(a,n,r,s){var l=a.getItemLayout(n),u=r.get("symbolRepeat"),c=r.get("symbolClip"),f=r.get("symbolPosition")||"start",d=r.get("symbolRotate"),v=(d||0)*Math.PI/180||0,g=r.get("symbolPatternSize")||2,y=r.isAnimationEnabled(),_={dataIndex:n,layout:l,itemModel:r,symbolType:a.getItemVisual(n,"symbol")||"circle",style:a.getItemVisual(n,"style"),symbolClip:c,symbolRepeat:u,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:g,rotation:v,animationModel:y?r:null,hoverScale:y&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};prepareBarLength(r,u,l,s,_),prepareSymbolSize(a,n,l,u,c,_.boundingLength,_.pxSign,g,s,_),prepareLineWidth(r,_.symbolScale,v,s,_);var S=_.symbolSize,x=normalizeSymbolOffset(r.get("symbolOffset"),S);return prepareLayoutInfo(r,S,l,u,c,x,f,_.valueLineWidth,_.boundingLength,_.repeatCutLength,s,_),_}function prepareBarLength(a,n,r,s,l){var u=s.valueDim,c=a.get("symbolBoundingData"),f=s.coordSys.getOtherAxis(s.coordSys.getBaseAxis()),d=f.toGlobalCoord(f.dataToCoord(0)),v=1-+(r[u.wh]<=0),g;if(isArray$2(c)){var y=[convertToCoordOnAxis(f,c[0])-d,convertToCoordOnAxis(f,c[1])-d];y[1]<y[0]&&y.reverse(),g=y[v]}else c!=null?g=convertToCoordOnAxis(f,c)-d:n?g=s.coordSysExtent[u.index][v]-d:g=r[u.wh];l.boundingLength=g,n&&(l.repeatCutLength=r[u.wh]),l.pxSign=g>0?1:-1}function convertToCoordOnAxis(a,n){return a.toGlobalCoord(a.dataToCoord(a.scale.parse(n)))}function prepareSymbolSize(a,n,r,s,l,u,c,f,d,v){var g=d.valueDim,y=d.categoryDim,_=Math.abs(r[y.wh]),S=a.getItemVisual(n,"symbolSize"),x;isArray$2(S)?x=S.slice():S==null?x=["100%","100%"]:x=[S,S],x[y.index]=parsePercent(x[y.index],_),x[g.index]=parsePercent(x[g.index],s?_:Math.abs(u)),v.symbolSize=x;var A=v.symbolScale=[x[0]/f,x[1]/f];A[g.index]*=(d.isHorizontal?-1:1)*c}function prepareLineWidth(a,n,r,s,l){var u=a.get(BAR_BORDER_WIDTH_QUERY)||0;u&&(pathForLineWidth.attr({scaleX:n[0],scaleY:n[1],rotation:r}),pathForLineWidth.updateTransform(),u/=pathForLineWidth.getLineScale(),u*=n[s.valueDim.index]),l.valueLineWidth=u||0}function prepareLayoutInfo(a,n,r,s,l,u,c,f,d,v,g,y){var _=g.categoryDim,S=g.valueDim,x=y.pxSign,A=Math.max(n[S.index]+f,0),b=A;if(s){var w=Math.abs(d),E=retrieve(a.get("symbolMargin"),"15%")+"",M=!1;E.lastIndexOf("!")===E.length-1&&(M=!0,E=E.slice(0,E.length-1));var P=parsePercent(E,n[S.index]),R=Math.max(A+P*2,0),I=M?0:P*2,L=isNumeric(s),O=L?s:toIntTimes((w+I)/R),N=w-O*A;P=N/2/(M?O:Math.max(O-1,1)),R=A+P*2,I=M?0:P*2,!L&&s!=="fixed"&&(O=v?toIntTimes((Math.abs(v)+I)/R):0),b=O*R-I,y.repeatTimes=O,y.symbolMargin=P}var B=x*(b/2),F=y.pathPosition=[];F[_.index]=r[_.wh]/2,F[S.index]=c==="start"?B:c==="end"?d-B:d/2,u&&(F[0]+=u[0],F[1]+=u[1]);var V=y.bundlePosition=[];V[_.index]=r[_.xy],V[S.index]=r[S.xy];var z=y.barRectShape=extend({},r);z[S.wh]=x*Math.max(Math.abs(r[S.wh]),Math.abs(F[S.index]+B)),z[_.wh]=r[_.wh];var U=y.clipShape={};U[_.xy]=-r[_.xy],U[_.wh]=g.ecSize[_.wh],U[S.xy]=0,U[S.wh]=r[S.wh]}function createPath(a){var n=a.symbolPatternSize,r=createSymbol$1(a.symbolType,-n/2,-n/2,n,n);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function createOrUpdateRepeatSymbols(a,n,r,s){var l=a.__pictorialBundle,u=r.symbolSize,c=r.valueLineWidth,f=r.pathPosition,d=n.valueDim,v=r.repeatTimes||0,g=0,y=u[n.valueDim.index]+c+r.symbolMargin*2;for(eachPath(a,function(A){A.__pictorialAnimationIndex=g,A.__pictorialRepeatTimes=v,g<v?updateAttr(A,null,x(g),r,s):updateAttr(A,null,{scaleX:0,scaleY:0},r,s,function(){l.remove(A)}),g++});g<v;g++){var _=createPath(r);_.__pictorialAnimationIndex=g,_.__pictorialRepeatTimes=v,l.add(_);var S=x(g);updateAttr(_,{x:S.x,y:S.y,scaleX:0,scaleY:0},{scaleX:S.scaleX,scaleY:S.scaleY,rotation:S.rotation},r,s)}function x(A){var b=f.slice(),w=r.pxSign,E=A;return(r.symbolRepeatDirection==="start"?w>0:w<0)&&(E=v-1-A),b[d.index]=y*(E-v/2+.5)+f[d.index],{x:b[0],y:b[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function createOrUpdateSingleSymbol(a,n,r,s){var l=a.__pictorialBundle,u=a.__pictorialMainPath;u?updateAttr(u,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,s):(u=a.__pictorialMainPath=createPath(r),l.add(u),updateAttr(u,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,s))}function createOrUpdateBarRect(a,n,r){var s=extend({},n.barRectShape),l=a.__pictorialBarRect;l?updateAttr(l,null,{shape:s},n,r):(l=a.__pictorialBarRect=new Rect$3({z2:2,shape:s,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),l.disableMorphing=!0,a.add(l))}function createOrUpdateClip(a,n,r,s){if(r.symbolClip){var l=a.__pictorialClipPath,u=extend({},r.clipShape),c=n.valueDim,f=r.animationModel,d=r.dataIndex;if(l)updateProps$1(l,{shape:u},f,d);else{u[c.wh]=0,l=new Rect$3({shape:u}),a.__pictorialBundle.setClipPath(l),a.__pictorialClipPath=l;var v={};v[c.wh]=r.clipShape[c.wh],graphic[s?"updateProps":"initProps"](l,{shape:v},f,d)}}}function getItemModel(a,n){var r=a.getItemModel(n);return r.getAnimationDelayParams=getAnimationDelayParams,r.isAnimationEnabled=isAnimationEnabled,r}function getAnimationDelayParams(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(a,n,r,s){var l=new Group$4,u=new Group$4;return l.add(u),l.__pictorialBundle=u,u.x=r.bundlePosition[0],u.y=r.bundlePosition[1],r.symbolRepeat?createOrUpdateRepeatSymbols(l,n,r):createOrUpdateSingleSymbol(l,n,r),createOrUpdateBarRect(l,r,s),createOrUpdateClip(l,n,r,s),l.__pictorialShapeStr=getShapeStr(a,r),l.__pictorialSymbolMeta=r,l}function updateBar(a,n,r){var s=r.animationModel,l=r.dataIndex,u=a.__pictorialBundle;updateProps$1(u,{x:r.bundlePosition[0],y:r.bundlePosition[1]},s,l),r.symbolRepeat?createOrUpdateRepeatSymbols(a,n,r,!0):createOrUpdateSingleSymbol(a,n,r,!0),createOrUpdateBarRect(a,r,!0),createOrUpdateClip(a,n,r,!0)}function removeBar(a,n,r,s){var l=s.__pictorialBarRect;l&&l.removeTextContent();var u=[];eachPath(s,function(c){u.push(c)}),s.__pictorialMainPath&&u.push(s.__pictorialMainPath),s.__pictorialClipPath&&(r=null),each$f(u,function(c){removeElement(c,{scaleX:0,scaleY:0},r,n,function(){s.parent&&s.parent.remove(s)})}),a.setItemGraphicEl(n,null)}function getShapeStr(a,n){return[a.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function eachPath(a,n,r){each$f(a.__pictorialBundle.children(),function(s){s!==a.__pictorialBarRect&&n.call(r,s)})}function updateAttr(a,n,r,s,l,u){n&&a.attr(n),s.symbolClip&&!l?r&&a.attr(r):r&&graphic[l?"updateProps":"initProps"](a,r,s.animationModel,s.dataIndex,u)}function updateCommon(a,n,r){var s=r.dataIndex,l=r.itemModel,u=l.getModel("emphasis"),c=u.getModel("itemStyle").getItemStyle(),f=l.getModel(["blur","itemStyle"]).getItemStyle(),d=l.getModel(["select","itemStyle"]).getItemStyle(),v=l.getShallow("cursor"),g=u.get("focus"),y=u.get("blurScope"),_=u.get("scale");eachPath(a,function(A){if(A instanceof ZRImage$1){var b=A.style;A.useStyle(extend({image:b.image,x:b.x,y:b.y,width:b.width,height:b.height},r.style))}else A.useStyle(r.style);var w=A.ensureState("emphasis");w.style=c,_&&(w.scaleX=A.scaleX*1.1,w.scaleY=A.scaleY*1.1),A.ensureState("blur").style=f,A.ensureState("select").style=d,v&&(A.cursor=v),A.z2=r.z2});var S=n.valueDim.posDesc[+(r.boundingLength>0)],x=a.__pictorialBarRect;setLabelStyle(x,getLabelStatesModels(l),{labelFetcher:n.seriesModel,labelDataIndex:s,defaultText:getDefaultLabel(n.seriesModel.getData(),s),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:S}),toggleHoverEmphasis(a,g,y,u.get("disabled"))}function toIntTimes(a){var n=Math.round(a);return Math.abs(a-n)<1e-4?n:Math.ceil(a)}const PictorialBarView$1=PictorialBarView;var PictorialBarSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return n.prototype.getInitialData=function(r){return r.stack=null,a.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel$1.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),n}(BaseBarSeriesModel$1);const PictorialBarSeriesModel$1=PictorialBarSeriesModel;function install$u(a){a.registerChartView(PictorialBarView$1),a.registerSeriesModel(PictorialBarSeriesModel$1),a.registerLayout(a.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),a.registerLayout(a.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._layers=[],r}return n.prototype.render=function(r,s,l){var u=r.getData(),c=this,f=this.group,d=r.getLayerSeries(),v=u.getLayout("layoutInfo"),g=v.rect,y=v.boundaryGap;f.x=0,f.y=g.y+y[0];function _(b){return b.name}var S=new DataDiffer$1(this._layersSeries||[],d,_,_),x=[];S.add(bind$1(A,this,"add")).update(bind$1(A,this,"update")).remove(bind$1(A,this,"remove")).execute();function A(b,w,E){var M=c._layers;if(b==="remove"){f.remove(M[w]);return}for(var P=[],R=[],I,L=d[w].indices,O=0;O<L.length;O++){var N=u.getItemLayout(L[O]),B=N.x,F=N.y0,V=N.y;P.push(B,F),R.push(B,F+V),I=u.getItemVisual(L[O],"style")}var z,U=u.getItemLayout(L[0]),Y=r.getModel("label"),q=Y.get("margin"),Q=r.getModel("emphasis");if(b==="add"){var j=x[w]=new Group$4;z=new ECPolygon({shape:{points:P,stackedOnPoints:R,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),j.add(z),f.add(j),r.isAnimationEnabled()&&z.setClipPath(createGridClipShape(z.getBoundingRect(),r,function(){z.removeClipPath()}))}else{var j=M[E];z=j.childAt(0),f.add(j),x[w]=j,updateProps$1(z,{shape:{points:P,stackedOnPoints:R}},r),saveOldStyle(z)}setLabelStyle(z,getLabelStatesModels(r),{labelDataIndex:L[O-1],defaultText:u.getName(L[O-1]),inheritColor:I.fill},{normal:{verticalAlign:"middle"}}),z.setTextConfig({position:null,local:!0});var ne=z.getTextContent();ne&&(ne.x=U.x-q,ne.y=U.y0+U.y/2),z.useStyle(I),u.setItemGraphicEl(w,z),setStatesStylesFromModel(z,r),toggleHoverEmphasis(z,Q.get("focus"),Q.get("blurScope"),Q.get("disabled"))}this._layersSeries=d,this._layers=x},n.type="themeRiver",n}(ChartView$1);function createGridClipShape(a,n,r){var s=new Rect$3({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return initProps(s,{shape:{x:a.x-50,width:a.width+100,height:a.height+20}},n,r),s}const ThemeRiverView$1=ThemeRiverView;var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){a.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this))},n.prototype.fixData=function(r){var s=r.length,l={},u=groupData(r,function(_){return l.hasOwnProperty(_[0]+"")||(l[_[0]+""]=-1),_[2]}),c=[];u.buckets.each(function(_,S){c.push({name:S,dataList:_})});for(var f=c.length,d=0;d<f;++d){for(var v=c[d].name,g=0;g<c[d].dataList.length;++g){var y=c[d].dataList[g][0]+"";l[y]=d}for(var y in l)l.hasOwnProperty(y)&&l[y]!==d&&(l[y]=d,r[s]=[y,0,v],s++)}return r},n.prototype.getInitialData=function(r,s){for(var l=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],u=l.get("type"),c=filter(r.data,function(x){return x[2]!==void 0}),f=this.fixData(c||[]),d=[],v=this.nameMap=createHashMap(),g=0,y=0;y<f.length;++y)d.push(f[y][DATA_NAME_INDEX]),v.get(f[y][DATA_NAME_INDEX])||(v.set(f[y][DATA_NAME_INDEX],g),g++);var _=prepareSeriesDataSchema(f,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis(u)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,S=new SeriesData$1(_,this);return S.initData(f),S},n.prototype.getLayerSeries=function(){for(var r=this.getData(),s=r.count(),l=[],u=0;u<s;++u)l[u]=u;var c=r.mapDimension("single"),f=groupData(l,function(v){return r.get("name",v)}),d=[];return f.buckets.each(function(v,g){v.sort(function(y,_){return r.get(c,y)-r.get(c,_)}),d.push({name:g,indices:v})}),d},n.prototype.getAxisTooltipData=function(r,s,l){isArray$2(r)||(r=r?[r]:[]);for(var u=this.getData(),c=this.getLayerSeries(),f=[],d=c.length,v,g=0;g<d;++g){for(var y=Number.MAX_VALUE,_=-1,S=c[g].indices.length,x=0;x<S;++x){var A=u.get(r[0],c[g].indices[x]),b=Math.abs(A-s);b<=y&&(v=A,y=b,_=c[g].indices[x])}f.push(_)}return{dataIndices:f,nestestValue:v}},n.prototype.formatTooltip=function(r,s,l){var u=this.getData(),c=u.getName(r),f=u.get(u.mapDimension("value"),r);return createTooltipMarkup("nameValue",{name:c,value:f})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n}(SeriesModel$1);const ThemeRiverSeriesModel$1=ThemeRiverSeriesModel;function themeRiverLayout(a,n){a.eachSeriesByType("themeRiver",function(r){var s=r.getData(),l=r.coordinateSystem,u={},c=l.getRect();u.rect=c;var f=r.get("boundaryGap"),d=l.getAxis();if(u.boundaryGap=f,d.orient==="horizontal"){f[0]=parsePercent(f[0],c.height),f[1]=parsePercent(f[1],c.height);var v=c.height-f[0]-f[1];doThemeRiverLayout(s,r,v)}else{f[0]=parsePercent(f[0],c.width),f[1]=parsePercent(f[1],c.width);var g=c.width-f[0]-f[1];doThemeRiverLayout(s,r,g)}s.setLayout("layoutInfo",u)})}function doThemeRiverLayout(a,n,r){if(!!a.count())for(var s=n.coordinateSystem,l=n.getLayerSeries(),u=a.mapDimension("single"),c=a.mapDimension("value"),f=map$1(l,function(b){return map$1(b.indices,function(w){var E=s.dataToPoint(a.get(u,w));return E[1]=a.get(c,w),E})}),d=computeBaseline(f),v=d.y0,g=r/d.max,y=l.length,_=l[0].indices.length,S,x=0;x<_;++x){S=v[x]*g,a.setItemLayout(l[0].indices[x],{layerIndex:0,x:f[0][x][0],y0:S,y:f[0][x][1]*g});for(var A=1;A<y;++A)S+=f[A-1][x][1]*g,a.setItemLayout(l[A].indices[x],{layerIndex:A,x:f[A][x][0],y0:S,y:f[A][x][1]*g})}}function computeBaseline(a){for(var n=a.length,r=a[0].length,s=[],l=[],u=0,c=0;c<r;++c){for(var f=0,d=0;d<n;++d)f+=a[d][c][1];f>u&&(u=f),s.push(f)}for(var v=0;v<r;++v)l[v]=(u-s[v])/2;u=0;for(var g=0;g<r;++g){var y=s[g]+l[g];y>u&&(u=y)}return{y0:l,max:u}}function install$t(a){a.registerChartView(ThemeRiverView$1),a.registerSeriesModel(ThemeRiverSeriesModel$1),a.registerLayout(themeRiverLayout),a.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(a){__extends(n,a);function n(r,s,l,u){var c=a.call(this)||this;c.z2=DEFAULT_SECTOR_Z,c.textConfig={inside:!0},getECData(c).seriesIndex=s.seriesIndex;var f=new ZRText$1({z2:DEFAULT_TEXT_Z,silent:r.getModel().get(["label","silent"])});return c.setTextContent(f),c.updateData(!0,r,s,l,u),c}return n.prototype.updateData=function(r,s,l,u,c){this.node=s,s.piece=this,l=l||this._seriesModel,u=u||this._ecModel;var f=this;getECData(f).dataIndex=s.dataIndex;var d=s.getModel(),v=d.getModel("emphasis"),g=s.getLayout(),y=extend({},g);y.label=null;var _=s.getVisual("style");_.lineJoin="bevel";var S=s.getVisual("decal");S&&(_.decal=createOrUpdatePatternFromDecal(S,c));var x=getSectorCornerRadius(d.getModel("itemStyle"),y,!0);extend(y,x),each$f(SPECIAL_STATES,function(E){var M=f.ensureState(E),P=d.getModel([E,"itemStyle"]);M.style=P.getItemStyle();var R=getSectorCornerRadius(P,y);R&&(M.shape=R)}),r?(f.setShape(y),f.shape.r=g.r0,updateProps$1(f,{shape:{r:g.r}},l,s.dataIndex)):(updateProps$1(f,{shape:y},l),saveOldStyle(f)),f.useStyle(_),this._updateLabel(l);var A=d.getShallow("cursor");A&&f.attr("cursor",A),this._seriesModel=l||this._seriesModel,this._ecModel=u||this._ecModel;var b=v.get("focus"),w=b==="ancestor"?s.getAncestorsIndices():b==="descendant"?s.getDescendantIndices():b;toggleHoverEmphasis(this,w,v.get("blurScope"),v.get("disabled"))},n.prototype._updateLabel=function(r){var s=this,l=this.node.getModel(),u=l.getModel("label"),c=this.node.getLayout(),f=c.endAngle-c.startAngle,d=(c.startAngle+c.endAngle)/2,v=Math.cos(d),g=Math.sin(d),y=this,_=y.getTextContent(),S=this.node.dataIndex,x=u.get("minAngle")/180*Math.PI,A=u.get("show")&&!(x!=null&&Math.abs(f)<x);_.ignore=!A,each$f(DISPLAY_STATES,function(w){var E=w==="normal"?l.getModel("label"):l.getModel([w,"label"]),M=w==="normal",P=M?_:_.ensureState(w),R=r.getFormattedLabel(S,w);M&&(R=R||s.node.name),P.style=createTextStyle(E,{},null,w!=="normal",!0),R&&(P.style.text=R);var I=E.get("show");I!=null&&!M&&(P.ignore=!I);var L=b(E,"position"),O=M?y:y.states[w],N=O.style.fill;O.textConfig={outsideFill:E.get("color")==="inherit"?N:null,inside:L!=="outside"};var B,F=b(E,"distance")||0,V=b(E,"align");L==="outside"?(B=c.r+F,V=d>Math.PI/2?"right":"left"):!V||V==="center"?(f===2*Math.PI&&c.r0===0?B=0:B=(c.r+c.r0)/2,V="center"):V==="left"?(B=c.r0+F,d>Math.PI/2&&(V="right")):V==="right"&&(B=c.r-F,d>Math.PI/2&&(V="left")),P.style.align=V,P.style.verticalAlign=b(E,"verticalAlign")||"middle",P.x=B*v+c.cx,P.y=B*g+c.cy;var z=b(E,"rotate"),U=0;z==="radial"?(U=-d,U<-Math.PI/2&&(U+=Math.PI)):z==="tangential"?(U=Math.PI/2-d,U>Math.PI/2?U-=Math.PI:U<-Math.PI/2&&(U+=Math.PI)):isNumber(z)&&(U=z*Math.PI/180),P.rotation=U});function b(w,E){var M=w.get(E);return M==null?u.get(E):M}_.dirtyStyle()},n}(Sector$1);const SunburstPiece$1=SunburstPiece;var ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(a){a.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"sunburst",query:n},s);function s(l,u){var c=retrieveTargetInfo(n,[ROOT_TO_NODE_ACTION],l);if(c){var f=l.getViewRoot();f&&(n.direction=aboveViewRoot(f,c.node)?"rollUp":"drillDown"),l.resetViewRoot(c.node)}}}),a.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(n,r,s){n=extend({},n),r.eachComponent({mainType:"series",subType:"sunburst",query:n},l);function l(u){var c=retrieveTargetInfo(n,[HIGHLIGHT_ACTION],u);c&&(n.dataIndex=c.node.dataIndex)}s.dispatchAction(extend(n,{type:"highlight"}))}),a.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(n,r,s){n=extend({},n),s.dispatchAction(extend(n,{type:"downplay"}))})}var SunburstView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l,u){var c=this;this.seriesModel=r,this.api=l,this.ecModel=s;var f=r.getData(),d=f.tree.root,v=r.getViewRoot(),g=this.group,y=r.get("renderLabelForZeroData"),_=[];v.eachNode(function(E){_.push(E)});var S=this._oldChildren||[];x(_,S),w(d,v),this._initEvents(),this._oldChildren=_;function x(E,M){if(E.length===0&&M.length===0)return;new DataDiffer$1(M,E,P,P).add(R).update(R).remove(curry$1(R,null)).execute();function P(I){return I.getId()}function R(I,L){var O=I==null?null:E[I],N=L==null?null:M[L];A(O,N)}}function A(E,M){if(!y&&E&&!E.getValue()&&(E=null),E!==d&&M!==d){if(M&&M.piece)E?(M.piece.updateData(!1,E,r,s,l),f.setItemGraphicEl(E.dataIndex,M.piece)):b(M);else if(E){var P=new SunburstPiece$1(E,r,s,l);g.add(P),f.setItemGraphicEl(E.dataIndex,P)}}}function b(E){!E||E.piece&&(g.remove(E.piece),E.piece=null)}function w(E,M){M.depth>0?(c.virtualPiece?c.virtualPiece.updateData(!1,E,r,s,l):(c.virtualPiece=new SunburstPiece$1(E,r,s,l),g.add(c.virtualPiece)),M.piece.off("click"),c.virtualPiece.on("click",function(P){c._rootToNode(M.parentNode)})):c.virtualPiece&&(g.remove(c.virtualPiece),c.virtualPiece=null)}},n.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(s){var l=!1,u=r.seriesModel.getViewRoot();u.eachNode(function(c){if(!l&&c.piece&&c.piece===s.target){var f=c.getModel().get("nodeClick");if(f==="rootToNode")r._rootToNode(c);else if(f==="link"){var d=c.getModel(),v=d.get("link");if(v){var g=d.get("target",!0)||"_blank";windowOpen(v,g)}}l=!0}})})},n.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},n.prototype.containPoint=function(r,s){var l=s.getData(),u=l.getItemLayout(0);if(u){var c=r[0]-u.cx,f=r[1]-u.cy,d=Math.sqrt(c*c+f*f);return d<=u.r&&d>=u.r0}},n.type="sunburst",n}(ChartView$1);const SunburstView$1=SunburstView;var SunburstSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r,s){var l={name:r.name,children:r.data};completeTreeValue(l);var u=this._levelModels=map$1(r.levels||[],function(d){return new Model$1(d,this,s)},this),c=Tree$1.createTree(l,this,f);function f(d){d.wrapMethod("getItemModel",function(v,g){var y=c.getNodeByDataIndex(g),_=u[y.depth];return _&&(v.parentModel=_),v})}return c.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(r){var s=a.prototype.getDataParams.apply(this,arguments),l=this.getData().tree.getNodeByDataIndex(r);return s.treePathInfo=wrapTreePathInfo(l,this),s},n.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var s=this.getRawData().tree.root;(!r||r!==s&&!s.contains(r))&&(this._viewRoot=s)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.sunburst",n.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n}(SeriesModel$1);function completeTreeValue(a){var n=0;each$f(a.children,function(s){completeTreeValue(s);var l=s.value;isArray$2(l)&&(l=l[0]),n+=l});var r=a.value;isArray$2(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$2(a.value)?a.value[0]=r:a.value=r}const SunburstSeriesModel$1=SunburstSeriesModel;var RADIAN=Math.PI/180;function sunburstLayout(a,n,r){n.eachSeriesByType(a,function(s){var l=s.get("center"),u=s.get("radius");isArray$2(u)||(u=[0,u]),isArray$2(l)||(l=[l,l]);var c=r.getWidth(),f=r.getHeight(),d=Math.min(c,f),v=parsePercent(l[0],c),g=parsePercent(l[1],f),y=parsePercent(u[0],d/2),_=parsePercent(u[1],d/2),S=-s.get("startAngle")*RADIAN,x=s.get("minAngle")*RADIAN,A=s.getData().tree.root,b=s.getViewRoot(),w=b.depth,E=s.get("sort");E!=null&&initChildren(b,E);var M=0;each$f(b.children,function(q){!isNaN(q.getValue())&&M++});var P=b.getValue(),R=Math.PI/(P||M)*2,I=b.depth>0,L=b.height-(I?-1:1),O=(_-y)/(L||1),N=s.get("clockwise"),B=s.get("stillShowZeroSum"),F=N?1:-1,V=function(q,Q){if(!!q){var j=Q;if(q!==A){var ne=q.getValue(),fe=P===0&&B?R:ne*R;fe<x&&(fe=x),j=Q+F*fe;var de=q.depth-w-(I?-1:1),be=y+O*de,Me=y+O*(de+1),Pe=s.getLevelModel(q);if(Pe){var ae=Pe.get("r0",!0),me=Pe.get("r",!0),se=Pe.get("radius",!0);se!=null&&(ae=se[0],me=se[1]),ae!=null&&(be=parsePercent(ae,d/2)),me!=null&&(Me=parsePercent(me,d/2))}q.setLayout({angle:fe,startAngle:Q,endAngle:j,clockwise:N,cx:v,cy:g,r0:be,r:Me})}if(q.children&&q.children.length){var ue=0;each$f(q.children,function(Ee){ue+=V(Ee,Q+ue)})}return j-Q}};if(I){var z=y,U=y+O,Y=Math.PI*2;A.setLayout({angle:Y,startAngle:S,endAngle:S+Y,clockwise:N,cx:v,cy:g,r0:z,r:U})}V(b,S)})}function initChildren(a,n){var r=a.children||[];a.children=sort(r,n),r.length&&each$f(a.children,function(s){initChildren(s,n)})}function sort(a,n){if(isFunction(n)){var r=map$1(a,function(l,u){var c=l.getValue();return{params:{depth:l.depth,height:l.height,dataIndex:l.dataIndex,getValue:function(){return c}},index:u}});return r.sort(function(l,u){return n(l.params,u.params)}),map$1(r,function(l){return a[l.index]})}else{var s=n==="asc";return a.sort(function(l,u){var c=(l.getValue()-u.getValue())*(s?1:-1);return c===0?(l.dataIndex-u.dataIndex)*(s?-1:1):c})}}function sunburstVisual(a){var n={};function r(s,l,u){for(var c=s;c&&c.depth>1;)c=c.parentNode;var f=l.getColorFromPalette(c.name||c.dataIndex+"",n);return s.depth>1&&isString(f)&&(f=lift(f,(s.depth-1)/(u-1)*.5)),f}a.eachSeriesByType("sunburst",function(s){var l=s.getData(),u=l.tree;u.eachNode(function(c){var f=c.getModel(),d=f.getModel("itemStyle").getItemStyle();d.fill||(d.fill=r(c,s,u.root.height));var v=l.ensureUniqueItemVisual(c.dataIndex,"style");extend(v,d)})})}function install$s(a){a.registerChartView(SunburstView$1),a.registerSeriesModel(SunburstSeriesModel$1),a.registerLayout(curry$1(sunburstLayout,"sunburst")),a.registerProcessor(curry$1(dataFilter$1,"sunburst")),a.registerVisual(sunburstVisual),installSunburstAction(a)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(r,s){return createSeriesData(null,this)},n.prototype.getDataParams=function(r,s,l){var u=a.prototype.getDataParams.call(this,r,s);return l&&(u.info=customInnerStore(l).info),u},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},n}(SeriesModel$1);const CustomSeriesModel$1=CustomSeriesModel;function dataToCoordSize$3(a,n){return n=n||[0,0],map$1(["x","y"],function(r,s){var l=this.getAxis(r),u=n[s],c=a[s]/2;return l.type==="category"?l.getBandWidth():Math.abs(l.dataToCoord(u-c)-l.dataToCoord(u+c))},this)}function cartesianPrepareCustom(a){var n=a.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return a.dataToPoint(r)},size:bind$1(dataToCoordSize$3,a)}}}function dataToCoordSize$2(a,n){return n=n||[0,0],map$1([0,1],function(r){var s=n[r],l=a[r]/2,u=[],c=[];return u[r]=s-l,c[r]=s+l,u[1-r]=c[1-r]=n[1-r],Math.abs(this.dataToPoint(u)[r]-this.dataToPoint(c)[r])},this)}function geoPrepareCustom(a){var n=a.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:a.getZoom()},api:{coord:function(r){return a.dataToPoint(r)},size:bind$1(dataToCoordSize$2,a)}}}function dataToCoordSize$1(a,n){var r=this.getAxis(),s=n instanceof Array?n[0]:n,l=(a instanceof Array?a[0]:a)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(s-l)-r.dataToCoord(s+l))}function singlePrepareCustom(a){var n=a.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return a.dataToPoint(r)},size:bind$1(dataToCoordSize$1,a)}}}function dataToCoordSize(a,n){return n=n||[0,0],map$1(["Radius","Angle"],function(r,s){var l="get"+r+"Axis",u=this[l](),c=n[s],f=a[s]/2,d=u.type==="category"?u.getBandWidth():Math.abs(u.dataToCoord(c-f)-u.dataToCoord(c+f));return r==="Angle"&&(d=d*Math.PI/180),d},this)}function polarPrepareCustom(a){var n=a.getRadiusAxis(),r=a.getAngleAxis(),s=n.getExtent();return s[0]>s[1]&&s.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:s[1],r0:s[0]},api:{coord:function(l){var u=n.dataToRadius(l[0]),c=r.dataToAngle(l[1]),f=a.coordToPoint([u,c]);return f.push(u,c*Math.PI/180),f},size:bind$1(dataToCoordSize,a)}}}function calendarPrepareCustom(a){var n=a.getRect(),r=a.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(s,l){return a.dataToPoint(s,l)}}}}function isEC4CompatibleStyle(a,n,r,s){return a&&(a.legacy||a.legacy!==!1&&!r&&!s&&n!=="tspan"&&(n==="text"||hasOwn(a,"text")))}function convertFromEC4CompatibleStyle(a,n,r){var s=a,l,u,c;if(n==="text")c=s;else{c={},hasOwn(s,"text")&&(c.text=s.text),hasOwn(s,"rich")&&(c.rich=s.rich),hasOwn(s,"textFill")&&(c.fill=s.textFill),hasOwn(s,"textStroke")&&(c.stroke=s.textStroke),hasOwn(s,"fontFamily")&&(c.fontFamily=s.fontFamily),hasOwn(s,"fontSize")&&(c.fontSize=s.fontSize),hasOwn(s,"fontStyle")&&(c.fontStyle=s.fontStyle),hasOwn(s,"fontWeight")&&(c.fontWeight=s.fontWeight),u={type:"text",style:c,silent:!0},l={};var f=hasOwn(s,"textPosition");r?l.position=f?s.textPosition:"inside":f&&(l.position=s.textPosition),hasOwn(s,"textPosition")&&(l.position=s.textPosition),hasOwn(s,"textOffset")&&(l.offset=s.textOffset),hasOwn(s,"textRotation")&&(l.rotation=s.textRotation),hasOwn(s,"textDistance")&&(l.distance=s.textDistance)}return convertEC4CompatibleRichItem(c,a),each$f(c.rich,function(d){convertEC4CompatibleRichItem(d,d)}),{textConfig:l,textContent:u}}function convertEC4CompatibleRichItem(a,n){!n||(n.font=n.textFont||n.font,hasOwn(n,"textStrokeWidth")&&(a.lineWidth=n.textStrokeWidth),hasOwn(n,"textAlign")&&(a.align=n.textAlign),hasOwn(n,"textVerticalAlign")&&(a.verticalAlign=n.textVerticalAlign),hasOwn(n,"textLineHeight")&&(a.lineHeight=n.textLineHeight),hasOwn(n,"textWidth")&&(a.width=n.textWidth),hasOwn(n,"textHeight")&&(a.height=n.textHeight),hasOwn(n,"textBackgroundColor")&&(a.backgroundColor=n.textBackgroundColor),hasOwn(n,"textPadding")&&(a.padding=n.textPadding),hasOwn(n,"textBorderColor")&&(a.borderColor=n.textBorderColor),hasOwn(n,"textBorderWidth")&&(a.borderWidth=n.textBorderWidth),hasOwn(n,"textBorderRadius")&&(a.borderRadius=n.textBorderRadius),hasOwn(n,"textBoxShadowColor")&&(a.shadowColor=n.textBoxShadowColor),hasOwn(n,"textBoxShadowBlur")&&(a.shadowBlur=n.textBoxShadowBlur),hasOwn(n,"textBoxShadowOffsetX")&&(a.shadowOffsetX=n.textBoxShadowOffsetX),hasOwn(n,"textBoxShadowOffsetY")&&(a.shadowOffsetY=n.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(a,n,r){var s=a;s.textPosition=s.textPosition||r.position||"inside",r.offset!=null&&(s.textOffset=r.offset),r.rotation!=null&&(s.textRotation=r.rotation),r.distance!=null&&(s.textDistance=r.distance);var l=s.textPosition.indexOf("inside")>=0,u=a.fill||"#000";convertToEC4RichItem(s,n);var c=s.textFill==null;return l?c&&(s.textFill=r.insideFill||"#fff",!s.textStroke&&r.insideStroke&&(s.textStroke=r.insideStroke),!s.textStroke&&(s.textStroke=u),s.textStrokeWidth==null&&(s.textStrokeWidth=2)):(c&&(s.textFill=a.fill||r.outsideFill||"#000"),!s.textStroke&&r.outsideStroke&&(s.textStroke=r.outsideStroke)),s.text=n.text,s.rich=n.rich,each$f(n.rich,function(f){convertToEC4RichItem(f,f)}),s}function convertToEC4RichItem(a,n){!n||(hasOwn(n,"fill")&&(a.textFill=n.fill),hasOwn(n,"stroke")&&(a.textStroke=n.fill),hasOwn(n,"lineWidth")&&(a.textStrokeWidth=n.lineWidth),hasOwn(n,"font")&&(a.font=n.font),hasOwn(n,"fontStyle")&&(a.fontStyle=n.fontStyle),hasOwn(n,"fontWeight")&&(a.fontWeight=n.fontWeight),hasOwn(n,"fontSize")&&(a.fontSize=n.fontSize),hasOwn(n,"fontFamily")&&(a.fontFamily=n.fontFamily),hasOwn(n,"align")&&(a.textAlign=n.align),hasOwn(n,"verticalAlign")&&(a.textVerticalAlign=n.verticalAlign),hasOwn(n,"lineHeight")&&(a.textLineHeight=n.lineHeight),hasOwn(n,"width")&&(a.textWidth=n.width),hasOwn(n,"height")&&(a.textHeight=n.height),hasOwn(n,"backgroundColor")&&(a.textBackgroundColor=n.backgroundColor),hasOwn(n,"padding")&&(a.textPadding=n.padding),hasOwn(n,"borderColor")&&(a.textBorderColor=n.borderColor),hasOwn(n,"borderWidth")&&(a.textBorderWidth=n.borderWidth),hasOwn(n,"borderRadius")&&(a.textBorderRadius=n.borderRadius),hasOwn(n,"shadowColor")&&(a.textBoxShadowColor=n.shadowColor),hasOwn(n,"shadowBlur")&&(a.textBoxShadowBlur=n.shadowBlur),hasOwn(n,"shadowOffsetX")&&(a.textBoxShadowOffsetX=n.shadowOffsetX),hasOwn(n,"shadowOffsetY")&&(a.textBoxShadowOffsetY=n.shadowOffsetY),hasOwn(n,"textShadowColor")&&(a.textShadowColor=n.textShadowColor),hasOwn(n,"textShadowBlur")&&(a.textShadowBlur=n.textShadowBlur),hasOwn(n,"textShadowOffsetX")&&(a.textShadowOffsetX=n.textShadowOffsetX),hasOwn(n,"textShadowOffsetY")&&(a.textShadowOffsetY=n.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(a,n){return a[n]=1,a},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(a,n,r,s,l){var u=a+"Animation",c=getAnimationConfig(a,s,l)||{},f=transitionInnerStore(n).userDuring;return c.duration>0&&(c.during=f?bind$1(duringCall,{el:n,userDuring:f}):null,c.setToFinal=!0,c.scope=a),extend(c,r[u]),c}function applyUpdateTransition(a,n,r,s){s=s||{};var l=s.dataIndex,u=s.isInit,c=s.clearStyle,f=r.isAnimationEnabled(),d=transitionInnerStore(a),v=n.style;d.userDuring=n.during;var g={},y={};if(prepareTransformAllPropsFinal(a,n,y),prepareShapeOrExtraAllPropsFinal("shape",n,y),prepareShapeOrExtraAllPropsFinal("extra",n,y),!u&&f&&(prepareTransformTransitionFrom(a,n,g),prepareShapeOrExtraTransitionFrom("shape",a,n,g),prepareShapeOrExtraTransitionFrom("extra",a,n,g),prepareStyleTransitionFrom(a,n,v,g)),y.style=v,applyPropsDirectly(a,y,c),applyMiscProps(a,n),f)if(u){var _={};each$f(ELEMENT_ANIMATABLE_PROPS,function(x){var A=x?n[x]:n;A&&A.enterFrom&&(x&&(_[x]=_[x]||{}),extend(x?_[x]:_,A.enterFrom))});var S=getElementAnimationConfig("enter",a,n,r,l);S.duration>0&&a.animateFrom(_,S)}else applyPropsTransition(a,n,l||0,r,g);updateLeaveTo(a,n),v?a.dirty():a.markRedraw()}function updateLeaveTo(a,n){for(var r=transitionInnerStore(a).leaveToProps,s=0;s<ELEMENT_ANIMATABLE_PROPS.length;s++){var l=ELEMENT_ANIMATABLE_PROPS[s],u=l?n[l]:n;u&&u.leaveTo&&(r||(r=transitionInnerStore(a).leaveToProps={}),l&&(r[l]=r[l]||{}),extend(l?r[l]:r,u.leaveTo))}}function applyLeaveTransition(a,n,r,s){if(a){var l=a.parent,u=transitionInnerStore(a).leaveToProps;if(u){var c=getElementAnimationConfig("update",a,n,r,0);c.done=function(){l.remove(a),s&&s()},a.animateTo(u,c)}else l.remove(a),s&&s()}}function isTransitionAll(a){return a==="all"}function applyPropsDirectly(a,n,r){var s=n.style;if(!a.isGroup&&s){if(r){a.useStyle({});for(var l=a.animators,u=0;u<l.length;u++){var c=l[u];c.targetName==="style"&&c.changeTarget(a.style)}}a.setStyle(s)}n&&(n.style=null,n&&a.attr(n),n.style=s)}function applyPropsTransition(a,n,r,s,l){if(l){var u=getElementAnimationConfig("update",a,n,s,r);u.duration>0&&a.animateFrom(l,u)}}function applyMiscProps(a,n){hasOwn(n,"silent")&&(a.silent=n.silent),hasOwn(n,"ignore")&&(a.ignore=n.ignore),a instanceof Displayable$1&&hasOwn(n,"invisible")&&(a.invisible=n.invisible),a instanceof Path$1&&hasOwn(n,"autoBatch")&&(a.autoBatch=n.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(a,n){return tmpDuringScope.el[a]=n,this},getTransform:function(a){return tmpDuringScope.el[a]},setShape:function(a,n){var r=tmpDuringScope.el,s=r.shape||(r.shape={});return s[a]=n,r.dirtyShape&&r.dirtyShape(),this},getShape:function(a){var n=tmpDuringScope.el.shape;if(n)return n[a]},setStyle:function(a,n){var r=tmpDuringScope.el,s=r.style;return s&&(s[a]=n,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(a){var n=tmpDuringScope.el.style;if(n)return n[a]},setExtra:function(a,n){var r=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return r[a]=n,this},getExtra:function(a){var n=tmpDuringScope.el.extra;if(n)return n[a]}};function duringCall(){var a=this,n=a.el;if(!!n){var r=transitionInnerStore(n).userDuring,s=a.userDuring;if(r!==s){a.el=a.userDuring=null;return}tmpDuringScope.el=n,s(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(a,n,r,s){var l=r[a];if(!!l){var u=n[a],c;if(u){var f=r.transition,d=l.transition;if(d)if(!c&&(c=s[a]={}),isTransitionAll(d))extend(c,u);else for(var v=normalizeToArray(d),g=0;g<v.length;g++){var y=v[g],_=u[y];c[y]=_}else if(isTransitionAll(f)||indexOf(f,a)>=0){!c&&(c=s[a]={});for(var S=keys(u),g=0;g<S.length;g++){var y=S[g],_=u[y];isNonStyleTransitionEnabled(l[y],_)&&(c[y]=_)}}}}}function prepareShapeOrExtraAllPropsFinal(a,n,r){var s=n[a];if(!!s)for(var l=r[a]={},u=keys(s),c=0;c<u.length;c++){var f=u[c];l[f]=cloneValue(s[f])}}function prepareTransformTransitionFrom(a,n,r){for(var s=n.transition,l=isTransitionAll(s)?TRANSFORMABLE_PROPS:normalizeToArray(s||[]),u=0;u<l.length;u++){var c=l[u];if(!(c==="style"||c==="shape"||c==="extra")){var f=a[c];r[c]=f}}}function prepareTransformAllPropsFinal(a,n,r){for(var s=0;s<LEGACY_TRANSFORM_PROPS.length;s++){var l=LEGACY_TRANSFORM_PROPS[s],u=LEGACY_TRANSFORM_PROPS_MAP[l],c=n[l];c&&(r[u[0]]=c[0],r[u[1]]=c[1])}for(var s=0;s<TRANSFORMABLE_PROPS.length;s++){var f=TRANSFORMABLE_PROPS[s];n[f]!=null&&(r[f]=n[f])}}function prepareStyleTransitionFrom(a,n,r,s){if(!!r){var l=a.style,u;if(l){var c=r.transition,f=n.transition;if(c&&!isTransitionAll(c)){var d=normalizeToArray(c);!u&&(u=s.style={});for(var v=0;v<d.length;v++){var g=d[v],y=l[g];u[g]=y}}else if(a.getAnimationStyleProps&&(isTransitionAll(f)||isTransitionAll(c)||indexOf(f,"style")>=0)){var _=a.getAnimationStyleProps(),S=_?_.style:null;if(S){!u&&(u=s.style={});for(var x=keys(r),v=0;v<x.length;v++){var g=x[v];if(S[g]){var y=l[g];u[g]=y}}}}}}}function isNonStyleTransitionEnabled(a,n){return isArrayLike(a)?a!==n:a!=null&&isFinite(a)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(a){a.stopAnimation("keyframe"),a.attr(getStateToRestore(a))}function applyKeyframeAnimation(a,n,r){if(!(!r.isAnimationEnabled()||!n)){if(isArray$2(n)){each$f(n,function(f){applyKeyframeAnimation(a,f,r)});return}var s=n.keyframes,l=n.duration;if(r&&l==null){var u=getAnimationConfig("enter",r,0);l=u&&u.duration}if(!(!s||!l)){var c=getStateToRestore(a);each$f(ELEMENT_ANIMATABLE_PROPS,function(f){if(!(f&&!a[f])){var d;s.sort(function(v,g){return v.percent-g.percent}),each$f(s,function(v){var g=a.animators,y=f?v[f]:v;if(!!y){var _=keys(y);if(f||(_=filter(_,function(A){return indexOf(KEYFRAME_EXCLUDE_KEYS,A)<0})),!!_.length){d||(d=a.animate(f,n.loop,!0),d.scope="keyframe");for(var S=0;S<g.length;S++)g[S]!==d&&g[S].targetName===d.targetName&&g[S].stopTracks(_);f&&(c[f]=c[f]||{});var x=f?c[f]:c;each$f(_,function(A){x[A]=((f?a[f]:a)||{})[A]}),d.whenWithKeys(l*v.percent,y,_,v.easing)}}}),d&&d.delay(n.delay||0).duration(l).start(n.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(a){return a instanceof Path$1}function isDisplayable(a){return a instanceof Displayable$1}function copyElement(a,n){n.copyTransform(a),isDisplayable(n)&&isDisplayable(a)&&(n.setStyle(a.style),n.z=a.z,n.z2=a.z2,n.zlevel=a.zlevel,n.invisible=a.invisible,n.ignore=a.ignore,isPath(n)&&isPath(a)&&n.setShape(a.shape))}var CustomChartView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l,u){this._progressiveEls=null;var c=this._data,f=r.getData(),d=this.group,v=makeRenderItem(r,f,s,l);c||d.removeAll(),f.diff(c).add(function(y){createOrUpdateItem(l,null,y,v(y,u),r,d,f)}).remove(function(y){var _=c.getItemGraphicEl(y);_&&applyLeaveTransition(_,customInnerStore(_).option,r)}).update(function(y,_){var S=c.getItemGraphicEl(_);createOrUpdateItem(l,S,y,v(y,u),r,d,f)}).execute();var g=r.get("clip",!0)?createClipPath(r.coordinateSystem,!1,r):null;g?d.setClipPath(g):d.removeClipPath(),this._data=f},n.prototype.incrementalPrepareRender=function(r,s,l){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(r,s,l,u,c){var f=s.getData(),d=makeRenderItem(s,f,l,u),v=this._progressiveEls=[];function g(S){S.isGroup||(S.incremental=!0,S.ensureState("emphasis").hoverLayer=!0)}for(var y=r.start;y<r.end;y++){var _=createOrUpdateItem(null,null,y,d(y,c),s,this.group,f);_&&(_.traverse(g),v.push(_))}},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype.filterForExposedEvent=function(r,s,l,u){var c=s.element;if(c==null||l.name===c)return!0;for(;(l=l.__hostTarget||l.parent)&&l!==this.group;)if(l.name===c)return!0;return!1},n.type="custom",n}(ChartView$1);const CustomChartView$1=CustomChartView;function createEl$1(a){var n=a.type,r;if(n==="path"){var s=a.shape,l=s.width!=null&&s.height!=null?{x:s.x||0,y:s.y||0,width:s.width,height:s.height}:null,u=getPathData(s);r=makePath(u,null,l,s.layout||"center"),customInnerStore(r).customPathData=u}else if(n==="image")r=new ZRImage$1({}),customInnerStore(r).customImagePath=a.style.image;else if(n==="text")r=new ZRText$1({});else if(n==="group")r=new Group$4;else{if(n==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var c=getShapeClass(n);if(!c){var f="";throwError(f)}r=new c}return customInnerStore(r).customGraphicType=n,r.name=a.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function updateElNormal(a,n,r,s,l,u,c){stopPreviousKeyframeAnimationAndRestore(n);var f=l&&l.normal.cfg;f&&n.setTextConfig(f),s&&s.transition==null&&(s.transition=DEFAULT_TRANSITION);var d=s&&s.style;if(d){if(n.type==="text"){var v=d;hasOwn(v,"textFill")&&(v.fill=v.textFill),hasOwn(v,"textStroke")&&(v.stroke=v.textStroke)}var g=void 0,y=isPath(n)?d.decal:null;a&&y&&(y.dirty=!0,g=createOrUpdatePatternFromDecal(y,a)),d.__decalPattern=g}if(isDisplayable(n)&&d){var g=d.__decalPattern;g&&(d.decal=g)}applyUpdateTransition(n,s,u,{dataIndex:r,isInit:c,clearStyle:!0}),applyKeyframeAnimation(n,s.keyframeAnimation,u)}function updateElOnState(a,n,r,s,l){var u=n.isGroup?null:n,c=l&&l[a].cfg;if(u){var f=u.ensureState(a);if(s===!1){var d=u.getState(a);d&&(d.style=null)}else f.style=s||null;c&&(f.textConfig=c),setDefaultStateProxy(u)}}function updateZ(a,n,r){if(!a.isGroup){var s=a,l=r.currentZ,u=r.currentZLevel;s.z=l,s.zlevel=u;var c=n.z2;c!=null&&(s.z2=c||0);for(var f=0;f<STATES.length;f++)updateZForEachState(s,n,STATES[f])}}function updateZForEachState(a,n,r){var s=r===NORMAL,l=s?n:retrieveStateOption(n,r),u=l?l.z2:null,c;u!=null&&(c=s?a:a.ensureState(r),c.z2=u||0)}function makeRenderItem(a,n,r,s){var l=a.get("renderItem"),u=a.coordinateSystem,c={};u&&(c=u.prepareCustoms?u.prepareCustoms(u):prepareCustoms[u.type](u));for(var f=defaults({getWidth:s.getWidth,getHeight:s.getHeight,getZr:s.getZr,getDevicePixelRatio:s.getDevicePixelRatio,value:P,style:I,ordinalRawValue:R,styleEmphasis:L,visual:B,barLayout:F,currentSeriesIndices:V,font:z},c.api||{}),d={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:c.coordSys,dataInsideLength:n.count(),encode:wrapEncodeDef(a.getData())},v,g,y={},_={},S={},x={},A=0;A<STATES.length;A++){var b=STATES[A];S[b]=a.getModel(PATH_ITEM_STYLE[b]),x[b]=a.getModel(PATH_LABEL[b])}function w(U){return U===v?g||(g=n.getItemModel(U)):n.getItemModel(U)}function E(U,Y){return n.hasItemOption?U===v?y[Y]||(y[Y]=w(U).getModel(PATH_ITEM_STYLE[Y])):w(U).getModel(PATH_ITEM_STYLE[Y]):S[Y]}function M(U,Y){return n.hasItemOption?U===v?_[Y]||(_[Y]=w(U).getModel(PATH_LABEL[Y])):w(U).getModel(PATH_LABEL[Y]):x[Y]}return function(U,Y){return v=U,g=null,y={},_={},l&&l(defaults({dataIndexInside:U,dataIndex:n.getRawIndex(U),actionType:Y?Y.type:null},d),f)};function P(U,Y){return Y==null&&(Y=v),n.getStore().get(n.getDimensionIndex(U||0),Y)}function R(U,Y){Y==null&&(Y=v),U=U||0;var q=n.getDimensionInfo(U);if(!q){var Q=n.getDimensionIndex(U);return Q>=0?n.getStore().get(Q,Y):void 0}var j=n.get(q.name,Y),ne=q&&q.ordinalMeta;return ne?ne.categories[j]:j}function I(U,Y){Y==null&&(Y=v);var q=n.getItemVisual(Y,"style"),Q=q&&q.fill,j=q&&q.opacity,ne=E(Y,NORMAL).getItemStyle();Q!=null&&(ne.fill=Q),j!=null&&(ne.opacity=j);var fe={inheritColor:isString(Q)?Q:"#000"},de=M(Y,NORMAL),be=createTextStyle(de,null,fe,!1,!0);be.text=de.getShallow("show")?retrieve2(a.getFormattedLabel(Y,NORMAL),getDefaultLabel(n,Y)):null;var Me=createTextConfig(de,fe,!1);return N(U,ne),ne=convertToEC4StyleForCustomSerise(ne,be,Me),U&&O(ne,U),ne.legacy=!0,ne}function L(U,Y){Y==null&&(Y=v);var q=E(Y,EMPHASIS).getItemStyle(),Q=M(Y,EMPHASIS),j=createTextStyle(Q,null,null,!0,!0);j.text=Q.getShallow("show")?retrieve3(a.getFormattedLabel(Y,EMPHASIS),a.getFormattedLabel(Y,NORMAL),getDefaultLabel(n,Y)):null;var ne=createTextConfig(Q,null,!0);return N(U,q),q=convertToEC4StyleForCustomSerise(q,j,ne),U&&O(q,U),q.legacy=!0,q}function O(U,Y){for(var q in Y)hasOwn(Y,q)&&(U[q]=Y[q])}function N(U,Y){U&&(U.textFill&&(Y.textFill=U.textFill),U.textPosition&&(Y.textPosition=U.textPosition))}function B(U,Y){if(Y==null&&(Y=v),hasOwn(STYLE_VISUAL_TYPE,U)){var q=n.getItemVisual(Y,"style");return q?q[STYLE_VISUAL_TYPE[U]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,U))return n.getItemVisual(Y,U)}function F(U){if(u.type==="cartesian2d"){var Y=u.getBaseAxis();return getLayoutOnAxis(defaults({axis:Y},U))}}function V(){return r.getCurrentSeriesIndices()}function z(U){return getFont(U,r)}}function wrapEncodeDef(a){var n={};return each$f(a.dimensions,function(r){var s=a.getDimensionInfo(r);if(!s.isExtraCoord){var l=s.coordDim,u=n[l]=n[l]||[];u[s.coordDimIndex]=a.getDimensionIndex(r)}}),n}function createOrUpdateItem(a,n,r,s,l,u,c){if(!s){u.remove(n);return}var f=doCreateOrUpdateEl(a,n,r,s,l,u);return f&&c.setItemGraphicEl(r,f),f&&toggleHoverEmphasis(f,s.focus,s.blurScope,s.emphasisDisabled),f}function doCreateOrUpdateEl(a,n,r,s,l,u){var c=-1,f=n;n&&doesElNeedRecreate(n,s,l)&&(c=indexOf(u.childrenRef(),n),n=null);var d=!n,v=n;v?v.clearStates():(v=createEl$1(s),f&&copyElement(f,v)),s.morph===!1?v.disableMorphing=!0:v.disableMorphing&&(v.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(v,r,s,l,d,attachedTxInfoTmp),doCreateOrUpdateClipPath(v,r,s,l,d),updateElNormal(a,v,r,s,attachedTxInfoTmp,l,d),hasOwn(s,"info")&&(customInnerStore(v).info=s.info);for(var g=0;g<STATES.length;g++){var y=STATES[g];if(y!==NORMAL){var _=retrieveStateOption(s,y),S=retrieveStyleOptionOnState(s,_,y);updateElOnState(y,v,_,S,attachedTxInfoTmp)}}return updateZ(v,s,l),s.type==="group"&&mergeChildren(a,v,r,s,l),c>=0?u.replaceAt(v,c):u.add(v),v}function doesElNeedRecreate(a,n,r){var s=customInnerStore(a),l=n.type,u=n.shape,c=n.style;return r.isUniversalTransitionEnabled()||l!=null&&l!==s.customGraphicType||l==="path"&&hasOwnPathData(u)&&getPathData(u)!==s.customPathData||l==="image"&&hasOwn(c,"image")&&c.image!==s.customImagePath}function doCreateOrUpdateClipPath(a,n,r,s,l){var u=r.clipPath;if(u===!1)a&&a.getClipPath()&&a.removeClipPath();else if(u){var c=a.getClipPath();c&&doesElNeedRecreate(c,u,s)&&(c=null),c||(c=createEl$1(u),a.setClipPath(c)),updateElNormal(null,c,n,u,null,s,l)}}function doCreateOrUpdateAttachedTx(a,n,r,s,l,u){if(!a.isGroup){processTxInfo(r,null,u),processTxInfo(r,EMPHASIS,u);var c=u.normal.conOpt,f=u.emphasis.conOpt,d=u.blur.conOpt,v=u.select.conOpt;if(c!=null||f!=null||v!=null||d!=null){var g=a.getTextContent();if(c===!1)g&&a.removeTextContent();else{c=u.normal.conOpt=c||{type:"text"},g?g.clearStates():(g=createEl$1(c),a.setTextContent(g)),updateElNormal(null,g,n,c,null,s,l);for(var y=c&&c.style,_=0;_<STATES.length;_++){var S=STATES[_];if(S!==NORMAL){var x=u[S].conOpt;updateElOnState(S,g,x,retrieveStyleOptionOnState(c,x,S),null)}}y?g.dirty():g.markRedraw()}}}}function processTxInfo(a,n,r){var s=n?retrieveStateOption(a,n):a,l=n?retrieveStyleOptionOnState(a,s,EMPHASIS):a.style,u=a.type,c=s?s.textConfig:null,f=a.textContent,d=f?n?retrieveStateOption(f,n):f:null;if(l&&(r.isLegacy||isEC4CompatibleStyle(l,u,!!c,!!d))){r.isLegacy=!0;var v=convertFromEC4CompatibleStyle(l,u,!n);!c&&v.textConfig&&(c=v.textConfig),!d&&v.textContent&&(d=v.textContent)}if(!n&&d){var g=d;!g.type&&(g.type="text")}var y=n?r[n]:r.normal;y.cfg=c,y.conOpt=d}function retrieveStateOption(a,n){return n?a?a[n]:null:a}function retrieveStyleOptionOnState(a,n,r){var s=n&&n.style;return s==null&&r===EMPHASIS&&a&&(s=a.styleEmphasis),s}function mergeChildren(a,n,r,s,l){var u=s.children,c=u?u.length:0,f=s.$mergeChildren,d=f==="byName"||s.diffChildrenByName,v=f===!1;if(!(!c&&!d&&!v)){if(d){diffGroupChildren({api:a,oldChildren:n.children()||[],newChildren:u||[],dataIndex:r,seriesModel:l,group:n});return}v&&n.removeAll();for(var g=0;g<c;g++){var y=u[g],_=n.childAt(g);y?(y.ignore==null&&(y.ignore=!1),doCreateOrUpdateEl(a,_,r,y,l,n)):_.ignore=!0}for(var S=n.childCount()-1;S>=g;S--){var x=n.childAt(S);removeChildFromGroup(n,x,l)}}}function removeChildFromGroup(a,n,r){n&&applyLeaveTransition(n,customInnerStore(a).option,r)}function diffGroupChildren(a){new DataDiffer$1(a.oldChildren,a.newChildren,getKey,getKey,a).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(a,n){var r=a&&a.name;return r!=null?r:GROUP_DIFF_PREFIX+n}function processAddUpdate(a,n){var r=this.context,s=a!=null?r.newChildren[a]:null,l=n!=null?r.oldChildren[n]:null;doCreateOrUpdateEl(r.api,l,r.dataIndex,s,r.seriesModel,r.group)}function processRemove(a){var n=this.context,r=n.oldChildren[a];r&&applyLeaveTransition(r,customInnerStore(r).option,n.seriesModel)}function getPathData(a){return a&&(a.pathData||a.d)}function hasOwnPathData(a){return a&&(hasOwn(a,"pathData")||hasOwn(a,"d"))}function install$r(a){a.registerChartView(CustomChartView$1),a.registerSeriesModel(CustomSeriesModel$1)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function a(){this._dragging=!1,this.animationThreshold=15}return a.prototype.render=function(n,r,s,l){var u=r.get("value"),c=r.get("status");if(this._axisModel=n,this._axisPointerModel=r,this._api=s,!(!l&&this._lastValue===u&&this._lastStatus===c)){this._lastValue=u,this._lastStatus=c;var f=this._group,d=this._handle;if(!c||c==="hide"){f&&f.hide(),d&&d.hide();return}f&&f.show(),d&&d.show();var v={};this.makeElOption(v,u,n,r,s);var g=v.graphicKey;g!==this._lastGraphicKey&&this.clear(s),this._lastGraphicKey=g;var y=this._moveAnimation=this.determineAnimation(n,r);if(!f)f=this._group=new Group$4,this.createPointerEl(f,v,n,r),this.createLabelEl(f,v,n,r),s.getZr().add(f);else{var _=curry$1(updateProps,r,y);this.updatePointerEl(f,v,_),this.updateLabelEl(f,v,_,r)}updateMandatoryProps(f,r,!0),this._renderHandle(u)}},a.prototype.remove=function(n){this.clear(n)},a.prototype.dispose=function(n){this.clear(n)},a.prototype.determineAnimation=function(n,r){var s=r.get("animation"),l=n.axis,u=l.type==="category",c=r.get("snap");if(!c&&!u)return!1;if(s==="auto"||s==null){var f=this.animationThreshold;if(u&&l.getBandWidth()>f)return!0;if(c){var d=getAxisInfo$1(n).seriesDataCount,v=l.getExtent();return Math.abs(v[0]-v[1])/d>f}return!1}return s===!0},a.prototype.makeElOption=function(n,r,s,l,u){},a.prototype.createPointerEl=function(n,r,s,l){var u=r.pointer;if(u){var c=inner$b(n).pointerEl=new graphic[u.type](clone$1(r.pointer));n.add(c)}},a.prototype.createLabelEl=function(n,r,s,l){if(r.label){var u=inner$b(n).labelEl=new ZRText$1(clone$1(r.label));n.add(u),updateLabelShowHide(u,l)}},a.prototype.updatePointerEl=function(n,r,s){var l=inner$b(n).pointerEl;l&&r.pointer&&(l.setStyle(r.pointer.style),s(l,{shape:r.pointer.shape}))},a.prototype.updateLabelEl=function(n,r,s,l){var u=inner$b(n).labelEl;u&&(u.setStyle(r.label.style),s(u,{x:r.label.x,y:r.label.y}),updateLabelShowHide(u,l))},a.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,s=this._api.getZr(),l=this._handle,u=r.getModel("handle"),c=r.get("status");if(!u.get("show")||!c||c==="hide"){l&&s.remove(l),this._handle=null;return}var f;this._handle||(f=!0,l=this._handle=createIcon(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(v){stop(v.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),s.add(l)),updateMandatoryProps(l,r,!1),l.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var d=u.get("size");isArray$2(d)||(d=[d,d]),l.scaleX=d[0]/2,l.scaleY=d[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,f)}},a.prototype._moveHandleToValue=function(n,r){updateProps(this._axisPointerModel,!r&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},a.prototype._onHandleDragMove=function(n,r){var s=this._handle;if(!!s){this._dragging=!0;var l=this.updateHandleTransform(getHandleTransProps(s),[n,r],this._axisModel,this._axisPointerModel);this._payloadInfo=l,s.stopAnimation(),s.attr(getHandleTransProps(l)),inner$b(s).lastProp=null,this._doDispatchAxisPointer()}},a.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(!!n){var r=this._payloadInfo,s=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:s.axis.dim,axisIndex:s.componentIndex}]})}},a.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(!!n){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},a.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var r=n.getZr(),s=this._group,l=this._handle;r&&s&&(this._lastGraphicKey=null,s&&r.remove(s),l&&r.remove(l),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},a.prototype.doClear=function(){},a.prototype.buildLabel=function(n,r,s){return s=s||0,{x:n[s],y:n[1-s],width:r[s],height:r[1-s]}},a}();function updateProps(a,n,r,s){propsEqual(inner$b(r).lastProp,s)||(inner$b(r).lastProp=s,n?updateProps$1(r,s,a):(r.stopAnimation(),r.attr(s)))}function propsEqual(a,n){if(isObject$3(a)&&isObject$3(n)){var r=!0;return each$f(n,function(s,l){r=r&&propsEqual(a[l],s)}),!!r}else return a===n}function updateLabelShowHide(a,n){a[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(a){return{x:a.x||0,y:a.y||0,rotation:a.rotation||0}}function updateMandatoryProps(a,n,r){var s=n.get("z"),l=n.get("zlevel");a&&a.traverse(function(u){u.type!=="group"&&(s!=null&&(u.z=s),l!=null&&(u.zlevel=l),u.silent=r)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(a){var n=a.get("type"),r=a.getModel(n+"Style"),s;return n==="line"?(s=r.getLineStyle(),s.fill=null):n==="shadow"&&(s=r.getAreaStyle(),s.stroke=null),s}function buildLabelElOption(a,n,r,s,l){var u=r.get("value"),c=getValueLabel(u,n.axis,n.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),f=r.getModel("label"),d=normalizeCssArray(f.get("padding")||0),v=f.getFont(),g=getBoundingRect(c,v),y=l.position,_=g.width+d[1]+d[3],S=g.height+d[0]+d[2],x=l.align;x==="right"&&(y[0]-=_),x==="center"&&(y[0]-=_/2);var A=l.verticalAlign;A==="bottom"&&(y[1]-=S),A==="middle"&&(y[1]-=S/2),confineInContainer(y,_,S,s);var b=f.get("backgroundColor");(!b||b==="auto")&&(b=n.get(["axisLine","lineStyle","color"])),a.label={x:y[0],y:y[1],style:createTextStyle(f,{text:c,font:v,fill:f.getTextColor(),padding:d,backgroundColor:b}),z2:10}}function confineInContainer(a,n,r,s){var l=s.getWidth(),u=s.getHeight();a[0]=Math.min(a[0]+n,l)-n,a[1]=Math.min(a[1]+r,u)-r,a[0]=Math.max(a[0],0),a[1]=Math.max(a[1],0)}function getValueLabel(a,n,r,s,l){a=n.scale.parse(a);var u=n.scale.getLabel({value:a},{precision:l.precision}),c=l.formatter;if(c){var f={value:getAxisRawValue(n,{value:a}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$f(s,function(d){var v=r.getSeriesByIndex(d.seriesIndex),g=d.dataIndexInside,y=v&&v.getDataParams(g);y&&f.seriesData.push(y)}),isString(c)?u=c.replace("{value}",u):isFunction(c)&&(u=c(f))}return u}function getTransformedPosition(a,n,r){var s=create$1();return rotate(s,s,r.rotation),translate(s,s,r.position),applyTransform([a.dataToCoord(n),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],s)}function buildCartesianSingleLabelElOption(a,n,r,s,l,u){var c=AxisBuilder$1.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=l.get(["label","margin"]),buildLabelElOption(n,s,l,u,{position:getTransformedPosition(s.axis,a,r),align:c.textAlign,verticalAlign:c.textVerticalAlign})}function makeLineShape(a,n,r){return r=r||0,{x1:a[r],y1:a[1-r],x2:n[r],y2:n[1-r]}}function makeRectShape(a,n,r){return r=r||0,{x:a[r],y:a[1-r],width:n[r],height:n[1-r]}}function makeSectorShape(a,n,r,s,l,u){return{cx:a,cy:n,r0:r,r:s,startAngle:l,endAngle:u,clockwise:!0}}var CartesianAxisPointer=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,s,l,u,c){var f=l.axis,d=f.grid,v=u.get("type"),g=getCartesian(d,f).getOtherAxis(f).getGlobalExtent(),y=f.toGlobalCoord(f.dataToCoord(s,!0));if(v&&v!=="none"){var _=buildElStyle(u),S=pointerShapeBuilder$2[v](f,y,g);S.style=_,r.graphicKey=S.type,r.pointer=S}var x=layout$2(d.model,l);buildCartesianSingleLabelElOption(s,r,x,l,u,c)},n.prototype.getHandleTransform=function(r,s,l){var u=layout$2(s.axis.grid.model,s,{labelInside:!1});u.labelMargin=l.get(["handle","margin"]);var c=getTransformedPosition(s.axis,r,u);return{x:c[0],y:c[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,s,l,u){var c=l.axis,f=c.grid,d=c.getGlobalExtent(!0),v=getCartesian(f,c).getOtherAxis(c).getGlobalExtent(),g=c.dim==="x"?0:1,y=[r.x,r.y];y[g]+=s[g],y[g]=Math.min(d[1],y[g]),y[g]=Math.max(d[0],y[g]);var _=(v[1]+v[0])/2,S=[_,_];S[g]=y[g];var x=[{verticalAlign:"middle"},{align:"center"}];return{x:y[0],y:y[1],rotation:r.rotation,cursorPoint:S,tooltipOption:x[g]}},n}(BaseAxisPointer$1);function getCartesian(a,n){var r={};return r[n.dim+"AxisIndex"]=n.index,a.getCartesian(r)}var pointerShapeBuilder$2={line:function(a,n,r){var s=makeLineShape([n,r[0]],[n,r[1]],getAxisDimIndex(a));return{type:"Line",subPixelOptimize:!0,shape:s}},shadow:function(a,n,r){var s=Math.max(1,a.getBandWidth()),l=r[1]-r[0];return{type:"Rect",shape:makeRectShape([n-s/2,r[0]],[s,l],getAxisDimIndex(a))}}};function getAxisDimIndex(a){return a.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$a=makeInner(),each$8=each$f;function register(a,n,r){if(!env$1.node){var s=n.getZr();inner$a(s).records||(inner$a(s).records={}),initGlobalListeners(s,n);var l=inner$a(s).records[a]||(inner$a(s).records[a]={});l.handler=r}}function initGlobalListeners(a,n){if(inner$a(a).initialized)return;inner$a(a).initialized=!0,r("click",curry$1(doEnter,"click")),r("mousemove",curry$1(doEnter,"mousemove")),r("globalout",onLeave);function r(s,l){a.on(s,function(u){var c=makeDispatchAction$1(n);each$8(inner$a(a).records,function(f){f&&l(f,u,c.dispatchAction)}),dispatchTooltipFinally(c.pendings,n)})}}function dispatchTooltipFinally(a,n){var r=a.showTip.length,s=a.hideTip.length,l;r?l=a.showTip[r-1]:s&&(l=a.hideTip[s-1]),l&&(l.dispatchAction=null,n.dispatchAction(l))}function onLeave(a,n,r){a.handler("leave",null,r)}function doEnter(a,n,r,s){n.handler(a,r,s)}function makeDispatchAction$1(a){var n={showTip:[],hideTip:[]},r=function(s){var l=n[s.type];l?l.push(s):(s.dispatchAction=r,a.dispatchAction(s))};return{dispatchAction:r,pendings:n}}function unregister(a,n){if(!env$1.node){var r=n.getZr(),s=(inner$a(r).records||{})[a];s&&(inner$a(r).records[a]=null)}}var AxisPointerView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){var u=s.getComponent("tooltip"),c=r.get("triggerOn")||u&&u.get("triggerOn")||"mousemove|click";register("axisPointer",l,function(f,d,v){c!=="none"&&(f==="leave"||c.indexOf(f)>=0)&&v({type:"updateAxisPointer",currTrigger:f,x:d&&d.offsetX,y:d&&d.offsetY})})},n.prototype.remove=function(r,s){unregister("axisPointer",s)},n.prototype.dispose=function(r,s){unregister("axisPointer",s)},n.type="axisPointer",n}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(a,n){var r=[],s=a.seriesIndex,l;if(s==null||!(l=n.getSeriesByIndex(s)))return{point:[]};var u=l.getData(),c=queryDataIndex(u,a);if(c==null||c<0||isArray$2(c))return{point:[]};var f=u.getItemGraphicEl(c),d=l.coordinateSystem;if(l.getTooltipPosition)r=l.getTooltipPosition(c)||[];else if(d&&d.dataToPoint)if(a.isStacked){var v=d.getBaseAxis(),g=d.getOtherAxis(v),y=g.dim,_=v.dim,S=y==="x"||y==="radius"?1:0,x=u.mapDimension(_),A=[];A[S]=u.get(x,c),A[1-S]=u.get(u.getCalculationInfo("stackResultDimension"),c),r=d.dataToPoint(A)||[]}else r=d.dataToPoint(u.getValues(map$1(d.dimensions,function(w){return u.mapDimension(w)}),c))||[];else if(f){var b=f.getBoundingRect().clone();b.applyTransform(f.transform),r=[b.x+b.width/2,b.y+b.height/2]}return{point:r,el:f}}var inner$9=makeInner();function axisTrigger(a,n,r){var s=a.currTrigger,l=[a.x,a.y],u=a,c=a.dispatchAction||bind$1(r.dispatchAction,r),f=n.getComponent("axisPointer").coordSysAxesInfo;if(!!f){illegalPoint(l)&&(l=findPointFromSeries({seriesIndex:u.seriesIndex,dataIndex:u.dataIndex},n).point);var d=illegalPoint(l),v=u.axesInfo,g=f.axesInfo,y=s==="leave"||illegalPoint(l),_={},S={},x={list:[],map:{}},A={showPointer:curry$1(showPointer,S),showTooltip:curry$1(showTooltip,x)};each$f(f.coordSysMap,function(w,E){var M=d||w.containPoint(l);each$f(f.coordSysAxesInfo[E],function(P,R){var I=P.axis,L=findInputAxisInfo(v,P);if(!y&&M&&(!v||L)){var O=L&&L.value;O==null&&!d&&(O=I.pointToData(l)),O!=null&&processOnAxis(P,O,A,!1,_)}})});var b={};return each$f(g,function(w,E){var M=w.linkGroup;M&&!S[E]&&each$f(M.axesInfo,function(P,R){var I=S[R];if(P!==w&&I){var L=I.value;M.mapper&&(L=w.axis.scale.parse(M.mapper(L,makeMapperParam(P),makeMapperParam(w)))),b[w.key]=L}})}),each$f(b,function(w,E){processOnAxis(g[E],w,A,!0,_)}),updateModelActually(S,g,_),dispatchTooltipActually(x,l,a,c),dispatchHighDownActually(g,c,r),_}}function processOnAxis(a,n,r,s,l){var u=a.axis;if(!(u.scale.isBlank()||!u.containData(n))){if(!a.involveSeries){r.showPointer(a,n);return}var c=buildPayloadsBySeries(n,a),f=c.payloadBatch,d=c.snapToValue;f[0]&&l.seriesIndex==null&&extend(l,f[0]),!s&&a.snap&&u.containData(d)&&d!=null&&(n=d),r.showPointer(a,n,f),r.showTooltip(a,c,d)}}function buildPayloadsBySeries(a,n){var r=n.axis,s=r.dim,l=a,u=[],c=Number.MAX_VALUE,f=-1;return each$f(n.seriesModels,function(d,v){var g=d.getData().mapDimensionsAll(s),y,_;if(d.getAxisTooltipData){var S=d.getAxisTooltipData(g,a,r);_=S.dataIndices,y=S.nestestValue}else{if(_=d.getData().indicesOfNearest(g[0],a,r.type==="category"?.5:null),!_.length)return;y=d.getData().get(g[0],_[0])}if(!(y==null||!isFinite(y))){var x=a-y,A=Math.abs(x);A<=c&&((A<c||x>=0&&f<0)&&(c=A,f=x,l=y,u.length=0),each$f(_,function(b){u.push({seriesIndex:d.seriesIndex,dataIndexInside:b,dataIndex:d.getData().getRawIndex(b)})}))}}),{payloadBatch:u,snapToValue:l}}function showPointer(a,n,r,s){a[n.key]={value:r,payloadBatch:s}}function showTooltip(a,n,r,s){var l=r.payloadBatch,u=n.axis,c=u.model,f=n.axisPointerModel;if(!(!n.triggerTooltip||!l.length)){var d=n.coordSys.model,v=makeKey(d),g=a.map[v];g||(g=a.map[v]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},a.list.push(g)),g.dataByAxis.push({axisDim:u.dim,axisIndex:c.componentIndex,axisType:c.type,axisId:c.id,value:s,valueLabelOpt:{precision:f.get(["label","precision"]),formatter:f.get(["label","formatter"])},seriesDataIndices:l.slice()})}}function updateModelActually(a,n,r){var s=r.axesInfo=[];each$f(n,function(l,u){var c=l.axisPointerModel.option,f=a[u];f?(!l.useHandle&&(c.status="show"),c.value=f.value,c.seriesDataIndices=(f.payloadBatch||[]).slice()):!l.useHandle&&(c.status="hide"),c.status==="show"&&s.push({axisDim:l.axis.dim,axisIndex:l.axis.model.componentIndex,value:c.value})})}function dispatchTooltipActually(a,n,r,s){if(illegalPoint(n)||!a.list.length){s({type:"hideTip"});return}var l=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};s({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:l.dataIndexInside,dataIndex:l.dataIndex,seriesIndex:l.seriesIndex,dataByCoordSys:a.list})}function dispatchHighDownActually(a,n,r){var s=r.getZr(),l="axisPointerLastHighlights",u=inner$9(s)[l]||{},c=inner$9(s)[l]={};each$f(a,function(v,g){var y=v.axisPointerModel.option;y.status==="show"&&each$f(y.seriesDataIndices,function(_){var S=_.seriesIndex+" | "+_.dataIndex;c[S]=_})});var f=[],d=[];each$f(u,function(v,g){!c[g]&&d.push(v)}),each$f(c,function(v,g){!u[g]&&f.push(v)}),d.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:d}),f.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:f})}function findInputAxisInfo(a,n){for(var r=0;r<(a||[]).length;r++){var s=a[r];if(n.axis.dim===s.axisDim&&n.axis.model.componentIndex===s.axisIndex)return s}}function makeMapperParam(a){var n=a.axis.model,r={},s=r.axisDim=a.axis.dim;return r.axisIndex=r[s+"AxisIndex"]=n.componentIndex,r.axisName=r[s+"AxisName"]=n.name,r.axisId=r[s+"AxisId"]=n.id,r}function illegalPoint(a){return!a||a[0]==null||isNaN(a[0])||a[1]==null||isNaN(a[1])}function install$q(a){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),a.registerComponentModel(AxisPointerModel$1),a.registerComponentView(AxisPointerView$1),a.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var r=n.axisPointer.link;r&&!isArray$2(r)&&(n.axisPointer.link=[r])}}),a.registerProcessor(a.PRIORITY.PROCESSOR.STATISTIC,function(n,r){n.getComponent("axisPointer").coordSysAxesInfo=collect(n,r)}),a.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(a){use(install$N),use(install$q)}var PolarAxisPointer=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,s,l,u,c){var f=l.axis;f.dim==="angle"&&(this.animationThreshold=Math.PI/18);var d=f.polar,v=d.getOtherAxis(f),g=v.getExtent(),y=f.dataToCoord(s),_=u.get("type");if(_&&_!=="none"){var S=buildElStyle(u),x=pointerShapeBuilder$1[_](f,d,y,g);x.style=S,r.graphicKey=x.type,r.pointer=x}var A=u.get(["label","margin"]),b=getLabelPosition(s,l,u,d,A);buildLabelElOption(r,l,u,c,b)},n}(BaseAxisPointer$1);function getLabelPosition(a,n,r,s,l){var u=n.axis,c=u.dataToCoord(a),f=s.getAngleAxis().getExtent()[0];f=f/180*Math.PI;var d=s.getRadiusAxis().getExtent(),v,g,y;if(u.dim==="radius"){var _=create$1();rotate(_,_,f),translate(_,_,[s.cx,s.cy]),v=applyTransform([c,-l],_);var S=n.getModel("axisLabel").get("rotate")||0,x=AxisBuilder$1.innerTextLayout(f,S*Math.PI/180,-1);g=x.textAlign,y=x.textVerticalAlign}else{var A=d[1];v=s.coordToPoint([A+l,c]);var b=s.cx,w=s.cy;g=Math.abs(v[0]-b)/A<.3?"center":v[0]>b?"left":"right",y=Math.abs(v[1]-w)/A<.3?"middle":v[1]>w?"top":"bottom"}return{position:v,align:g,verticalAlign:y}}var pointerShapeBuilder$1={line:function(a,n,r,s){return a.dim==="angle"?{type:"Line",shape:makeLineShape(n.coordToPoint([s[0],r]),n.coordToPoint([s[1],r]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r}}},shadow:function(a,n,r,s){var l=Math.max(1,a.getBandWidth()),u=Math.PI/180;return a.dim==="angle"?{type:"Sector",shape:makeSectorShape(n.cx,n.cy,s[0],s[1],(-r-l/2)*u,(-r+l/2)*u)}:{type:"Sector",shape:makeSectorShape(n.cx,n.cy,r-l/2,r+l/2,0,Math.PI*2)}}};const PolarAxisPointer$1=PolarAxisPointer;var PolarModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.findAxisModel=function(r){var s,l=this.ecModel;return l.eachComponent(r,function(u){u.getCoordSysModel()===this&&(s=u)},this),s},n.type="polar",n.dependencies=["radiusAxis","angleAxis"],n.defaultOption={z:0,center:["50%","50%"],radius:"80%"},n}(ComponentModel$1);const PolarModel$1=PolarModel;var PolarAxisModel=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},n.type="polarAxis",n}(ComponentModel$1);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="angleAxis",n}(PolarAxisModel),RadiusAxisModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="radiusAxis",n}(PolarAxisModel),RadiusAxis=function(a){__extends(n,a);function n(r,s){return a.call(this,"radius",r,s)||this}return n.prototype.pointToData=function(r,s){return this.polar.pointToData(r,s)[this.dim==="radius"?0:1]},n}(Axis$1);RadiusAxis.prototype.dataToRadius=Axis$1.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis$1.prototype.coordToData;const RadiusAxis$1=RadiusAxis;var inner$8=makeInner(),AngleAxis=function(a){__extends(n,a);function n(r,s){return a.call(this,"angle",r,s||[0,360])||this}return n.prototype.pointToData=function(r,s){return this.polar.pointToData(r,s)[this.dim==="radius"?0:1]},n.prototype.calculateCategoryInterval=function(){var r=this,s=r.getLabelModel(),l=r.scale,u=l.getExtent(),c=l.count();if(u[1]-u[0]<1)return 0;var f=u[0],d=r.dataToCoord(f+1)-r.dataToCoord(f),v=Math.abs(d),g=getBoundingRect(f==null?"":f+"",s.getFont(),"center","top"),y=Math.max(g.height,7),_=y/v;isNaN(_)&&(_=1/0);var S=Math.max(0,Math.floor(_)),x=inner$8(r.model),A=x.lastAutoInterval,b=x.lastTickCount;return A!=null&&b!=null&&Math.abs(A-S)<=1&&Math.abs(b-c)<=1&&A>S?S=A:(x.lastTickCount=c,x.lastAutoInterval=S),S},n}(Axis$1);AngleAxis.prototype.dataToAngle=Axis$1.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis$1.prototype.coordToData;const AngleAxis$1=AngleAxis;var polarDimensions=["radius","angle"],Polar=function(){function a(n){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis$1,this._angleAxis=new AngleAxis$1,this.axisPointerEnabled=!0,this.name=n||"",this._radiusAxis.polar=this._angleAxis.polar=this}return a.prototype.containPoint=function(n){var r=this.pointToCoord(n);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},a.prototype.containData=function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},a.prototype.getAxis=function(n){var r="_"+n+"Axis";return this[r]},a.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},a.prototype.getAxesByScale=function(n){var r=[],s=this._angleAxis,l=this._radiusAxis;return s.scale.type===n&&r.push(s),l.scale.type===n&&r.push(l),r},a.prototype.getAngleAxis=function(){return this._angleAxis},a.prototype.getRadiusAxis=function(){return this._radiusAxis},a.prototype.getOtherAxis=function(n){var r=this._angleAxis;return n===r?this._radiusAxis:r},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},a.prototype.getTooltipAxes=function(n){var r=n!=null&&n!=="auto"?this.getAxis(n):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},a.prototype.dataToPoint=function(n,r){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],r),this._angleAxis.dataToAngle(n[1],r)])},a.prototype.pointToData=function(n,r){var s=this.pointToCoord(n);return[this._radiusAxis.radiusToData(s[0],r),this._angleAxis.angleToData(s[1],r)]},a.prototype.pointToCoord=function(n){var r=n[0]-this.cx,s=n[1]-this.cy,l=this.getAngleAxis(),u=l.getExtent(),c=Math.min(u[0],u[1]),f=Math.max(u[0],u[1]);l.inverse?c=f-360:f=c+360;var d=Math.sqrt(r*r+s*s);r/=d,s/=d;for(var v=Math.atan2(-s,r)/Math.PI*180,g=v<c?1:-1;v<c||v>f;)v+=g*360;return[d,v]},a.prototype.coordToPoint=function(n){var r=n[0],s=n[1]/180*Math.PI,l=Math.cos(s)*r+this.cx,u=-Math.sin(s)*r+this.cy;return[l,u]},a.prototype.getArea=function(){var n=this.getAngleAxis(),r=this.getRadiusAxis(),s=r.getExtent().slice();s[0]>s[1]&&s.reverse();var l=n.getExtent(),u=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:s[0],r:s[1],startAngle:-l[0]*u,endAngle:-l[1]*u,clockwise:n.inverse,contain:function(c,f){var d=c-this.cx,v=f-this.cy,g=d*d+v*v-1e-4,y=this.r,_=this.r0;return g<=y*y&&g>=_*_}}},a.prototype.convertToPixel=function(n,r,s){var l=getCoordSys$2(r);return l===this?this.dataToPoint(s):null},a.prototype.convertFromPixel=function(n,r,s){var l=getCoordSys$2(r);return l===this?this.pointToData(s):null},a}();function getCoordSys$2(a){var n=a.seriesModel,r=a.polarModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}const Polar$1=Polar;function resizePolar(a,n,r){var s=n.get("center"),l=r.getWidth(),u=r.getHeight();a.cx=parsePercent(s[0],l),a.cy=parsePercent(s[1],u);var c=a.getRadiusAxis(),f=Math.min(l,u)/2,d=n.get("radius");d==null?d=[0,"100%"]:isArray$2(d)||(d=[0,d]);var v=[parsePercent(d[0],f),parsePercent(d[1],f)];c.inverse?c.setExtent(v[1],v[0]):c.setExtent(v[0],v[1])}function updatePolarScale(a,n){var r=this,s=r.getAngleAxis(),l=r.getRadiusAxis();if(s.scale.setExtent(1/0,-1/0),l.scale.setExtent(1/0,-1/0),a.eachSeries(function(f){if(f.coordinateSystem===r){var d=f.getData();each$f(getDataDimensionsOnAxis(d,"radius"),function(v){l.scale.unionExtentFromData(d,v)}),each$f(getDataDimensionsOnAxis(d,"angle"),function(v){s.scale.unionExtentFromData(d,v)})}}),niceScaleExtent(s.scale,s.model),niceScaleExtent(l.scale,l.model),s.type==="category"&&!s.onBand){var u=s.getExtent(),c=360/s.scale.count();s.inverse?u[1]+=c:u[1]-=c,s.setExtent(u[0],u[1])}}function isAngleAxisModel(a){return a.mainType==="angleAxis"}function setAxis(a,n){if(a.type=n.get("type"),a.scale=createScaleByModel$1(n),a.onBand=n.get("boundaryGap")&&a.type==="category",a.inverse=n.get("inverse"),isAngleAxisModel(n)){a.inverse=a.inverse!==n.get("clockwise");var r=n.get("startAngle");a.setExtent(r,r+(a.inverse?-360:360))}n.axis=a,a.model=n}var polarCreator={dimensions:polarDimensions,create:function(a,n){var r=[];return a.eachComponent("polar",function(s,l){var u=new Polar$1(l+"");u.update=updatePolarScale;var c=u.getRadiusAxis(),f=u.getAngleAxis(),d=s.findAxisModel("radiusAxis"),v=s.findAxisModel("angleAxis");setAxis(c,d),setAxis(f,v),resizePolar(u,s,n),r.push(u),s.coordinateSystem=u,u.model=s}),a.eachSeries(function(s){if(s.get("coordinateSystem")==="polar"){var l=s.getReferringComponents("polar",SINGLE_REFERRING).models[0];s.coordinateSystem=l.coordinateSystem}}),r}};const polarCreator$1=polarCreator;var elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(a,n,r){n[1]>n[0]&&(n=n.slice().reverse());var s=a.coordToPoint([n[0],r]),l=a.coordToPoint([n[1],r]);return{x1:s[0],y1:s[1],x2:l[0],y2:l[1]}}function getRadiusIdx(a){var n=a.getRadiusAxis();return n.inverse?0:1}function fixAngleOverlap(a){var n=a[0],r=a[a.length-1];n&&r&&Math.abs(Math.abs(n.coord-r.coord)-360)<1e-4&&a.pop()}var AngleAxisView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,s){if(this.group.removeAll(),!!r.get("show")){var l=r.axis,u=l.polar,c=u.getRadiusAxis().getExtent(),f=l.getTicksCoords(),d=l.getMinorTicksCoords(),v=map$1(l.getViewLabels(),function(g){g=clone$4(g);var y=l.scale,_=y.type==="ordinal"?y.getRawOrdinalNumber(g.tickValue):g.tickValue;return g.coord=l.dataToCoord(_),g});fixAngleOverlap(v),fixAngleOverlap(f),each$f(elementList,function(g){r.get([g,"show"])&&(!l.scale.isBlank()||g==="axisLine")&&angelAxisElementsBuilders[g](this.group,r,u,f,d,c,v)},this)}},n.type="angleAxis",n}(AxisView$1),angelAxisElementsBuilders={axisLine:function(a,n,r,s,l,u){var c=n.getModel(["axisLine","lineStyle"]),f=getRadiusIdx(r),d=f?0:1,v;u[d]===0?v=new Circle$1({shape:{cx:r.cx,cy:r.cy,r:u[f]},style:c.getLineStyle(),z2:1,silent:!0}):v=new Ring$1({shape:{cx:r.cx,cy:r.cy,r:u[f],r0:u[d]},style:c.getLineStyle(),z2:1,silent:!0}),v.style.fill=null,a.add(v)},axisTick:function(a,n,r,s,l,u){var c=n.getModel("axisTick"),f=(c.get("inside")?-1:1)*c.get("length"),d=u[getRadiusIdx(r)],v=map$1(s,function(g){return new Line$3({shape:getAxisLineShape(r,[d,d+f],g.coord)})});a.add(mergePath(v,{style:defaults(c.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(a,n,r,s,l,u){if(!!l.length){for(var c=n.getModel("axisTick"),f=n.getModel("minorTick"),d=(c.get("inside")?-1:1)*f.get("length"),v=u[getRadiusIdx(r)],g=[],y=0;y<l.length;y++)for(var _=0;_<l[y].length;_++)g.push(new Line$3({shape:getAxisLineShape(r,[v,v+d],l[y][_].coord)}));a.add(mergePath(g,{style:defaults(f.getModel("lineStyle").getLineStyle(),defaults(c.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(a,n,r,s,l,u,c){var f=n.getCategories(!0),d=n.getModel("axisLabel"),v=d.get("margin"),g=n.get("triggerEvent");each$f(c,function(y,_){var S=d,x=y.tickValue,A=u[getRadiusIdx(r)],b=r.coordToPoint([A+v,y.coord]),w=r.cx,E=r.cy,M=Math.abs(b[0]-w)/A<.3?"center":b[0]>w?"left":"right",P=Math.abs(b[1]-E)/A<.3?"middle":b[1]>E?"top":"bottom";if(f&&f[x]){var R=f[x];isObject$3(R)&&R.textStyle&&(S=new Model$1(R.textStyle,d,d.ecModel))}var I=new ZRText$1({silent:AxisBuilder$1.isLabelSilent(n),style:createTextStyle(S,{x:b[0],y:b[1],fill:S.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:y.formattedLabel,align:M,verticalAlign:P})});if(a.add(I),g){var L=AxisBuilder$1.makeAxisEventDataBase(n);L.targetType="axisLabel",L.value=y.rawLabel,getECData(I).eventData=L}},this)},splitLine:function(a,n,r,s,l,u){var c=n.getModel("splitLine"),f=c.getModel("lineStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=0;y<s.length;y++){var _=v++%d.length;g[_]=g[_]||[],g[_].push(new Line$3({shape:getAxisLineShape(r,u,s[y].coord)}))}for(var y=0;y<g.length;y++)a.add(mergePath(g[y],{style:defaults({stroke:d[y%d.length]},f.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(a,n,r,s,l,u){if(!!l.length){for(var c=n.getModel("minorSplitLine"),f=c.getModel("lineStyle"),d=[],v=0;v<l.length;v++)for(var g=0;g<l[v].length;g++)d.push(new Line$3({shape:getAxisLineShape(r,u,l[v][g].coord)}));a.add(mergePath(d,{style:f.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(a,n,r,s,l,u){if(!!s.length){var c=n.getModel("splitArea"),f=c.getModel("areaStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=Math.PI/180,_=-s[0].coord*y,S=Math.min(u[0],u[1]),x=Math.max(u[0],u[1]),A=n.get("clockwise"),b=1,w=s.length;b<=w;b++){var E=b===w?s[0].coord:s[b].coord,M=v++%d.length;g[M]=g[M]||[],g[M].push(new Sector$1({shape:{cx:r.cx,cy:r.cy,r0:S,r:x,startAngle:_,endAngle:-E*y,clockwise:A},silent:!0})),_=-E*y}for(var b=0;b<g.length;b++)a.add(mergePath(g[b],{style:defaults({fill:d[b%d.length]},f.getAreaStyle()),silent:!0}))}}};const AngleAxisView$1=AngleAxisView;var axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,s){if(this.group.removeAll(),!!r.get("show")){var l=this._axisGroup,u=this._axisGroup=new Group$4;this.group.add(u);var c=r.axis,f=c.polar,d=f.getAngleAxis(),v=c.getTicksCoords(),g=c.getMinorTicksCoords(),y=d.getExtent()[0],_=c.getExtent(),S=layoutAxis(f,r,y),x=new AxisBuilder$1(r,S);each$f(axisBuilderAttrs$1,x.add,x),u.add(x.getGroup()),groupTransition(l,u,r),each$f(selfBuilderAttrs$1,function(A){r.get([A,"show"])&&!c.scale.isBlank()&&axisElementBuilders$1[A](this.group,r,f,y,_,v,g)},this)}},n.type="radiusAxis",n}(AxisView$1),axisElementBuilders$1={splitLine:function(a,n,r,s,l,u){var c=n.getModel("splitLine"),f=c.getModel("lineStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=0;y<u.length;y++){var _=v++%d.length;g[_]=g[_]||[],g[_].push(new Circle$1({shape:{cx:r.cx,cy:r.cy,r:Math.max(u[y].coord,0)}}))}for(var y=0;y<g.length;y++)a.add(mergePath(g[y],{style:defaults({stroke:d[y%d.length],fill:null},f.getLineStyle()),silent:!0}))},minorSplitLine:function(a,n,r,s,l,u,c){if(!!c.length){for(var f=n.getModel("minorSplitLine"),d=f.getModel("lineStyle"),v=[],g=0;g<c.length;g++)for(var y=0;y<c[g].length;y++)v.push(new Circle$1({shape:{cx:r.cx,cy:r.cy,r:c[g][y].coord}}));a.add(mergePath(v,{style:defaults({fill:null},d.getLineStyle()),silent:!0}))}},splitArea:function(a,n,r,s,l,u){if(!!u.length){var c=n.getModel("splitArea"),f=c.getModel("areaStyle"),d=f.get("color"),v=0;d=d instanceof Array?d:[d];for(var g=[],y=u[0].coord,_=1;_<u.length;_++){var S=v++%d.length;g[S]=g[S]||[],g[S].push(new Sector$1({shape:{cx:r.cx,cy:r.cy,r0:y,r:u[_].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),y=u[_].coord}for(var _=0;_<g.length;_++)a.add(mergePath(g[_],{style:defaults({fill:d[_%d.length]},f.getAreaStyle()),silent:!0}))}}};function layoutAxis(a,n,r){return{position:[a.cx,a.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}const RadiusAxisView$1=RadiusAxisView;function getSeriesStackId(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function getAxisKey(a,n){return n.dim+a.model.componentIndex}function barLayoutPolar(a,n,r){var s={},l=calRadialBar(filter(n.getSeriesByType(a),function(u){return!n.isSeriesFiltered(u)&&u.coordinateSystem&&u.coordinateSystem.type==="polar"}));n.eachSeriesByType(a,function(u){if(u.coordinateSystem.type==="polar"){var c=u.getData(),f=u.coordinateSystem,d=f.getBaseAxis(),v=getAxisKey(f,d),g=getSeriesStackId(u),y=l[v][g],_=y.offset,S=y.width,x=f.getOtherAxis(d),A=u.coordinateSystem.cx,b=u.coordinateSystem.cy,w=u.get("barMinHeight")||0,E=u.get("barMinAngle")||0;s[g]=s[g]||[];for(var M=c.mapDimension(x.dim),P=c.mapDimension(d.dim),R=isDimensionStacked(c,M),I=d.dim!=="radius"||!u.get("roundCap",!0),L=x.dataToCoord(0),O=0,N=c.count();O<N;O++){var B=c.get(M,O),F=c.get(P,O),V=B>=0?"p":"n",z=L;R&&(s[g][F]||(s[g][F]={p:L,n:L}),z=s[g][F][V]);var U=void 0,Y=void 0,q=void 0,Q=void 0;if(x.dim==="radius"){var j=x.dataToCoord(B)-L,ne=d.dataToCoord(F);Math.abs(j)<w&&(j=(j<0?-1:1)*w),U=z,Y=z+j,q=ne-_,Q=q-S,R&&(s[g][F][V]=Y)}else{var fe=x.dataToCoord(B,I)-L,de=d.dataToCoord(F);Math.abs(fe)<E&&(fe=(fe<0?-1:1)*E),U=de+_,Y=U+S,q=z,Q=z+fe,R&&(s[g][F][V]=Q)}c.setItemLayout(O,{cx:A,cy:b,r0:U,r:Y,startAngle:-q*Math.PI/180,endAngle:-Q*Math.PI/180,clockwise:q>=Q})}}})}function calRadialBar(a){var n={};each$f(a,function(s,l){var u=s.getData(),c=s.coordinateSystem,f=c.getBaseAxis(),d=getAxisKey(c,f),v=f.getExtent(),g=f.type==="category"?f.getBandWidth():Math.abs(v[1]-v[0])/u.count(),y=n[d]||{bandWidth:g,remainedWidth:g,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},_=y.stacks;n[d]=y;var S=getSeriesStackId(s);_[S]||y.autoWidthCount++,_[S]=_[S]||{width:0,maxWidth:0};var x=parsePercent(s.get("barWidth"),g),A=parsePercent(s.get("barMaxWidth"),g),b=s.get("barGap"),w=s.get("barCategoryGap");x&&!_[S].width&&(x=Math.min(y.remainedWidth,x),_[S].width=x,y.remainedWidth-=x),A&&(_[S].maxWidth=A),b!=null&&(y.gap=b),w!=null&&(y.categoryGap=w)});var r={};return each$f(n,function(s,l){r[l]={};var u=s.stacks,c=s.bandWidth,f=parsePercent(s.categoryGap,c),d=parsePercent(s.gap,1),v=s.remainedWidth,g=s.autoWidthCount,y=(v-f)/(g+(g-1)*d);y=Math.max(y,0),each$f(u,function(A,b){var w=A.maxWidth;w&&w<y&&(w=Math.min(w,v),A.width&&(w=Math.min(w,A.width)),v-=w,A.width=w,g--)}),y=(v-f)/(g+(g-1)*d),y=Math.max(y,0);var _=0,S;each$f(u,function(A,b){A.width||(A.width=y),S=A,_+=A.width*(1+d)}),S&&(_-=S.width*d);var x=-_/2;each$f(u,function(A,b){r[l][b]=r[l][b]||{offset:x,width:A.width},x+=A.width*(1+d)})}),r}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="polar",n}(ComponentView$1);function install$o(a){use(install$q),AxisView$1.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer$1),a.registerCoordinateSystem("polar",polarCreator$1),a.registerComponentModel(PolarModel$1),a.registerComponentView(PolarView),axisModelCreator(a,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(a,"radius",RadiusAxisModel,radiusAxisExtraOption),a.registerComponentView(AngleAxisView$1),a.registerComponentView(RadiusAxisView$1),a.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(a,n){n=n||{};var r=a.coordinateSystem,s=a.axis,l={},u=s.position,c=s.orient,f=r.getRect(),d=[f.x,f.x+f.width,f.y,f.y+f.height],v={horizontal:{top:d[2],bottom:d[3]},vertical:{left:d[0],right:d[1]}};l.position=[c==="vertical"?v.vertical[u]:d[0],c==="horizontal"?v.horizontal[u]:d[3]];var g={horizontal:0,vertical:1};l.rotation=Math.PI/2*g[c];var y={top:-1,bottom:1,right:1,left:-1};l.labelDirection=l.tickDirection=l.nameDirection=y[u],a.get(["axisTick","inside"])&&(l.tickDirection=-l.tickDirection),retrieve(n.labelInside,a.get(["axisLabel","inside"]))&&(l.labelDirection=-l.labelDirection);var _=n.rotate;return _==null&&(_=a.get(["axisLabel","rotate"])),l.labelRotation=u==="top"?-_:_,l.z2=1,l}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="SingleAxisPointer",r}return n.prototype.render=function(r,s,l,u){var c=this.group;c.removeAll();var f=this._axisGroup;this._axisGroup=new Group$4;var d=layout$1(r),v=new AxisBuilder$1(r,d);each$f(axisBuilderAttrs,v.add,v),c.add(this._axisGroup),c.add(v.getGroup()),each$f(selfBuilderAttrs,function(g){r.get([g,"show"])&&axisElementBuilders[g](this,this.group,this._axisGroup,r)},this),groupTransition(f,this._axisGroup,r),a.prototype.render.call(this,r,s,l,u)},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="singleAxis",n}(AxisView$1),axisElementBuilders={splitLine:function(a,n,r,s){var l=s.axis;if(!l.scale.isBlank()){var u=s.getModel("splitLine"),c=u.getModel("lineStyle"),f=c.get("color");f=f instanceof Array?f:[f];for(var d=c.get("width"),v=s.coordinateSystem.getRect(),g=l.isHorizontal(),y=[],_=0,S=l.getTicksCoords({tickModel:u}),x=[],A=[],b=0;b<S.length;++b){var w=l.toGlobalCoord(S[b].coord);g?(x[0]=w,x[1]=v.y,A[0]=w,A[1]=v.y+v.height):(x[0]=v.x,x[1]=w,A[0]=v.x+v.width,A[1]=w);var E=new Line$3({shape:{x1:x[0],y1:x[1],x2:A[0],y2:A[1]},silent:!0});subPixelOptimizeLine(E.shape,d);var M=_++%f.length;y[M]=y[M]||[],y[M].push(E)}for(var P=c.getLineStyle(["color"]),b=0;b<y.length;++b)n.add(mergePath(y[b],{style:defaults({stroke:f[b%f.length]},P),silent:!0}))}},splitArea:function(a,n,r,s){rectCoordAxisBuildSplitArea(a,r,s,s)}};const SingleAxisView$1=SingleAxisView;var SingleAxisModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getCoordSysModel=function(){return this},n.type="singleAxis",n.layoutMode="box",n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},n}(ComponentModel$1);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);const SingleAxisModel$1=SingleAxisModel;var SingleAxis=function(a){__extends(n,a);function n(r,s,l,u,c){var f=a.call(this,r,s,l)||this;return f.type=u||"value",f.position=c||"bottom",f}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.pointToData=function(r,s){return this.coordinateSystem.pointToData(r)[0]},n}(Axis$1);const SingleAxis$1=SingleAxis;var singleDimensions=["single"],Single=function(){function a(n,r,s){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=n,this._init(n,r,s)}return a.prototype._init=function(n,r,s){var l=this.dimension,u=new SingleAxis$1(l,createScaleByModel$1(n),[0,0],n.get("type"),n.get("position")),c=u.type==="category";u.onBand=c&&n.get("boundaryGap"),u.inverse=n.get("inverse"),u.orient=n.get("orient"),n.axis=u,u.model=n,u.coordinateSystem=this,this._axis=u},a.prototype.update=function(n,r){n.eachSeries(function(s){if(s.coordinateSystem===this){var l=s.getData();each$f(l.mapDimensionsAll(this.dimension),function(u){this._axis.scale.unionExtentFromData(l,u)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},a.prototype.resize=function(n,r){this._rect=getLayoutRect({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},a.prototype.getRect=function(){return this._rect},a.prototype._adjustAxis=function(){var n=this._rect,r=this._axis,s=r.isHorizontal(),l=s?[0,n.width]:[0,n.height],u=r.inverse?1:0;r.setExtent(l[u],l[1-u]),this._updateAxisTransform(r,s?n.x:n.y)},a.prototype._updateAxisTransform=function(n,r){var s=n.getExtent(),l=s[0]+s[1],u=n.isHorizontal();n.toGlobalCoord=u?function(c){return c+r}:function(c){return l-c+r},n.toLocalCoord=u?function(c){return c-r}:function(c){return l-c+r}},a.prototype.getAxis=function(){return this._axis},a.prototype.getBaseAxis=function(){return this._axis},a.prototype.getAxes=function(){return[this._axis]},a.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},a.prototype.containPoint=function(n){var r=this.getRect(),s=this.getAxis(),l=s.orient;return l==="horizontal"?s.contain(s.toLocalCoord(n[0]))&&n[1]>=r.y&&n[1]<=r.y+r.height:s.contain(s.toLocalCoord(n[1]))&&n[0]>=r.y&&n[0]<=r.y+r.height},a.prototype.pointToData=function(n){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(n[r.orient==="horizontal"?0:1]))]},a.prototype.dataToPoint=function(n){var r=this.getAxis(),s=this.getRect(),l=[],u=r.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),l[u]=r.toGlobalCoord(r.dataToCoord(+n)),l[1-u]=u===0?s.y+s.height/2:s.x+s.width/2,l},a.prototype.convertToPixel=function(n,r,s){var l=getCoordSys$1(r);return l===this?this.dataToPoint(s):null},a.prototype.convertFromPixel=function(n,r,s){var l=getCoordSys$1(r);return l===this?this.pointToData(s):null},a}();function getCoordSys$1(a){var n=a.seriesModel,r=a.singleAxisModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}function create(a,n){var r=[];return a.eachComponent("singleAxis",function(s,l){var u=new Single(s,a,n);u.name="single_"+l,u.resize(s,n),s.coordinateSystem=u,r.push(u)}),a.eachSeries(function(s){if(s.get("coordinateSystem")==="singleAxis"){var l=s.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];s.coordinateSystem=l&&l.coordinateSystem}}),r}var singleCreator={create,dimensions:singleDimensions};const singleCreator$1=singleCreator;var XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,s,l,u,c){var f=l.axis,d=f.coordinateSystem,v=getGlobalExtent(d,1-getPointDimIndex(f)),g=d.dataToPoint(s)[0],y=u.get("type");if(y&&y!=="none"){var _=buildElStyle(u),S=pointerShapeBuilder[y](f,g,v);S.style=_,r.graphicKey=S.type,r.pointer=S}var x=layout$1(l);buildCartesianSingleLabelElOption(s,r,x,l,u,c)},n.prototype.getHandleTransform=function(r,s,l){var u=layout$1(s,{labelInside:!1});u.labelMargin=l.get(["handle","margin"]);var c=getTransformedPosition(s.axis,r,u);return{x:c[0],y:c[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,s,l,u){var c=l.axis,f=c.coordinateSystem,d=getPointDimIndex(c),v=getGlobalExtent(f,d),g=[r.x,r.y];g[d]+=s[d],g[d]=Math.min(v[1],g[d]),g[d]=Math.max(v[0],g[d]);var y=getGlobalExtent(f,1-d),_=(y[1]+y[0])/2,S=[_,_];return S[d]=g[d],{x:g[0],y:g[1],rotation:r.rotation,cursorPoint:S,tooltipOption:{verticalAlign:"middle"}}},n}(BaseAxisPointer$1),pointerShapeBuilder={line:function(a,n,r){var s=makeLineShape([n,r[0]],[n,r[1]],getPointDimIndex(a));return{type:"Line",subPixelOptimize:!0,shape:s}},shadow:function(a,n,r){var s=a.getBandWidth(),l=r[1]-r[0];return{type:"Rect",shape:makeRectShape([n-s/2,r[0]],[s,l],getPointDimIndex(a))}}};function getPointDimIndex(a){return a.isHorizontal()?0:1}function getGlobalExtent(a,n){var r=a.getRect();return[r[XY$1[n]],r[XY$1[n]]+r[WH$1[n]]]}const SingleAxisPointer$1=SingleAxisPointer;var SingleView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="single",n}(ComponentView$1);function install$n(a){use(install$q),AxisView$1.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer$1),a.registerComponentView(SingleView),a.registerComponentView(SingleAxisView$1),a.registerComponentModel(SingleAxisModel$1),axisModelCreator(a,"single",SingleAxisModel$1,SingleAxisModel$1.defaultOption),a.registerCoordinateSystem("single",singleCreator$1)}var CalendarModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,s,l){var u=getLayoutParams(r);a.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(r,u)},n.prototype.mergeOption=function(r){a.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,r)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type="calendar",n.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},n}(ComponentModel$1);function mergeAndNormalizeLayoutParams$1(a,n){var r=a.cellSize,s;isArray$2(r)?s=r:s=a.cellSize=[r,r],s.length===1&&(s[1]=s[0]);var l=map$1([0,1],function(u){return sizeCalculable(n,u)&&(s[u]="auto"),s[u]!=null&&s[u]!=="auto"});mergeLayoutParam(a,n,{type:"box",ignoreSize:l})}const CalendarModel$1=CalendarModel;var CalendarView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){var u=this.group;u.removeAll();var c=r.coordinateSystem,f=c.getRangeInfo(),d=c.getOrient(),v=s.getLocaleModel();this._renderDayRect(r,f,u),this._renderLines(r,f,d,u),this._renderYearText(r,f,d,u),this._renderMonthText(r,v,d,u),this._renderWeekText(r,v,f,d,u)},n.prototype._renderDayRect=function(r,s,l){for(var u=r.coordinateSystem,c=r.getModel("itemStyle").getItemStyle(),f=u.getCellWidth(),d=u.getCellHeight(),v=s.start.time;v<=s.end.time;v=u.getNextNDay(v,1).time){var g=u.dataToRect([v],!1).tl,y=new Rect$3({shape:{x:g[0],y:g[1],width:f,height:d},cursor:"default",style:c});l.add(y)}},n.prototype._renderLines=function(r,s,l,u){var c=this,f=r.coordinateSystem,d=r.getModel(["splitLine","lineStyle"]).getLineStyle(),v=r.get(["splitLine","show"]),g=d.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var y=s.start,_=0;y.time<=s.end.time;_++){x(y.formatedDate),_===0&&(y=f.getDateInfo(s.start.y+"-"+s.start.m));var S=y.date;S.setMonth(S.getMonth()+1),y=f.getDateInfo(S)}x(f.getNextNDay(s.end.time,1).formatedDate);function x(A){c._firstDayOfMonth.push(f.getDateInfo(A)),c._firstDayPoints.push(f.dataToRect([A],!1).tl);var b=c._getLinePointsOfOneWeek(r,A,l);c._tlpoints.push(b[0]),c._blpoints.push(b[b.length-1]),v&&c._drawSplitline(b,d,u)}v&&this._drawSplitline(c._getEdgesPoints(c._tlpoints,g,l),d,u),v&&this._drawSplitline(c._getEdgesPoints(c._blpoints,g,l),d,u)},n.prototype._getEdgesPoints=function(r,s,l){var u=[r[0].slice(),r[r.length-1].slice()],c=l==="horizontal"?0:1;return u[0][c]=u[0][c]-s/2,u[1][c]=u[1][c]+s/2,u},n.prototype._drawSplitline=function(r,s,l){var u=new Polyline$3({z2:20,shape:{points:r},style:s});l.add(u)},n.prototype._getLinePointsOfOneWeek=function(r,s,l){for(var u=r.coordinateSystem,c=u.getDateInfo(s),f=[],d=0;d<7;d++){var v=u.getNextNDay(c.time,d),g=u.dataToRect([v.time],!1);f[2*v.day]=g.tl,f[2*v.day+1]=g[l==="horizontal"?"bl":"tr"]}return f},n.prototype._formatterLabel=function(r,s){return isString(r)&&r?formatTplSimple(r,s):isFunction(r)?r(s):s.nameMap},n.prototype._yearTextPositionControl=function(r,s,l,u,c){var f=s[0],d=s[1],v=["center","bottom"];u==="bottom"?(d+=c,v=["center","top"]):u==="left"?f-=c:u==="right"?(f+=c,v=["center","top"]):d-=c;var g=0;return(u==="left"||u==="right")&&(g=Math.PI/2),{rotation:g,x:f,y:d,style:{align:v[0],verticalAlign:v[1]}}},n.prototype._renderYearText=function(r,s,l,u){var c=r.getModel("yearLabel");if(!!c.get("show")){var f=c.get("margin"),d=c.get("position");d||(d=l!=="horizontal"?"top":"left");var v=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(v[0][0]+v[1][0])/2,y=(v[0][1]+v[1][1])/2,_=l==="horizontal"?0:1,S={top:[g,v[_][1]],bottom:[g,v[1-_][1]],left:[v[1-_][0],y],right:[v[_][0],y]},x=s.start.y;+s.end.y>+s.start.y&&(x=x+"-"+s.end.y);var A=c.get("formatter"),b={start:s.start.y,end:s.end.y,nameMap:x},w=this._formatterLabel(A,b),E=new ZRText$1({z2:30,style:createTextStyle(c,{text:w})});E.attr(this._yearTextPositionControl(E,S[d],l,d,f)),u.add(E)}},n.prototype._monthTextPositionControl=function(r,s,l,u,c){var f="left",d="top",v=r[0],g=r[1];return l==="horizontal"?(g=g+c,s&&(f="center"),u==="start"&&(d="bottom")):(v=v+c,s&&(d="middle"),u==="start"&&(f="right")),{x:v,y:g,align:f,verticalAlign:d}},n.prototype._renderMonthText=function(r,s,l,u){var c=r.getModel("monthLabel");if(!!c.get("show")){var f=c.get("nameMap"),d=c.get("margin"),v=c.get("position"),g=c.get("align"),y=[this._tlpoints,this._blpoints];(!f||isString(f))&&(f&&(s=getLocaleModel(f)||s),f=s.get(["time","monthAbbr"])||[]);var _=v==="start"?0:1,S=l==="horizontal"?0:1;d=v==="start"?-d:d;for(var x=g==="center",A=0;A<y[_].length-1;A++){var b=y[_][A].slice(),w=this._firstDayOfMonth[A];if(x){var E=this._firstDayPoints[A];b[S]=(E[S]+y[0][A+1][S])/2}var M=c.get("formatter"),P=f[+w.m-1],R={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:P},I=this._formatterLabel(M,R),L=new ZRText$1({z2:30,style:extend(createTextStyle(c,{text:I}),this._monthTextPositionControl(b,x,l,v,d))});u.add(L)}}},n.prototype._weekTextPositionControl=function(r,s,l,u,c){var f="center",d="middle",v=r[0],g=r[1],y=l==="start";return s==="horizontal"?(v=v+u+(y?1:-1)*c[0]/2,f=y?"right":"left"):(g=g+u+(y?1:-1)*c[1]/2,d=y?"bottom":"top"),{x:v,y:g,align:f,verticalAlign:d}},n.prototype._renderWeekText=function(r,s,l,u,c){var f=r.getModel("dayLabel");if(!!f.get("show")){var d=r.coordinateSystem,v=f.get("position"),g=f.get("nameMap"),y=f.get("margin"),_=d.getFirstDayOfWeek();if(!g||isString(g)){g&&(s=getLocaleModel(g)||s);var S=s.get(["time","dayOfWeekShort"]);g=S||map$1(s.get(["time","dayOfWeekAbbr"]),function(R){return R[0]})}var x=d.getNextNDay(l.end.time,7-l.lweek).time,A=[d.getCellWidth(),d.getCellHeight()];y=parsePercent(y,Math.min(A[1],A[0])),v==="start"&&(x=d.getNextNDay(l.start.time,-(7+l.fweek)).time,y=-y);for(var b=0;b<7;b++){var w=d.getNextNDay(x,b),E=d.dataToRect([w.time],!1).center,M=b;M=Math.abs((b+_)%7);var P=new ZRText$1({z2:30,style:extend(createTextStyle(f,{text:g[M]}),this._weekTextPositionControl(E,u,v,y,A))});c.add(P)}}},n.type="calendar",n}(ComponentView$1);const CalendarView$1=CalendarView;var PROXIMATE_ONE_DAY=864e5,Calendar=function(){function a(n,r,s){this.type="calendar",this.dimensions=a.dimensions,this.getDimensionsInfo=a.getDimensionsInfo,this._model=n}return a.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},a.prototype.getRangeInfo=function(){return this._rangeInfo},a.prototype.getModel=function(){return this._model},a.prototype.getRect=function(){return this._rect},a.prototype.getCellWidth=function(){return this._sw},a.prototype.getCellHeight=function(){return this._sh},a.prototype.getOrient=function(){return this._orient},a.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},a.prototype.getDateInfo=function(n){n=parseDate(n);var r=n.getFullYear(),s=n.getMonth()+1,l=s<10?"0"+s:""+s,u=n.getDate(),c=u<10?"0"+u:""+u,f=n.getDay();return f=Math.abs((f+7-this.getFirstDayOfWeek())%7),{y:r+"",m:l,d:c,day:f,time:n.getTime(),formatedDate:r+"-"+l+"-"+c,date:n}},a.prototype.getNextNDay=function(n,r){return r=r||0,r===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+r),this.getDateInfo(n))},a.prototype.update=function(n,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var s=this._rangeInfo.weeks||1,l=["width","height"],u=this._model.getCellSize().slice(),c=this._model.getBoxLayoutParams(),f=this._orient==="horizontal"?[s,7]:[7,s];each$f([0,1],function(y){g(u,y)&&(c[l[y]]=u[y]*f[y])});var d={width:r.getWidth(),height:r.getHeight()},v=this._rect=getLayoutRect(c,d);each$f([0,1],function(y){g(u,y)||(u[y]=v[l[y]]/f[y])});function g(y,_){return y[_]!=null&&y[_]!=="auto"}this._sw=u[0],this._sh=u[1]},a.prototype.dataToPoint=function(n,r){isArray$2(n)&&(n=n[0]),r==null&&(r=!0);var s=this.getDateInfo(n),l=this._rangeInfo,u=s.formatedDate;if(r&&!(s.time>=l.start.time&&s.time<l.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var c=s.day,f=this._getRangeInfo([l.start.time,u]).nthWeek;return this._orient==="vertical"?[this._rect.x+c*this._sw+this._sw/2,this._rect.y+f*this._sh+this._sh/2]:[this._rect.x+f*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]},a.prototype.pointToData=function(n){var r=this.pointToDate(n);return r&&r.time},a.prototype.dataToRect=function(n,r){var s=this.dataToPoint(n,r);return{contentShape:{x:s[0]-(this._sw-this._lineWidth)/2,y:s[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:s,tl:[s[0]-this._sw/2,s[1]-this._sh/2],tr:[s[0]+this._sw/2,s[1]-this._sh/2],br:[s[0]+this._sw/2,s[1]+this._sh/2],bl:[s[0]-this._sw/2,s[1]+this._sh/2]}},a.prototype.pointToDate=function(n){var r=Math.floor((n[0]-this._rect.x)/this._sw)+1,s=Math.floor((n[1]-this._rect.y)/this._sh)+1,l=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(s,r-1,l):this._getDateByWeeksAndDay(r,s-1,l)},a.prototype.convertToPixel=function(n,r,s){var l=getCoordSys(r);return l===this?l.dataToPoint(s):null},a.prototype.convertFromPixel=function(n,r,s){var l=getCoordSys(r);return l===this?l.pointToData(s):null},a.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},a.prototype._initRangeOption=function(){var n=this._model.get("range"),r;if(isArray$2(n)&&n.length===1&&(n=n[0]),isArray$2(n))r=n;else{var s=n.toString();if(/^\d{4}$/.test(s)&&(r=[s+"-01-01",s+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(s)){var l=this.getDateInfo(s),u=l.date;u.setMonth(u.getMonth()+1);var c=this.getNextNDay(u,-1);r=[l.formatedDate,c.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(s)&&(r=[s,s])}if(!r)return n;var f=this._getRangeInfo(r);return f.start.time>f.end.time&&r.reverse(),r},a.prototype._getRangeInfo=function(n){var r=[this.getDateInfo(n[0]),this.getDateInfo(n[1])],s;r[0].time>r[1].time&&(s=!0,r.reverse());var l=Math.floor(r[1].time/PROXIMATE_ONE_DAY)-Math.floor(r[0].time/PROXIMATE_ONE_DAY)+1,u=new Date(r[0].time),c=u.getDate(),f=r[1].date.getDate();u.setDate(c+l-1);var d=u.getDate();if(d!==f)for(var v=u.getTime()-r[1].time>0?1:-1;(d=u.getDate())!==f&&(u.getTime()-r[1].time)*v>0;)l-=v,u.setDate(d-v);var g=Math.floor((l+r[0].day+6)/7),y=s?-g+1:g-1;return s&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:l,weeks:g,nthWeek:y,fweek:r[0].day,lweek:r[1].day}},a.prototype._getDateByWeeksAndDay=function(n,r,s){var l=this._getRangeInfo(s);if(n>l.weeks||n===0&&r<l.fweek||n===l.weeks&&r>l.lweek)return null;var u=(n-1)*7-l.fweek+r,c=new Date(l.start.time);return c.setDate(+l.start.d+u),this.getDateInfo(c)},a.create=function(n,r){var s=[];return n.eachComponent("calendar",function(l){var u=new a(l);s.push(u),l.coordinateSystem=u}),n.eachSeries(function(l){l.get("coordinateSystem")==="calendar"&&(l.coordinateSystem=s[l.get("calendarIndex")||0])}),s},a.dimensions=["time","value"],a}();function getCoordSys(a){var n=a.calendarModel,r=a.seriesModel,s=n?n.coordinateSystem:r?r.coordinateSystem:null;return s}const Calendar$1=Calendar;function install$m(a){a.registerComponentModel(CalendarModel$1),a.registerComponentView(CalendarView$1),a.registerCoordinateSystem("calendar",Calendar$1)}function setKeyInfoToNewElOption(a,n){var r=a.existing;if(n.id=a.keyInfo.id,!n.type&&r&&(n.type=r.type),n.parentId==null){var s=n.parentOption;s?n.parentId=s.id:r&&(n.parentId=r.parentId)}n.parentOption=null}function isSetLoc(a,n){var r;return each$f(n,function(s){a[s]!=null&&a[s]!=="auto"&&(r=!0)}),r}function mergeNewElOptionToExist(a,n,r){var s=extend({},r),l=a[n],u=r.$action||"merge";u==="merge"?l?(merge(l,s,!0),mergeLayoutParam(l,s,{ignoreSize:!0}),copyLayoutParams(r,l),copyTransitionInfo(r,l),copyTransitionInfo(r,l,"shape"),copyTransitionInfo(r,l,"style"),copyTransitionInfo(r,l,"extra"),r.clipPath=l.clipPath):a[n]=s:u==="replace"?a[n]=s:u==="remove"&&l&&(a[n]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(a,n,r){if(r&&(!a[r]&&n[r]&&(a[r]={}),a=a[r],n=n[r]),!(!a||!n))for(var s=r?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,l=0;l<s.length;l++){var u=s[l];a[u]==null&&n[u]!=null&&(a[u]=n[u])}}function setLayoutInfoToExist(a,n){if(!!a&&(a.hv=n.hv=[isSetLoc(n,["left","right"]),isSetLoc(n,["top","bottom"])],a.type==="group")){var r=a,s=n;r.width==null&&(r.width=s.width=0),r.height==null&&(r.height=s.height=0)}}var GraphicComponentModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.preventAutoZ=!0,r}return n.prototype.mergeOption=function(r,s){var l=this.option.elements;this.option.elements=null,a.prototype.mergeOption.call(this,r,s),this.option.elements=l},n.prototype.optionUpdated=function(r,s){var l=this.option,u=(s?l:r).elements,c=l.elements=s?[]:l.elements,f=[];this._flatten(u,f,null);var d=mappingToExists(c,f,"normalMerge"),v=this._elOptionsToUpdate=[];each$f(d,function(g,y){var _=g.newOption;!_||(v.push(_),setKeyInfoToNewElOption(g,_),mergeNewElOptionToExist(c,y,_),setLayoutInfoToExist(c[y],_))},this),l.elements=filter(c,function(g){return g&&delete g.$action,g!=null})},n.prototype._flatten=function(r,s,l){each$f(r,function(u){if(!!u){l&&(u.parentOption=l),s.push(u);var c=u.children;c&&c.length&&this._flatten(c,s,u),delete u.children}},this)},n.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},n.type="graphic",n.defaultOption={elements:[]},n}(ComponentModel$1),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$4,image:ZRImage$1,text:ZRText$1},inner$7=makeInner(),GraphicComponentView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._elMap=createHashMap()},n.prototype.render=function(r,s,l){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,l)},n.prototype._updateElements=function(r){var s=r.useElOptionsToUpdate();if(!!s){var l=this._elMap,u=this.group,c=r.get("z"),f=r.get("zlevel");each$f(s,function(d){var v=convertOptionIdName(d.id,null),g=v!=null?l.get(v):null,y=convertOptionIdName(d.parentId,null),_=y!=null?l.get(y):u,S=d.type,x=d.style;S==="text"&&x&&d.hv&&d.hv[1]&&(x.textVerticalAlign=x.textBaseline=x.verticalAlign=x.align=null);var A=d.textContent,b=d.textConfig;if(x&&isEC4CompatibleStyle(x,S,!!b,!!A)){var w=convertFromEC4CompatibleStyle(x,S,!0);!b&&w.textConfig&&(b=d.textConfig=w.textConfig),!A&&w.textContent&&(A=w.textContent)}var E=getCleanedElOption(d),M=d.$action||"merge",P=M==="merge",R=M==="replace";if(P){var I=!g,L=g;I?L=createEl(v,_,d.type,l):(L&&(inner$7(L).isNew=!1),stopPreviousKeyframeAnimationAndRestore(L)),L&&(applyUpdateTransition(L,E,r,{isInit:I}),updateCommonAttrs(L,d,c,f))}else if(R){removeEl$1(g,d,l,r);var O=createEl(v,_,d.type,l);O&&(applyUpdateTransition(O,E,r,{isInit:!0}),updateCommonAttrs(O,d,c,f))}else M==="remove"&&(updateLeaveTo(g,d),removeEl$1(g,d,l,r));var N=l.get(v);if(N&&A)if(P){var B=N.getTextContent();B?B.attr(A):N.setTextContent(new ZRText$1(A))}else R&&N.setTextContent(new ZRText$1(A));if(N){var F=d.clipPath;if(F){var V=F.type,z=void 0,I=!1;if(P){var U=N.getClipPath();I=!U||inner$7(U).type!==V,z=I?newEl(V):U}else R&&(I=!0,z=newEl(V));N.setClipPath(z),applyUpdateTransition(z,F,r,{isInit:I}),applyKeyframeAnimation(z,F.keyframeAnimation,r)}var Y=inner$7(N);N.setTextConfig(b),Y.option=d,setEventData(N,r,d),setTooltipConfig({el:N,componentModel:r,itemName:N.name,itemTooltipOption:d.tooltip}),applyKeyframeAnimation(N,d.keyframeAnimation,r)}})}},n.prototype._relocate=function(r,s){for(var l=r.option.elements,u=this.group,c=this._elMap,f=s.getWidth(),d=s.getHeight(),v=["x","y"],g=0;g<l.length;g++){var y=l[g],_=convertOptionIdName(y.id,null),S=_!=null?c.get(_):null;if(!(!S||!S.isGroup)){var x=S.parent,A=x===u,b=inner$7(S),w=inner$7(x);b.width=parsePercent(b.option.width,A?f:w.width)||0,b.height=parsePercent(b.option.height,A?d:w.height)||0}}for(var g=l.length-1;g>=0;g--){var y=l[g],_=convertOptionIdName(y.id,null),S=_!=null?c.get(_):null;if(!!S){var x=S.parent,w=inner$7(x),E=x===u?{width:f,height:d}:{width:w.width,height:w.height},M={},P=positionElement(S,y,E,null,{hv:y.hv,boundingMode:y.bounding},M);if(!inner$7(S).isNew&&P){for(var R=y.transition,I={},L=0;L<v.length;L++){var O=v[L],N=M[O];R&&(isTransitionAll(R)||indexOf(R,O)>=0)?I[O]=N:S[O]=N}updateProps$1(S,I,r,0)}else S.attr(M)}}},n.prototype._clear=function(){var r=this,s=this._elMap;s.each(function(l){removeEl$1(l,inner$7(l).option,s,r._lastGraphicModel)}),this._elMap=createHashMap()},n.prototype.dispose=function(){this._clear()},n.type="graphic",n}(ComponentView$1);function newEl(a){var n=hasOwn(nonShapeGraphicElements,a)?nonShapeGraphicElements[a]:getShapeClass(a),r=new n({});return inner$7(r).type=a,r}function createEl(a,n,r,s){var l=newEl(r);return n.add(l),s.set(a,l),inner$7(l).id=a,inner$7(l).isNew=!0,l}function removeEl$1(a,n,r,s){var l=a&&a.parent;l&&(a.type==="group"&&a.traverse(function(u){removeEl$1(u,n,r,s)}),applyLeaveTransition(a,n,s),r.removeKey(inner$7(a).id))}function updateCommonAttrs(a,n,r,s){a.isGroup||each$f([["cursor",Displayable$1.prototype.cursor],["zlevel",s||0],["z",r||0],["z2",0]],function(l){var u=l[0];hasOwn(n,u)?a[u]=retrieve2(n[u],l[1]):a[u]==null&&(a[u]=l[1])}),each$f(keys(n),function(l){if(l.indexOf("on")===0){var u=n[l];a[l]=isFunction(u)?u:null}}),hasOwn(n,"draggable")&&(a.draggable=n.draggable),n.name!=null&&(a.name=n.name),n.id!=null&&(a.id=n.id)}function getCleanedElOption(a){return a=extend({},a),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(n){delete a[n]}),a}function setEventData(a,n,r){var s=getECData(a).eventData;!a.silent&&!a.ignore&&!s&&(s=getECData(a).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:a.name}),s&&(s.info=r.info)}function install$l(a){a.registerComponentModel(GraphicComponentModel),a.registerComponentView(GraphicComponentView),a.registerPreprocessor(function(n){var r=n.graphic;isArray$2(r)?!r[0]||!r[0].elements?n.graphic=[{elements:r}]:n.graphic=[n.graphic[0]]:r&&!r.elements&&(n.graphic=[{elements:[r]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(a){var n=a.get("coordinateSystem");return indexOf(SERIES_COORDS,n)>=0}function getAxisMainType(a){return a+"Axis"}function findEffectedDataZooms(a,n){var r=createHashMap(),s=[],l=createHashMap();a.eachComponent({mainType:"dataZoom",query:n},function(g){l.get(g.uid)||f(g)});var u;do u=!1,a.eachComponent("dataZoom",c);while(u);function c(g){!l.get(g.uid)&&d(g)&&(f(g),u=!0)}function f(g){l.set(g.uid,!0),s.push(g),v(g)}function d(g){var y=!1;return g.eachTargetAxis(function(_,S){var x=r.get(_);x&&x[S]&&(y=!0)}),y}function v(g){g.eachTargetAxis(function(y,_){(r.get(y)||r.set(y,[]))[_]=!0})}return s}function collectReferCoordSysModelInfo(a){var n=a.ecModel,r={infoList:[],infoMap:createHashMap()};return a.eachTargetAxis(function(s,l){var u=n.getComponent(getAxisMainType(s),l);if(!!u){var c=u.getCoordSysModel();if(!!c){var f=c.uid,d=r.infoMap.get(f);d||(d={model:c,axisModels:[]},r.infoList.push(d),r.infoMap.set(f,d)),d.axisModels.push(u)}}}),r}var DataZoomAxisInfo=function(){function a(){this.indexList=[],this.indexMap=[]}return a.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},a}(),DataZoomModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return n.prototype.init=function(r,s,l){var u=retrieveRawOption(r);this.settledOption=u,this.mergeDefaultAndTheme(r,l),this._doInit(u)},n.prototype.mergeOption=function(r){var s=retrieveRawOption(r);merge(this.option,r,!0),merge(this.settledOption,s,!0),this._doInit(s)},n.prototype._doInit=function(r){var s=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var l=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(u,c){this._rangePropMode[c]==="value"&&(s[u[0]]=l[u[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var r=this.get("orient",!0),s=this._targetAxisInfoMap=createHashMap(),l=this._fillSpecifiedTargetAxis(s);l?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(s,this._orient)),this._noTarget=!0,s.each(function(u){u.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(r){var s=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(l){var u=this.getReferringComponents(getAxisMainType(l),MULTIPLE_REFERRING);if(!!u.specified){s=!0;var c=new DataZoomAxisInfo;each$f(u.models,function(f){c.add(f.componentIndex)}),r.set(l,c)}},this),s},n.prototype._fillAutoTargetAxisByOrient=function(r,s){var l=this.ecModel,u=!0;if(u){var c=s==="vertical"?"y":"x",f=l.findComponents({mainType:c+"Axis"});d(f,c)}if(u){var f=l.findComponents({mainType:"singleAxis",filter:function(g){return g.get("orient",!0)===s}});d(f,"single")}function d(v,g){var y=v[0];if(!!y){var _=new DataZoomAxisInfo;if(_.add(y.componentIndex),r.set(g,_),u=!1,g==="x"||g==="y"){var S=y.getReferringComponents("grid",SINGLE_REFERRING).models[0];S&&each$f(v,function(x){y.componentIndex!==x.componentIndex&&S===x.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&_.add(x.componentIndex)})}}}u&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(v){if(!!u){var g=l.findComponents({mainType:getAxisMainType(v),filter:function(_){return _.get("type",!0)==="category"}});if(g[0]){var y=new DataZoomAxisInfo;y.add(g[0].componentIndex),r.set(v,y),u=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(s){!r&&(r=s)},this),r==="y"?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var s=this.ecModel.option;this.option.throttle=s.animation&&s.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(r){var s=this._rangePropMode,l=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function(u,c){var f=r[u[0]]!=null,d=r[u[1]]!=null;f&&!d?s[c]="percent":!f&&d?s[c]="value":l?s[c]=l[c]:f&&(s[c]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(s,l){r==null&&(r=this.ecModel.getComponent(getAxisMainType(s),l))},this),r},n.prototype.eachTargetAxis=function(r,s){this._targetAxisInfoMap.each(function(l,u){each$f(l.indexList,function(c){r.call(s,u,c)})})},n.prototype.getAxisProxy=function(r,s){var l=this.getAxisModel(r,s);if(l)return l.__dzAxisProxy},n.prototype.getAxisModel=function(r,s){var l=this._targetAxisInfoMap.get(r);if(l&&l.indexMap[s])return this.ecModel.getComponent(getAxisMainType(r),s)},n.prototype.setRawRange=function(r){var s=this.option,l=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function(u){(r[u[0]]!=null||r[u[1]]!=null)&&(s[u[0]]=l[u[0]]=r[u[0]],s[u[1]]=l[u[1]]=r[u[1]])},this),this._updateRangeUse(r)},n.prototype.setCalculatedRange=function(r){var s=this.option;each$f(["start","startValue","end","endValue"],function(l){s[l]=r[l]})},n.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},n.prototype.getValueRange=function(r,s){if(r==null&&s==null){var l=this.findRepresentativeAxisProxy();if(l)return l.getDataValueWindow()}else return this.getAxisProxy(r,s).getDataValueWindow()},n.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var s,l=this._targetAxisInfoMap.keys(),u=0;u<l.length;u++)for(var c=l[u],f=this._targetAxisInfoMap.get(c),d=0;d<f.indexList.length;d++){var v=this.getAxisProxy(c,f.indexList[d]);if(v.hostedBy(this))return v;s||(s=v)}return s},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n}(ComponentModel$1);function retrieveRawOption(a){var n={};return each$f(["start","end","startValue","endValue","throttle"],function(r){a.hasOwnProperty(r)&&(n[r]=a[r])}),n}const DataZoomModel$1=DataZoomModel;var SelectDataZoomModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n}(DataZoomModel$1);const SelectZoomModel=SelectDataZoomModel;var DataZoomView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l,u){this.dataZoomModel=r,this.ecModel=s,this.api=l},n.type="dataZoom",n}(ComponentView$1);const DataZoomView$1=DataZoomView;var SelectDataZoomView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n}(DataZoomView$1);const SelectZoomView=SelectDataZoomView;var each$7=each$f,asc$1=asc$2,AxisProxy=function(){function a(n,r,s,l){this._dimName=n,this._axisIndex=r,this.ecModel=l,this._dataZoomModel=s}return a.prototype.hostedBy=function(n){return this._dataZoomModel===n},a.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},a.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},a.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(r){if(isCoordSupported(r)){var s=getAxisMainType(this._dimName),l=r.getReferringComponents(s,SINGLE_REFERRING).models[0];l&&this._axisIndex===l.componentIndex&&n.push(r)}},this),n},a.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},a.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},a.prototype.calculateDataWindow=function(n){var r=this._dataExtent,s=this.getAxisModel(),l=s.axis.scale,u=this._dataZoomModel.getRangePropMode(),c=[0,100],f=[],d=[],v;each$7(["start","end"],function(_,S){var x=n[_],A=n[_+"Value"];u[S]==="percent"?(x==null&&(x=c[S]),A=l.parse(linearMap$2(x,c,r))):(v=!0,A=A==null?r[S]:l.parse(A),x=linearMap$2(A,r,c)),d[S]=A==null||isNaN(A)?r[S]:A,f[S]=x==null||isNaN(x)?c[S]:x}),asc$1(d),asc$1(f);var g=this._minMaxSpan;v?y(d,f,r,c,!1):y(f,d,c,r,!0);function y(_,S,x,A,b){var w=b?"Span":"ValueSpan";sliderMove(0,_,x,"all",g["min"+w],g["max"+w]);for(var E=0;E<2;E++)S[E]=linearMap$2(_[E],x,A,!0),b&&(S[E]=l.parse(S[E]))}return{valueWindow:d,percentWindow:f}},a.prototype.reset=function(n){if(n===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,r),this._updateMinMaxSpan();var s=this.calculateDataWindow(n.settledOption);this._valueWindow=s.valueWindow,this._percentWindow=s.percentWindow,this._setAxisModel()}},a.prototype.filterData=function(n,r){if(n!==this._dataZoomModel)return;var s=this._dimName,l=this.getTargetSeriesModels(),u=n.get("filterMode"),c=this._valueWindow;if(u==="none")return;each$7(l,function(d){var v=d.getData(),g=v.mapDimensionsAll(s);if(!!g.length){if(u==="weakFilter"){var y=v.getStore(),_=map$1(g,function(S){return v.getDimensionIndex(S)},v);v.filterSelf(function(S){for(var x,A,b,w=0;w<g.length;w++){var E=y.get(_[w],S),M=!isNaN(E),P=E<c[0],R=E>c[1];if(M&&!P&&!R)return!0;M&&(b=!0),P&&(x=!0),R&&(A=!0)}return b&&x&&A})}else each$7(g,function(S){if(u==="empty")d.setData(v=v.map(S,function(A){return f(A)?A:NaN}));else{var x={};x[S]=c,v.selectRange(x)}});each$7(g,function(S){v.setApproximateExtent(c,S)})}});function f(d){return d>=c[0]&&d<=c[1]}},a.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},r=this._dataZoomModel,s=this._dataExtent;each$7(["min","max"],function(l){var u=r.get(l+"Span"),c=r.get(l+"ValueSpan");c!=null&&(c=this.getAxisModel().axis.scale.parse(c)),c!=null?u=linearMap$2(s[0]+c,s,[0,100],!0):u!=null&&(c=linearMap$2(u,[0,100],s,!0)-s[0]),n[l+"Span"]=u,n[l+"ValueSpan"]=c},this)},a.prototype._setAxisModel=function(){var n=this.getAxisModel(),r=this._percentWindow,s=this._valueWindow;if(!!r){var l=getPixelPrecision(s,[0,500]);l=Math.min(l,20);var u=n.axis.scale.rawExtentInfo;r[0]!==0&&u.setDeterminedMinMax("min",+s[0].toFixed(l)),r[1]!==100&&u.setDeterminedMinMax("max",+s[1].toFixed(l)),u.freeze()}},a}();function calculateDataExtent(a,n,r){var s=[1/0,-1/0];each$7(r,function(c){unionAxisExtentFromData(s,c.getData(),n)});var l=a.getAxisModel(),u=ensureScaleRawExtentInfo(l.axis.scale,l,s).calculate();return[u.min,u.max]}const AxisProxy$1=AxisProxy;var dataZoomProcessor={getTargetSeries:function(a){function n(l){a.eachComponent("dataZoom",function(u){u.eachTargetAxis(function(c,f){var d=a.getComponent(getAxisMainType(c),f);l(c,f,d,u)})})}n(function(l,u,c,f){c.__dzAxisProxy=null});var r=[];n(function(l,u,c,f){c.__dzAxisProxy||(c.__dzAxisProxy=new AxisProxy$1(l,u,f,a),r.push(c.__dzAxisProxy))});var s=createHashMap();return each$f(r,function(l){each$f(l.getTargetSeriesModels(),function(u){s.set(u.uid,u)})}),s},overallReset:function(a,n){a.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(s,l){r.getAxisProxy(s,l).reset(r)}),r.eachTargetAxis(function(s,l){r.getAxisProxy(s,l).filterData(r,n)})}),a.eachComponent("dataZoom",function(r){var s=r.findRepresentativeAxisProxy();if(s){var l=s.getDataPercentWindow(),u=s.getDataValueWindow();r.setCalculatedRange({start:l[0],end:l[1],startValue:u[0],endValue:u[1]})}})}};const dataZoomProcessor$1=dataZoomProcessor;function installDataZoomAction(a){a.registerAction("dataZoom",function(n,r){var s=findEffectedDataZooms(r,n);each$f(s,function(l){l.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})}var installed$1=!1;function installCommon$1(a){installed$1||(installed$1=!0,a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor$1),installDataZoomAction(a),a.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(a){a.registerComponentModel(SelectZoomModel),a.registerComponentView(SelectZoomView),installCommon$1(a)}var ToolboxFeature=function(){function a(){}return a}(),features={};function registerFeature(a,n){features[a]=n}function getFeature(a){return features[a]}var ToolboxModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){a.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;each$f(this.option.feature,function(s,l){var u=getFeature(l);u&&(u.getDefaultOption&&(u.defaultOption=u.getDefaultOption(r)),merge(s,u.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(ComponentModel$1);const ToolboxModel$1=ToolboxModel;function layout(a,n,r){var s=n.getBoxLayoutParams(),l=n.get("padding"),u={width:r.getWidth(),height:r.getHeight()},c=getLayoutRect(s,u,l);box(n.get("orient"),a,n.get("itemGap"),c.width,c.height),positionElement(a,s,u,l)}function makeBackground(a,n){var r=normalizeCssArray(n.get("padding")),s=n.getItemStyle(["color","opacity"]);return s.fill=n.get("backgroundColor"),a=new Rect$3({shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[1]+r[3],height:a.height+r[0]+r[2],r:n.get("borderRadius")},style:s,silent:!0,z2:-1}),a}var ToolboxView=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.render=function(r,s,l,u){var c=this.group;if(c.removeAll(),!r.get("show"))return;var f=+r.get("itemSize"),d=r.get("orient")==="vertical",v=r.get("feature")||{},g=this._features||(this._features={}),y=[];each$f(v,function(x,A){y.push(A)}),new DataDiffer$1(this._featureNames||[],y).add(_).update(_).remove(curry$1(_,null)).execute(),this._featureNames=y;function _(x,A){var b=y[x],w=y[A],E=v[b],M=new Model$1(E,r,r.ecModel),P;if(u&&u.newTitle!=null&&u.featureName===b&&(E.title=u.newTitle),b&&!w){if(isUserFeatureName(b))P={onclick:M.option.onclick,featureName:b};else{var R=getFeature(b);if(!R)return;P=new R}g[b]=P}else if(P=g[w],!P)return;P.uid=getUID("toolbox-feature"),P.model=M,P.ecModel=s,P.api=l;var I=P instanceof ToolboxFeature;if(!b&&w){I&&P.dispose&&P.dispose(s,l);return}if(!M.get("show")||I&&P.unusable){I&&P.remove&&P.remove(s,l);return}S(M,P,b),M.setIconStatus=function(L,O){var N=this.option,B=this.iconPaths;N.iconStatus=N.iconStatus||{},N.iconStatus[L]=O,B[L]&&(O==="emphasis"?enterEmphasis:leaveEmphasis)(B[L])},P instanceof ToolboxFeature&&P.render&&P.render(M,s,l,u)}function S(x,A,b){var w=x.getModel("iconStyle"),E=x.getModel(["emphasis","iconStyle"]),M=A instanceof ToolboxFeature&&A.getIcons?A.getIcons():x.get("icon"),P=x.get("title")||{},R,I;isString(M)?(R={},R[b]=M):R=M,isString(P)?(I={},I[b]=P):I=P;var L=x.iconPaths={};each$f(R,function(O,N){var B=createIcon(O,{},{x:-f/2,y:-f/2,width:f,height:f});B.setStyle(w.getItemStyle());var F=B.ensureState("emphasis");F.style=E.getItemStyle();var V=new ZRText$1({style:{text:I[N],align:E.get("textAlign"),borderRadius:E.get("textBorderRadius"),padding:E.get("textPadding"),fill:null},ignore:!0});B.setTextContent(V),setTooltipConfig({el:B,componentModel:r,itemName:N,formatterParamsExtra:{title:I[N]}}),B.__title=I[N],B.on("mouseover",function(){var z=E.getItemStyle(),U=d?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";V.setStyle({fill:E.get("textFill")||z.fill||z.stroke||"#000",backgroundColor:E.get("textBackgroundColor")}),B.setTextConfig({position:E.get("textPosition")||U}),V.ignore=!r.get("showTitle"),l.enterEmphasis(this)}).on("mouseout",function(){x.get(["iconStatus",N])!=="emphasis"&&l.leaveEmphasis(this),V.hide()}),(x.get(["iconStatus",N])==="emphasis"?enterEmphasis:leaveEmphasis)(B),c.add(B),B.on("click",bind$1(A.onclick,A,s,l,N)),L[N]=B})}layout(c,r,l),c.add(makeBackground(c.getBoundingRect(),r)),d||c.eachChild(function(x){var A=x.__title,b=x.ensureState("emphasis"),w=b.textConfig||(b.textConfig={}),E=x.getTextContent(),M=E&&E.ensureState("emphasis");if(M&&!isFunction(M)&&A){var P=M.style||(M.style={}),R=getBoundingRect(A,ZRText$1.makeFont(P)),I=x.x+c.x,L=x.y+c.y+f,O=!1;L+R.height>l.getHeight()&&(w.position="top",O=!0);var N=O?-5-R.height:f+10;I+R.width/2>l.getWidth()?(w.position=["100%",N],P.align="right"):I-R.width/2<0&&(w.position=[0,N],P.align="left")}})},n.prototype.updateView=function(r,s,l,u){each$f(this._features,function(c){c instanceof ToolboxFeature&&c.updateView&&c.updateView(c.model,s,l,u)})},n.prototype.remove=function(r,s){each$f(this._features,function(l){l instanceof ToolboxFeature&&l.remove&&l.remove(r,s)}),this.group.removeAll()},n.prototype.dispose=function(r,s){each$f(this._features,function(l){l instanceof ToolboxFeature&&l.dispose&&l.dispose(r,s)})},n.type="toolbox",n}(ComponentView$1);function isUserFeatureName(a){return a.indexOf("my")===0}const ToolboxView$1=ToolboxView;var SaveAsImage=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.onclick=function(r,s){var l=this.model,u=l.get("name")||r.get("title.0.text")||"echarts",c=s.getZr().painter.getType()==="svg",f=c?"svg":l.get("type",!0)||"png",d=s.getConnectedDataURL({type:f,backgroundColor:l.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:l.get("connectedBackgroundColor"),excludeComponents:l.get("excludeComponents"),pixelRatio:l.get("pixelRatio")}),v=env$1.browser;if(isFunction(MouseEvent)&&(v.newEdge||!v.ie&&!v.edge)){var g=document.createElement("a");g.download=u+"."+f,g.target="_blank",g.href=d;var y=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});g.dispatchEvent(y)}else if(window.navigator.msSaveOrOpenBlob||c){var _=d.split(","),S=_[0].indexOf("base64")>-1,x=c?decodeURIComponent(_[1]):_[1];S&&(x=window.atob(x));var A=u+"."+f;if(window.navigator.msSaveOrOpenBlob){for(var b=x.length,w=new Uint8Array(b);b--;)w[b]=x.charCodeAt(b);var E=new Blob([w]);window.navigator.msSaveOrOpenBlob(E,A)}else{var M=document.createElement("iframe");document.body.appendChild(M);var P=M.contentWindow,R=P.document;R.open("image/svg+xml","replace"),R.write(x),R.close(),P.focus(),R.execCommand("SaveAs",!0,A),document.body.removeChild(M)}}else{var I=l.get("lang"),L='<body style="margin:0;"><img src="'+d+'" style="max-width:100%;" title="'+(I&&I[0]||"")+'" /></body>',O=window.open();O.document.write(L),O.document.title=u}},n.getDefaultOption=function(r){var s={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return s},n}(ToolboxFeature);const SaveAsImage$1=SaveAsImage;var INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.getIcons=function(){var r=this.model,s=r.get("icon"),l={};return each$f(r.get("type"),function(u){s[u]&&(l[u]=s[u])}),l},n.getDefaultOption=function(r){var s={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return s},n.prototype.onclick=function(r,s,l){var u=this.model,c=u.get(["seriesIndex",l]);if(!!seriesOptGenreator[l]){var f={series:[]},d=function(y){var _=y.subType,S=y.id,x=seriesOptGenreator[l](_,S,y,u);x&&(defaults(x,y.option),f.series.push(x));var A=y.coordinateSystem;if(A&&A.type==="cartesian2d"&&(l==="line"||l==="bar")){var b=A.getAxesByScale("ordinal")[0];if(b){var w=b.dim,E=w+"Axis",M=y.getReferringComponents(E,SINGLE_REFERRING).models[0],P=M.componentIndex;f[E]=f[E]||[];for(var R=0;R<=P;R++)f[E][P]=f[E][P]||{};f[E][P].boundaryGap=l==="bar"}}};each$f(radioTypes,function(y){indexOf(y,l)>=0&&each$f(y,function(_){u.setIconStatus(_,"normal")})}),u.setIconStatus(l,"emphasis"),r.eachComponent({mainType:"series",query:c==null?null:{seriesIndex:c}},d);var v,g=l;l==="stack"&&(v=merge({stack:u.option.title.tiled,tiled:u.option.title.stack},u.option.title),u.get(["iconStatus",l])!=="emphasis"&&(g="tiled")),s.dispatchAction({type:"changeMagicType",currentType:g,newOption:f,newTitle:v,featureName:"magicType"})}},n}(ToolboxFeature),seriesOptGenreator={line:function(a,n,r,s){if(a==="bar")return merge({id:n,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},s.get(["option","line"])||{},!0)},bar:function(a,n,r,s){if(a==="line")return merge({id:n,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},s.get(["option","bar"])||{},!0)},stack:function(a,n,r,s){var l=r.get("stack")===INNER_STACK_KEYWORD;if(a==="line"||a==="bar")return s.setIconStatus("stack",l?"normal":"emphasis"),merge({id:n,stack:l?"":INNER_STACK_KEYWORD},s.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,n){n.mergeOption(a.newOption)});const MagicType$1=MagicType;var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(a){var n={},r=[],s=[];return a.eachRawSeries(function(l){var u=l.coordinateSystem;if(u&&(u.type==="cartesian2d"||u.type==="polar")){var c=u.getBaseAxis();if(c.type==="category"){var f=c.dim+"_"+c.index;n[f]||(n[f]={categoryAxis:c,valueAxis:u.getOtherAxis(c),series:[]},s.push({axisDim:c.dim,axisIndex:c.index})),n[f].series.push(l)}else r.push(l)}else r.push(l)}),{seriesGroupByCategoryAxis:n,other:r,meta:s}}function assembleSeriesWithCategoryAxis(a){var n=[];return each$f(a,function(r,s){var l=r.categoryAxis,u=r.valueAxis,c=u.dim,f=[" "].concat(map$1(r.series,function(S){return S.name})),d=[l.model.getCategories()];each$f(r.series,function(S){var x=S.getRawData();d.push(S.getRawData().mapArray(x.mapDimension(c),function(A){return A}))});for(var v=[f.join(ITEM_SPLITER)],g=0;g<d[0].length;g++){for(var y=[],_=0;_<d.length;_++)y.push(d[_][g]);v.push(y.join(ITEM_SPLITER))}n.push(v.join(`
`))}),n.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(a){return map$1(a,function(n){var r=n.getRawData(),s=[n.name],l=[];return r.each(r.dimensions,function(){for(var u=arguments.length,c=arguments[u-1],f=r.getName(c),d=0;d<u-1;d++)l[d]=arguments[d];s.push((f?f+ITEM_SPLITER:"")+l.join(ITEM_SPLITER))}),s.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(a){var n=groupSeries(a);return{value:filter([assembleSeriesWithCategoryAxis(n.seriesGroupByCategoryAxis),assembleOtherSeries(n.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:n.meta}}function trim(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(a){var n=a.slice(0,a.indexOf(`
`));if(n.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(a){for(var n=a.split(/\n+/g),r=trim(n.shift()).split(itemSplitRegex),s=[],l=map$1(r,function(d){return{name:d,data:[]}}),u=0;u<n.length;u++){var c=trim(n[u]).split(itemSplitRegex);s.push(c.shift());for(var f=0;f<c.length;f++)l[f]&&(l[f].data[u]=c[f])}return{series:l,categories:s}}function parseListContents(a){for(var n=a.split(/\n+/g),r=trim(n.shift()),s=[],l=0;l<n.length;l++){var u=trim(n[l]);if(!!u){var c=u.split(itemSplitRegex),f="",d=void 0,v=!1;isNaN(c[0])?(v=!0,f=c[0],c=c.slice(1),s[l]={name:f,value:[]},d=s[l].value):d=s[l]=[];for(var g=0;g<c.length;g++)d.push(+c[g]);d.length===1&&(v?s[l].value=d[0]:s[l]=d[0])}}return{name:r,data:s}}function parseContents(a,n){var r=a.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),s={series:[]};return each$f(r,function(l,u){if(isTSVFormat(l)){var c=parseTSVContents(l),f=n[u],d=f.axisDim+"Axis";f&&(s[d]=s[d]||[],s[d][f.axisIndex]={data:c.categories},s.series=s.series.concat(c.series))}else{var c=parseListContents(l);s.series.push(c)}}),s}var DataView=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.onclick=function(r,s){setTimeout(function(){s.dispatchAction({type:"hideTip"})});var l=s.getDom(),u=this.model;this._dom&&l.removeChild(this._dom);var c=document.createElement("div");c.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",c.style.backgroundColor=u.get("backgroundColor")||"#fff";var f=document.createElement("h4"),d=u.get("lang")||[];f.innerHTML=d[0]||u.get("title"),f.style.cssText="margin:10px 20px",f.style.color=u.get("textColor");var v=document.createElement("div"),g=document.createElement("textarea");v.style.cssText="overflow:auto";var y=u.get("optionToContent"),_=u.get("contentToOption"),S=getContentFromModel(r);if(isFunction(y)){var x=y(s.getOption());isString(x)?v.innerHTML=x:isDom(x)&&v.appendChild(x)}else{g.readOnly=u.get("readOnly");var A=g.style;A.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",A.color=u.get("textColor"),A.borderColor=u.get("textareaBorderColor"),A.backgroundColor=u.get("textareaColor"),g.value=S.value,v.appendChild(g)}var b=S.meta,w=document.createElement("div");w.style.cssText="position:absolute;bottom:5px;left:0;right:0";var E="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",M=document.createElement("div"),P=document.createElement("div");E+=";background-color:"+u.get("buttonColor"),E+=";color:"+u.get("buttonTextColor");var R=this;function I(){l.removeChild(c),R._dom=null}addEventListener(M,"click",I),addEventListener(P,"click",function(){if(_==null&&y!=null||_!=null&&y==null){I();return}var L;try{isFunction(_)?L=_(v,s.getOption()):L=parseContents(g.value,b)}catch(O){throw I(),new Error("Data view format error "+O)}L&&s.dispatchAction({type:"changeDataView",newOption:L}),I()}),M.innerHTML=d[1],P.innerHTML=d[2],P.style.cssText=M.style.cssText=E,!u.get("readOnly")&&w.appendChild(P),w.appendChild(M),c.appendChild(f),c.appendChild(v),c.appendChild(w),v.style.height=l.clientHeight-80+"px",l.appendChild(c),this._dom=c},n.prototype.remove=function(r,s){this._dom&&s.getDom().removeChild(this._dom)},n.prototype.dispose=function(r,s){this.remove(r,s)},n.getDefaultOption=function(r){var s={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return s},n}(ToolboxFeature);function tryMergeDataOption(a,n){return map$1(a,function(r,s){var l=n&&n[s];if(isObject$3(l)&&!isArray$2(l)){var u=isObject$3(r)&&!isArray$2(r);u||(r={value:r});var c=l.name!=null&&r.name==null;return r=defaults(r,l),c&&delete r.name,r}else return r})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,n){var r=[];each$f(a.newOption.series,function(s){var l=n.getSeriesByName(s.name)[0];if(!l)r.push(extend({type:"scatter"},s));else{var u=l.get("data");r.push({name:s.name,data:tryMergeDataOption(s.data,u)})}}),n.mergeOption(defaults({series:r},a.newOption))});const DataView$1=DataView;var each$6=each$f,inner$6=makeInner();function push(a,n){var r=getStoreSnapshots(a);each$6(n,function(s,l){for(var u=r.length-1;u>=0;u--){var c=r[u];if(c[l])break}if(u<0){var f=a.queryComponents({mainType:"dataZoom",subType:"select",id:l})[0];if(f){var d=f.getPercentRange();r[0][l]={dataZoomId:l,start:d[0],end:d[1]}}}}),r.push(n)}function pop(a){var n=getStoreSnapshots(a),r=n[n.length-1];n.length>1&&n.pop();var s={};return each$6(r,function(l,u){for(var c=n.length-1;c>=0;c--)if(l=n[c][u],l){s[u]=l;break}}),s}function clear(a){inner$6(a).snapshots=null}function count(a){return getStoreSnapshots(a).length}function getStoreSnapshots(a){var n=inner$6(a);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var RestoreOption=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.onclick=function(r,s){clear(r),s.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(r){var s={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return s},n}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,n){n.resetOption("recreate")});const Restore=RestoreOption;var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function a(n,r,s){var l=this;this._targetInfoList=[];var u=parseFinder(r,n);each$f(targetInfoBuilders,function(c,f){(!s||!s.include||indexOf(s.include,f)>=0)&&c(u,l._targetInfoList)})}return a.prototype.setOutputRanges=function(n,r){return this.matchOutputRanges(n,r,function(s,l,u){if((s.coordRanges||(s.coordRanges=[])).push(l),!s.coordRange){s.coordRange=l;var c=coordConvert[s.brushType](0,u,l);s.__rangeOffset={offset:diffProcessor[s.brushType](c.values,s.range,[1,1]),xyMinMax:c.xyMinMax}}}),n},a.prototype.matchOutputRanges=function(n,r,s){each$f(n,function(l){var u=this.findTargetInfo(l,r);u&&u!==!0&&each$f(u.coordSyses,function(c){var f=coordConvert[l.brushType](1,c,l.range,!0);s(l,f.values,c,r)})},this)},a.prototype.setInputRanges=function(n,r){each$f(n,function(s){var l=this.findTargetInfo(s,r);if(s.range=s.range||[],l&&l!==!0){s.panelId=l.panelId;var u=coordConvert[s.brushType](0,l.coordSys,s.coordRange),c=s.__rangeOffset;s.range=c?diffProcessor[s.brushType](u.values,c.offset,getScales(u.xyMinMax,c.xyMinMax)):u.values}},this)},a.prototype.makePanelOpts=function(n,r){return map$1(this._targetInfoList,function(s){var l=s.getPanelRect();return{panelId:s.panelId,defaultBrushType:r?r(s):null,clipPath:makeRectPanelClipPath(l),isTargetByCursor:makeRectIsTargetByCursor(l,n,s.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(l)}})},a.prototype.controlSeries=function(n,r,s){var l=this.findTargetInfo(n,s);return l===!0||l&&indexOf(l.coordSyses,r.coordinateSystem)>=0},a.prototype.findTargetInfo=function(n,r){for(var s=this._targetInfoList,l=parseFinder(r,n),u=0;u<s.length;u++){var c=s[u],f=n.panelId;if(f){if(c.panelId===f)return c}else for(var d=0;d<targetInfoMatchers.length;d++)if(targetInfoMatchers[d](l,c))return c}return!0},a}();function formatMinMax(a){return a[0]>a[1]&&a.reverse(),a}function parseFinder(a,n){return parseFinder$1(a,n,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(a,n){var r=a.xAxisModels,s=a.yAxisModels,l=a.gridModels,u=createHashMap(),c={},f={};!r&&!s&&!l||(each$f(r,function(d){var v=d.axis.grid.model;u.set(v.id,v),c[v.id]=!0}),each$f(s,function(d){var v=d.axis.grid.model;u.set(v.id,v),f[v.id]=!0}),each$f(l,function(d){u.set(d.id,d),c[d.id]=!0,f[d.id]=!0}),u.each(function(d){var v=d.coordinateSystem,g=[];each$f(v.getCartesians(),function(y,_){(indexOf(r,y.getAxis("x").model)>=0||indexOf(s,y.getAxis("y").model)>=0)&&g.push(y)}),n.push({panelId:"grid--"+d.id,gridModel:d,coordSysModel:d,coordSys:g[0],coordSyses:g,getPanelRect:panelRectBuilders.grid,xAxisDeclared:c[d.id],yAxisDeclared:f[d.id]})}))},geo:function(a,n){each$f(a.geoModels,function(r){var s=r.coordinateSystem;n.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:s,coordSyses:[s],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(a,n){var r=a.xAxisModel,s=a.yAxisModel,l=a.gridModel;return!l&&r&&(l=r.axis.grid.model),!l&&s&&(l=s.axis.grid.model),l&&l===n.gridModel},function(a,n){var r=a.geoModel;return r&&r===n.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var a=this.coordSys,n=a.getBoundingRect().clone();return n.applyTransform(getTransform$1(a)),n}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(a,n,r,s){var l=a?n.pointToData([r[0][0],r[1][0]],s):n.dataToPoint([r[0][0],r[1][0]],s),u=a?n.pointToData([r[0][1],r[1][1]],s):n.dataToPoint([r[0][1],r[1][1]],s),c=[formatMinMax([l[0],u[0]]),formatMinMax([l[1],u[1]])];return{values:c,xyMinMax:c}},polygon:function(a,n,r,s){var l=[[1/0,-1/0],[1/0,-1/0]],u=map$1(r,function(c){var f=a?n.pointToData(c,s):n.dataToPoint(c,s);return l[0][0]=Math.min(l[0][0],f[0]),l[1][0]=Math.min(l[1][0],f[1]),l[0][1]=Math.max(l[0][1],f[0]),l[1][1]=Math.max(l[1][1],f[1]),f});return{values:u,xyMinMax:l}}};function axisConvert(a,n,r,s){var l=r.getAxis(["x","y"][a]),u=formatMinMax(map$1([0,1],function(f){return n?l.coordToData(l.toLocalCoord(s[f]),!0):l.toGlobalCoord(l.dataToCoord(s[f]))})),c=[];return c[a]=u,c[1-a]=[NaN,NaN],{values:u,xyMinMax:c}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(a,n,r){return[[a[0][0]-r[0]*n[0][0],a[0][1]-r[0]*n[0][1]],[a[1][0]-r[1]*n[1][0],a[1][1]-r[1]*n[1][1]]]},polygon:function(a,n,r){return map$1(a,function(s,l){return[s[0]-r[0]*n[l][0],s[1]-r[1]*n[l][1]]})}};function axisDiffProcessor(a,n,r,s){return[n[0]-s[a]*r[0],n[1]-s[a]*r[1]]}function getScales(a,n){var r=getSize(a),s=getSize(n),l=[r[0]/s[0],r[1]/s[1]];return isNaN(l[0])&&(l[0]=1),isNaN(l[1])&&(l[1]=1),l}function getSize(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}const BrushTargetManager$1=BrushTargetManager;var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.render=function(r,s,l,u){this._brushController||(this._brushController=new BrushController$1(l.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(r,s,this,u,l),updateBackBtnStatus(r,s)},n.prototype.onclick=function(r,s,l){handlers[l].call(this)},n.prototype.remove=function(r,s){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(r,s){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(r){var s=r.areas;if(!r.isEnd||!s.length)return;var l={},u=this.ecModel;this._brushController.updateCovers([]);var c=new BrushTargetManager$1(makeAxisFinder(this.model),u,{include:["grid"]});c.matchOutputRanges(s,u,function(v,g,y){if(y.type==="cartesian2d"){var _=v.brushType;_==="rect"?(f("x",y,g[0]),f("y",y,g[1])):f({lineX:"x",lineY:"y"}[_],y,g)}}),push(u,l),this._dispatchZoomAction(l);function f(v,g,y){var _=g.getAxis(v),S=_.model,x=d(v,S,u),A=x.findRepresentativeAxisProxy(S).getMinMaxSpan();(A.minValueSpan!=null||A.maxValueSpan!=null)&&(y=sliderMove(0,y.slice(),_.scale.getExtent(),0,A.minValueSpan,A.maxValueSpan)),x&&(l[x.id]={dataZoomId:x.id,startValue:y[0],endValue:y[1]})}function d(v,g,y){var _;return y.eachComponent({mainType:"dataZoom",subType:"select"},function(S){var x=S.getAxisModel(v,g.componentIndex);x&&(_=S)}),_}},n.prototype._dispatchZoomAction=function(r){var s=[];each$5(r,function(l,u){s.push(clone$4(l))}),s.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:s})},n.getDefaultOption=function(r){var s={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return s},n}(ToolboxFeature),handlers={zoom:function(){var a=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:a})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(a){var n={xAxisIndex:a.get("xAxisIndex",!0),yAxisIndex:a.get("yAxisIndex",!0),xAxisId:a.get("xAxisId",!0),yAxisId:a.get("yAxisId",!0)};return n.xAxisIndex==null&&n.xAxisId==null&&(n.xAxisIndex="all"),n.yAxisIndex==null&&n.yAxisId==null&&(n.yAxisIndex="all"),n}function updateBackBtnStatus(a,n){a.setIconStatus("back",count(n)>1?"emphasis":"normal")}function updateZoomBtnStatus(a,n,r,s,l){var u=r._isZoomActive;s&&s.type==="takeGlobalCursor"&&(u=s.key==="dataZoomSelect"?s.dataZoomSelectActive:!1),r._isZoomActive=u,a.setIconStatus("zoom",u?"emphasis":"normal");var c=new BrushTargetManager$1(makeAxisFinder(a),n,{include:["grid"]}),f=c.makePanelOpts(l,function(d){return d.xAxisDeclared&&!d.yAxisDeclared?"lineX":!d.xAxisDeclared&&d.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(f).enableBrush(u&&f.length?{brushType:"auto",brushStyle:a.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(a){var n=a.getComponent("toolbox",0),r=["feature","dataZoom"];if(!n||n.get(r)==null)return;var s=n.getModel(r),l=[],u=makeAxisFinder(s),c=parseFinder$1(a,u);each$5(c.xAxisModels,function(d){return f(d,"xAxis","xAxisIndex")}),each$5(c.yAxisModels,function(d){return f(d,"yAxis","yAxisIndex")});function f(d,v,g){var y=d.componentIndex,_={type:"select",$fromToolbox:!0,filterMode:s.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+v+y};_[g]=y,l.push(_)}return l});const DataZoom=DataZoomFeature;function install$j(a){a.registerComponentModel(ToolboxModel$1),a.registerComponentView(ToolboxView$1),registerFeature("saveAsImage",SaveAsImage$1),registerFeature("magicType",MagicType$1),registerFeature("dataView",DataView$1),registerFeature("dataZoom",DataZoom),registerFeature("restore",Restore),use(install$k)}var TooltipModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(a){var n=a.get("confine");return n!=null?!!n:a.get("renderMode")==="richText"}function testStyle(a){if(!!env$1.domSupported){for(var n=document.documentElement.style,r=0,s=a.length;r<s;r++)if(a[r]in n)return a[r]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(a,n){if(!a)return n;n=toCamelCase(n,!0);var r=a.indexOf(n);return a=r===-1?n:"-"+a.slice(0,r)+"-"+n,a.toLowerCase()}function getComputedStyle(a,n){var r=a.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(a);return r?n?r[n]:r:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(a){return a=a==="left"?"right":a==="right"?"left":a==="top"?"bottom":"top",a}function assembleArrow(a,n,r){if(!isString(r)||r==="inside")return"";var s=a.get("backgroundColor"),l=a.get("borderWidth");n=convertToColorString(n);var u=mirrorPos(r),c=Math.max(Math.round(l)*1.5,6),f="",d=CSS_TRANSFORM_VENDOR+":",v;indexOf(["left","right"],u)>-1?(f+="top:50%",d+="translateY(-50%) rotate("+(v=u==="left"?-225:-45)+"deg)"):(f+="left:50%",d+="translateX(-50%) rotate("+(v=u==="top"?225:45)+"deg)");var g=v*Math.PI/180,y=c+l,_=y*Math.abs(Math.cos(g))+y*Math.abs(Math.sin(g)),S=Math.round(((_-Math.SQRT2*l)/2+Math.SQRT2*l-(_-y)/2)*100)/100;f+=";"+u+":-"+S+"px";var x=n+" solid "+l+"px;",A=["position:absolute;width:"+c+"px;height:"+c+"px;z-index:-1;",f+";"+d+";","border-bottom:"+x,"border-right:"+x,"background-color:"+s+";"];return'<div style="'+A.join("")+'"></div>'}function assembleTransition(a,n){var r="cubic-bezier(0.23,1,0.32,1)",s=" "+a/2+"s "+r,l="opacity"+s+",visibility"+s;return n||(s=" "+a+"s "+r,l+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+s:",left"+s+",top"+s),CSS_TRANSITION_VENDOR+":"+l}function assembleTransform(a,n,r){var s=a.toFixed(0)+"px",l=n.toFixed(0)+"px";if(!env$1.transformSupported)return r?"top:"+l+";left:"+s+";":[["top",l],["left",s]];var u=env$1.transform3dSupported,c="translate"+(u?"3d":"")+"("+s+","+l+(u?",0":"")+")";return r?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+c+";":[["top",0],["left",0],[TRANSFORM_VENDOR,c]]}function assembleFont(a){var n=[],r=a.get("fontSize"),s=a.getTextColor();s&&n.push("color:"+s),n.push("font:"+a.getFont()),r&&n.push("line-height:"+Math.round(r*3/2)+"px");var l=a.get("textShadowColor"),u=a.get("textShadowBlur")||0,c=a.get("textShadowOffsetX")||0,f=a.get("textShadowOffsetY")||0;return l&&u&&n.push("text-shadow:"+c+"px "+f+"px "+u+"px "+l),each$f(["decoration","align"],function(d){var v=a.get(d);v&&n.push("text-"+d+":"+v)}),n.join(";")}function assembleCssText(a,n,r){var s=[],l=a.get("transitionDuration"),u=a.get("backgroundColor"),c=a.get("shadowBlur"),f=a.get("shadowColor"),d=a.get("shadowOffsetX"),v=a.get("shadowOffsetY"),g=a.getModel("textStyle"),y=getPaddingFromTooltipModel(a,"html"),_=d+"px "+v+"px "+c+"px "+f;return s.push("box-shadow:"+_),n&&l&&s.push(assembleTransition(l,r)),u&&s.push("background-color:"+u),each$f(["width","color","radius"],function(S){var x="border-"+S,A=toCamelCase(x),b=a.get(A);b!=null&&s.push(x+":"+b+(S==="color"?"":"px"))}),s.push(assembleFont(g)),y!=null&&s.push("padding:"+normalizeCssArray(y).join("px ")+"px"),s.join(";")+";"}function makeStyleCoord$1(a,n,r,s,l){var u=n&&n.painter;if(r){var c=u&&u.getViewportRoot();c&&transformLocalCoord(a,c,document.body,s,l)}else{a[0]=s,a[1]=l;var f=u&&u.getViewportRootOffset();f&&(a[0]+=f.offsetLeft,a[1]+=f.offsetTop)}a[2]=a[0]/n.getWidth(),a[3]=a[1]/n.getHeight()}var TooltipHTMLContent=function(){function a(n,r,s){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var l=document.createElement("div");l.domBelongToZr=!0,this.el=l;var u=this._zr=r.getZr(),c=this._appendToBody=s&&s.appendToBody;makeStyleCoord$1(this._styleCoord,u,c,r.getWidth()/2,r.getHeight()/2),c?document.body.appendChild(l):n.appendChild(l),this._container=n;var f=this;l.onmouseenter=function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0},l.onmousemove=function(d){if(d=d||window.event,!f._enterable){var v=u.handler,g=u.painter.getViewportRoot();normalizeEvent(g,d,!0),v.dispatch("mousemove",d)}},l.onmouseleave=function(){f._inContent=!1,f._enterable&&f._show&&f.hideLater(f._hideDelay)}}return a.prototype.update=function(n){var r=this._container,s=getComputedStyle(r,"position"),l=r.style;l.position!=="absolute"&&s!=="absolute"&&(l.position="relative");var u=n.get("alwaysShowContent");u&&this._moveIfResized(),this.el.className=n.get("className")||""},a.prototype.show=function(n,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var s=this.el,l=s.style,u=this._styleCoord;s.innerHTML?l.cssText=gCssText+assembleCssText(n,!this._firstShow,this._longHide)+assembleTransform(u[0],u[1],!0)+("border-color:"+convertToColorString(r)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):l.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},a.prototype.setContent=function(n,r,s,l,u){var c=this.el;if(n==null){c.innerHTML="";return}var f="";if(isString(u)&&s.get("trigger")==="item"&&!shouldTooltipConfine(s)&&(f=assembleArrow(s,l,u)),isString(n))c.innerHTML=n+f;else if(n){c.innerHTML="",isArray$2(n)||(n=[n]);for(var d=0;d<n.length;d++)isDom(n[d])&&n[d].parentNode!==c&&c.appendChild(n[d]);if(f&&c.childNodes.length){var v=document.createElement("div");v.innerHTML=f,c.appendChild(v)}}},a.prototype.setEnterable=function(n){this._enterable=n},a.prototype.getSize=function(){var n=this.el;return[n.offsetWidth,n.offsetHeight]},a.prototype.moveTo=function(n,r){var s=this._styleCoord;if(makeStyleCoord$1(s,this._zr,this._appendToBody,n,r),s[0]!=null&&s[1]!=null){var l=this.el.style,u=assembleTransform(s[0],s[1]);each$f(u,function(c){l[c[0]]=c[1]})}},a.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},a.prototype.hide=function(){var n=this,r=this.el.style;r.visibility="hidden",r.opacity="0",env$1.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},a.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},a}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function a(n){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=n.getZr(),makeStyleCoord(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return a.prototype.update=function(n){var r=n.get("alwaysShowContent");r&&this._moveIfResized()},a.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},a.prototype.setContent=function(n,r,s,l,u){var c=this;isObject$3(n)&&throwError(""),this.el&&this._zr.remove(this.el);var f=s.getModel("textStyle");this.el=new ZRText$1({style:{rich:r.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:l,textShadowColor:f.get("textShadowColor"),fill:s.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(s,"richText"),verticalAlign:"top",align:"left"},z:s.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(v){c.el.style[v]=s.get(v)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(v){c.el.style[v]=f.get(v)||0}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},a.prototype.setEnterable=function(n){this._enterable=n},a.prototype.getSize=function(){var n=this.el,r=this.el.getBoundingRect(),s=calcShadowOuterSize(n.style);return[r.width+s.left+s.right,r.height+s.top+s.bottom]},a.prototype.moveTo=function(n,r){var s=this.el;if(s){var l=this._styleCoord;makeStyleCoord(l,this._zr,n,r),n=l[0],r=l[1];var u=s.style,c=mathMaxWith0(u.borderWidth||0),f=calcShadowOuterSize(u);s.x=n+c+f.left,s.y=r+c+f.top,s.markRedraw()}},a.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},a.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},a.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},a.prototype.isShow=function(){return this._show},a.prototype.dispose=function(){this._zr.remove(this.el)},a}();function mathMaxWith0(a){return Math.max(0,a)}function calcShadowOuterSize(a){var n=mathMaxWith0(a.shadowBlur||0),r=mathMaxWith0(a.shadowOffsetX||0),s=mathMaxWith0(a.shadowOffsetY||0);return{left:mathMaxWith0(n-r),right:mathMaxWith0(n+r),top:mathMaxWith0(n-s),bottom:mathMaxWith0(n+s)}}function makeStyleCoord(a,n,r,s){a[0]=r,a[1]=s,a[2]=a[0]/n.getWidth(),a[3]=a[1]/n.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$3({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,s){if(!(env$1.node||!s.getDom())){var l=r.getComponent("tooltip"),u=this._renderMode=getTooltipRenderMode(l.get("renderMode"));this._tooltipContent=u==="richText"?new TooltipRichContent$1(s):new TooltipHTMLContent$1(s.getDom(),s,{appendToBody:l.get("appendToBody",!0)})}},n.prototype.render=function(r,s,l){if(!(env$1.node||!l.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=s,this._api=l,this._alwaysShowContent=r.get("alwaysShowContent");var u=this._tooltipContent;u.update(r),u.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var r=this._tooltipModel,s=r.get("triggerOn");register("itemTooltip",this._api,bind$1(function(l,u,c){s!=="none"&&(s.indexOf(l)>=0?this._tryShow(u,c):l==="leave"&&this._hide(c))},this))},n.prototype._keepShow=function(){var r=this._tooltipModel,s=this._ecModel,l=this._api,u=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&u!=="none"&&u!=="click"){var c=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!l.isDisposed()&&c.manuallyShowTip(r,s,l,{x:c._lastX,y:c._lastY,dataByCoordSys:c._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(r,s,l,u){if(!(u.from===this.uid||env$1.node||!l.getDom())){var c=makeDispatchAction(u,l);this._ticket="";var f=u.dataByCoordSys,d=findComponentReference(u,s,l);if(d){var v=d.el.getBoundingRect().clone();v.applyTransform(d.el.transform),this._tryShow({offsetX:v.x+v.width/2,offsetY:v.y+v.height/2,target:d.el,position:u.position,positionDefault:"bottom"},c)}else if(u.tooltip&&u.x!=null&&u.y!=null){var g=proxyRect;g.x=u.x,g.y=u.y,g.update(),getECData(g).tooltipConfig={name:null,option:u.tooltip},this._tryShow({offsetX:u.x,offsetY:u.y,target:g},c)}else if(f)this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,dataByCoordSys:f,tooltipOption:u.tooltipOption},c);else if(u.seriesIndex!=null){if(this._manuallyAxisShowTip(r,s,l,u))return;var y=findPointFromSeries(u,s),_=y.point[0],S=y.point[1];_!=null&&S!=null&&this._tryShow({offsetX:_,offsetY:S,target:y.el,position:u.position,positionDefault:"bottom"},c)}else u.x!=null&&u.y!=null&&(l.dispatchAction({type:"updateAxisPointer",x:u.x,y:u.y}),this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,target:l.getZr().findHover(u.x,u.y).target},c))}},n.prototype.manuallyHideTip=function(r,s,l,u){var c=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&c.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,u.from!==this.uid&&this._hide(makeDispatchAction(u,l))},n.prototype._manuallyAxisShowTip=function(r,s,l,u){var c=u.seriesIndex,f=u.dataIndex,d=s.getComponent("axisPointer").coordSysAxesInfo;if(!(c==null||f==null||d==null)){var v=s.getSeriesByIndex(c);if(!!v){var g=v.getData(),y=buildTooltipModel([g.getItemModel(f),v,(v.coordinateSystem||{}).model],this._tooltipModel);if(y.get("trigger")==="axis")return l.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:f,position:u.position}),!0}}},n.prototype._tryShow=function(r,s){var l=r.target,u=this._tooltipModel;if(!!u){this._lastX=r.offsetX,this._lastY=r.offsetY;var c=r.dataByCoordSys;if(c&&c.length)this._showAxisTooltip(c,r);else if(l){this._lastDataByCoordSys=null;var f,d;findEventDispatcher(l,function(v){if(getECData(v).dataIndex!=null)return f=v,!0;if(getECData(v).tooltipConfig!=null)return d=v,!0},!0),f?this._showSeriesItemTooltip(r,f,s):d?this._showComponentItemTooltip(r,d,s):this._hide(s)}else this._lastDataByCoordSys=null,this._hide(s)}},n.prototype._showOrMove=function(r,s){var l=r.get("showDelay");s=bind$1(s,this),clearTimeout(this._showTimout),l>0?this._showTimout=setTimeout(s,l):s()},n.prototype._showAxisTooltip=function(r,s){var l=this._ecModel,u=this._tooltipModel,c=[s.offsetX,s.offsetY],f=buildTooltipModel([s.tooltipOption],u),d=this._renderMode,v=[],g=createTooltipMarkup("section",{blocks:[],noHeader:!0}),y=[],_=new TooltipMarkupStyleCreator;each$f(r,function(E){each$f(E.dataByAxis,function(M){var P=l.getComponent(M.axisDim+"Axis",M.axisIndex),R=M.value;if(!(!P||R==null)){var I=getValueLabel(R,P.axis,l,M.seriesDataIndices,M.valueLabelOpt),L=createTooltipMarkup("section",{header:I,noHeader:!trim$1(I),sortBlocks:!0,blocks:[]});g.blocks.push(L),each$f(M.seriesDataIndices,function(O){var N=l.getSeriesByIndex(O.seriesIndex),B=O.dataIndexInside,F=N.getDataParams(B);if(!(F.dataIndex<0)){F.axisDim=M.axisDim,F.axisIndex=M.axisIndex,F.axisType=M.axisType,F.axisId=M.axisId,F.axisValue=getAxisRawValue(P.axis,{value:R}),F.axisValueLabel=I,F.marker=_.makeTooltipMarker("item",convertToColorString(F.color),d);var V=normalizeTooltipFormatResult(N.formatTooltip(B,!0,null)),z=V.frag;if(z){var U=buildTooltipModel([N],u).get("valueFormatter");L.blocks.push(U?extend({valueFormatter:U},z):z)}V.text&&y.push(V.text),v.push(F)}})}})}),g.blocks.reverse(),y.reverse();var S=s.position,x=f.get("order"),A=buildTooltipMarkup(g,_,d,x,l.get("useUTC"),f.get("textStyle"));A&&y.unshift(A);var b=d==="richText"?`

`:"<br/>",w=y.join(b);this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(r,v)?this._updatePosition(f,S,c[0],c[1],this._tooltipContent,v):this._showTooltipContent(f,w,v,Math.random()+"",c[0],c[1],S,null,_)})},n.prototype._showSeriesItemTooltip=function(r,s,l){var u=this._ecModel,c=getECData(s),f=c.seriesIndex,d=u.getSeriesByIndex(f),v=c.dataModel||d,g=c.dataIndex,y=c.dataType,_=v.getData(y),S=this._renderMode,x=r.positionDefault,A=buildTooltipModel([_.getItemModel(g),v,d&&(d.coordinateSystem||{}).model],this._tooltipModel,x?{position:x}:null),b=A.get("trigger");if(!(b!=null&&b!=="item")){var w=v.getDataParams(g,y),E=new TooltipMarkupStyleCreator;w.marker=E.makeTooltipMarker("item",convertToColorString(w.color),S);var M=normalizeTooltipFormatResult(v.formatTooltip(g,!1,y)),P=A.get("order"),R=A.get("valueFormatter"),I=M.frag,L=I?buildTooltipMarkup(R?extend({valueFormatter:R},I):I,E,S,P,u.get("useUTC"),A.get("textStyle")):M.text,O="item_"+v.name+"_"+g;this._showOrMove(A,function(){this._showTooltipContent(A,L,w,O,r.offsetX,r.offsetY,r.position,r.target,E)}),l({type:"showTip",dataIndexInside:g,dataIndex:_.getRawIndex(g),seriesIndex:f,from:this.uid})}},n.prototype._showComponentItemTooltip=function(r,s,l){var u=getECData(s),c=u.tooltipConfig,f=c.option||{};if(isString(f)){var d=f;f={content:d,formatter:d}}var v=[f],g=this._ecModel.getComponent(u.componentMainType,u.componentIndex);g&&v.push(g),v.push({formatter:f.content});var y=r.positionDefault,_=buildTooltipModel(v,this._tooltipModel,y?{position:y}:null),S=_.get("content"),x=Math.random()+"",A=new TooltipMarkupStyleCreator;this._showOrMove(_,function(){var b=clone$4(_.get("formatterParams")||{});this._showTooltipContent(_,S,b,x,r.offsetX,r.offsetY,r.position,s,A)}),l({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(r,s,l,u,c,f,d,v,g){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var y=this._tooltipContent;y.setEnterable(r.get("enterable"));var _=r.get("formatter");d=d||r.get("position");var S=s,x=this._getNearestPoint([c,f],l,r.get("trigger"),r.get("borderColor")),A=x.color;if(_)if(isString(_)){var b=r.ecModel.get("useUTC"),w=isArray$2(l)?l[0]:l,E=w&&w.axisType&&w.axisType.indexOf("time")>=0;S=_,E&&(S=format(w.axisValue,S,b)),S=formatTpl(S,l,!0)}else if(isFunction(_)){var M=bind$1(function(P,R){P===this._ticket&&(y.setContent(R,g,r,A,d),this._updatePosition(r,d,c,f,y,l,v))},this);this._ticket=u,S=_(l,u,M)}else S=_;y.setContent(S,g,r,A,d),y.show(r,A),this._updatePosition(r,d,c,f,y,l,v)}},n.prototype._getNearestPoint=function(r,s,l,u){if(l==="axis"||isArray$2(s))return{color:u||(this._renderMode==="html"?"#fff":"none")};if(!isArray$2(s))return{color:u||s.color||s.borderColor}},n.prototype._updatePosition=function(r,s,l,u,c,f,d){var v=this._api.getWidth(),g=this._api.getHeight();s=s||r.get("position");var y=c.getSize(),_=r.get("align"),S=r.get("verticalAlign"),x=d&&d.getBoundingRect().clone();if(d&&x.applyTransform(d.transform),isFunction(s)&&(s=s([l,u],f,c.el,x,{viewSize:[v,g],contentSize:y.slice()})),isArray$2(s))l=parsePercent(s[0],v),u=parsePercent(s[1],g);else if(isObject$3(s)){var A=s;A.width=y[0],A.height=y[1];var b=getLayoutRect(A,{width:v,height:g});l=b.x,u=b.y,_=null,S=null}else if(isString(s)&&d){var w=calcTooltipPosition(s,x,y,r.get("borderWidth"));l=w[0],u=w[1]}else{var w=refixTooltipPosition(l,u,c,v,g,_?null:20,S?null:20);l=w[0],u=w[1]}if(_&&(l-=isCenterAlign(_)?y[0]/2:_==="right"?y[0]:0),S&&(u-=isCenterAlign(S)?y[1]/2:S==="bottom"?y[1]:0),shouldTooltipConfine(r)){var w=confineTooltipPosition(l,u,c,v,g);l=w[0],u=w[1]}c.moveTo(l,u)},n.prototype._updateContentNotChangedOnAxis=function(r,s){var l=this._lastDataByCoordSys,u=this._cbParamsList,c=!!l&&l.length===r.length;return c&&each$f(l,function(f,d){var v=f.dataByAxis||[],g=r[d]||{},y=g.dataByAxis||[];c=c&&v.length===y.length,c&&each$f(v,function(_,S){var x=y[S]||{},A=_.seriesDataIndices||[],b=x.seriesDataIndices||[];c=c&&_.value===x.value&&_.axisType===x.axisType&&_.axisId===x.axisId&&A.length===b.length,c&&each$f(A,function(w,E){var M=b[E];c=c&&w.seriesIndex===M.seriesIndex&&w.dataIndex===M.dataIndex}),u&&each$f(_.seriesDataIndices,function(w){var E=w.seriesIndex,M=s[E],P=u[E];M&&P&&P.data!==M.data&&(c=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=s,!!c},n.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},n.prototype.dispose=function(r,s){env$1.node||!s.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",s))},n.type="tooltip",n}(ComponentView$1);function buildTooltipModel(a,n,r){var s=n.ecModel,l;r?(l=new Model$1(r,s,s),l=new Model$1(n.option,l,s)):l=n;for(var u=a.length-1;u>=0;u--){var c=a[u];c&&(c instanceof Model$1&&(c=c.get("tooltip",!0)),isString(c)&&(c={formatter:c}),c&&(l=new Model$1(c,l,s)))}return l}function makeDispatchAction(a,n){return a.dispatchAction||bind$1(n.dispatchAction,n)}function refixTooltipPosition(a,n,r,s,l,u,c){var f=r.getSize(),d=f[0],v=f[1];return u!=null&&(a+d+u+2>s?a-=d+u:a+=u),c!=null&&(n+v+c>l?n-=v+c:n+=c),[a,n]}function confineTooltipPosition(a,n,r,s,l){var u=r.getSize(),c=u[0],f=u[1];return a=Math.min(a+c,s)-c,n=Math.min(n+f,l)-f,a=Math.max(a,0),n=Math.max(n,0),[a,n]}function calcTooltipPosition(a,n,r,s){var l=r[0],u=r[1],c=Math.ceil(Math.SQRT2*s)+8,f=0,d=0,v=n.width,g=n.height;switch(a){case"inside":f=n.x+v/2-l/2,d=n.y+g/2-u/2;break;case"top":f=n.x+v/2-l/2,d=n.y-u-c;break;case"bottom":f=n.x+v/2-l/2,d=n.y+g+c;break;case"left":f=n.x-l-c,d=n.y+g/2-u/2;break;case"right":f=n.x+v+c,d=n.y+g/2-u/2}return[f,d]}function isCenterAlign(a){return a==="center"||a==="middle"}function findComponentReference(a,n,r){var s=preParseFinder(a).queryOptionMap,l=s.keys()[0];if(!(!l||l==="series")){var u=queryReferringComponents(n,l,s.get(l),{useDefault:!1,enableAll:!1,enableNone:!1}),c=u.models[0];if(!!c){var f=r.getViewOfComponentModel(c),d;if(f.group.traverse(function(v){var g=getECData(v).tooltipConfig;if(g&&g.name===a.name)return d=v,!0}),d)return{componentMainType:l,componentIndex:c.componentIndex,el:d}}}}const TooltipView$1=TooltipView;function install$i(a){use(install$q),a.registerComponentModel(TooltipModel$1),a.registerComponentView(TooltipView$1),a.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop$1),a.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop$1)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(a,n){var r=normalizeToArray(a?a.brush:[]);if(!!r.length){var s=[];each$f(r,function(d){var v=d.hasOwnProperty("toolbox")?d.toolbox:[];v instanceof Array&&(s=s.concat(v))});var l=a&&a.toolbox;isArray$2(l)&&(l=l[0]),l||(l={feature:{}},a.toolbox=[l]);var u=l.feature||(l.feature={}),c=u.brush||(u.brush={}),f=c.type||(c.type=[]);f.push.apply(f,s),removeDuplicate(f),n&&!f.length&&f.push.apply(f,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(a){var n={};each$f(a,function(r){n[r]=1}),a.length=0,each$f(n,function(r,s){a.push(s)})}var each$4=each$f;function hasKeys(a){if(a){for(var n in a)if(a.hasOwnProperty(n))return!0}}function createVisualMappings(a,n,r){var s={};return each$4(n,function(u){var c=s[u]=l();each$4(a[u],function(f,d){if(!!VisualMapping$1.isValidType(d)){var v={type:d,visual:f};r&&r(v,u),c[d]=new VisualMapping$1(v),d==="opacity"&&(v=clone$4(v),v.type="colorAlpha",c.__hidden.__alphaForOpacity=new VisualMapping$1(v))}})}),s;function l(){var u=function(){};u.prototype.__hidden=u.prototype;var c=new u;return c}}function replaceVisualOption(a,n,r){var s;each$f(r,function(l){n.hasOwnProperty(l)&&hasKeys(n[l])&&(s=!0)}),s&&each$f(r,function(l){n.hasOwnProperty(l)&&hasKeys(n[l])?a[l]=clone$4(n[l]):delete a[l]})}function applyVisual(a,n,r,s,l,u){var c={};each$f(a,function(y){var _=VisualMapping$1.prepareVisualTypes(n[y]);c[y]=_});var f;function d(y){return getItemVisualFromData(r,f,y)}function v(y,_){setItemVisualFromData(r,f,y,_)}u==null?r.each(g):r.each([u],g);function g(y,_){f=u==null?y:_;var S=r.getRawDataItem(f);if(!(S&&S.visualMap===!1))for(var x=s.call(l,y),A=n[x],b=c[x],w=0,E=b.length;w<E;w++){var M=b[w];A[M]&&A[M].applyVisual(y,d,v)}}}function incrementalApplyVisual(a,n,r,s){var l={};return each$f(a,function(u){var c=VisualMapping$1.prepareVisualTypes(n[u]);l[u]=c}),{progress:function(c,f){var d;s!=null&&(d=f.getDimensionIndex(s));function v(R){return getItemVisualFromData(f,y,R)}function g(R,I){setItemVisualFromData(f,y,R,I)}for(var y,_=f.getStore();(y=c.next())!=null;){var S=f.getRawDataItem(y);if(!(S&&S.visualMap===!1))for(var x=s!=null?_.get(d,y):y,A=r(x),b=n[A],w=l[A],E=0,M=w.length;E<M;E++){var P=w[E];b[P]&&b[P].applyVisual(x,v,g)}}}}}function makeBrushCommonSelectorForSeries(a){var n=a.brushType,r={point:function(s){return selector[n].point(s,r,a)},rect:function(s){return selector[n].rect(s,r,a)}};return r}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(a,n,r){return a&&r.boundingRect.contain(a[0],a[1])},rect:function(a,n,r){return a&&r.boundingRect.intersect(a)}},polygon:{point:function(a,n,r){return a&&r.boundingRect.contain(a[0],a[1])&&contain(r.range,a[0],a[1])},rect:function(a,n,r){var s=r.range;if(!a||s.length<=1)return!1;var l=a.x,u=a.y,c=a.width,f=a.height,d=s[0];if(contain(s,l,u)||contain(s,l+c,u)||contain(s,l,u+f)||contain(s,l+c,u+f)||BoundingRect$1.create(a).contain(d[0],d[1])||linePolygonIntersect(l,u,l+c,u,s)||linePolygonIntersect(l,u,l,u+f,s)||linePolygonIntersect(l+c,u,l+c,u+f,s)||linePolygonIntersect(l,u+f,l+c,u+f,s))return!0}}};function getLineSelectors(a){var n=["x","y"],r=["width","height"];return{point:function(s,l,u){if(s){var c=u.range,f=s[a];return inLineRange(f,c)}},rect:function(s,l,u){if(s){var c=u.range,f=[s[n[a]],s[n[a]]+s[r[a]]];return f[1]<f[0]&&f.reverse(),inLineRange(f[0],c)||inLineRange(f[1],c)||inLineRange(c[0],f)||inLineRange(c[1],f)}}}}function inLineRange(a,n){return n[0]<=a&&a<=n[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(a){a.eachComponent({mainType:"brush"},function(n){var r=n.brushTargetManager=new BrushTargetManager$1(n.option,a);r.setInputRanges(n.areas,a)})}function brushVisual(a,n,r){var s=[],l,u;a.eachComponent({mainType:"brush"},function(c){r&&r.type==="takeGlobalCursor"&&c.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),layoutCovers(a),a.eachComponent({mainType:"brush"},function(c,f){var d={brushId:c.id,brushIndex:f,brushName:c.name,areas:clone$4(c.areas),selected:[]};s.push(d);var v=c.option,g=v.brushLink,y=[],_=[],S=[],x=!1;f||(l=v.throttleType,u=v.throttleDelay);var A=map$1(c.areas,function(R){var I=boundingRectBuilders[R.brushType],L=defaults({boundingRect:I?I(R):void 0},R);return L.selectors=makeBrushCommonSelectorForSeries(L),L}),b=createVisualMappings(c.option,STATE_LIST,function(R){R.mappingMethod="fixed"});isArray$2(g)&&each$f(g,function(R){y[R]=1});function w(R){return g==="all"||!!y[R]}function E(R){return!!R.length}a.eachSeries(function(R,I){var L=S[I]=[];R.subType==="parallel"?M(R,I):P(R,I,L)});function M(R,I){var L=R.coordinateSystem;x=x||L.hasAxisBrushed(),w(I)&&L.eachActiveState(R.getData(),function(O,N){O==="active"&&(_[N]=1)})}function P(R,I,L){if(!(!R.brushSelector||brushModelNotControll(c,I))&&(each$f(A,function(N){c.brushTargetManager.controlSeries(N,R,a)&&L.push(N),x=x||E(L)}),w(I)&&E(L))){var O=R.getData();O.each(function(N){checkInRange(R,L,O,N)&&(_[N]=1)})}}a.eachSeries(function(R,I){var L={seriesId:R.id,seriesIndex:I,seriesName:R.name,dataIndex:[]};d.selected.push(L);var O=S[I],N=R.getData(),B=w(I)?function(F){return _[F]?(L.dataIndex.push(N.getRawIndex(F)),"inBrush"):"outOfBrush"}:function(F){return checkInRange(R,O,N,F)?(L.dataIndex.push(N.getRawIndex(F)),"inBrush"):"outOfBrush"};(w(I)?x:E(O))&&applyVisual(STATE_LIST,b,N,B)})}),dispatchAction$1(n,l,u,s,r)}function dispatchAction$1(a,n,r,s,l){if(!!l){var u=a.getZr();if(!u[DISPATCH_FLAG]){u[DISPATCH_METHOD]||(u[DISPATCH_METHOD]=doDispatch);var c=createOrUpdate(u,DISPATCH_METHOD,r,n);c(a,s)}}}function doDispatch(a,n){if(!a.isDisposed()){var r=a.getZr();r[DISPATCH_FLAG]=!0,a.dispatchAction({type:"brushSelect",batch:n}),r[DISPATCH_FLAG]=!1}}function checkInRange(a,n,r,s){for(var l=0,u=n.length;l<u;l++){var c=n[l];if(a.brushSelector(s,r,c.selectors,c))return!0}}function brushModelNotControll(a,n){var r=a.option.seriesIndex;return r!=null&&r!=="all"&&(isArray$2(r)?indexOf(r,n)<0:n!==r)}var boundingRectBuilders={rect:function(a){return getBoundingRectFromMinMax(a.range)},polygon:function(a){for(var n,r=a.range,s=0,l=r.length;s<l;s++){n=n||[[1/0,-1/0],[1/0,-1/0]];var u=r[s];u[0]<n[0][0]&&(n[0][0]=u[0]),u[0]>n[0][1]&&(n[0][1]=u[0]),u[1]<n[1][0]&&(n[1][0]=u[1]),u[1]>n[1][1]&&(n[1][1]=u[1])}return n&&getBoundingRectFromMinMax(n)}};function getBoundingRectFromMinMax(a){return new BoundingRect$1(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}var BrushView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,s){this.ecModel=r,this.api=s,this.model,(this._brushController=new BrushController$1(s.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},n.prototype.render=function(r,s,l,u){this.model=r,this._updateController(r,s,l,u)},n.prototype.updateTransform=function(r,s,l,u){layoutCovers(s),this._updateController(r,s,l,u)},n.prototype.updateVisual=function(r,s,l,u){this.updateTransform(r,s,l,u)},n.prototype.updateView=function(r,s,l,u){this._updateController(r,s,l,u)},n.prototype._updateController=function(r,s,l,u){(!u||u.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(l)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(r){var s=this.model.id,l=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:s,areas:clone$4(l),$from:s}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:s,areas:clone$4(l),$from:s})},n.type="brush",n}(ComponentView$1);const BrushView$1=BrushView;var DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.areas=[],r.brushOption={},r}return n.prototype.optionUpdated=function(r,s){var l=this.option;!s&&replaceVisualOption(l,r,["inBrush","outOfBrush"]);var u=l.inBrush=l.inBrush||{};l.outOfBrush=l.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},u.hasOwnProperty("liftZ")||(u.liftZ=5)},n.prototype.setAreas=function(r){!r||(this.areas=map$1(r,function(s){return generateBrushOption(this.option,s)},this))},n.prototype.setBrushOption=function(r){this.brushOption=generateBrushOption(this.option,r),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},n}(ComponentModel$1);function generateBrushOption(a,n){return merge({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:new Model$1(a.brushStyle).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},n,!0)}const BrushModel$1=BrushModel;var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(a){__extends(n,a);function n(){return a!==null&&a.apply(this,arguments)||this}return n.prototype.render=function(r,s,l){var u,c,f;s.eachComponent({mainType:"brush"},function(d){u=d.brushType,c=d.brushOption.brushMode||"single",f=f||!!d.areas.length}),this._brushType=u,this._brushMode=c,each$f(r.get("type",!0),function(d){r.setIconStatus(d,(d==="keep"?c==="multiple":d==="clear"?f:d===u)?"emphasis":"normal")})},n.prototype.updateView=function(r,s,l){this.render(r,s,l)},n.prototype.getIcons=function(){var r=this.model,s=r.get("icon",!0),l={};return each$f(r.get("type",!0),function(u){s[u]&&(l[u]=s[u])}),l},n.prototype.onclick=function(r,s,l){var u=this._brushType,c=this._brushMode;l==="clear"?(s.dispatchAction({type:"axisAreaSelect",intervals:[]}),s.dispatchAction({type:"brush",command:"clear",areas:[]})):s.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:l==="keep"?u:u===l?!1:l,brushMode:l==="keep"?c==="multiple"?"single":"multiple":c}})},n.getDefaultOption=function(r){var s={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return s},n}(ToolboxFeature);const BrushFeature$1=BrushFeature;function install$h(a){a.registerComponentView(BrushView$1),a.registerComponentModel(BrushModel$1),a.registerPreprocessor(brushPreprocessor),a.registerVisual(a.PRIORITY.VISUAL.BRUSH,brushVisual),a.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(n,r){r.eachComponent({mainType:"brush",query:n},function(s){s.setAreas(n.areas)})}),a.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop$1),a.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop$1),registerFeature("brush",BrushFeature$1)}var TitleModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(ComponentModel$1),TitleView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,s,l){if(this.group.removeAll(),!!r.get("show")){var u=this.group,c=r.getModel("textStyle"),f=r.getModel("subtextStyle"),d=r.get("textAlign"),v=retrieve2(r.get("textBaseline"),r.get("textVerticalAlign")),g=new ZRText$1({style:createTextStyle(c,{text:r.get("text"),fill:c.getTextColor()},{disableBox:!0}),z2:10}),y=g.getBoundingRect(),_=r.get("subtext"),S=new ZRText$1({style:createTextStyle(f,{text:_,fill:f.getTextColor(),y:y.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),x=r.get("link"),A=r.get("sublink"),b=r.get("triggerEvent",!0);g.silent=!x&&!b,S.silent=!A&&!b,x&&g.on("click",function(){windowOpen(x,"_"+r.get("target"))}),A&&S.on("click",function(){windowOpen(A,"_"+r.get("subtarget"))}),getECData(g).eventData=getECData(S).eventData=b?{componentType:"title",componentIndex:r.componentIndex}:null,u.add(g),_&&u.add(S);var w=u.getBoundingRect(),E=r.getBoxLayoutParams();E.width=w.width,E.height=w.height;var M=getLayoutRect(E,{width:l.getWidth(),height:l.getHeight()},r.get("padding"));d||(d=r.get("left")||r.get("right"),d==="middle"&&(d="center"),d==="right"?M.x+=M.width:d==="center"&&(M.x+=M.width/2)),v||(v=r.get("top")||r.get("bottom"),v==="center"&&(v="middle"),v==="bottom"?M.y+=M.height:v==="middle"&&(M.y+=M.height/2),v=v||"top"),u.x=M.x,u.y=M.y,u.markRedraw();var P={align:d,verticalAlign:v};g.setStyle(P),S.setStyle(P),w=u.getBoundingRect();var R=M.margin,I=r.getItemStyle(["color","opacity"]);I.fill=r.get("backgroundColor");var L=new Rect$3({shape:{x:w.x-R[3],y:w.y-R[0],width:w.width+R[1]+R[3],height:w.height+R[0]+R[2],r:r.get("borderRadius")},style:I,subPixelOptimize:!0,silent:!0});u.add(L)}},n.type="title",n}(ComponentView$1);function install$g(a){a.registerComponentModel(TitleModel),a.registerComponentView(TitleView)}var TimelineModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.layoutMode="box",r}return n.prototype.init=function(r,s,l){this.mergeDefaultAndTheme(r,l),this._initData()},n.prototype.mergeOption=function(r){a.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var s=this._data.count();this.option.loop?r=(r%s+s)%s:(r>=s&&(r=s-1),r<0&&(r=0)),this.option.currentIndex=r},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(r){this.option.autoPlay=!!r},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var r=this.option,s=r.data||[],l=r.axisType,u=this._names=[],c;l==="category"?(c=[],each$f(s,function(v,g){var y=convertOptionIdName(getDataItemValue(v),""),_;isObject$3(v)?(_=clone$4(v),_.value=g):_=g,c.push(_),u.push(y)})):c=s;var f={category:"ordinal",time:"time",value:"number"}[l]||"number",d=this._data=new SeriesData$1([{name:"value",type:f}],this);d.initData(c,u)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},n.type="timeline",n.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},n}(ComponentModel$1);const TimelineModel$1=TimelineModel;var SliderTimelineModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline.slider",n.defaultOption=inheritDefaultOption(TimelineModel$1.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),n}(TimelineModel$1);mixin(SliderTimelineModel,DataFormatMixin.prototype);const SliderTimelineModel$1=SliderTimelineModel;var TimelineView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline",n}(ComponentView$1);const TimelineView$1=TimelineView;var TimelineAxis=function(a){__extends(n,a);function n(r,s,l,u){var c=a.call(this,r,s,l)||this;return c.type=u||"value",c}return n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},n}(Axis$1);const TimelineAxis$1=TimelineAxis;var PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,s){this.api=s},n.prototype.render=function(r,s,l){if(this.model=r,this.api=l,this.ecModel=s,this.group.removeAll(),r.get("show",!0)){var u=this._layout(r,l),c=this._createGroup("_mainGroup"),f=this._createGroup("_labelGroup"),d=this._axis=this._createAxis(u,r);r.formatTooltip=function(v){var g=d.scale.getLabel({value:v});return createTooltipMarkup("nameValue",{noName:!0,value:g})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(v){this["_render"+v](u,c,d,r)},this),this._renderAxisLabel(u,f,d,r),this._position(u,r)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(r,s){var l=r.get(["label","position"]),u=r.get("orient"),c=getViewRect(r,s),f;l==null||l==="auto"?f=u==="horizontal"?c.y+c.height/2<s.getHeight()/2?"-":"+":c.x+c.width/2<s.getWidth()/2?"+":"-":isString(l)?f={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][l]:f=l;var d={horizontal:"center",vertical:f>=0||f==="+"?"left":"right"},v={horizontal:f>=0||f==="+"?"top":"bottom",vertical:"middle"},g={horizontal:0,vertical:PI/2},y=u==="vertical"?c.height:c.width,_=r.getModel("controlStyle"),S=_.get("show",!0),x=S?_.get("itemSize"):0,A=S?_.get("itemGap"):0,b=x+A,w=r.get(["label","rotate"])||0;w=w*PI/180;var E,M,P,R=_.get("position",!0),I=S&&_.get("showPlayBtn",!0),L=S&&_.get("showPrevBtn",!0),O=S&&_.get("showNextBtn",!0),N=0,B=y;R==="left"||R==="bottom"?(I&&(E=[0,0],N+=b),L&&(M=[N,0],N+=b),O&&(P=[B-x,0],B-=b)):(I&&(E=[B-x,0],B-=b),L&&(M=[0,0],N+=b),O&&(P=[B-x,0],B-=b));var F=[N,B];return r.get("inverse")&&F.reverse(),{viewRect:c,mainLength:y,orient:u,rotation:g[u],labelRotation:w,labelPosOpt:f,labelAlign:r.get(["label","align"])||d[u],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||v[u],playPosition:E,prevBtnPosition:M,nextBtnPosition:P,axisExtent:F,controlSize:x,controlGap:A}},n.prototype._position=function(r,s){var l=this._mainGroup,u=this._labelGroup,c=r.viewRect;if(r.orient==="vertical"){var f=create$1(),d=c.x,v=c.y+c.height;translate(f,f,[-d,-v]),rotate(f,f,-PI/2),translate(f,f,[d,v]),c=c.clone(),c.applyTransform(f)}var g=E(c),y=E(l.getBoundingRect()),_=E(u.getBoundingRect()),S=[l.x,l.y],x=[u.x,u.y];x[0]=S[0]=g[0][0];var A=r.labelPosOpt;if(A==null||isString(A)){var b=A==="+"?0:1;M(S,y,g,1,b),M(x,_,g,1,1-b)}else{var b=A>=0?0:1;M(S,y,g,1,b),x[1]=S[1]+A}l.setPosition(S),u.setPosition(x),l.rotation=u.rotation=r.rotation,w(l),w(u);function w(P){P.originX=g[0][0]-P.x,P.originY=g[1][0]-P.y}function E(P){return[[P.x,P.x+P.width],[P.y,P.y+P.height]]}function M(P,R,I,L,O){P[L]+=I[L][O]-R[L][O]}},n.prototype._createAxis=function(r,s){var l=s.getData(),u=s.get("axisType"),c=createScaleByModel(s,u);c.getTicks=function(){return l.mapArray(["value"],function(v){return{value:v}})};var f=l.getDataExtent("value");c.setExtent(f[0],f[1]),c.calcNiceTicks();var d=new TimelineAxis$1("value",c,r.axisExtent,u);return d.model=s,d},n.prototype._createGroup=function(r){var s=this[r]=new Group$4;return this.group.add(s),s},n.prototype._renderAxisLine=function(r,s,l,u){var c=l.getExtent();if(!!u.get(["lineStyle","show"])){var f=new Line$3({shape:{x1:c[0],y1:0,x2:c[1],y2:0},style:extend({lineCap:"round"},u.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});s.add(f);var d=this._progressLine=new Line$3({shape:{x1:c[0],x2:this._currentPointer?this._currentPointer.x:c[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:f.style.lineWidth},u.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});s.add(d)}},n.prototype._renderAxisTick=function(r,s,l,u){var c=this,f=u.getData(),d=l.scale.getTicks();this._tickSymbols=[],each$f(d,function(v){var g=l.dataToCoord(v.value),y=f.getItemModel(v.value),_=y.getModel("itemStyle"),S=y.getModel(["emphasis","itemStyle"]),x=y.getModel(["progress","itemStyle"]),A={x:g,y:0,onclick:bind$1(c._changeTimeline,c,v.value)},b=giveSymbol(y,_,s,A);b.ensureState("emphasis").style=S.getItemStyle(),b.ensureState("progress").style=x.getItemStyle(),enableHoverEmphasis(b);var w=getECData(b);y.get("tooltip")?(w.dataIndex=v.value,w.dataModel=u):w.dataIndex=w.dataModel=null,c._tickSymbols.push(b)})},n.prototype._renderAxisLabel=function(r,s,l,u){var c=this,f=l.getLabelModel();if(!!f.get("show")){var d=u.getData(),v=l.getViewLabels();this._tickLabels=[],each$f(v,function(g){var y=g.tickValue,_=d.getItemModel(y),S=_.getModel("label"),x=_.getModel(["emphasis","label"]),A=_.getModel(["progress","label"]),b=l.dataToCoord(g.tickValue),w=new ZRText$1({x:b,y:0,rotation:r.labelRotation-r.rotation,onclick:bind$1(c._changeTimeline,c,y),silent:!1,style:createTextStyle(S,{text:g.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});w.ensureState("emphasis").style=createTextStyle(x),w.ensureState("progress").style=createTextStyle(A),s.add(w),enableHoverEmphasis(w),labelDataIndexStore(w).dataIndex=y,c._tickLabels.push(w)})}},n.prototype._renderControl=function(r,s,l,u){var c=r.controlSize,f=r.rotation,d=u.getModel("controlStyle").getItemStyle(),v=u.getModel(["emphasis","controlStyle"]).getItemStyle(),g=u.getPlayState(),y=u.get("inverse",!0);_(r.nextBtnPosition,"next",bind$1(this._changeTimeline,this,y?"-":"+")),_(r.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,y?"+":"-")),_(r.playPosition,g?"stop":"play",bind$1(this._handlePlayClick,this,!g),!0);function _(S,x,A,b){if(!!S){var w=parsePercent$1(retrieve2(u.get(["controlStyle",x+"BtnSize"]),c),c),E=[0,-w/2,w,w],M=makeControlIcon(u,x+"Icon",E,{x:S[0],y:S[1],originX:c/2,originY:0,rotation:b?-f:0,rectHover:!0,style:d,onclick:A});M.ensureState("emphasis").style=v,s.add(M),enableHoverEmphasis(M)}}},n.prototype._renderCurrentPointer=function(r,s,l,u){var c=u.getData(),f=u.getCurrentIndex(),d=c.getItemModel(f).getModel("checkpointStyle"),v=this,g={onCreate:function(y){y.draggable=!0,y.drift=bind$1(v._handlePointerDrag,v),y.ondragend=bind$1(v._handlePointerDragend,v),pointerMoveTo(y,v._progressLine,f,l,u,!0)},onUpdate:function(y){pointerMoveTo(y,v._progressLine,f,l,u)}};this._currentPointer=giveSymbol(d,d,this._mainGroup,{},this._currentPointer,g)},n.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},n.prototype._handlePointerDrag=function(r,s,l){this._clearTimer(),this._pointerChangeTimeline([l.offsetX,l.offsetY])},n.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},n.prototype._pointerChangeTimeline=function(r,s){var l=this._toAxisCoord(r)[0],u=this._axis,c=asc$2(u.getExtent().slice());l>c[1]&&(l=c[1]),l<c[0]&&(l=c[0]),this._currentPointer.x=l,this._currentPointer.markRedraw();var f=this._progressLine;f&&(f.shape.x2=l,f.dirty());var d=this._findNearestTick(l),v=this.model;(s||d!==v.getCurrentIndex()&&v.get("realtime"))&&this._changeTimeline(d)},n.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var s=r.model;r._changeTimeline(s.getCurrentIndex()+(s.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},n.prototype._toAxisCoord=function(r){var s=this._mainGroup.getLocalTransform();return applyTransform(r,s,!0)},n.prototype._findNearestTick=function(r){var s=this.model.getData(),l=1/0,u,c=this._axis;return s.each(["value"],function(f,d){var v=c.dataToCoord(f),g=Math.abs(v-r);g<l&&(l=g,u=d)}),u},n.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._changeTimeline=function(r){var s=this.model.getCurrentIndex();r==="+"?r=s+1:r==="-"&&(r=s-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},n.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),s=this._tickSymbols,l=this._tickLabels;if(s)for(var u=0;u<s.length;u++)s&&s[u]&&s[u].toggleState("progress",u<r);if(l)for(var u=0;u<l.length;u++)l&&l[u]&&l[u].toggleState("progress",labelDataIndexStore(l[u]).dataIndex<=r)},n.type="timeline.slider",n}(TimelineView$1);function createScaleByModel(a,n){if(n=n||a.get("type"),n)switch(n){case"category":return new OrdinalScale$1({ordinalMeta:a.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale$1({locale:a.ecModel.getLocaleModel(),useUTC:a.ecModel.get("useUTC")});default:return new IntervalScale$1}}function getViewRect(a,n){return getLayoutRect(a.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},a.get("padding"))}function makeControlIcon(a,n,r,s){var l=s.style,u=createIcon(a.get(["controlStyle",n]),s||{},new BoundingRect$1(r[0],r[1],r[2],r[3]));return l&&u.setStyle(l),u}function giveSymbol(a,n,r,s,l,u){var c=n.get("color");if(l)l.setColor(c),r.add(l),u&&u.onUpdate(l);else{var f=a.get("symbol");l=createSymbol$1(f,-1,-1,2,2,c),l.setStyle("strokeNoScale",!0),r.add(l),u&&u.onCreate(l)}var d=n.getItemStyle(["color"]);l.setStyle(d),s=merge({rectHover:!0,z2:100},s,!0);var v=normalizeSymbolSize(a.get("symbolSize"));s.scaleX=v[0]/2,s.scaleY=v[1]/2;var g=normalizeSymbolOffset(a.get("symbolOffset"),v);g&&(s.x=(s.x||0)+g[0],s.y=(s.y||0)+g[1]);var y=a.get("symbolRotate");return s.rotation=(y||0)*Math.PI/180||0,l.attr(s),l.updateTransform(),l}function pointerMoveTo(a,n,r,s,l,u){if(!a.dragging){var c=l.getModel("checkpointStyle"),f=s.dataToCoord(l.getData().get("value",r));if(u||!c.get("animation",!0))a.attr({x:f,y:0}),n&&n.attr({shape:{x2:f}});else{var d={duration:c.get("animationDuration",!0),easing:c.get("animationEasing",!0)};a.stopAnimation(null,!0),a.animateTo({x:f,y:0},d),n&&n.animateTo({shape:{x2:f}},d)}}}const SliderTimelineView$1=SliderTimelineView;function installTimelineAction(a){a.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,r,s){var l=r.getComponent("timeline");return l&&n.currentIndex!=null&&(l.setCurrentIndex(n.currentIndex),!l.get("loop",!0)&&l.isIndexMax()&&l.getPlayState()&&(l.setPlayState(!1),s.dispatchAction({type:"timelinePlayChange",playState:!1,from:n.from}))),r.resetOption("timeline",{replaceMerge:l.get("replaceMerge",!0)}),defaults({currentIndex:l.option.currentIndex},n)}),a.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,r){var s=r.getComponent("timeline");s&&n.playState!=null&&s.setPlayState(n.playState)})}function timelinePreprocessor(a){var n=a&&a.timeline;isArray$2(n)||(n=n?[n]:[]),each$f(n,function(r){!r||compatibleEC2(r)})}function compatibleEC2(a){var n=a.type,r={number:"value",time:"time"};if(r[n]&&(a.axisType=r[n],delete a.type),transferItem(a),has$1(a,"controlPosition")){var s=a.controlStyle||(a.controlStyle={});has$1(s,"position")||(s.position=a.controlPosition),s.position==="none"&&!has$1(s,"show")&&(s.show=!1,delete s.position),delete a.controlPosition}each$f(a.data||[],function(l){isObject$3(l)&&!isArray$2(l)&&(!has$1(l,"value")&&has$1(l,"name")&&(l.value=l.name),transferItem(l))})}function transferItem(a){var n=a.itemStyle||(a.itemStyle={}),r=n.emphasis||(n.emphasis={}),s=a.label||a.label||{},l=s.normal||(s.normal={}),u={normal:1,emphasis:1};each$f(s,function(c,f){!u[f]&&!has$1(l,f)&&(l[f]=c)}),r.label&&!has$1(s,"emphasis")&&(s.emphasis=r.label,delete r.label)}function has$1(a,n){return a.hasOwnProperty(n)}function install$f(a){a.registerComponentModel(SliderTimelineModel$1),a.registerComponentView(SliderTimelineView$1),a.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(a),a.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(a,n){if(!a)return!1;for(var r=isArray$2(a)?a:[a],s=0;s<r.length;s++)if(r[s]&&r[s][n])return!0;return!1}function fillLabel(a){defaultEmphasis(a,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.createdBySelf=!1,r}return n.prototype.init=function(r,s,l){this.mergeDefaultAndTheme(r,l),this._mergeOption(r,l,!1,!0)},n.prototype.isAnimationEnabled=function(){if(env$1.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},n.prototype.mergeOption=function(r,s){this._mergeOption(r,s,!1,!1)},n.prototype._mergeOption=function(r,s,l,u){var c=this.mainType;l||s.eachSeries(function(f){var d=f.get(this.mainType,!0),v=inner$5(f)[c];if(!d||!d.data){inner$5(f)[c]=null;return}v?v._mergeOption(d,s,!0):(u&&fillLabel(d),each$f(d.data,function(g){g instanceof Array?(fillLabel(g[0]),fillLabel(g[1])):fillLabel(g)}),v=this.createMarkerModelFromSeries(d,this,s),extend(v,{mainType:this.mainType,seriesIndex:f.seriesIndex,name:f.name,createdBySelf:!0}),v.__hostSeries=f),inner$5(f)[c]=v},this)},n.prototype.formatTooltip=function(r,s,l){var u=this.getData(),c=this.getRawValue(r),f=u.getName(r);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:f,value:c,noName:!f,noValue:c==null})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(r){this._data=r},n.getMarkerModelFromSeries=function(r,s){return inner$5(r)[s]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(ComponentModel$1);mixin(MarkerModel,DataFormatMixin.prototype);const MarkerModel$1=MarkerModel;var MarkPointModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,s,l){return new n(r,s,l)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(MarkerModel$1);const MarkPointModel$1=MarkPointModel;function hasXOrY(a){return!(isNaN(parseFloat(a.x))&&isNaN(parseFloat(a.y)))}function hasXAndY(a){return!isNaN(parseFloat(a.x))&&!isNaN(parseFloat(a.y))}function markerTypeCalculatorWithExtent(a,n,r,s,l,u){var c=[],f=isDimensionStacked(n,s),d=f?n.getCalculationInfo("stackResultDimension"):s,v=numCalculate(n,d,a),g=n.indicesOfNearest(d,v)[0];c[l]=n.get(r,g),c[u]=n.get(d,g);var y=n.get(s,g),_=getPrecision(n.get(s,g));return _=Math.min(_,20),_>=0&&(c[u]=+c[u].toFixed(_)),[c,y]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(a,n){if(!!n){var r=a.getData(),s=a.coordinateSystem,l=s.dimensions;if(!hasXAndY(n)&&!isArray$2(n.coord)&&s){var u=getAxisInfo(n,r,s,a);if(n=clone$4(n),n.type&&markerTypeCalculator[n.type]&&u.baseAxis&&u.valueAxis){var c=indexOf(l,u.baseAxis.dim),f=indexOf(l,u.valueAxis.dim),d=markerTypeCalculator[n.type](r,u.baseDataDim,u.valueDataDim,c,f);n.coord=d[0],n.value=d[1]}else n.coord=[n.xAxis!=null?n.xAxis:n.radiusAxis,n.yAxis!=null?n.yAxis:n.angleAxis]}if(n.coord==null)n.coord=[];else for(var v=n.coord,g=0;g<2;g++)markerTypeCalculator[v[g]]&&(v[g]=numCalculate(r,r.mapDimension(l[g]),v[g]));return n}}function getAxisInfo(a,n,r,s){var l={};return a.valueIndex!=null||a.valueDim!=null?(l.valueDataDim=a.valueIndex!=null?n.getDimension(a.valueIndex):a.valueDim,l.valueAxis=r.getAxis(dataDimToCoordDim(s,l.valueDataDim)),l.baseAxis=r.getOtherAxis(l.valueAxis),l.baseDataDim=n.mapDimension(l.baseAxis.dim)):(l.baseAxis=s.getBaseAxis(),l.valueAxis=r.getOtherAxis(l.baseAxis),l.baseDataDim=n.mapDimension(l.baseAxis.dim),l.valueDataDim=n.mapDimension(l.valueAxis.dim)),l}function dataDimToCoordDim(a,n){var r=a.getData().getDimensionInfo(n);return r&&r.coordDim}function dataFilter(a,n){return a&&a.containData&&n.coord&&!hasXOrY(n)?a.containData(n.coord):!0}function zoneFilter(a,n,r){return a&&a.containZone&&n.coord&&r.coord&&!hasXOrY(n)&&!hasXOrY(r)?a.containZone(n.coord,r.coord):!0}function createMarkerDimValueGetter(a,n){return a?function(r,s,l,u){var c=u<2?r.coord&&r.coord[u]:r.value;return parseDataValue(c,n[u])}:function(r,s,l,u){return parseDataValue(r.value,n[u])}}function numCalculate(a,n,r){if(r==="average"){var s=0,l=0;return a.each(n,function(u,c){isNaN(u)||(s+=u,l++)}),s/l}else return r==="median"?a.getMedian(n):a.getDataExtent(n)[r==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this.markerGroupMap=createHashMap()},n.prototype.render=function(r,s,l){var u=this,c=this.markerGroupMap;c.each(function(f){inner$4(f).keep=!1}),s.eachSeries(function(f){var d=MarkerModel$1.getMarkerModelFromSeries(f,u.type);d&&u.renderSeries(f,d,s,l)}),c.each(function(f){!inner$4(f).keep&&u.group.remove(f.group)})},n.prototype.markKeep=function(r){inner$4(r).keep=!0},n.prototype.toggleBlurSeries=function(r,s){var l=this;each$f(r,function(u){var c=MarkerModel$1.getMarkerModelFromSeries(u,l.type);if(c){var f=c.getData();f.eachItemGraphicEl(function(d){d&&(s?enterBlur(d):leaveBlur(d))})}})},n.type="marker",n}(ComponentView$1);const MarkerView$1=MarkerView;function updateMarkerLayout(a,n,r){var s=n.coordinateSystem;a.each(function(l){var u=a.getItemModel(l),c,f=parsePercent(u.get("x"),r.getWidth()),d=parsePercent(u.get("y"),r.getHeight());if(!isNaN(f)&&!isNaN(d))c=[f,d];else if(n.getMarkerPosition)c=n.getMarkerPosition(a.getValues(a.dimensions,l));else if(s){var v=a.get(s.dimensions[0],l),g=a.get(s.dimensions[1],l);c=s.dataToPoint([v,g])}isNaN(f)||(c[0]=f),isNaN(d)||(c[1]=d),a.setItemLayout(l,c)})}var MarkPointView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,s,l){s.eachSeries(function(u){var c=MarkerModel$1.getMarkerModelFromSeries(u,"markPoint");c&&(updateMarkerLayout(c.getData(),u,l),this.markerGroupMap.get(u.id).updateLayout())},this)},n.prototype.renderSeries=function(r,s,l,u){var c=r.coordinateSystem,f=r.id,d=r.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,new SymbolDraw$1),y=createData(c,r,s);s.setData(y),updateMarkerLayout(s.getData(),r,u),y.each(function(_){var S=y.getItemModel(_),x=S.getShallow("symbol"),A=S.getShallow("symbolSize"),b=S.getShallow("symbolRotate"),w=S.getShallow("symbolOffset"),E=S.getShallow("symbolKeepAspect");if(isFunction(x)||isFunction(A)||isFunction(b)||isFunction(w)){var M=s.getRawValue(_),P=s.getDataParams(_);isFunction(x)&&(x=x(M,P)),isFunction(A)&&(A=A(M,P)),isFunction(b)&&(b=b(M,P)),isFunction(w)&&(w=w(M,P))}var R=S.getModel("itemStyle").getItemStyle(),I=getVisualFromData(d,"color");R.fill||(R.fill=I),y.setItemVisual(_,{symbol:x,symbolSize:A,symbolRotate:b,symbolOffset:w,symbolKeepAspect:E,style:R})}),g.updateData(y),this.group.add(g.group),y.eachItemGraphicEl(function(_){_.traverse(function(S){getECData(S).dataModel=s})}),this.markKeep(g),g.group.silent=s.get("silent")||r.get("silent")},n.type="markPoint",n}(MarkerView$1);function createData(a,n,r){var s;a?s=map$1(a&&a.dimensions,function(f){var d=n.getData().getDimensionInfo(n.getData().mapDimension(f))||{};return extend(extend({},d),{name:f,ordinalMeta:null})}):s=[{name:"value",type:"float"}];var l=new SeriesData$1(s,r),u=map$1(r.get("data"),curry$1(dataTransform,n));a&&(u=filter(u,curry$1(dataFilter,a)));var c=createMarkerDimValueGetter(!!a,s);return l.initData(u,null,c),l}const MarkPointView$1=MarkPointView;function install$e(a){a.registerComponentModel(MarkPointModel$1),a.registerComponentView(MarkPointView$1),a.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})}var MarkLineModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,s,l){return new n(r,s,l)},n.type="markLine",n.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n}(MarkerModel$1);const MarkLineModel$1=MarkLineModel;var inner$3=makeInner(),markLineTransform=function(a,n,r,s){var l=a.getData(),u;if(isArray$2(s))u=s;else{var c=s.type;if(c==="min"||c==="max"||c==="average"||c==="median"||s.xAxis!=null||s.yAxis!=null){var f=void 0,d=void 0;if(s.yAxis!=null||s.xAxis!=null)f=n.getAxis(s.yAxis!=null?"y":"x"),d=retrieve(s.yAxis,s.xAxis);else{var v=getAxisInfo(s,l,n,a);f=v.valueAxis;var g=getStackedDimension(l,v.valueDataDim);d=numCalculate(l,g,c)}var y=f.dim==="x"?0:1,_=1-y,S=clone$4(s),x={coord:[]};S.type=null,S.coord=[],S.coord[_]=-1/0,x.coord[_]=1/0;var A=r.get("precision");A>=0&&isNumber(d)&&(d=+d.toFixed(Math.min(A,20))),S.coord[y]=x.coord[y]=d,u=[S,x,{type:c,valueIndex:s.valueIndex,value:d}]}else u=[]}var b=[dataTransform(a,u[0]),dataTransform(a,u[1]),extend({},u[2])];return b[2].type=b[2].type||null,merge(b[2],b[0]),merge(b[2],b[1]),b};function isInfinity$1(a){return!isNaN(a)&&!isFinite(a)}function ifMarkLineHasOnlyDim(a,n,r,s){var l=1-a,u=s.dimensions[a];return isInfinity$1(n[l])&&isInfinity$1(r[l])&&n[a]===r[a]&&s.getAxis(u).containData(n[a])}function markLineFilter(a,n){if(a.type==="cartesian2d"){var r=n[0].coord,s=n[1].coord;if(r&&s&&(ifMarkLineHasOnlyDim(1,r,s,a)||ifMarkLineHasOnlyDim(0,r,s,a)))return!0}return dataFilter(a,n[0])&&dataFilter(a,n[1])}function updateSingleMarkerEndLayout(a,n,r,s,l){var u=s.coordinateSystem,c=a.getItemModel(n),f,d=parsePercent(c.get("x"),l.getWidth()),v=parsePercent(c.get("y"),l.getHeight());if(!isNaN(d)&&!isNaN(v))f=[d,v];else{if(s.getMarkerPosition)f=s.getMarkerPosition(a.getValues(a.dimensions,n));else{var g=u.dimensions,y=a.get(g[0],n),_=a.get(g[1],n);f=u.dataToPoint([y,_])}if(isCoordinateSystemType(u,"cartesian2d")){var S=u.getAxis("x"),x=u.getAxis("y"),g=u.dimensions;isInfinity$1(a.get(g[0],n))?f[0]=S.toGlobalCoord(S.getExtent()[r?0:1]):isInfinity$1(a.get(g[1],n))&&(f[1]=x.toGlobalCoord(x.getExtent()[r?0:1]))}isNaN(d)||(f[0]=d),isNaN(v)||(f[1]=v)}a.setItemLayout(n,f)}var MarkLineView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,s,l){s.eachSeries(function(u){var c=MarkerModel$1.getMarkerModelFromSeries(u,"markLine");if(c){var f=c.getData(),d=inner$3(c).from,v=inner$3(c).to;d.each(function(g){updateSingleMarkerEndLayout(d,g,!0,u,l),updateSingleMarkerEndLayout(v,g,!1,u,l)}),f.each(function(g){f.setItemLayout(g,[d.getItemLayout(g),v.getItemLayout(g)])}),this.markerGroupMap.get(u.id).updateLayout()}},this)},n.prototype.renderSeries=function(r,s,l,u){var c=r.coordinateSystem,f=r.id,d=r.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,new LineDraw$1);this.group.add(g.group);var y=createList$1(c,r,s),_=y.from,S=y.to,x=y.line;inner$3(s).from=_,inner$3(s).to=S,s.setData(x);var A=s.get("symbol"),b=s.get("symbolSize"),w=s.get("symbolRotate"),E=s.get("symbolOffset");isArray$2(A)||(A=[A,A]),isArray$2(b)||(b=[b,b]),isArray$2(w)||(w=[w,w]),isArray$2(E)||(E=[E,E]),y.from.each(function(P){M(_,P,!0),M(S,P,!1)}),x.each(function(P){var R=x.getItemModel(P).getModel("lineStyle").getLineStyle();x.setItemLayout(P,[_.getItemLayout(P),S.getItemLayout(P)]),R.stroke==null&&(R.stroke=_.getItemVisual(P,"style").fill),x.setItemVisual(P,{fromSymbolKeepAspect:_.getItemVisual(P,"symbolKeepAspect"),fromSymbolOffset:_.getItemVisual(P,"symbolOffset"),fromSymbolRotate:_.getItemVisual(P,"symbolRotate"),fromSymbolSize:_.getItemVisual(P,"symbolSize"),fromSymbol:_.getItemVisual(P,"symbol"),toSymbolKeepAspect:S.getItemVisual(P,"symbolKeepAspect"),toSymbolOffset:S.getItemVisual(P,"symbolOffset"),toSymbolRotate:S.getItemVisual(P,"symbolRotate"),toSymbolSize:S.getItemVisual(P,"symbolSize"),toSymbol:S.getItemVisual(P,"symbol"),style:R})}),g.updateData(x),y.line.eachItemGraphicEl(function(P){getECData(P).dataModel=s,P.traverse(function(R){getECData(R).dataModel=s})});function M(P,R,I){var L=P.getItemModel(R);updateSingleMarkerEndLayout(P,R,I,r,u);var O=L.getModel("itemStyle").getItemStyle();O.fill==null&&(O.fill=getVisualFromData(d,"color")),P.setItemVisual(R,{symbolKeepAspect:L.get("symbolKeepAspect"),symbolOffset:retrieve2(L.get("symbolOffset",!0),E[I?0:1]),symbolRotate:retrieve2(L.get("symbolRotate",!0),w[I?0:1]),symbolSize:retrieve2(L.get("symbolSize"),b[I?0:1]),symbol:retrieve2(L.get("symbol",!0),A[I?0:1]),style:O})}this.markKeep(g),g.group.silent=s.get("silent")||r.get("silent")},n.type="markLine",n}(MarkerView$1);function createList$1(a,n,r){var s;a?s=map$1(a&&a.dimensions,function(v){var g=n.getData().getDimensionInfo(n.getData().mapDimension(v))||{};return extend(extend({},g),{name:v,ordinalMeta:null})}):s=[{name:"value",type:"float"}];var l=new SeriesData$1(s,r),u=new SeriesData$1(s,r),c=new SeriesData$1([],r),f=map$1(r.get("data"),curry$1(markLineTransform,n,a,r));a&&(f=filter(f,curry$1(markLineFilter,a)));var d=createMarkerDimValueGetter(!!a,s);return l.initData(map$1(f,function(v){return v[0]}),null,d),u.initData(map$1(f,function(v){return v[1]}),null,d),c.initData(map$1(f,function(v){return v[2]})),c.hasItemOption=!0,{from:l,to:u,line:c}}const MarkLineView$1=MarkLineView;function install$d(a){a.registerComponentModel(MarkLineModel$1),a.registerComponentView(MarkLineView$1),a.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markLine")&&(n.markLine=n.markLine||{})})}var MarkAreaModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,s,l){return new n(r,s,l)},n.type="markArea",n.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n}(MarkerModel$1);const MarkAreaModel$1=MarkAreaModel;var inner$2=makeInner(),markAreaTransform=function(a,n,r,s){var l=s[0],u=s[1];if(!(!l||!u)){var c=dataTransform(a,l),f=dataTransform(a,u),d=c.coord,v=f.coord;d[0]=retrieve(d[0],-1/0),d[1]=retrieve(d[1],-1/0),v[0]=retrieve(v[0],1/0),v[1]=retrieve(v[1],1/0);var g=mergeAll([{},c,f]);return g.coord=[c.coord,f.coord],g.x0=c.x,g.y0=c.y,g.x1=f.x,g.y1=f.y,g}};function isInfinity(a){return!isNaN(a)&&!isFinite(a)}function ifMarkAreaHasOnlyDim(a,n,r,s){var l=1-a;return isInfinity(n[l])&&isInfinity(r[l])}function markAreaFilter(a,n){var r=n.coord[0],s=n.coord[1],l={coord:r,x:n.x0,y:n.y0},u={coord:s,x:n.x1,y:n.y1};return isCoordinateSystemType(a,"cartesian2d")?r&&s&&(ifMarkAreaHasOnlyDim(1,r,s)||ifMarkAreaHasOnlyDim(0,r,s))?!0:zoneFilter(a,l,u):dataFilter(a,l)||dataFilter(a,u)}function getSingleMarkerEndPoint(a,n,r,s,l){var u=s.coordinateSystem,c=a.getItemModel(n),f,d=parsePercent(c.get(r[0]),l.getWidth()),v=parsePercent(c.get(r[1]),l.getHeight());if(!isNaN(d)&&!isNaN(v))f=[d,v];else{if(s.getMarkerPosition){var g=a.getValues(["x0","y0"],n),y=a.getValues(["x1","y1"],n),_=u.clampData(g),S=u.clampData(y),x=[];r[0]==="x0"?x[0]=_[0]>S[0]?y[0]:g[0]:x[0]=_[0]>S[0]?g[0]:y[0],r[1]==="y0"?x[1]=_[1]>S[1]?y[1]:g[1]:x[1]=_[1]>S[1]?g[1]:y[1],f=s.getMarkerPosition(x,r,!0)}else{var A=a.get(r[0],n),b=a.get(r[1],n),w=[A,b];u.clampData&&u.clampData(w,w),f=u.dataToPoint(w,!0)}if(isCoordinateSystemType(u,"cartesian2d")){var E=u.getAxis("x"),M=u.getAxis("y"),A=a.get(r[0],n),b=a.get(r[1],n);isInfinity(A)?f[0]=E.toGlobalCoord(E.getExtent()[r[0]==="x0"?0:1]):isInfinity(b)&&(f[1]=M.toGlobalCoord(M.getExtent()[r[1]==="y0"?0:1]))}isNaN(d)||(f[0]=d),isNaN(v)||(f[1]=v)}return f}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,s,l){s.eachSeries(function(u){var c=MarkerModel$1.getMarkerModelFromSeries(u,"markArea");if(c){var f=c.getData();f.each(function(d){var v=map$1(dimPermutations,function(y){return getSingleMarkerEndPoint(f,d,y,u,l)});f.setItemLayout(d,v);var g=f.getItemGraphicEl(d);g.setShape("points",v)})}},this)},n.prototype.renderSeries=function(r,s,l,u){var c=r.coordinateSystem,f=r.id,d=r.getData(),v=this.markerGroupMap,g=v.get(f)||v.set(f,{group:new Group$4});this.group.add(g.group),this.markKeep(g);var y=createList(c,r,s);s.setData(y),y.each(function(_){var S=map$1(dimPermutations,function(O){return getSingleMarkerEndPoint(y,_,O,r,u)}),x=c.getAxis("x").scale,A=c.getAxis("y").scale,b=x.getExtent(),w=A.getExtent(),E=[x.parse(y.get("x0",_)),x.parse(y.get("x1",_))],M=[A.parse(y.get("y0",_)),A.parse(y.get("y1",_))];asc$2(E),asc$2(M);var P=!(b[0]>E[1]||b[1]<E[0]||w[0]>M[1]||w[1]<M[0]),R=!P;y.setItemLayout(_,{points:S,allClipped:R});var I=y.getItemModel(_).getModel("itemStyle").getItemStyle(),L=getVisualFromData(d,"color");I.fill||(I.fill=L,isString(I.fill)&&(I.fill=modifyAlpha(I.fill,.4))),I.stroke||(I.stroke=L),y.setItemVisual(_,"style",I)}),y.diff(inner$2(g).data).add(function(_){var S=y.getItemLayout(_);if(!S.allClipped){var x=new Polygon$1({shape:{points:S.points}});y.setItemGraphicEl(_,x),g.group.add(x)}}).update(function(_,S){var x=inner$2(g).data.getItemGraphicEl(S),A=y.getItemLayout(_);A.allClipped?x&&g.group.remove(x):(x?updateProps$1(x,{shape:{points:A.points}},s,_):x=new Polygon$1({shape:{points:A.points}}),y.setItemGraphicEl(_,x),g.group.add(x))}).remove(function(_){var S=inner$2(g).data.getItemGraphicEl(_);g.group.remove(S)}).execute(),y.eachItemGraphicEl(function(_,S){var x=y.getItemModel(S),A=y.getItemVisual(S,"style");_.useStyle(y.getItemVisual(S,"style")),setLabelStyle(_,getLabelStatesModels(x),{labelFetcher:s,labelDataIndex:S,defaultText:y.getName(S)||"",inheritColor:isString(A.fill)?modifyAlpha(A.fill,1):"#000"}),setStatesStylesFromModel(_,x),toggleHoverEmphasis(_,null,null,x.get(["emphasis","disabled"])),getECData(_).dataModel=s}),inner$2(g).data=y,g.group.silent=s.get("silent")||r.get("silent")},n.type="markArea",n}(MarkerView$1);function createList(a,n,r){var s,l,u=["x0","y0","x1","y1"];if(a){var c=map$1(a&&a.dimensions,function(v){var g=n.getData(),y=g.getDimensionInfo(g.mapDimension(v))||{};return extend(extend({},y),{name:v,ordinalMeta:null})});l=map$1(u,function(v,g){return{name:v,type:c[g%2].type}}),s=new SeriesData$1(l,r)}else l=[{name:"value",type:"float"}],s=new SeriesData$1(l,r);var f=map$1(r.get("data"),curry$1(markAreaTransform,n,a,r));a&&(f=filter(f,curry$1(markAreaFilter,a)));var d=a?function(v,g,y,_){var S=v.coord[Math.floor(_/2)][_%2];return parseDataValue(S,l[_])}:function(v,g,y,_){return parseDataValue(v.value,l[_])};return s.initData(f,null,d),s.hasItemOption=!0,s}const MarkAreaView$1=MarkAreaView;function install$c(a){a.registerComponentModel(MarkAreaModel$1),a.registerComponentView(MarkAreaView$1),a.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markArea")&&(n.markArea=n.markArea||{})})}var getDefaultSelectorOptions=function(a,n){if(n==="all")return{type:"all",title:a.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:a.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.prototype.init=function(r,s,l){this.mergeDefaultAndTheme(r,l),r.selected=r.selected||{},this._updateSelector(r)},n.prototype.mergeOption=function(r,s){a.prototype.mergeOption.call(this,r,s),this._updateSelector(r)},n.prototype._updateSelector=function(r){var s=r.selector,l=this.ecModel;s===!0&&(s=r.selector=["all","inverse"]),isArray$2(s)&&each$f(s,function(u,c){isString(u)&&(u={type:u}),s[c]=merge(u,getDefaultSelectorOptions(l,u.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var s=!1,l=0;l<r.length;l++){var u=r[l].get("name");if(this.isSelected(u)){this.select(u),s=!0;break}}!s&&this.select(r[0].get("name"))}},n.prototype._updateData=function(r){var s=[],l=[];r.eachRawSeries(function(d){var v=d.name;l.push(v);var g;if(d.legendVisualProvider){var y=d.legendVisualProvider,_=y.getAllNames();r.isSeriesFiltered(d)||(l=l.concat(_)),_.length?s=s.concat(_):g=!0}else g=!0;g&&isNameSpecified(d)&&s.push(d.name)}),this._availableNames=l;var u=this.get("data")||s,c=createHashMap(),f=map$1(u,function(d){return(isString(d)||isNumber(d))&&(d={name:d}),c.get(d.name)?null:(c.set(d.name,!0),new Model$1(d,this,this.ecModel))},this);this._data=filter(f,function(d){return!!d})},n.prototype.getData=function(){return this._data},n.prototype.select=function(r){var s=this.option.selected,l=this.get("selectedMode");if(l==="single"){var u=this._data;each$f(u,function(c){s[c.get("name")]=!1})}s[r]=!0},n.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},n.prototype.toggleSelected=function(r){var s=this.option.selected;s.hasOwnProperty(r)||(s[r]=!0),this[s[r]?"unSelect":"select"](r)},n.prototype.allSelect=function(){var r=this._data,s=this.option.selected;each$f(r,function(l){s[l.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var r=this._data,s=this.option.selected;each$f(r,function(l){var u=l.get("name",!0);s.hasOwnProperty(u)||(s[u]=!0),s[u]=!s[u]})},n.prototype.isSelected=function(r){var s=this.option.selected;return!(s.hasOwnProperty(r)&&!s[r])&&indexOf(this._availableNames,r)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each$3=each$f,Group$1=Group$4,LegendView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!1,r}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(r,s,l){var u=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var c=r.get("align"),f=r.get("orient");(!c||c==="auto")&&(c=r.get("left")==="right"&&f==="vertical"?"right":"left");var d=r.get("selector",!0),v=r.get("selectorPosition",!0);d&&(!v||v==="auto")&&(v=f==="horizontal"?"end":"start"),this.renderInner(c,r,s,l,d,f,v);var g=r.getBoxLayoutParams(),y={width:l.getWidth(),height:l.getHeight()},_=r.get("padding"),S=getLayoutRect(g,y,_),x=this.layoutInner(r,c,S,u,d,v),A=getLayoutRect(defaults({width:x.width,height:x.height},g),y,_);this.group.x=A.x-x.x,this.group.y=A.y-x.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(x,r))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(r,s,l,u,c,f,d){var v=this.getContentGroup(),g=createHashMap(),y=s.get("selectedMode"),_=[];l.eachRawSeries(function(S){!S.get("legendHoverLink")&&_.push(S.id)}),each$3(s.getData(),function(S,x){var A=S.get("name");if(!this.newlineDisabled&&(A===""||A===`
`)){var b=new Group$1;b.newline=!0,v.add(b);return}var w=l.getSeriesByName(A)[0];if(!g.get(A))if(w){var E=w.getData(),M=E.getVisual("legendLineStyle")||{},P=E.getVisual("legendIcon"),R=E.getVisual("style"),I=this._createItem(w,A,x,S,s,r,M,R,P,y,u);I.on("click",curry(dispatchSelectAction,A,null,u,_)).on("mouseover",curry(dispatchHighlightAction,w.name,null,u,_)).on("mouseout",curry(dispatchDownplayAction,w.name,null,u,_)),g.set(A,!0)}else l.eachRawSeries(function(L){if(!g.get(A)&&L.legendVisualProvider){var O=L.legendVisualProvider;if(!O.containName(A))return;var N=O.indexOfName(A),B=O.getItemVisual(N,"style"),F=O.getItemVisual(N,"legendIcon"),V=parse(B.fill);V&&V[3]===0&&(V[3]=.2,B=extend(extend({},B),{fill:stringify(V,"rgba")}));var z=this._createItem(L,A,x,S,s,r,{},B,F,y,u);z.on("click",curry(dispatchSelectAction,null,A,u,_)).on("mouseover",curry(dispatchHighlightAction,null,A,u,_)).on("mouseout",curry(dispatchDownplayAction,null,A,u,_)),g.set(A,!0)}},this)},this),c&&this._createSelector(c,s,u,f,d)},n.prototype._createSelector=function(r,s,l,u,c){var f=this.getSelectorGroup();each$3(r,function(v){var g=v.type,y=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){l.dispatchAction({type:g==="all"?"legendAllSelect":"legendInverseSelect"})}});f.add(y);var _=s.getModel("selectorLabel"),S=s.getModel(["emphasis","selectorLabel"]);setLabelStyle(y,{normal:_,emphasis:S},{defaultText:v.title}),enableHoverEmphasis(y)})},n.prototype._createItem=function(r,s,l,u,c,f,d,v,g,y,_){var S=r.visualDrawType,x=c.get("itemWidth"),A=c.get("itemHeight"),b=c.isSelected(s),w=u.get("symbolRotate"),E=u.get("symbolKeepAspect"),M=u.get("icon");g=M||g||"roundRect";var P=getLegendStyle(g,u,d,v,S,b,_),R=new Group$1,I=u.getModel("textStyle");if(isFunction(r.getLegendIcon)&&(!M||M==="inherit"))R.add(r.getLegendIcon({itemWidth:x,itemHeight:A,icon:g,iconRotate:w,itemStyle:P.itemStyle,lineStyle:P.lineStyle,symbolKeepAspect:E}));else{var L=M==="inherit"&&r.getData().getVisual("symbol")?w==="inherit"?r.getData().getVisual("symbolRotate"):w:0;R.add(getDefaultLegendIcon({itemWidth:x,itemHeight:A,icon:g,iconRotate:L,itemStyle:P.itemStyle,lineStyle:P.lineStyle,symbolKeepAspect:E}))}var O=f==="left"?x+5:-5,N=f,B=c.get("formatter"),F=s;isString(B)&&B?F=B.replace("{name}",s!=null?s:""):isFunction(B)&&(F=B(s));var V=u.get("inactiveColor");R.add(new ZRText$1({style:createTextStyle(I,{text:F,x:O,y:A/2,fill:b?I.getTextColor():V,align:N,verticalAlign:"middle"})}));var z=new Rect$3({shape:R.getBoundingRect(),invisible:!0}),U=u.getModel("tooltip");return U.get("show")&&setTooltipConfig({el:z,componentModel:c,itemName:s,itemTooltipOption:U.option}),R.add(z),R.eachChild(function(Y){Y.silent=!0}),z.silent=!y,this.getContentGroup().add(R),enableHoverEmphasis(R),R.__legendDataIndex=l,R},n.prototype.layoutInner=function(r,s,l,u,c,f){var d=this.getContentGroup(),v=this.getSelectorGroup();box(r.get("orient"),d,r.get("itemGap"),l.width,l.height);var g=d.getBoundingRect(),y=[-g.x,-g.y];if(v.markRedraw(),d.markRedraw(),c){box("horizontal",v,r.get("selectorItemGap",!0));var _=v.getBoundingRect(),S=[-_.x,-_.y],x=r.get("selectorButtonGap",!0),A=r.getOrient().index,b=A===0?"width":"height",w=A===0?"height":"width",E=A===0?"y":"x";f==="end"?S[A]+=g[b]+x:y[A]+=_[b]+x,S[1-A]+=g[w]/2-_[w]/2,v.x=S[0],v.y=S[1],d.x=y[0],d.y=y[1];var M={x:0,y:0};return M[b]=g[b]+x+_[b],M[w]=Math.max(g[w],_[w]),M[E]=Math.min(0,_[E]+S[1-A]),M}else return d.x=y[0],d.y=y[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(ComponentView$1);function getLegendStyle(a,n,r,s,l,u,c){function f(b,w){b.lineWidth==="auto"&&(b.lineWidth=w.lineWidth>0?2:0),each$3(b,function(E,M){b[M]==="inherit"&&(b[M]=w[M])})}var d=n.getModel("itemStyle"),v=d.getItemStyle(),g=a.lastIndexOf("empty",0)===0?"fill":"stroke",y=d.getShallow("decal");v.decal=!y||y==="inherit"?s.decal:createOrUpdatePatternFromDecal(y,c),v.fill==="inherit"&&(v.fill=s[l]),v.stroke==="inherit"&&(v.stroke=s[g]),v.opacity==="inherit"&&(v.opacity=(l==="fill"?s:r).opacity),f(v,s);var _=n.getModel("lineStyle"),S=_.getLineStyle();if(f(S,r),v.fill==="auto"&&(v.fill=s.fill),v.stroke==="auto"&&(v.stroke=s.fill),S.stroke==="auto"&&(S.stroke=s.fill),!u){var x=n.get("inactiveBorderWidth"),A=v[g];v.lineWidth=x==="auto"?s.lineWidth>0&&A?2:0:v.lineWidth,v.fill=n.get("inactiveColor"),v.stroke=n.get("inactiveBorderColor"),S.stroke=_.get("inactiveColor"),S.lineWidth=_.get("inactiveWidth")}return{itemStyle:v,lineStyle:S}}function getDefaultLegendIcon(a){var n=a.icon||"roundRect",r=createSymbol$1(n,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill,a.symbolKeepAspect);return r.setStyle(a.itemStyle),r.rotation=(a.iconRotate||0)*Math.PI/180,r.setOrigin([a.itemWidth/2,a.itemHeight/2]),n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function dispatchSelectAction(a,n,r,s){dispatchDownplayAction(a,n,r,s),r.dispatchAction({type:"legendToggleSelect",name:a!=null?a:n}),dispatchHighlightAction(a,n,r,s)}function isUseHoverLayer(a){for(var n=a.getZr().storage.getDisplayList(),r,s=0,l=n.length;s<l&&!(r=n[s].states.emphasis);)s++;return r&&r.hoverLayer}function dispatchHighlightAction(a,n,r,s){isUseHoverLayer(r)||r.dispatchAction({type:"highlight",seriesName:a,name:n,excludeSeriesId:s})}function dispatchDownplayAction(a,n,r,s){isUseHoverLayer(r)||r.dispatchAction({type:"downplay",seriesName:a,name:n,excludeSeriesId:s})}const LegendView$1=LegendView;function legendFilter(a){var n=a.findComponents({mainType:"legend"});n&&n.length&&a.filterSeries(function(r){for(var s=0;s<n.length;s++)if(!n[s].isSelected(r.name))return!1;return!0})}function legendSelectActionHandler(a,n,r){var s={},l=a==="toggleSelected",u;return r.eachComponent("legend",function(c){l&&u!=null?c[u?"select":"unSelect"](n.name):a==="allSelect"||a==="inverseSelect"?c[a]():(c[a](n.name),u=c.isSelected(n.name));var f=c.getData();each$f(f,function(d){var v=d.get("name");if(!(v===`
`||v==="")){var g=c.isSelected(v);s.hasOwnProperty(v)?s[v]=s[v]&&g:s[v]=g}})}),a==="allSelect"||a==="inverseSelect"?{selected:s}:{name:n.name,selected:s}}function installLegendAction(a){a.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),a.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),a.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),a.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),a.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(a){a.registerComponentModel(LegendModel$1),a.registerComponentView(LegendView$1),a.registerProcessor(a.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),a.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(a)}var ScrollableLegendModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},n.prototype.init=function(r,s,l){var u=getLayoutParams(r);a.prototype.init.call(this,r,s,l),mergeAndNormalizeLayoutParams(this,r,u)},n.prototype.mergeOption=function(r,s){a.prototype.mergeOption.call(this,r,s),mergeAndNormalizeLayoutParams(this,this.option,r)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel$1);function mergeAndNormalizeLayoutParams(a,n,r){var s=a.getOrient(),l=[1,1];l[s.index]=0,mergeLayoutParam(n,r,{type:"box",ignoreSize:!!l})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$4,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!0,r._currentIndex=0,r}return n.prototype.init=function(){a.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},n.prototype.resetInner=function(){a.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(r,s,l,u,c,f,d){var v=this;a.prototype.renderInner.call(this,r,s,l,u,c,f,d);var g=this._controllerGroup,y=s.get("pageIconSize",!0),_=isArray$2(y)?y:[y,y];x("pagePrev",0);var S=s.getModel("pageTextStyle");g.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:S.getTextColor(),font:S.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),x("pageNext",1);function x(A,b){var w=A+"DataIndex",E=createIcon(s.get("pageIcons",!0)[s.getOrient().name][b],{onclick:bind$1(v._pageGo,v,w,s,u)},{x:-_[0]/2,y:-_[1]/2,width:_[0],height:_[1]});E.name=A,g.add(E)}},n.prototype.layoutInner=function(r,s,l,u,c,f){var d=this.getSelectorGroup(),v=r.getOrient().index,g=WH[v],y=XY[v],_=WH[1-v],S=XY[1-v];c&&box("horizontal",d,r.get("selectorItemGap",!0));var x=r.get("selectorButtonGap",!0),A=d.getBoundingRect(),b=[-A.x,-A.y],w=clone$4(l);c&&(w[g]=l[g]-A[g]-x);var E=this._layoutContentAndController(r,u,w,v,g,_,S,y);if(c){if(f==="end")b[v]+=E[g]+x;else{var M=A[g]+x;b[v]-=M,E[y]-=M}E[g]+=A[g]+x,b[1-v]+=E[S]+E[_]/2-A[_]/2,E[_]=Math.max(E[_],A[_]),E[S]=Math.min(E[S],A[S]+b[1-v]),d.x=b[0],d.y=b[1],d.markRedraw()}return E},n.prototype._layoutContentAndController=function(r,s,l,u,c,f,d,v){var g=this.getContentGroup(),y=this._containerGroup,_=this._controllerGroup;box(r.get("orient"),g,r.get("itemGap"),u?l.width:null,u?null:l.height),box("horizontal",_,r.get("pageButtonItemGap",!0));var S=g.getBoundingRect(),x=_.getBoundingRect(),A=this._showController=S[c]>l[c],b=[-S.x,-S.y];s||(b[u]=g[v]);var w=[0,0],E=[-x.x,-x.y],M=retrieve2(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(A){var P=r.get("pageButtonPosition",!0);P==="end"?E[u]+=l[c]-x[c]:w[u]+=x[c]+M}E[1-u]+=S[f]/2-x[f]/2,g.setPosition(b),y.setPosition(w),_.setPosition(E);var R={x:0,y:0};if(R[c]=A?l[c]:S[c],R[f]=Math.max(S[f],x[f]),R[d]=Math.min(0,x[d]+E[1-u]),y.__rectSize=l[c],A){var I={x:0,y:0};I[c]=Math.max(l[c]-x[c]-M,0),I[f]=R[f],y.setClipPath(new Rect$3({shape:I})),y.__rectSize=I[c]}else _.eachChild(function(O){O.attr({invisible:!0,silent:!0})});var L=this._getPageInfo(r);return L.pageIndex!=null&&updateProps$1(g,{x:L.contentPosition[0],y:L.contentPosition[1]},A?r:null),this._updatePageInfoView(r,L),R},n.prototype._pageGo=function(r,s,l){var u=this._getPageInfo(s)[r];u!=null&&l.dispatchAction({type:"legendScroll",scrollDataIndex:u,legendId:s.id})},n.prototype._updatePageInfoView=function(r,s){var l=this._controllerGroup;each$f(["pagePrev","pageNext"],function(g){var y=g+"DataIndex",_=s[y]!=null,S=l.childOfName(g);S&&(S.setStyle("fill",_?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),S.cursor=_?"pointer":"default")});var u=l.childOfName("pageText"),c=r.get("pageFormatter"),f=s.pageIndex,d=f!=null?f+1:0,v=s.pageCount;u&&c&&u.setStyle("text",isString(c)?c.replace("{current}",d==null?"":d+"").replace("{total}",v==null?"":v+""):c({current:d,total:v}))},n.prototype._getPageInfo=function(r){var s=r.get("scrollDataIndex",!0),l=this.getContentGroup(),u=this._containerGroup.__rectSize,c=r.getOrient().index,f=WH[c],d=XY[c],v=this._findTargetItemIndex(s),g=l.children(),y=g[v],_=g.length,S=_?1:0,x={contentPosition:[l.x,l.y],pageCount:S,pageIndex:S-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!y)return x;var A=P(y);x.contentPosition[c]=-A.s;for(var b=v+1,w=A,E=A,M=null;b<=_;++b)M=P(g[b]),(!M&&E.e>w.s+u||M&&!R(M,w.s))&&(E.i>w.i?w=E:w=M,w&&(x.pageNextDataIndex==null&&(x.pageNextDataIndex=w.i),++x.pageCount)),E=M;for(var b=v-1,w=A,E=A,M=null;b>=-1;--b)M=P(g[b]),(!M||!R(E,M.s))&&w.i<E.i&&(E=w,x.pagePrevDataIndex==null&&(x.pagePrevDataIndex=w.i),++x.pageCount,++x.pageIndex),w=M;return x;function P(I){if(I){var L=I.getBoundingRect(),O=L[d]+I[d];return{s:O,e:O+L[f],i:I.__legendDataIndex}}}function R(I,L){return I.e>=L&&I.s<=L+u}},n.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var s,l=this.getContentGroup(),u;return l.eachChild(function(c,f){var d=c.__legendDataIndex;u==null&&d!=null&&(u=f),d===r&&(s=f)}),s!=null?s:u},n.type="legend.scroll",n}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(a){a.registerAction("legendScroll","legendscroll",function(n,r){var s=n.scrollDataIndex;s!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:n},function(l){l.setScrollDataIndex(s)})})}function install$a(a){use(install$b),a.registerComponentModel(ScrollableLegendModel$1),a.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(a)}function install$9(a){use(install$b),use(install$a)}var InsideZoomModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.inside",n.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(DataZoomModel$1);const InsideZoomModel$1=InsideZoomModel;var inner$1=makeInner();function setViewInfoToCoordSysRecord(a,n,r){inner$1(a).coordSysRecordMap.each(function(s){var l=s.dataZoomInfoMap.get(n.uid);l&&(l.getRange=r)})}function disposeCoordSysRecordIfNeeded(a,n){for(var r=inner$1(a).coordSysRecordMap,s=r.keys(),l=0;l<s.length;l++){var u=s[l],c=r.get(u),f=c.dataZoomInfoMap;if(f){var d=n.uid,v=f.get(d);v&&(f.removeKey(d),f.keys().length||disposeCoordSysRecord(r,c))}}}function disposeCoordSysRecord(a,n){if(n){a.removeKey(n.model.uid);var r=n.controller;r&&r.dispose()}}function createCoordSysRecord(a,n){var r={model:n,containsPoint:curry$1(containsPoint,n),dispatchAction:curry$1(dispatchAction,a),dataZoomInfoMap:null,controller:null},s=r.controller=new RoamController$1(a.getZr());return each$f(["pan","zoom","scrollMove"],function(l){s.on(l,function(u){var c=[];r.dataZoomInfoMap.each(function(f){if(!!u.isAvailableBehavior(f.model.option)){var d=(f.getRange||{})[l],v=d&&d(f.dzReferCoordSysInfo,r.model.mainType,r.controller,u);!f.model.get("disabled",!0)&&v&&c.push({dataZoomId:f.model.id,start:v[0],end:v[1]})}}),c.length&&r.dispatchAction(c)})}),r}function dispatchAction(a,n){a.isDisposed()||a.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function containsPoint(a,n,r,s){return a.coordinateSystem.containPoint([r,s])}function mergeControllerParams(a){var n,r="type_",s={type_true:2,type_move:1,type_false:0,type_undefined:-1},l=!0;return a.each(function(u){var c=u.model,f=c.get("disabled",!0)?!1:c.get("zoomLock",!0)?"move":!0;s[r+f]>s[r+n]&&(n=f),l=l&&c.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!l}}}function installDataZoomRoamProcessor(a){a.registerProcessor(a.PRIORITY.PROCESSOR.FILTER,function(n,r){var s=inner$1(r),l=s.coordSysRecordMap||(s.coordSysRecordMap=createHashMap());l.each(function(u){u.dataZoomInfoMap=null}),n.eachComponent({mainType:"dataZoom",subType:"inside"},function(u){var c=collectReferCoordSysModelInfo(u);each$f(c.infoList,function(f){var d=f.model.uid,v=l.get(d)||l.set(d,createCoordSysRecord(r,f.model)),g=v.dataZoomInfoMap||(v.dataZoomInfoMap=createHashMap());g.set(u.uid,{dzReferCoordSysInfo:f,model:u,getRange:null})})}),l.each(function(u){var c=u.controller,f,d=u.dataZoomInfoMap;if(d){var v=d.keys()[0];v!=null&&(f=d.get(v))}if(!f){disposeCoordSysRecord(l,u);return}var g=mergeControllerParams(d);c.enable(g.controlType,g.opt),c.setPointerChecker(u.containsPoint),createOrUpdate(u,"dispatchAction",f.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return n.prototype.render=function(r,s,l){if(a.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),setViewInfoToCoordSysRecord(l,r,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(DataZoomView$1),getRangeHandlers={zoom:function(a,n,r,s){var l=this.range,u=l.slice(),c=a.axisModels[0];if(!!c){var f=getDirectionInfo[n](null,[s.originX,s.originY],c,r,a),d=(f.signal>0?f.pixelStart+f.pixelLength-f.pixel:f.pixel-f.pixelStart)/f.pixelLength*(u[1]-u[0])+u[0],v=Math.max(1/s.scale,0);u[0]=(u[0]-d)*v+d,u[1]=(u[1]-d)*v+d;var g=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,u,[0,100],0,g.minSpan,g.maxSpan),this.range=u,l[0]!==u[0]||l[1]!==u[1])return u}},pan:makeMover(function(a,n,r,s,l,u){var c=getDirectionInfo[s]([u.oldX,u.oldY],[u.newX,u.newY],n,l,r);return c.signal*(a[1]-a[0])*c.pixel/c.pixelLength}),scrollMove:makeMover(function(a,n,r,s,l,u){var c=getDirectionInfo[s]([0,0],[u.scrollDelta,u.scrollDelta],n,l,r);return c.signal*(a[1]-a[0])*u.scrollDelta})};function makeMover(a){return function(n,r,s,l){var u=this.range,c=u.slice(),f=n.axisModels[0];if(!!f){var d=a(c,f,n,r,s,l);if(sliderMove(d,c,[0,100],"all"),this.range=c,u[0]!==c[0]||u[1]!==c[1])return c}}}var getDirectionInfo={grid:function(a,n,r,s,l){var u=r.axis,c={},f=l.model.coordinateSystem.getRect();return a=a||[0,0],u.dim==="x"?(c.pixel=n[0]-a[0],c.pixelLength=f.width,c.pixelStart=f.x,c.signal=u.inverse?1:-1):(c.pixel=n[1]-a[1],c.pixelLength=f.height,c.pixelStart=f.y,c.signal=u.inverse?-1:1),c},polar:function(a,n,r,s,l){var u=r.axis,c={},f=l.model.coordinateSystem,d=f.getRadiusAxis().getExtent(),v=f.getAngleAxis().getExtent();return a=a?f.pointToCoord(a):[0,0],n=f.pointToCoord(n),r.mainType==="radiusAxis"?(c.pixel=n[0]-a[0],c.pixelLength=d[1]-d[0],c.pixelStart=d[0],c.signal=u.inverse?1:-1):(c.pixel=n[1]-a[1],c.pixelLength=v[1]-v[0],c.pixelStart=v[0],c.signal=u.inverse?-1:1),c},singleAxis:function(a,n,r,s,l){var u=r.axis,c=l.model.coordinateSystem.getRect(),f={};return a=a||[0,0],u.orient==="horizontal"?(f.pixel=n[0]-a[0],f.pixelLength=c.width,f.pixelStart=c.x,f.signal=u.inverse?1:-1):(f.pixel=n[1]-a[1],f.pixelLength=c.height,f.pixelStart=c.y,f.signal=u.inverse?-1:1),f}};const InsideZoomView$1=InsideZoomView;function install$8(a){installCommon$1(a),a.registerComponentModel(InsideZoomModel$1),a.registerComponentView(InsideZoomView$1),installDataZoomRoamProcessor(a)}var SliderZoomModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=inheritDefaultOption(DataZoomModel$1.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(DataZoomModel$1);const SliderZoomModel$1=SliderZoomModel;var Rect=Rect$3,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._displayables={},r}return n.prototype.init=function(r,s){this.api=s,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},n.prototype.render=function(r,s,l,u){if(a.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!u||u.type!=="dataZoom"||u.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),a.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var s=this._displayables.sliderGroup=new Group$4;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(s),this._positionGroup()},n.prototype._resetLocation=function(){var r=this.dataZoomModel,s=this.api,l=r.get("brushSelect"),u=l?DEFAULT_MOVE_HANDLE_SIZE:0,c=this._findCoordRect(),f={width:s.getWidth(),height:s.getHeight()},d=this._orient===HORIZONTAL?{right:f.width-c.x-c.width,top:f.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-u,width:c.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:c.y,width:DEFAULT_FILLER_SIZE,height:c.height},v=getLayoutParams(r.option);each$f(["right","top","width","height"],function(y){v[y]==="ph"&&(v[y]=d[y])});var g=getLayoutRect(v,f);this._location={x:g.x,y:g.y},this._size=[g.width,g.height],this._orient===VERTICAL&&this._size.reverse()},n.prototype._positionGroup=function(){var r=this.group,s=this._location,l=this._orient,u=this.dataZoomModel.getFirstTargetAxisModel(),c=u&&u.get("inverse"),f=this._displayables.sliderGroup,d=(this._dataShadowInfo||{}).otherAxisInverse;f.attr(l===HORIZONTAL&&!c?{scaleY:d?1:-1,scaleX:1}:l===HORIZONTAL&&c?{scaleY:d?1:-1,scaleX:-1}:l===VERTICAL&&!c?{scaleY:d?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:d?-1:1,scaleX:-1,rotation:Math.PI/2});var v=r.getBoundingRect([f]);r.x=s.x-v.x,r.y=s.y-v.y,r.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var r=this.dataZoomModel,s=this._size,l=this._displayables.sliderGroup,u=r.get("brushSelect");l.add(new Rect({silent:!0,shape:{x:0,y:0,width:s[0],height:s[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var c=new Rect({shape:{x:0,y:0,width:s[0],height:s[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),f=this.api.getZr();u?(c.on("mousedown",this._onBrushStart,this),c.cursor="crosshair",f.on("mousemove",this._onBrush),f.on("mouseup",this._onBrushEnd)):(f.off("mousemove",this._onBrush),f.off("mouseup",this._onBrushEnd)),l.add(c)},n.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var s=this._size,l=this._shadowSize||[],u=r.series,c=u.getRawData(),f=u.getShadowDim&&u.getShadowDim(),d=f&&c.getDimensionInfo(f)?u.getShadowDim():r.otherDim;if(d==null)return;var v=this._shadowPolygonPts,g=this._shadowPolylinePts;if(c!==this._shadowData||d!==this._shadowDim||s[0]!==l[0]||s[1]!==l[1]){var y=c.getDataExtent(d),_=(y[1]-y[0])*.3;y=[y[0]-_,y[1]+_];var S=[0,s[1]],x=[0,s[0]],A=[[s[0],0],[0,0]],b=[],w=x[1]/(c.count()-1),E=0,M=Math.round(c.count()/s[0]),P;c.each([d],function(N,B){if(M>0&&B%M){E+=w;return}var F=N==null||isNaN(N)||N==="",V=F?0:linearMap$2(N,y,S,!0);F&&!P&&B?(A.push([A[A.length-1][0],0]),b.push([b[b.length-1][0],0])):!F&&P&&(A.push([E,0]),b.push([E,0])),A.push([E,V]),b.push([E,V]),E+=w,P=F}),v=this._shadowPolygonPts=A,g=this._shadowPolylinePts=b}this._shadowData=c,this._shadowDim=d,this._shadowSize=[s[0],s[1]];var R=this.dataZoomModel;function I(N){var B=R.getModel(N?"selectedDataBackground":"dataBackground"),F=new Group$4,V=new Polygon$1({shape:{points:v},segmentIgnoreThreshold:1,style:B.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),z=new Polyline$3({shape:{points:g},segmentIgnoreThreshold:1,style:B.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return F.add(V),F.add(z),F}for(var L=0;L<3;L++){var O=I(L===1);this._displayables.sliderGroup.add(O),this._displayables.dataShadowSegs.push(O)}},n.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,s=r.get("showDataShadow");if(s!==!1){var l,u=this.ecModel;return r.eachTargetAxis(function(c,f){var d=r.getAxisProxy(c,f).getTargetSeriesModels();each$f(d,function(v){if(!l&&!(s!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,v.get("type"))<0)){var g=u.getComponent(getAxisMainType(c),f).axis,y=getOtherDim(c),_,S=v.coordinateSystem;y!=null&&S.getOtherAxis&&(_=S.getOtherAxis(g).inverse),y=v.getData().mapDimension(y),l={thisAxis:g,series:v,thisDim:c,otherDim:y,otherAxisInverse:_}}},this)},this),l}},n.prototype._renderHandle=function(){var r=this.group,s=this._displayables,l=s.handles=[null,null],u=s.handleLabels=[null,null],c=this._displayables.sliderGroup,f=this._size,d=this.dataZoomModel,v=this.api,g=d.get("borderRadius")||0,y=d.get("brushSelect"),_=s.filler=new Rect({silent:y,style:{fill:d.get("fillerColor")},textConfig:{position:"inside"}});c.add(_),c.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:f[0],height:f[1],r:g},style:{stroke:d.get("dataBackgroundColor")||d.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(M){var P=d.get("handleIcon");!symbolBuildProxies[P]&&P.indexOf("path://")<0&&P.indexOf("image://")<0&&(P="path://"+P);var R=createSymbol$1(P,-1,0,2,2,null,!0);R.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,M),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var I=R.getBoundingRect(),L=d.get("handleSize");this._handleHeight=parsePercent(L,this._size[1]),this._handleWidth=I.width/I.height*this._handleHeight,R.setStyle(d.getModel("handleStyle").getItemStyle()),R.style.strokeNoScale=!0,R.rectHover=!0,R.ensureState("emphasis").style=d.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(R);var O=d.get("handleColor");O!=null&&(R.style.fill=O),c.add(l[M]=R);var N=d.getModel("textStyle");r.add(u[M]=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(N,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:N.getTextColor(),font:N.getFont()}),z2:10}))},this);var S=_;if(y){var x=parsePercent(d.get("moveHandleSize"),f[1]),A=s.moveHandle=new Rect$3({style:d.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:f[1]-.5,height:x}}),b=x*.8,w=s.moveHandleIcon=createSymbol$1(d.get("moveHandleIcon"),-b/2,-b/2,b,b,"#fff",!0);w.silent=!0,w.y=f[1]+x/2-.5,A.ensureState("emphasis").style=d.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var E=Math.min(f[1]/2,Math.max(x,10));S=s.moveZone=new Rect$3({invisible:!0,shape:{y:f[1]-E,height:x+E}}),S.on("mouseover",function(){v.enterEmphasis(A)}).on("mouseout",function(){v.leaveEmphasis(A)}),c.add(A),c.add(w),c.add(S)}S.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),s=this._getViewExtent();this._handleEnds=[linearMap$2(r[0],[0,100],s,!0),linearMap$2(r[1],[0,100],s,!0)]},n.prototype._updateInterval=function(r,s){var l=this.dataZoomModel,u=this._handleEnds,c=this._getViewExtent(),f=l.findRepresentativeAxisProxy().getMinMaxSpan(),d=[0,100];sliderMove(s,u,c,l.get("zoomLock")?"all":r,f.minSpan!=null?linearMap$2(f.minSpan,d,c,!0):null,f.maxSpan!=null?linearMap$2(f.maxSpan,d,c,!0):null);var v=this._range,g=this._range=asc$2([linearMap$2(u[0],c,d,!0),linearMap$2(u[1],c,d,!0)]);return!v||v[0]!==g[0]||v[1]!==g[1]},n.prototype._updateView=function(r){var s=this._displayables,l=this._handleEnds,u=asc$2(l.slice()),c=this._size;each$f([0,1],function(S){var x=s.handles[S],A=this._handleHeight;x.attr({scaleX:A/2,scaleY:A/2,x:l[S]+(S?-1:1),y:c[1]/2-A/2})},this),s.filler.setShape({x:u[0],y:0,width:u[1]-u[0],height:c[1]});var f={x:u[0],width:u[1]-u[0]};s.moveHandle&&(s.moveHandle.setShape(f),s.moveZone.setShape(f),s.moveZone.getBoundingRect(),s.moveHandleIcon&&s.moveHandleIcon.attr("x",f.x+f.width/2));for(var d=s.dataShadowSegs,v=[0,u[0],u[1],c[0]],g=0;g<d.length;g++){var y=d[g],_=y.getClipPath();_||(_=new Rect$3,y.setClipPath(_)),_.setShape({x:v[g],y:0,width:v[g+1]-v[g],height:c[1]})}this._updateDataInfo(r)},n.prototype._updateDataInfo=function(r){var s=this.dataZoomModel,l=this._displayables,u=l.handleLabels,c=this._orient,f=["",""];if(s.get("showDetail")){var d=s.findRepresentativeAxisProxy();if(d){var v=d.getAxisModel().axis,g=this._range,y=r?d.calculateDataWindow({start:g[0],end:g[1]}).valueWindow:d.getDataValueWindow();f=[this._formatLabel(y[0],v),this._formatLabel(y[1],v)]}}var _=asc$2(this._handleEnds.slice());S.call(this,0),S.call(this,1);function S(x){var A=getTransform$1(l.handles[x].parent,this.group),b=transformDirection(x===0?"right":"left",A),w=this._handleWidth/2+LABEL_GAP,E=applyTransform([_[x]+(x===0?-w:w),this._size[1]/2],A);u[x].setStyle({x:E[0],y:E[1],verticalAlign:c===HORIZONTAL?"middle":b,align:c===HORIZONTAL?b:"center",text:f[x]})}},n.prototype._formatLabel=function(r,s){var l=this.dataZoomModel,u=l.get("labelFormatter"),c=l.get("labelPrecision");(c==null||c==="auto")&&(c=s.getPixelPrecision());var f=r==null||isNaN(r)?"":s.type==="category"||s.type==="time"?s.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(c,20));return isFunction(u)?u(r,f):isString(u)?u.replace("{value}",f):f},n.prototype._showDataInfo=function(r){r=this._dragging||r;var s=this._displayables,l=s.handleLabels;l[0].attr("invisible",!r),l[1].attr("invisible",!r),s.moveHandle&&this.api[r?"enterEmphasis":"leaveEmphasis"](s.moveHandle,1)},n.prototype._onDragMove=function(r,s,l,u){this._dragging=!0,stop(u.event);var c=this._displayables.sliderGroup.getLocalTransform(),f=applyTransform([s,l],c,!0),d=this._updateInterval(r,f[0]),v=this.dataZoomModel.get("realtime");this._updateView(!v),d&&v&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(r){var s=this._size,l=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(l[0]<0||l[0]>s[0]||l[1]<0||l[1]>s[1])){var u=this._handleEnds,c=(u[0]+u[1])/2,f=this._updateInterval("all",l[0]-c);this._updateView(),f&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(r){var s=r.offsetX,l=r.offsetY;this._brushStart=new Point$1(s,l),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(r){if(!!this._brushing){var s=this._displayables.brushRect;if(this._brushing=!1,!!s){s.attr("ignore",!0);var l=s.shape,u=+new Date;if(!(u-this._brushStartTime<200&&Math.abs(l.width)<5)){var c=this._getViewExtent(),f=[0,100];this._range=asc$2([linearMap$2(l.x,c,f,!0),linearMap$2(l.x+l.width,c,f,!0)]),this._handleEnds=[l.x,l.x+l.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(r){this._brushing&&(stop(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},n.prototype._updateBrushRect=function(r,s){var l=this._displayables,u=this.dataZoomModel,c=l.brushRect;c||(c=l.brushRect=new Rect({silent:!0,style:u.getModel("brushStyle").getItemStyle()}),l.sliderGroup.add(c)),c.attr("ignore",!1);var f=this._brushStart,d=this._displayables.sliderGroup,v=d.transformCoordToLocal(r,s),g=d.transformCoordToLocal(f.x,f.y),y=this._size;v[0]=Math.max(Math.min(y[0],v[0]),0),c.setShape({x:g[0],y:0,width:v[0]-g[0],height:y[1]})},n.prototype._dispatchZoomAction=function(r){var s=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?REALTIME_ANIMATION_CONFIG:null,start:s[0],end:s[1]})},n.prototype._findCoordRect=function(){var r,s=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!r&&s.length){var l=s[0].model.coordinateSystem;r=l.getRect&&l.getRect()}if(!r){var u=this.api.getWidth(),c=this.api.getHeight();r={x:u*.2,y:c*.2,width:u*.6,height:c*.6}}return r},n.type="dataZoom.slider",n}(DataZoomView$1);function getOtherDim(a){var n={x:"y",y:"x",radius:"angle",angle:"radius"};return n[a]}function getCursor$1(a){return a==="vertical"?"ns-resize":"ew-resize"}const SliderZoomView$1=SliderZoomView;function install$7(a){a.registerComponentModel(SliderZoomModel$1),a.registerComponentView(SliderZoomView$1),installCommon$1(a)}function install$6(a){use(install$8),use(install$7)}var visualDefault={get:function(a,n,r){var s=clone$4((defaultOption[a]||{})[n]);return r&&isArray$2(s)?s[s.length-1]:s}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const visualDefault$1=visualDefault;var mapVisual=VisualMapping$1.mapVisual,eachVisual=VisualMapping$1.eachVisual,isArray$1=isArray$2,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return n.prototype.init=function(r,s,l){this.mergeDefaultAndTheme(r,l)},n.prototype.optionUpdated=function(r,s){var l=this.option;!s&&replaceVisualOption(l,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(r){var s=this.stateList;r=bind$1(r,this),this.controllerVisuals=createVisualMappings(this.option.controller,s,r),this.targetVisuals=createVisualMappings(this.option.target,s,r)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,s=[];return r==null||r==="all"?this.ecModel.eachSeries(function(l,u){s.push(u)}):s=normalizeToArray(r),s},n.prototype.eachTargetSeries=function(r,s){each$f(this.getTargetSeriesIndices(),function(l){var u=this.ecModel.getSeriesByIndex(l);u&&r.call(s,u)},this)},n.prototype.isTargetSeries=function(r){var s=!1;return this.eachTargetSeries(function(l){l===r&&(s=!0)}),s},n.prototype.formatValueText=function(r,s,l){var u=this.option,c=u.precision,f=this.dataBound,d=u.formatter,v;l=l||["<",">"],isArray$2(r)&&(r=r.slice(),v=!0);var g=s?r:v?[y(r[0]),y(r[1])]:y(r);if(isString(d))return d.replace("{value}",v?g[0]:g).replace("{value2}",v?g[1]:g);if(isFunction(d))return v?d(r[0],r[1]):d(r);if(v)return r[0]===f[0]?l[0]+" "+g[1]:r[1]===f[1]?l[1]+" "+g[0]:g[0]+" - "+g[1];return g;function y(_){return _===f[0]?"min":_===f[1]?"max":(+_).toFixed(Math.min(c,20))}},n.prototype.resetExtent=function(){var r=this.option,s=asc([r.min,r.max]);this._dataExtent=s},n.prototype.getDataDimensionIndex=function(r){var s=this.option.dimension;if(s!=null)return r.getDimensionIndex(s);for(var l=r.dimensions,u=l.length-1;u>=0;u--){var c=l[u],f=r.getDimensionInfo(c);if(!f.isCalculationCoord)return f.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var r=this.ecModel,s=this.option,l={inRange:s.inRange,outOfRange:s.outOfRange},u=s.target||(s.target={}),c=s.controller||(s.controller={});merge(u,l),merge(c,l);var f=this.isCategory();d.call(this,u),d.call(this,c),v.call(this,u,"inRange","outOfRange"),g.call(this,c);function d(y){isArray$1(s.color)&&!y.inRange&&(y.inRange={color:s.color.slice().reverse()}),y.inRange=y.inRange||{color:r.get("gradientColor")}}function v(y,_,S){var x=y[_],A=y[S];x&&!A&&(A=y[S]={},each$2(x,function(b,w){if(!!VisualMapping$1.isValidType(w)){var E=visualDefault$1.get(w,"inactive",f);E!=null&&(A[w]=E,w==="color"&&!A.hasOwnProperty("opacity")&&!A.hasOwnProperty("colorAlpha")&&(A.opacity=[0,0]))}}))}function g(y){var _=(y.inRange||{}).symbol||(y.outOfRange||{}).symbol,S=(y.inRange||{}).symbolSize||(y.outOfRange||{}).symbolSize,x=this.get("inactiveColor"),A=this.getItemSymbol(),b=A||"roundRect";each$2(this.stateList,function(w){var E=this.itemSize,M=y[w];M||(M=y[w]={color:f?x:[x]}),M.symbol==null&&(M.symbol=_&&clone$4(_)||(f?b:[b])),M.symbolSize==null&&(M.symbolSize=S&&clone$4(S)||(f?E[0]:[E[0],E[0]])),M.symbol=mapVisual(M.symbol,function(I){return I==="none"?b:I});var P=M.symbolSize;if(P!=null){var R=-1/0;eachVisual(P,function(I){I>R&&(R=I)}),M.symbolSize=mapVisual(P,function(I){return linearMap$1(I,[0,R],[0,E[0]],!0)})}},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(r){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(r){return null},n.prototype.getVisualMeta=function(r){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(ComponentModel$1);const VisualMapModel$1=VisualMapModel;var DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(r,s){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(l){l.mappingMethod="linear",l.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){a.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=DEFAULT_BAR_BOUND[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=DEFAULT_BAR_BOUND[1])},n.prototype._resetRange=function(){var r=this.getExtent(),s=this.option.range;!s||s.auto?(r.auto=1,this.option.range=r):isArray$2(s)&&(s[0]>s[1]&&s.reverse(),s[0]=Math.max(s[0],r[0]),s[1]=Math.min(s[1],r[1]))},n.prototype.completeVisualOption=function(){a.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(r){var s=this.option.controller[r].symbolSize;s&&s[0]!==s[1]&&(s[0]=s[1]/3)},this)},n.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},n.prototype.getSelected=function(){var r=this.getExtent(),s=asc$2((this.get("range")||[]).slice());return s[0]>r[1]&&(s[0]=r[1]),s[1]>r[1]&&(s[1]=r[1]),s[0]<r[0]&&(s[0]=r[0]),s[1]<r[0]&&(s[1]=r[0]),s},n.prototype.getValueState=function(r){var s=this.option.range,l=this.getExtent();return(s[0]<=l[0]||s[0]<=r)&&(s[1]>=l[1]||r<=s[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var s=[];return this.eachTargetSeries(function(l){var u=[],c=l.getData();c.each(this.getDataDimensionIndex(c),function(f,d){r[0]<=f&&f<=r[1]&&u.push(d)},this),s.push({seriesId:l.id,dataIndex:u})},this),s},n.prototype.getVisualMeta=function(r){var s=getColorStopValues(this,"outOfRange",this.getExtent()),l=getColorStopValues(this,"inRange",this.option.range.slice()),u=[];function c(S,x){u.push({value:S,color:r(S,x)})}for(var f=0,d=0,v=l.length,g=s.length;d<g&&(!l.length||s[d]<=l[0]);d++)s[d]<l[f]&&c(s[d],"outOfRange");for(var y=1;f<v;f++,y=0)y&&u.length&&c(l[f],"outOfRange"),c(l[f],"inRange");for(var y=1;d<g;d++)(!l.length||l[l.length-1]<s[d])&&(y&&(u.length&&c(u[u.length-1].value,"outOfRange"),y=0),c(s[d],"outOfRange"));var _=u.length;return{stops:u,outerColors:[_?u[0].color:"transparent",_?u[_-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(VisualMapModel$1);function getColorStopValues(a,n,r){if(r[0]===r[1])return r.slice();for(var s=200,l=(r[1]-r[0])/s,u=r[0],c=[],f=0;f<=s&&u<r[1];f++)c.push(u),u+=l;return c.push(r[1]),c}const ContinuousModel$1=ContinuousModel;var VisualMapView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return n.prototype.init=function(r,s){this.ecModel=r,this.api=s},n.prototype.render=function(r,s,l,u){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,s,l,u)},n.prototype.renderBackground=function(r){var s=this.visualMapModel,l=normalizeCssArray(s.get("padding")||0),u=r.getBoundingRect();r.add(new Rect$3({z2:-1,silent:!0,shape:{x:u.x-l[3],y:u.y-l[0],width:u.width+l[3]+l[1],height:u.height+l[0]+l[2]},style:{fill:s.get("backgroundColor"),stroke:s.get("borderColor"),lineWidth:s.get("borderWidth")}}))},n.prototype.getControllerVisual=function(r,s,l){l=l||{};var u=l.forceState,c=this.visualMapModel,f={};if(s==="color"){var d=c.get("contentColor");f.color=d}function v(S){return f[S]}function g(S,x){f[S]=x}var y=c.controllerVisuals[u||c.getValueState(r)],_=VisualMapping$1.prepareVisualTypes(y);return each$f(_,function(S){var x=y[S];l.convertOpacityToAlpha&&S==="opacity"&&(S="colorAlpha",x=y.__alphaForOpacity),VisualMapping$1.dependsOn(S,s)&&x&&x.applyVisual(r,v,g)}),f[s]},n.prototype.positionGroup=function(r){var s=this.visualMapModel,l=this.api;positionElement(r,s.getBoxLayoutParams(),{width:l.getWidth(),height:l.getHeight()})},n.prototype.doRender=function(r,s,l,u){},n.type="visualMap",n}(ComponentView$1);const VisualMapView$1=VisualMapView;var paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(a,n,r){var s=a.option,l=s.align;if(l!=null&&l!=="auto")return l;for(var u={width:n.getWidth(),height:n.getHeight()},c=s.orient==="horizontal"?1:0,f=paramsSet[c],d=[0,null,10],v={},g=0;g<3;g++)v[paramsSet[1-c][g]]=d[g],v[f[g]]=g===2?r[0]:s[f[g]];var y=[["x","width",3],["y","height",0]][c],_=getLayoutRect(v,u,s.padding);return f[(_.margin[y[2]]||0)+_[y[0]]+_[y[1]]*.5<u[y[1]]*.5?0:1]}function makeHighDownBatch(a,n){return each$f(a||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(n?n.componentIndex:"")}),a}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return n.prototype.doRender=function(r,s,l,u){this._api=l,(!u||u.type!=="selectDataRange"||u.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,s=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(s);var l=r.get("text");this._renderEndsText(s,l,0),this._renderEndsText(s,l,1),this._updateView(!0),this.renderBackground(s),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(s)},n.prototype._renderEndsText=function(r,s,l){if(!!s){var u=s[1-l];u=u!=null?u+"":"";var c=this.visualMapModel,f=c.get("textGap"),d=c.itemSize,v=this._shapes.mainGroup,g=this._applyTransform([d[0]/2,l===0?-f:d[1]+f],v),y=this._applyTransform(l===0?"bottom":"top",v),_=this._orient,S=this.visualMapModel.textStyleModel;this.group.add(new ZRText$1({style:createTextStyle(S,{x:g[0],y:g[1],verticalAlign:_==="horizontal"?"middle":y,align:_==="horizontal"?y:"center",text:u})}))}},n.prototype._renderBar=function(r){var s=this.visualMapModel,l=this._shapes,u=s.itemSize,c=this._orient,f=this._useHandle,d=getItemAlign(s,this.api,u),v=l.mainGroup=this._createBarGroup(d),g=new Group$4;v.add(g),g.add(l.outOfRange=createPolygon()),g.add(l.inRange=createPolygon(null,f?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),g.setClipPath(new Rect$3({shape:{x:0,y:0,width:u[0],height:u[1],r:3}}));var y=s.textStyleModel.getTextRect("\u56FD"),_=mathMax(y.width,y.height);f&&(l.handleThumbs=[],l.handleLabels=[],l.handleLabelPoints=[],this._createHandle(s,v,0,u,_,c),this._createHandle(s,v,1,u,_,c)),this._createIndicator(s,v,u,_,c),r.add(v)},n.prototype._createHandle=function(r,s,l,u,c,f){var d=bind$1(this._dragHandle,this,l,!1),v=bind$1(this._dragHandle,this,l,!0),g=parsePercent$1(r.get("handleSize"),u[0]),y=createSymbol$1(r.get("handleIcon"),-g/2,-g/2,g,g,null,!0),_=getCursor(this._orient);y.attr({cursor:_,draggable:!0,drift:d,ondragend:v,onmousemove:function(w){stop(w.event)}}),y.x=u[0]/2,y.useStyle(r.getModel("handleStyle").getItemStyle()),y.setStyle({strokeNoScale:!0,strokeFirst:!0}),y.style.lineWidth*=2,y.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(y,!0),s.add(y);var S=this.visualMapModel.textStyleModel,x=new ZRText$1({cursor:_,draggable:!0,drift:d,onmousemove:function(w){stop(w.event)},ondragend:v,style:createTextStyle(S,{x:0,y:0,text:""})});x.ensureState("blur").style={opacity:.1},x.stateTransition={duration:200},this.group.add(x);var A=[g,0],b=this._shapes;b.handleThumbs[l]=y,b.handleLabelPoints[l]=A,b.handleLabels[l]=x},n.prototype._createIndicator=function(r,s,l,u,c){var f=parsePercent$1(r.get("indicatorSize"),l[0]),d=createSymbol$1(r.get("indicatorIcon"),-f/2,-f/2,f,f,null,!0);d.attr({cursor:"move",invisible:!0,silent:!0,x:l[0]/2});var v=r.getModel("indicatorStyle").getItemStyle();if(d instanceof ZRImage$1){var g=d.style;d.useStyle(extend({image:g.image,x:g.x,y:g.y,width:g.width,height:g.height},v))}else d.useStyle(v);s.add(d);var y=this.visualMapModel.textStyleModel,_=new ZRText$1({silent:!0,invisible:!0,style:createTextStyle(y,{x:0,y:0,text:""})});this.group.add(_);var S=[(c==="horizontal"?u/2:HOVER_LINK_OUT)+l[0]/2,0],x=this._shapes;x.indicator=d,x.indicatorLabel=_,x.indicatorLabelPoint=S,this._firstShowIndicator=!0},n.prototype._dragHandle=function(r,s,l,u){if(!!this._useHandle){if(this._dragging=!s,!s){var c=this._applyTransform([l,u],this._shapes.mainGroup,!0);this._updateInterval(r,c[1]),this._hideIndicator(),this._updateView()}s===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),s?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},n.prototype._resetInterval=function(){var r=this.visualMapModel,s=this._dataInterval=r.getSelected(),l=r.getExtent(),u=[0,r.itemSize[1]];this._handleEnds=[linearMap(s[0],l,u,!0),linearMap(s[1],l,u,!0)]},n.prototype._updateInterval=function(r,s){s=s||0;var l=this.visualMapModel,u=this._handleEnds,c=[0,l.itemSize[1]];sliderMove(s,u,c,r,0);var f=l.getExtent();this._dataInterval=[linearMap(u[0],c,f,!0),linearMap(u[1],c,f,!0)]},n.prototype._updateView=function(r){var s=this.visualMapModel,l=s.getExtent(),u=this._shapes,c=[0,s.itemSize[1]],f=r?c:this._handleEnds,d=this._createBarVisual(this._dataInterval,l,f,"inRange"),v=this._createBarVisual(l,l,c,"outOfRange");u.inRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),u.outOfRange.setStyle({fill:v.barColor}).setShape("points",v.barPoints),this._updateHandle(f,d)},n.prototype._createBarVisual=function(r,s,l,u){var c={forceState:u,convertOpacityToAlpha:!0},f=this._makeColorGradient(r,c),d=[this.getControllerVisual(r[0],"symbolSize",c),this.getControllerVisual(r[1],"symbolSize",c)],v=this._createBarPoints(l,d);return{barColor:new LinearGradient$1(0,0,0,1,f),barPoints:v,handlesColor:[f[0].color,f[f.length-1].color]}},n.prototype._makeColorGradient=function(r,s){var l=100,u=[],c=(r[1]-r[0])/l;u.push({color:this.getControllerVisual(r[0],"color",s),offset:0});for(var f=1;f<l;f++){var d=r[0]+c*f;if(d>r[1])break;u.push({color:this.getControllerVisual(d,"color",s),offset:f/l})}return u.push({color:this.getControllerVisual(r[1],"color",s),offset:1}),u},n.prototype._createBarPoints=function(r,s){var l=this.visualMapModel.itemSize;return[[l[0]-s[0],r[0]],[l[0],r[0]],[l[0],r[1]],[l[0]-s[1],r[1]]]},n.prototype._createBarGroup=function(r){var s=this._orient,l=this.visualMapModel.get("inverse");return new Group$4(s==="horizontal"&&!l?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:s==="horizontal"&&l?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:s==="vertical"&&!l?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},n.prototype._updateHandle=function(r,s){if(!!this._useHandle){var l=this._shapes,u=this.visualMapModel,c=l.handleThumbs,f=l.handleLabels,d=u.itemSize,v=u.getExtent();each$1([0,1],function(g){var y=c[g];y.setStyle("fill",s.handlesColor[g]),y.y=r[g];var _=linearMap(r[g],[0,d[1]],v,!0),S=this.getControllerVisual(_,"symbolSize");y.scaleX=y.scaleY=S/d[0],y.x=d[0]-S/2;var x=applyTransform(l.handleLabelPoints[g],getTransform$1(y,this.group));f[g].setStyle({x:x[0],y:x[1],text:u.formatValueText(this._dataInterval[g]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",l.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(r,s,l,u){var c=this.visualMapModel,f=c.getExtent(),d=c.itemSize,v=[0,d[1]],g=this._shapes,y=g.indicator;if(!!y){y.attr("invisible",!1);var _={convertOpacityToAlpha:!0},S=this.getControllerVisual(r,"color",_),x=this.getControllerVisual(r,"symbolSize"),A=linearMap(r,f,v,!0),b=d[0]-x/2,w={x:y.x,y:y.y};y.y=A,y.x=b;var E=applyTransform(g.indicatorLabelPoint,getTransform$1(y,this.group)),M=g.indicatorLabel;M.attr("invisible",!1);var P=this._applyTransform("left",g.mainGroup),R=this._orient,I=R==="horizontal";M.setStyle({text:(l||"")+c.formatValueText(s),verticalAlign:I?P:"middle",align:I?"center":P});var L={x:b,y:A,style:{fill:S}},O={style:{x:E[0],y:E[1]}};if(c.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var N={duration:100,easing:"cubicInOut",additive:!0};y.x=w.x,y.y=w.y,y.animateTo(L,N),M.animateTo(O,N)}else y.attr(L),M.attr(O);this._firstShowIndicator=!1;var B=this._shapes.handleLabels;if(B)for(var F=0;F<B.length;F++)this._api.enterBlur(B[F])}},n.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(s){if(r._hovering=!0,!r._dragging){var l=r.visualMapModel.itemSize,u=r._applyTransform([s.offsetX,s.offsetY],r._shapes.mainGroup,!0,!0);u[1]=mathMin(mathMax(0,u[1]),l[1]),r._doHoverLinkToSeries(u[1],0<=u[0]&&u[0]<=l[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(r,s){var l=this.visualMapModel,u=l.itemSize;if(!!l.option.hoverLink){var c=[0,u[1]],f=l.getExtent();r=mathMin(mathMax(c[0],r),c[1]);var d=getHalfHoverLinkSize(l,f,c),v=[r-d,r+d],g=linearMap(r,c,f,!0),y=[linearMap(v[0],c,f,!0),linearMap(v[1],c,f,!0)];v[0]<c[0]&&(y[0]=-1/0),v[1]>c[1]&&(y[1]=1/0),s&&(y[0]===-1/0?this._showIndicator(g,y[1],"< ",d):y[1]===1/0?this._showIndicator(g,y[0],"> ",d):this._showIndicator(g,g,"\u2248 ",d));var _=this._hoverLinkDataIndices,S=[];(s||useHoverLinkOnHandle(l))&&(S=this._hoverLinkDataIndices=l.findTargetDataIndices(y));var x=compressBatches(_,S);this._dispatchHighDown("downplay",makeHighDownBatch(x[0],l)),this._dispatchHighDown("highlight",makeHighDownBatch(x[1],l))}},n.prototype._hoverLinkFromSeriesMouseOver=function(r){var s;if(findEventDispatcher(r.target,function(d){var v=getECData(d);if(v.dataIndex!=null)return s=v,!0},!0),!!s){var l=this.ecModel.getSeriesByIndex(s.seriesIndex),u=this.visualMapModel;if(!!u.isTargetSeries(l)){var c=l.getData(s.dataType),f=c.getStore().get(u.getDataDimensionIndex(c),s.dataIndex);isNaN(f)||this._showIndicator(f,f)}}},n.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var s=this._shapes.handleLabels;if(s)for(var l=0;l<s.length;l++)this._api.leaveBlur(s[l])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(r,this.visualMapModel)),r.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(r,s,l,u){var c=getTransform$1(s,u?null:this.group);return isArray$2(r)?applyTransform(r,c,l):transformDirection(r,c,l)},n.prototype._dispatchHighDown=function(r,s){s&&s.length&&this.api.dispatchAction({type:r,batch:s})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n}(VisualMapView$1);function createPolygon(a,n,r,s){return new Polygon$1({shape:{points:a},draggable:!!r,cursor:n,drift:r,onmousemove:function(l){stop(l.event)},ondragend:s})}function getHalfHoverLinkSize(a,n,r){var s=HOVER_LINK_SIZE/2,l=a.get("hoverLinkDataSize");return l&&(s=linearMap(l,n,r,!0)/2),s}function useHoverLinkOnHandle(a){var n=a.get("hoverLinkOnHandle");return!!(n==null?a.get("realtime"):n)}function getCursor(a){return a==="vertical"?"ns-resize":"ew-resize"}const ContinuousView$1=ContinuousView;var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(a,n){n.eachComponent({mainType:"visualMap",query:a},function(r){r.setSelected(a.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(a,n){var r=[];return n.eachComponent("visualMap",function(s){var l=a.pipelineContext;!s.isTargetSeries(a)||l&&l.large||r.push(incrementalApplyVisual(s.stateList,s.targetVisuals,bind$1(s.getValueState,s),s.getDataDimensionIndex(a.getData())))}),r}},{createOnAllSeries:!0,reset:function(a,n){var r=a.getData(),s=[];n.eachComponent("visualMap",function(l){if(l.isTargetSeries(a)){var u=l.getVisualMeta(bind$1(getColorVisual,null,a,l))||{stops:[],outerColors:[]},c=l.getDataDimensionIndex(r);c>=0&&(u.dimension=c,s.push(u))}}),a.getData().setVisual("visualMeta",s)}}];function getColorVisual(a,n,r,s){for(var l=n.targetVisuals[s],u=VisualMapping$1.prepareVisualTypes(l),c={color:getVisualFromData(a.getData(),"color")},f=0,d=u.length;f<d;f++){var v=u[f],g=l[v==="opacity"?"__alphaForOpacity":v];g&&g.applyVisual(r,y,_)}return c.color;function y(S){return c[S]}function _(S,x){c[S]=x}}var each=each$f;function visualMapPreprocessor(a){var n=a&&a.visualMap;isArray$2(n)||(n=n?[n]:[]),each(n,function(r){if(!!r){has(r,"splitList")&&!has(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var s=r.pieces;s&&isArray$2(s)&&each(s,function(l){isObject$3(l)&&(has(l,"start")&&!has(l,"min")&&(l.min=l.start),has(l,"end")&&!has(l,"max")&&(l.max=l.end))})}})}function has(a,n){return a&&a.hasOwnProperty&&a.hasOwnProperty(n)}var installed=!1;function installCommon(a){installed||(installed=!0,a.registerSubTypeDefaulter("visualMap",function(n){return!n.categories&&(!(n.pieces?n.pieces.length>0:n.splitNumber>0)||n.calculable)?"continuous":"piecewise"}),a.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(n){a.registerVisual(a.PRIORITY.VISUAL.COMPONENT,n)}),a.registerPreprocessor(visualMapPreprocessor))}function install$5(a){a.registerComponentModel(ContinuousModel$1),a.registerComponentView(ContinuousView$1),installCommon(a)}var PiecewiseModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r._pieceList=[],r}return n.prototype.optionUpdated=function(r,s){a.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var l=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(r,s);var u=this.option.categories;this.resetVisual(function(c,f){l==="categories"?(c.mappingMethod="category",c.categories=clone$4(u)):(c.dataExtent=this.getExtent(),c.mappingMethod="piecewise",c.pieceList=map$1(this._pieceList,function(d){return d=clone$4(d),f!=="inRange"&&(d.visual=null),d}))})},n.prototype.completeVisualOption=function(){var r=this.option,s={},l=VisualMapping$1.listVisualTypes(),u=this.isCategory();each$f(r.pieces,function(f){each$f(l,function(d){f.hasOwnProperty(d)&&(s[d]=1)})}),each$f(s,function(f,d){var v=!1;each$f(this.stateList,function(g){v=v||c(r,g,d)||c(r.target,g,d)},this),!v&&each$f(this.stateList,function(g){(r[g]||(r[g]={}))[d]=visualDefault$1.get(d,g==="inRange"?"active":"inactive",u)})},this);function c(f,d,v){return f&&f[d]&&f[d].hasOwnProperty(v)}a.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(r,s){var l=this.option,u=this._pieceList,c=(s?l:r).selected||{};if(l.selected=c,each$f(u,function(d,v){var g=this.getSelectedMapKey(d);c.hasOwnProperty(g)||(c[g]=!0)},this),l.selectedMode==="single"){var f=!1;each$f(u,function(d,v){var g=this.getSelectedMapKey(d);c[g]&&(f?c[g]=!1:f=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(r){this.option.selected=clone$4(r)},n.prototype.getValueState=function(r){var s=VisualMapping$1.findPieceIndex(r,this._pieceList);return s!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[s])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var s=[],l=this._pieceList;return this.eachTargetSeries(function(u){var c=[],f=u.getData();f.each(this.getDataDimensionIndex(f),function(d,v){var g=VisualMapping$1.findPieceIndex(d,l);g===r&&c.push(v)},this),s.push({seriesId:u.id,dataIndex:c})},this),s},n.prototype.getRepresentValue=function(r){var s;if(this.isCategory())s=r.value;else if(r.value!=null)s=r.value;else{var l=r.interval||[];s=l[0]===-1/0&&l[1]===1/0?0:(l[0]+l[1])/2}return s},n.prototype.getVisualMeta=function(r){if(this.isCategory())return;var s=[],l=["",""],u=this;function c(g,y){var _=u.getRepresentValue({interval:g});y||(y=u.getValueState(_));var S=r(_,y);g[0]===-1/0?l[0]=S:g[1]===1/0?l[1]=S:s.push({value:g[0],color:S},{value:g[1],color:S})}var f=this._pieceList.slice();if(!f.length)f.push({interval:[-1/0,1/0]});else{var d=f[0].interval[0];d!==-1/0&&f.unshift({interval:[-1/0,d]}),d=f[f.length-1].interval[1],d!==1/0&&f.push({interval:[d,1/0]})}var v=-1/0;return each$f(f,function(g){var y=g.interval;y&&(y[0]>v&&c([v,y[0]],"outOfRange"),c(y.slice()),v=y[1])},this),{stops:s,outerColors:l}},n.type="visualMap.piecewise",n.defaultOption=inheritDefaultOption(VisualMapModel$1.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(VisualMapModel$1),resetMethods={splitNumber:function(a){var n=this.option,r=Math.min(n.precision,20),s=this.getExtent(),l=n.splitNumber;l=Math.max(parseInt(l,10),1),n.splitNumber=l;for(var u=(s[1]-s[0])/l;+u.toFixed(r)!==u&&r<5;)r++;n.precision=r,u=+u.toFixed(r),n.minOpen&&a.push({interval:[-1/0,s[0]],close:[0,0]});for(var c=0,f=s[0];c<l;f+=u,c++){var d=c===l-1?s[1]:f+u;a.push({interval:[f,d],close:[1,1]})}n.maxOpen&&a.push({interval:[s[1],1/0],close:[0,0]}),reformIntervals(a),each$f(a,function(v,g){v.index=g,v.text=this.formatValueText(v.interval)},this)},categories:function(a){var n=this.option;each$f(n.categories,function(r){a.push({text:this.formatValueText(r,!0),value:r})},this),normalizeReverse(n,a)},pieces:function(a){var n=this.option;each$f(n.pieces,function(r,s){isObject$3(r)||(r={value:r});var l={text:"",index:s};if(r.label!=null&&(l.text=r.label),r.hasOwnProperty("value")){var u=l.value=r.value;l.interval=[u,u],l.close=[1,1]}else{for(var c=l.interval=[],f=l.close=[0,0],d=[1,0,1],v=[-1/0,1/0],g=[],y=0;y<2;y++){for(var _=[["gte","gt","min"],["lte","lt","max"]][y],S=0;S<3&&c[y]==null;S++)c[y]=r[_[S]],f[y]=d[S],g[y]=S===2;c[y]==null&&(c[y]=v[y])}g[0]&&c[1]===1/0&&(f[0]=0),g[1]&&c[0]===-1/0&&(f[1]=0),c[0]===c[1]&&f[0]&&f[1]&&(l.value=c[0])}l.visual=VisualMapping$1.retrieveVisuals(r),a.push(l)},this),normalizeReverse(n,a),reformIntervals(a),each$f(a,function(r){var s=r.close,l=[["<","\u2264"][s[1]],[">","\u2265"][s[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,l)},this)}};function normalizeReverse(a,n){var r=a.inverse;(a.orient==="vertical"?!r:r)&&n.reverse()}const PiecewiseModel$1=PiecewiseModel;var PiecewiseVisualMapView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.doRender=function(){var r=this.group;r.removeAll();var s=this.visualMapModel,l=s.get("textGap"),u=s.textStyleModel,c=u.getFont(),f=u.getTextColor(),d=this._getItemAlign(),v=s.itemSize,g=this._getViewData(),y=g.endsText,_=retrieve(s.get("showLabel",!0),!y);y&&this._renderEndsText(r,y[0],v,_,d),each$f(g.viewPieceList,function(S){var x=S.piece,A=new Group$4;A.onclick=bind$1(this._onItemClick,this,x),this._enableHoverLink(A,S.indexInModelPieceList);var b=s.getRepresentValue(x);if(this._createItemSymbol(A,b,[0,0,v[0],v[1]]),_){var w=this.visualMapModel.getValueState(b);A.add(new ZRText$1({style:{x:d==="right"?-l:v[0]+l,y:v[1]/2,text:x.text,verticalAlign:"middle",align:d,font:c,fill:f,opacity:w==="outOfRange"?.5:1}}))}r.add(A)},this),y&&this._renderEndsText(r,y[1],v,_,d),box(s.get("orient"),r,s.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},n.prototype._enableHoverLink=function(r,s){var l=this;r.on("mouseover",function(){return u("highlight")}).on("mouseout",function(){return u("downplay")});var u=function(c){var f=l.visualMapModel;f.option.hoverLink&&l.api.dispatchAction({type:c,batch:makeHighDownBatch(f.findTargetDataIndices(s),f)})}},n.prototype._getItemAlign=function(){var r=this.visualMapModel,s=r.option;if(s.orient==="vertical")return getItemAlign(r,this.api,r.itemSize);var l=s.align;return(!l||l==="auto")&&(l="left"),l},n.prototype._renderEndsText=function(r,s,l,u,c){if(!!s){var f=new Group$4,d=this.visualMapModel.textStyleModel;f.add(new ZRText$1({style:createTextStyle(d,{x:u?c==="right"?l[0]:0:l[0]/2,y:l[1]/2,verticalAlign:"middle",align:u?c:"center",text:s})})),r.add(f)}},n.prototype._getViewData=function(){var r=this.visualMapModel,s=map$1(r.getPieceList(),function(f,d){return{piece:f,indexInModelPieceList:d}}),l=r.get("text"),u=r.get("orient"),c=r.get("inverse");return(u==="horizontal"?c:!c)?s.reverse():l&&(l=l.slice().reverse()),{viewPieceList:s,endsText:l}},n.prototype._createItemSymbol=function(r,s,l){r.add(createSymbol$1(this.getControllerVisual(s,"symbol"),l[0],l[1],l[2],l[3],this.getControllerVisual(s,"color")))},n.prototype._onItemClick=function(r){var s=this.visualMapModel,l=s.option,u=l.selectedMode;if(!!u){var c=clone$4(l.selected),f=s.getSelectedMapKey(r);u==="single"||u===!0?(c[f]=!0,each$f(c,function(d,v){c[v]=v===f})):c[f]=!c[f],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:c})}},n.type="visualMap.piecewise",n}(VisualMapView$1);const PiecewiseView=PiecewiseVisualMapView;function install$4(a){a.registerComponentModel(PiecewiseModel$1),a.registerComponentView(PiecewiseView),installCommon(a)}function install$3(a){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(a,n){var r=a.getModel("aria");if(!r.get("enabled"))return;var s=clone$4(DEFAULT_OPTION);merge(s.label,a.getLocaleModel().get("aria"),!1),merge(r.option,s,!1),l(),u();function l(){var v=r.getModel("decal"),g=v.get("show");if(g){var y=createHashMap();a.eachSeries(function(_){if(!_.isColorBySeries()){var S=y.get(_.type);S||(S={},y.set(_.type,S)),inner(_).scope=S}}),a.eachRawSeries(function(_){if(a.isSeriesFiltered(_))return;if(isFunction(_.enableAriaDecal)){_.enableAriaDecal();return}var S=_.getData();if(_.isColorBySeries()){var E=getDecalFromPalette(_.ecModel,_.name,decalPaletteScope,a.getSeriesCount()),M=S.getVisual("decal");S.setVisual("decal",P(M,E))}else{var x=_.getRawData(),A={},b=inner(_).scope;S.each(function(R){var I=S.getRawIndex(R);A[I]=R});var w=x.count();x.each(function(R){var I=A[R],L=x.getName(R)||R+"",O=getDecalFromPalette(_.ecModel,L,b,w),N=S.getItemVisual(I,"decal");S.setItemVisual(I,"decal",P(N,O))})}function P(R,I){var L=R?extend(extend({},I),R):I;return L.dirty=!0,L}})}}function u(){var v=a.getLocaleModel().get("aria"),g=r.getModel("label");if(g.option=defaults(g.option,v),!!g.get("enabled")){var y=n.getZr().dom;if(g.get("description")){y.setAttribute("aria-label",g.get("description"));return}var _=a.getSeriesCount(),S=g.get(["data","maxCount"])||10,x=g.get(["series","maxCount"])||10,A=Math.min(_,x),b;if(!(_<1)){var w=f();if(w){var E=g.get(["general","withTitle"]);b=c(E,{title:w})}else b=g.get(["general","withoutTitle"]);var M=[],P=_>1?g.get(["series","multiple","prefix"]):g.get(["series","single","prefix"]);b+=c(P,{seriesCount:_}),a.eachSeries(function(O,N){if(N<A){var B=void 0,F=O.get("name"),V=F?"withName":"withoutName";B=_>1?g.get(["series","multiple",V]):g.get(["series","single",V]),B=c(B,{seriesId:O.seriesIndex,seriesName:O.get("name"),seriesType:d(O.subType)});var z=O.getData();if(z.count()>S){var U=g.get(["data","partialData"]);B+=c(U,{displayCnt:S})}else B+=g.get(["data","allData"]);for(var Y=g.get(["data","separator","middle"]),q=g.get(["data","separator","end"]),Q=[],j=0;j<z.count();j++)if(j<S){var ne=z.getName(j),fe=z.getValues(j),de=g.get(["data",ne?"withName":"withoutName"]);Q.push(c(de,{name:ne,value:fe.join(Y)}))}B+=Q.join(Y)+q,M.push(B)}});var R=g.getModel(["series","multiple","separator"]),I=R.get("middle"),L=R.get("end");b+=M.join(I)+L,y.setAttribute("aria-label",b)}}}function c(v,g){if(!isString(v))return v;var y=v;return each$f(g,function(_,S){y=y.replace(new RegExp("\\{\\s*"+S+"\\s*\\}","g"),_)}),y}function f(){var v=a.get("title");return v&&v.length&&(v=v[0]),v&&v.text}function d(v){return a.getLocaleModel().get(["series","typeNames"])[v]||"\u81EA\u5B9A\u4E49\u56FE"}}function ariaPreprocessor(a){if(!(!a||!a.aria)){var n=a.aria;n.show!=null&&(n.enabled=n.show),n.label=n.label||{},each$f(["description","general","series","data"],function(r){n[r]!=null&&(n.label[r]=n[r])})}}function install$2(a){a.registerPreprocessor(ariaPreprocessor),a.registerVisual(a.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function a(n){var r=this._condVal=isString(n)?new RegExp(n):isRegExp(n)?n:null;if(r==null){var s="";throwError(s)}}return a.prototype.evaluate=function(n){var r=typeof n;return isString(r)?this._condVal.test(n):isNumber(r)?this._condVal.test(n+""):!1},a}(),ConstConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){return this.value},a}(),AndConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(!n[r].evaluate())return!1;return!0},a}(),OrConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(n[r].evaluate())return!0;return!1},a}(),NotConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){return!this.child.evaluate()},a}(),RelationalConditionInternal=function(){function a(){}return a.prototype.evaluate=function(){for(var n=!!this.valueParser,r=this.getValue,s=r(this.valueGetterParam),l=n?this.valueParser(s):null,u=0;u<this.subCondList.length;u++)if(!this.subCondList[u].evaluate(n?l:s))return!1;return!0},a}();function parseOption(a,n){if(a===!0||a===!1){var r=new ConstConditionInternal;return r.value=a,r}var s="";return isObjectNotArray(a)||throwError(s),a.and?parseAndOrOption("and",a,n):a.or?parseAndOrOption("or",a,n):a.not?parseNotOption(a,n):parseRelationalOption(a,n)}function parseAndOrOption(a,n,r){var s=n[a],l="";isArray$2(s)||throwError(l),s.length||throwError(l);var u=a==="and"?new AndConditionInternal:new OrConditionInternal;return u.children=map$1(s,function(c){return parseOption(c,r)}),u.children.length||throwError(l),u}function parseNotOption(a,n){var r=a.not,s="";isObjectNotArray(r)||throwError(s);var l=new NotConditionInternal;return l.child=parseOption(r,n),l.child||throwError(s),l}function parseRelationalOption(a,n){for(var r="",s=n.prepareGetValue(a),l=[],u=keys(a),c=a.parser,f=c?getRawValueParser(c):null,d=0;d<u.length;d++){var v=u[d];if(!(v==="parser"||n.valueGetterAttrMap.get(v))){var g=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,v)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[v]:v,y=a[v],_=f?f(y):y,S=createFilterComparator(g,_)||g==="reg"&&new RegExpEvaluator(_);S||throwError(r),l.push(S)}}l.length||throwError(r);var x=new RelationalConditionInternal;return x.valueGetterParam=s,x.valueParser=f,x.getValue=n.getValue,x.subCondList=l,x}function isObjectNotArray(a){return isObject$3(a)&&!isArrayLike(a)}var ConditionalExpressionParsed=function(){function a(n,r){this._cond=parseOption(n,r)}return a.prototype.evaluate=function(){return this._cond.evaluate()},a}();function parseConditionalExpression(a,n){return new ConditionalExpressionParsed(a,n)}var filterTransform={type:"echarts:filter",transform:function(a){for(var n=a.upstream,r,s=parseConditionalExpression(a.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(f){var d="",v=f.dimension;hasOwn(f,"dimension")||throwError(d);var g=n.getDimensionInfo(v);return g||throwError(d),{dimIdx:g.index}},getValue:function(f){return n.retrieveValueFromItem(r,f.dimIdx)}}),l=[],u=0,c=n.count();u<c;u++)r=n.getRawDataItem(u),s.evaluate()&&l.push(r);return{data:l}}},sortTransform={type:"echarts:sort",transform:function(a){var n=a.upstream,r=a.config,s="",l=normalizeToArray(r);l.length||throwError(s);var u=[];each$f(l,function(g){var y=g.dimension,_=g.order,S=g.parser,x=g.incomparable;if(y==null&&throwError(s),_!=="asc"&&_!=="desc"&&throwError(s),x&&x!=="min"&&x!=="max"){var A="";throwError(A)}if(_!=="asc"&&_!=="desc"){var b="";throwError(b)}var w=n.getDimensionInfo(y);w||throwError(s);var E=S?getRawValueParser(S):null;S&&!E&&throwError(s),u.push({dimIdx:w.index,parser:E,comparator:new SortOrderComparator(_,x)})});var c=n.sourceFormat;c!==SOURCE_FORMAT_ARRAY_ROWS&&c!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(s);for(var f=[],d=0,v=n.count();d<v;d++)f.push(n.getRawDataItem(d));return f.sort(function(g,y){for(var _=0;_<u.length;_++){var S=u[_],x=n.retrieveValueFromItem(g,S.dimIdx),A=n.retrieveValueFromItem(y,S.dimIdx);S.parser&&(x=S.parser(x),A=S.parser(A));var b=S.comparator.evaluate(x,A);if(b!==0)return b}return 0}),{data:f}}};function install$1(a){a.registerTransform(filterTransform),a.registerTransform(sortTransform)}var DatasetModel=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="dataset",r}return n.prototype.init=function(r,s,l){a.prototype.init.call(this,r,s,l),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},n.prototype.mergeOption=function(r,s){a.prototype.mergeOption.call(this,r,s),disableTransformOptionMerge(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},n}(ComponentModel$1),DatasetView=function(a){__extends(n,a);function n(){var r=a!==null&&a.apply(this,arguments)||this;return r.type="dataset",r}return n.type="dataset",n}(ComponentView$1);function install(a){a.registerComponentModel(DatasetModel),a.registerComponentView(DatasetView)}var CMD=PathProxy.CMD;function aroundEqual(a,n){return Math.abs(a-n)<1e-5}function pathToBezierCurves(a){var n=a.data,r=a.len(),s=[],l,u=0,c=0,f=0,d=0;function v(z,U){l&&l.length>2&&s.push(l),l=[z,U]}function g(z,U,Y,q){aroundEqual(z,Y)&&aroundEqual(U,q)||l.push(z,U,Y,q,Y,q)}function y(z,U,Y,q,Q,j){var ne=Math.abs(U-z),fe=Math.tan(ne/4)*4/3,de=U<z?-1:1,be=Math.cos(z),Me=Math.sin(z),Pe=Math.cos(U),ae=Math.sin(U),me=be*Q+Y,se=Me*j+q,ue=Pe*Q+Y,Ee=ae*j+q,$e=Q*fe*de,pe=j*fe*de;l.push(me-$e*Me,se+pe*be,ue+$e*ae,Ee-pe*Pe,ue,Ee)}for(var _,S,x,A,b=0;b<r;){var w=n[b++],E=b===1;switch(E&&(u=n[b],c=n[b+1],f=u,d=c,(w===CMD.L||w===CMD.C||w===CMD.Q)&&(l=[f,d])),w){case CMD.M:u=f=n[b++],c=d=n[b++],v(f,d);break;case CMD.L:_=n[b++],S=n[b++],g(u,c,_,S),u=_,c=S;break;case CMD.C:l.push(n[b++],n[b++],n[b++],n[b++],u=n[b++],c=n[b++]);break;case CMD.Q:_=n[b++],S=n[b++],x=n[b++],A=n[b++],l.push(u+2/3*(_-u),c+2/3*(S-c),x+2/3*(_-x),A+2/3*(S-A),x,A),u=x,c=A;break;case CMD.A:var M=n[b++],P=n[b++],R=n[b++],I=n[b++],L=n[b++],O=n[b++]+L;b+=1;var N=!n[b++];_=Math.cos(L)*R+M,S=Math.sin(L)*I+P,E?(f=_,d=S,v(f,d)):g(u,c,_,S),u=Math.cos(O)*R+M,c=Math.sin(O)*I+P;for(var B=(N?-1:1)*Math.PI/2,F=L;N?F>O:F<O;F+=B){var V=N?Math.max(F+B,O):Math.min(F+B,O);y(F,V,M,P,R,I)}break;case CMD.R:f=u=n[b++],d=c=n[b++],_=f+n[b++],S=d+n[b++],v(_,d),g(_,d,_,S),g(_,S,f,S),g(f,S,f,d),g(f,d,_,d);break;case CMD.Z:l&&g(u,c,f,d),u=f,c=d;break}}return l&&l.length>2&&s.push(l),s}function adpativeBezier(a,n,r,s,l,u,c,f,d,v){if(aroundEqual(a,r)&&aroundEqual(n,s)&&aroundEqual(l,c)&&aroundEqual(u,f)){d.push(c,f);return}var g=2/v,y=g*g,_=c-a,S=f-n,x=Math.sqrt(_*_+S*S);_/=x,S/=x;var A=r-a,b=s-n,w=l-c,E=u-f,M=A*A+b*b,P=w*w+E*E;if(M<y&&P<y){d.push(c,f);return}var R=_*A+S*b,I=-_*w-S*E,L=M-R*R,O=P-I*I;if(L<y&&R>=0&&O<y&&I>=0){d.push(c,f);return}var N=[],B=[];cubicSubdivide(a,r,l,c,.5,N),cubicSubdivide(n,s,u,f,.5,B),adpativeBezier(N[0],B[0],N[1],B[1],N[2],B[2],N[3],B[3],d,v),adpativeBezier(N[4],B[4],N[5],B[5],N[6],B[6],N[7],B[7],d,v)}function pathToPolygons(a,n){var r=pathToBezierCurves(a),s=[];n=n||1;for(var l=0;l<r.length;l++){var u=r[l],c=[],f=u[0],d=u[1];c.push(f,d);for(var v=2;v<u.length;){var g=u[v++],y=u[v++],_=u[v++],S=u[v++],x=u[v++],A=u[v++];adpativeBezier(f,d,g,y,_,S,x,A,c,n),f=x,d=A}s.push(c)}return s}function getDividingGrids(a,n,r){var s=a[n],l=a[1-n],u=Math.abs(s/l),c=Math.ceil(Math.sqrt(u*r)),f=Math.floor(r/c);f===0&&(f=1,c=r);for(var d=[],v=0;v<c;v++)d.push(f);var g=c*f,y=r-g;if(y>0)for(var v=0;v<y;v++)d[v%c]+=1;return d}function divideSector(a,n,r){for(var s=a.r0,l=a.r,u=a.startAngle,c=a.endAngle,f=Math.abs(c-u),d=f*l,v=l-s,g=d>Math.abs(v),y=getDividingGrids([d,v],g?0:1,n),_=(g?f:v)/y.length,S=0;S<y.length;S++)for(var x=(g?v:f)/y[S],A=0;A<y[S];A++){var b={};g?(b.startAngle=u+_*S,b.endAngle=u+_*(S+1),b.r0=s+x*A,b.r=s+x*(A+1)):(b.startAngle=u+x*A,b.endAngle=u+x*(A+1),b.r0=s+_*S,b.r=s+_*(S+1)),b.clockwise=a.clockwise,b.cx=a.cx,b.cy=a.cy,r.push(b)}}function divideRect(a,n,r){for(var s=a.width,l=a.height,u=s>l,c=getDividingGrids([s,l],u?0:1,n),f=u?"width":"height",d=u?"height":"width",v=u?"x":"y",g=u?"y":"x",y=a[f]/c.length,_=0;_<c.length;_++)for(var S=a[d]/c[_],x=0;x<c[_];x++){var A={};A[v]=_*y,A[g]=x*S,A[f]=y,A[d]=S,A.x+=a.x,A.y+=a.y,r.push(A)}}function crossProduct2d(a,n,r,s){return a*s-r*n}function lineLineIntersect(a,n,r,s,l,u,c,f){var d=r-a,v=s-n,g=c-l,y=f-u,_=crossProduct2d(g,y,d,v);if(Math.abs(_)<1e-6)return null;var S=a-l,x=n-u,A=crossProduct2d(S,x,g,y)/_;return A<0||A>1?null:new Point$1(A*d+a,A*v+n)}function projPtOnLine(a,n,r){var s=new Point$1;Point$1.sub(s,r,n),s.normalize();var l=new Point$1;Point$1.sub(l,a,n);var u=l.dot(s);return u}function addToPoly(a,n){var r=a[a.length-1];r&&r[0]===n[0]&&r[1]===n[1]||a.push(n)}function splitPolygonByLine(a,n,r){for(var s=a.length,l=[],u=0;u<s;u++){var c=a[u],f=a[(u+1)%s],d=lineLineIntersect(c[0],c[1],f[0],f[1],n.x,n.y,r.x,r.y);d&&l.push({projPt:projPtOnLine(d,n,r),pt:d,idx:u})}if(l.length<2)return[{points:a},{points:a}];l.sort(function(b,w){return b.projPt-w.projPt});var v=l[0],g=l[l.length-1];if(g.idx<v.idx){var y=v;v=g,g=y}for(var _=[v.pt.x,v.pt.y],S=[g.pt.x,g.pt.y],x=[_],A=[S],u=v.idx+1;u<=g.idx;u++)addToPoly(x,a[u].slice());addToPoly(x,S),addToPoly(x,_);for(var u=g.idx+1;u<=v.idx+s;u++)addToPoly(A,a[u%s].slice());return addToPoly(A,_),addToPoly(A,S),[{points:x},{points:A}]}function binaryDividePolygon(a){var n=a.points,r=[],s=[];fromPoints(n,r,s);var l=new BoundingRect$1(r[0],r[1],s[0]-r[0],s[1]-r[1]),u=l.width,c=l.height,f=l.x,d=l.y,v=new Point$1,g=new Point$1;return u>c?(v.x=g.x=f+u/2,v.y=d,g.y=d+c):(v.y=g.y=d+c/2,v.x=f,g.x=f+u),splitPolygonByLine(n,v,g)}function binaryDivideRecursive(a,n,r,s){if(r===1)s.push(n);else{var l=Math.floor(r/2),u=a(n);binaryDivideRecursive(a,u[0],l,s),binaryDivideRecursive(a,u[1],r-l,s)}return s}function clone(a,n){for(var r=[],s=0;s<n;s++)r.push(clonePath(a));return r}function copyPathProps(a,n){n.setStyle(a.style),n.z=a.z,n.z2=a.z2,n.zlevel=a.zlevel}function polygonConvert(a){for(var n=[],r=0;r<a.length;)n.push([a[r++],a[r++]]);return n}function split(a,n){var r=[],s=a.shape,l;switch(a.type){case"rect":divideRect(s,n,r),l=Rect$3;break;case"sector":divideSector(s,n,r),l=Sector$1;break;case"circle":divideSector({r0:0,r:s.r,startAngle:0,endAngle:Math.PI*2,cx:s.cx,cy:s.cy},n,r),l=Sector$1;break;default:var u=a.getComputedTransform(),c=u?Math.sqrt(Math.max(u[0]*u[0]+u[1]*u[1],u[2]*u[2]+u[3]*u[3])):1,f=map$1(pathToPolygons(a.getUpdatedPathProxy(),c),function(w){return polygonConvert(w)}),d=f.length;if(d===0)binaryDivideRecursive(binaryDividePolygon,{points:f[0]},n,r);else if(d===n)for(var v=0;v<d;v++)r.push({points:f[v]});else{var g=0,y=map$1(f,function(w){var E=[],M=[];fromPoints(w,E,M);var P=(M[1]-E[1])*(M[0]-E[0]);return g+=P,{poly:w,area:P}});y.sort(function(w,E){return E.area-w.area});for(var _=n,v=0;v<d;v++){var S=y[v];if(_<=0)break;var x=v===d-1?_:Math.ceil(S.area/g*n);x<0||(binaryDivideRecursive(binaryDividePolygon,{points:S.poly},x,r),_-=x)}}l=Polygon$1;break}if(!l)return clone(a,n);for(var A=[],v=0;v<r.length;v++){var b=new l;b.setShape(r[v]),copyPathProps(a,b),A.push(b)}return A}function alignSubpath(a,n){var r=a.length,s=n.length;if(r===s)return[a,n];for(var l=[],u=[],c=r<s?a:n,f=Math.min(r,s),d=Math.abs(s-r)/6,v=(f-2)/6,g=Math.ceil(d/v)+1,y=[c[0],c[1]],_=d,S=2;S<f;){var x=c[S-2],A=c[S-1],b=c[S++],w=c[S++],E=c[S++],M=c[S++],P=c[S++],R=c[S++];if(_<=0){y.push(b,w,E,M,P,R);continue}for(var I=Math.min(_,g-1)+1,L=1;L<=I;L++){var O=L/I;cubicSubdivide(x,b,E,P,O,l),cubicSubdivide(A,w,M,R,O,u),x=l[3],A=u[3],y.push(l[1],u[1],l[2],u[2],x,A),b=l[5],w=u[5],E=l[6],M=u[6]}_-=I-1}return c===a?[y,n]:[a,y]}function createSubpath(a,n){for(var r=a.length,s=a[r-2],l=a[r-1],u=[],c=0;c<n.length;)u[c++]=s,u[c++]=l;return u}function alignBezierCurves(a,n){for(var r,s,l,u=[],c=[],f=0;f<Math.max(a.length,n.length);f++){var d=a[f],v=n[f],g=void 0,y=void 0;d?v?(r=alignSubpath(d,v),g=r[0],y=r[1],s=g,l=y):(y=createSubpath(l||d,d),g=d):(g=createSubpath(s||v,v),y=v),u.push(g),c.push(y)}return[u,c]}function centroid(a){for(var n=0,r=0,s=0,l=a.length,u=0,c=l-2;u<l;c=u,u+=2){var f=a[c],d=a[c+1],v=a[u],g=a[u+1],y=f*g-v*d;n+=y,r+=(f+v)*y,s+=(d+g)*y}return n===0?[a[0]||0,a[1]||0]:[r/n/3,s/n/3,n]}function findBestRingOffset(a,n,r,s){for(var l=(a.length-2)/6,u=1/0,c=0,f=a.length,d=f-2,v=0;v<l;v++){for(var g=v*6,y=0,_=0;_<f;_+=2){var S=_===0?g:(g+_-2)%d+2,x=a[S]-r[0],A=a[S+1]-r[1],b=n[_]-s[0],w=n[_+1]-s[1],E=b-x,M=w-A;y+=E*E+M*M}y<u&&(u=y,c=v)}return c}function reverse(a){for(var n=[],r=a.length,s=0;s<r;s+=2)n[s]=a[r-s-2],n[s+1]=a[r-s-1];return n}function findBestMorphingRotation(a,n,r,s){for(var l=[],u,c=0;c<a.length;c++){var f=a[c],d=n[c],v=centroid(f),g=centroid(d);u==null&&(u=v[2]<0!=g[2]<0);var y=[],_=[],S=0,x=1/0,A=[],b=f.length;u&&(f=reverse(f));for(var w=findBestRingOffset(f,d,v,g)*6,E=b-2,M=0;M<E;M+=2){var P=(w+M)%E+2;y[M+2]=f[P]-v[0],y[M+3]=f[P+1]-v[1]}if(y[0]=f[w]-v[0],y[1]=f[w+1]-v[1],r>0)for(var R=s/r,I=-s/2;I<=s/2;I+=R){for(var L=Math.sin(I),O=Math.cos(I),N=0,M=0;M<f.length;M+=2){var B=y[M],F=y[M+1],V=d[M]-g[0],z=d[M+1]-g[1],U=V*O-z*L,Y=V*L+z*O;A[M]=U,A[M+1]=Y;var q=U-B,Q=Y-F;N+=q*q+Q*Q}if(N<x){x=N,S=I;for(var j=0;j<A.length;j++)_[j]=A[j]}}else for(var ne=0;ne<b;ne+=2)_[ne]=d[ne]-g[0],_[ne+1]=d[ne+1]-g[1];l.push({from:y,to:_,fromCp:v,toCp:g,rotation:-S})}return l}function isCombineMorphing(a){return a.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(a,n,r){var s=SAVED_METHOD_PREFIX+n,l=a[s]||a[n];a[s]||(a[s]=a[n]);var u=r.replace,c=r.after,f=r.before;a[n]=function(){var d=arguments,v;return f&&f.apply(this,d),u?v=u.apply(this,d):v=l.apply(this,d),c&&c.apply(this,d),v}}function restoreMethod(a,n){var r=SAVED_METHOD_PREFIX+n;a[r]&&(a[n]=a[r],a[r]=null)}function applyTransformOnBeziers(a,n){for(var r=0;r<a.length;r++)for(var s=a[r],l=0;l<s.length;){var u=s[l],c=s[l+1];s[l++]=n[0]*u+n[2]*c+n[4],s[l++]=n[1]*u+n[3]*c+n[5]}}function prepareMorphPath(a,n){var r=a.getUpdatedPathProxy(),s=n.getUpdatedPathProxy(),l=alignBezierCurves(pathToBezierCurves(r),pathToBezierCurves(s)),u=l[0],c=l[1],f=a.getComputedTransform(),d=n.getComputedTransform();function v(){this.transform=null}f&&applyTransformOnBeziers(u,f),d&&applyTransformOnBeziers(c,d),saveAndModifyMethod(n,"updateTransform",{replace:v}),n.transform=null;var g=findBestMorphingRotation(u,c,10,Math.PI),y=[];saveAndModifyMethod(n,"buildPath",{replace:function(_){for(var S=n.__morphT,x=1-S,A=[],b=0;b<g.length;b++){var w=g[b],E=w.from,M=w.to,P=w.rotation*S,R=w.fromCp,I=w.toCp,L=Math.sin(P),O=Math.cos(P);lerp$1(A,R,I,S);for(var N=0;N<E.length;N+=2){var B=E[N],F=E[N+1],V=M[N],z=M[N+1],U=B*x+V*S,Y=F*x+z*S;y[N]=U*O-Y*L+A[0],y[N+1]=U*L+Y*O+A[1]}var q=y[0],Q=y[1];_.moveTo(q,Q);for(var N=2;N<E.length;){var V=y[N++],z=y[N++],j=y[N++],ne=y[N++],fe=y[N++],de=y[N++];q===V&&Q===z&&j===fe&&ne===de?_.lineTo(fe,de):_.bezierCurveTo(V,z,j,ne,fe,de),q=fe,Q=de}}}})}function morphPath(a,n,r){if(!a||!n)return n;var s=r.done,l=r.during;prepareMorphPath(a,n),n.__morphT=0;function u(){restoreMethod(n,"buildPath"),restoreMethod(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()}return n.animateTo({__morphT:1},defaults({during:function(c){n.dirtyShape(),l&&l(c)},done:function(){u(),s&&s()}},r)),n}function hilbert(a,n,r,s,l,u){var c=16;a=l===r?0:Math.round(32767*(a-r)/(l-r)),n=u===s?0:Math.round(32767*(n-s)/(u-s));for(var f=0,d,v=(1<<c)/2;v>0;v/=2){var g=0,y=0;(a&v)>0&&(g=1),(n&v)>0&&(y=1),f+=v*v*(3*g^y),y===0&&(g===1&&(a=v-1-a,n=v-1-n),d=a,a=n,n=d)}return f}function sortPaths(a){var n=1/0,r=1/0,s=-1/0,l=-1/0,u=map$1(a,function(f){var d=f.getBoundingRect(),v=f.getComputedTransform(),g=d.x+d.width/2+(v?v[4]:0),y=d.y+d.height/2+(v?v[5]:0);return n=Math.min(g,n),r=Math.min(y,r),s=Math.max(g,s),l=Math.max(y,l),[g,y]}),c=map$1(u,function(f,d){return{cp:f,z:hilbert(f[0],f[1],n,r,s,l),path:a[d]}});return c.sort(function(f,d){return f.z-d.z}).map(function(f){return f.path})}function defaultDividePath(a){return split(a.path,a.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(a,n,r){var s=[];function l(R){for(var I=0;I<R.length;I++){var L=R[I];isCombineMorphing(L)?l(L.childrenRef()):L instanceof Path$1&&s.push(L)}}l(a);var u=s.length;if(!u)return createEmptyReturn();var c=r.dividePath||defaultDividePath,f=c({path:n,count:u});if(f.length!==u)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();s=sortPaths(s),f=sortPaths(f);for(var d=r.done,v=r.during,g=r.individualDelay,y=new Transformable$1,_=0;_<u;_++){var S=s[_],x=f[_];x.parent=n,x.copyTransform(y),g||prepareMorphPath(S,x)}n.__isCombineMorphing=!0,n.childrenRef=function(){return f};function A(R){for(var I=0;I<f.length;I++)f[I].addSelfToZr(R)}saveAndModifyMethod(n,"addSelfToZr",{after:function(R){A(R)}}),saveAndModifyMethod(n,"removeSelfFromZr",{after:function(R){for(var I=0;I<f.length;I++)f[I].removeSelfFromZr(R)}});function b(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,restoreMethod(n,"addSelfToZr"),restoreMethod(n,"removeSelfFromZr")}var w=f.length;if(g)for(var E=w,M=function(){E--,E===0&&(b(),d&&d())},_=0;_<w;_++){var P=g?defaults({delay:(r.delay||0)+g(_,w,s[_],f[_]),done:M},r):r;morphPath(s[_],f[_],P)}else n.__morphT=0,n.animateTo({__morphT:1},defaults({during:function(R){for(var I=0;I<w;I++){var L=f[I];L.__morphT=n.__morphT,L.dirtyShape()}v&&v(R)},done:function(){b();for(var R=0;R<a.length;R++)restoreMethod(a[R],"updateTransform");d&&d()}},r));return n.__zr&&A(n.__zr),{fromIndividuals:s,toIndividuals:f,count:w}}function separateMorph(a,n,r){var s=n.length,l=[],u=r.dividePath||defaultDividePath;function c(S){for(var x=0;x<S.length;x++){var A=S[x];isCombineMorphing(A)?c(A.childrenRef()):A instanceof Path$1&&l.push(A)}}if(isCombineMorphing(a)){c(a.childrenRef());var f=l.length;if(f<s)for(var d=0,v=f;v<s;v++)l.push(clonePath(l[d++%f]));l.length=s}else{l=u({path:a,count:s});for(var g=a.getComputedTransform(),v=0;v<l.length;v++)l[v].setLocalTransform(g);if(l.length!==s)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}l=sortPaths(l),n=sortPaths(n);for(var y=r.individualDelay,v=0;v<s;v++){var _=y?defaults({delay:(r.delay||0)+y(v,s,l[v],n[v])},r):r;morphPath(l[v],n[v],_)}return{fromIndividuals:l,toIndividuals:n,count:n.length}}function isMultiple(a){return isArray$2(a[0])}function prepareMorphBatches(a,n){for(var r=[],s=a.length,l=0;l<s;l++)r.push({one:a[l],many:[]});for(var l=0;l<n.length;l++){var u=n[l].length,c=void 0;for(c=0;c<u;c++)r[c%s].many.push(n[l][c])}for(var f=0,l=s-1;l>=0;l--)if(!r[l].many.length){var d=r[f].many;if(d.length<=1)if(f)f=0;else return r;var u=d.length,v=Math.ceil(u/2);r[l].many=d.slice(v,u),r[f].many=d.slice(0,v),f++}return r}var pathDividers={clone:function(a){for(var n=[],r=1-Math.pow(1-a.path.style.opacity,1/a.count),s=0;s<a.count;s++){var l=clonePath(a.path);l.setStyle("opacity",r),n.push(l)}return n},split:null};function applyMorphAnimation(a,n,r,s,l,u){if(!a.length||!n.length)return;var c=getAnimationConfig("update",s,l);if(!(c&&c.duration>0))return;var f=s.getModel("universalTransition").get("delay"),d=Object.assign({setToFinal:!0},c),v,g;isMultiple(a)&&(v=a,g=n),isMultiple(n)&&(v=n,g=a);function y(w,E,M,P,R){var I=w.many,L=w.one;if(I.length===1&&!R){var O=E?I[0]:L,N=E?L:I[0];if(isCombineMorphing(O))y({many:[O],one:N},!0,M,P,!0);else{var B=f?defaults({delay:f(M,P)},d):d;morphPath(O,N,B),u(O,N,O,N,B)}}else for(var F=defaults({dividePath:pathDividers[r],individualDelay:f&&function(Q,j,ne,fe){return f(Q+M,P)}},d),V=E?combineMorph(I,L,F):separateMorph(L,I,F),z=V.fromIndividuals,U=V.toIndividuals,Y=z.length,q=0;q<Y;q++){var B=f?defaults({delay:f(q,Y)},d):d;u(z[q],U[q],E?I[q]:w.one,E?w.one:I[q],B)}}for(var _=v?v===a:a.length>n.length,S=v?prepareMorphBatches(g,v):prepareMorphBatches(_?n:a,[_?a:n]),x=0,A=0;A<S.length;A++)x+=S[A].many.length;for(var b=0,A=0;A<S.length;A++)y(S[A],_,b,x),b+=S[A].many.length}function getPathList(a){if(!a)return[];if(isArray$2(a)){for(var n=[],r=0;r<a.length;r++)n.push(getPathList(a[r]));return n}var s=[];return a.traverse(function(l){l instanceof Path$1&&!l.disableMorphing&&!l.invisible&&!l.ignore&&s.push(l)}),s}var DATA_COUNT_THRESHOLD=1e4,getUniversalTransitionGlobalStore=makeInner();function getGroupIdDimension(a){for(var n=a.dimensions,r=0;r<n.length;r++){var s=a.getDimensionInfo(n[r]);if(s&&s.otherDims.itemGroupId===0)return n[r]}}function flattenDataDiffItems(a){var n=[];return each$f(a,function(r){var s=r.data;if(!(s.count()>DATA_COUNT_THRESHOLD))for(var l=s.getIndices(),u=getGroupIdDimension(s),c=0;c<l.length;c++)n.push({dataGroupId:r.dataGroupId,data:s,dim:r.dim||u,divide:r.divide,dataIndex:c})}),n}function fadeInElement(a,n,r){a.traverse(function(s){s instanceof Path$1&&initProps(s,{style:{opacity:0}},n,{dataIndex:r,isFrom:!0})})}function removeEl(a){if(a.parent){var n=a.getComputedTransform();a.setLocalTransform(n),a.parent.remove(a)}}function stopAnimation(a){a.stopAnimation(),a.isGroup&&a.traverse(function(n){n.stopAnimation()})}function animateElementStyles(a,n,r){var s=getAnimationConfig("update",r,n);s&&a.traverse(function(l){if(l instanceof Displayable$1){var u=getOldStyle(l);u&&l.animateFrom({style:u},s)}})}function isAllIdSame(a,n){var r=a.length;if(r!==n.length)return!1;for(var s=0;s<r;s++){var l=a[s],u=n[s];if(l.data.getId(l.dataIndex)!==u.data.getId(u.dataIndex))return!1}return!0}function transitionBetween(a,n,r){var s=flattenDataDiffItems(a),l=flattenDataDiffItems(n);function u(w,E,M,P,R){(M||w)&&E.animateFrom({style:M&&M!==w?extend(extend({},M.style),w.style):w.style},R)}function c(w){for(var E=0;E<w.length;E++)if(w[E].dim)return w[E].dim}var f=c(s),d=c(l),v=!1;function g(w,E){return function(M){var P=M.data,R=M.dataIndex;if(E)return P.getId(R);var I=M.dataGroupId,L=w?f||d:d||f,O=L&&P.getDimensionInfo(L),N=O&&O.ordinalMeta;if(O){var B=P.get(O.name,R);return N&&N.categories[B]||B+""}var F=P.getRawDataItem(R);return F&&F.groupId?F.groupId+"":I||P.getId(R)}}var y=isAllIdSame(s,l),_={};if(!y)for(var S=0;S<l.length;S++){var x=l[S],A=x.data.getItemGraphicEl(x.dataIndex);A&&(_[A.id]=!0)}function b(w,E){var M=s[E],P=l[w],R=P.data.hostModel,I=M.data.getItemGraphicEl(M.dataIndex),L=P.data.getItemGraphicEl(P.dataIndex);if(I===L){L&&animateElementStyles(L,P.dataIndex,R);return}I&&_[I.id]||L&&(stopAnimation(L),I?(stopAnimation(I),removeEl(I),v=!0,applyMorphAnimation(getPathList(I),getPathList(L),P.divide,R,w,u)):fadeInElement(L,R,w))}new DataDiffer$1(s,l,g(!0,y),g(!1,y),null,"multiple").update(b).updateManyToOne(function(w,E){var M=l[w],P=M.data,R=P.hostModel,I=P.getItemGraphicEl(M.dataIndex),L=filter(map$1(E,function(O){return s[O].data.getItemGraphicEl(s[O].dataIndex)}),function(O){return O&&O!==I&&!_[O.id]});I&&(stopAnimation(I),L.length?(each$f(L,function(O){stopAnimation(O),removeEl(O)}),v=!0,applyMorphAnimation(getPathList(L),getPathList(I),M.divide,R,w,u)):fadeInElement(I,R,M.dataIndex))}).updateOneToMany(function(w,E){var M=s[E],P=M.data.getItemGraphicEl(M.dataIndex);if(!(P&&_[P.id])){var R=filter(map$1(w,function(L){return l[L].data.getItemGraphicEl(l[L].dataIndex)}),function(L){return L&&L!==P}),I=l[w[0]].data.hostModel;R.length&&(each$f(R,function(L){return stopAnimation(L)}),P?(stopAnimation(P),removeEl(P),v=!0,applyMorphAnimation(getPathList(P),getPathList(R),M.divide,I,w[0],u)):each$f(R,function(L){return fadeInElement(L,I,w[0])}))}}).updateManyToMany(function(w,E){new DataDiffer$1(E,w,function(M){return s[M].data.getId(s[M].dataIndex)},function(M){return l[M].data.getId(l[M].dataIndex)}).update(function(M,P){b(w[M],E[P])}).execute()}).execute(),v&&each$f(n,function(w){var E=w.data,M=E.hostModel,P=M&&r.getViewOfSeriesModel(M),R=getAnimationConfig("update",M,0);P&&M.isAnimationEnabled()&&R&&R.duration>0&&P.group.traverse(function(I){I instanceof Path$1&&!I.animators.length&&I.animateFrom({style:{opacity:0}},R)})})}function getSeriesTransitionKey(a){var n=a.getModel("universalTransition").get("seriesKey");return n||a.id}function convertArraySeriesKeyToString(a){return isArray$2(a)?a.sort().join(","):a}function getDivideShapeFromData(a){if(a.hostModel)return a.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(a,n){var r=createHashMap(),s=createHashMap(),l=createHashMap();return each$f(a.oldSeries,function(u,c){var f=a.oldDataGroupIds[c],d=a.oldData[c],v=getSeriesTransitionKey(u),g=convertArraySeriesKeyToString(v);s.set(g,{dataGroupId:f,data:d}),isArray$2(v)&&each$f(v,function(y){l.set(y,{key:g,dataGroupId:f,data:d})})}),each$f(n.updatedSeries,function(u){if(u.isUniversalTransitionEnabled()&&u.isAnimationEnabled()){var c=u.get("dataGroupId"),f=u.getData(),d=getSeriesTransitionKey(u),v=convertArraySeriesKeyToString(d),g=s.get(v);if(g)r.set(v,{oldSeries:[{dataGroupId:g.dataGroupId,divide:getDivideShapeFromData(g.data),data:g.data}],newSeries:[{dataGroupId:c,divide:getDivideShapeFromData(f),data:f}]});else if(isArray$2(d)){var y=[];each$f(d,function(x){var A=s.get(x);A.data&&y.push({dataGroupId:A.dataGroupId,divide:getDivideShapeFromData(A.data),data:A.data})}),y.length&&r.set(v,{oldSeries:y,newSeries:[{dataGroupId:c,data:f,divide:getDivideShapeFromData(f)}]})}else{var _=l.get(d);if(_){var S=r.get(_.key);S||(S={oldSeries:[{dataGroupId:_.dataGroupId,data:_.data,divide:getDivideShapeFromData(_.data)}],newSeries:[]},r.set(_.key,S)),S.newSeries.push({dataGroupId:c,data:f,divide:getDivideShapeFromData(f)})}}}}),r}function querySeries(a,n){for(var r=0;r<a.length;r++){var s=n.seriesIndex!=null&&n.seriesIndex===a[r].seriesIndex||n.seriesId!=null&&n.seriesId===a[r].id;if(s)return r}}function transitionSeriesFromOpt(a,n,r,s){var l=[],u=[];each$f(normalizeToArray(a.from),function(c){var f=querySeries(n.oldSeries,c);f>=0&&l.push({dataGroupId:n.oldDataGroupIds[f],data:n.oldData[f],divide:getDivideShapeFromData(n.oldData[f]),dim:c.dimension})}),each$f(normalizeToArray(a.to),function(c){var f=querySeries(r.updatedSeries,c);if(f>=0){var d=r.updatedSeries[f].getData();u.push({dataGroupId:n.oldDataGroupIds[f],data:d,divide:getDivideShapeFromData(d),dim:c.dimension})}}),l.length>0&&u.length>0&&transitionBetween(l,u,s)}function installUniversalTransition(a){a.registerUpdateLifecycle("series:beforeupdate",function(n,r,s){each$f(normalizeToArray(s.seriesTransition),function(l){each$f(normalizeToArray(l.to),function(u){for(var c=s.updatedSeries,f=0;f<c.length;f++)(u.seriesIndex!=null&&u.seriesIndex===c[f].seriesIndex||u.seriesId!=null&&u.seriesId===c[f].id)&&(c[f][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),a.registerUpdateLifecycle("series:transition",function(n,r,s){var l=getUniversalTransitionGlobalStore(r);if(l.oldSeries&&s.updatedSeries&&s.optionChanged){var u=s.seriesTransition;if(u)each$f(normalizeToArray(u),function(S){transitionSeriesFromOpt(S,l,s,r)});else{var c=findTransitionSeriesBatches(l,s);each$f(c.keys(),function(S){var x=c.get(S);transitionBetween(x.oldSeries,x.newSeries,r)})}each$f(s.updatedSeries,function(S){S[SERIES_UNIVERSAL_TRANSITION_PROP]&&(S[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var f=n.getSeries(),d=l.oldSeries=[],v=l.oldDataGroupIds=[],g=l.oldData=[],y=0;y<f.length;y++){var _=f[y].getData();_.count()<DATA_COUNT_THRESHOLD&&(d.push(f[y]),v.push(f[y].get("dataGroupId")),g.push(_))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(a,n){(function(){var r,s="4.17.21",l=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",f="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",v=500,g="__lodash_placeholder__",y=1,_=2,S=4,x=1,A=2,b=1,w=2,E=4,M=8,P=16,R=32,I=64,L=128,O=256,N=512,B=30,F="...",V=800,z=16,U=1,Y=2,q=3,Q=1/0,j=9007199254740991,ne=17976931348623157e292,fe=0/0,de=4294967295,be=de-1,Me=de>>>1,Pe=[["ary",L],["bind",b],["bindKey",w],["curry",M],["curryRight",P],["flip",N],["partial",R],["partialRight",I],["rearg",O]],ae="[object Arguments]",me="[object Array]",se="[object AsyncFunction]",ue="[object Boolean]",Ee="[object Date]",$e="[object DOMException]",pe="[object Error]",ye="[object Function]",Z="[object GeneratorFunction]",X="[object Map]",re="[object Number]",ce="[object Null]",le="[object Object]",Te="[object Promise]",Ce="[object Proxy]",Ae="[object RegExp]",xe="[object Set]",_e="[object String]",Le="[object Symbol]",ie="[object Undefined]",we="[object WeakMap]",Oe="[object WeakSet]",Fe="[object ArrayBuffer]",We="[object DataView]",Xe="[object Float32Array]",Je="[object Float64Array]",yt="[object Int8Array]",Wt="[object Int16Array]",Ar="[object Int32Array]",Xt="[object Uint8Array]",br="[object Uint8ClampedArray]",dt="[object Uint16Array]",Tt="[object Uint32Array]",en=/\b__p \+= '';/g,Ls=/\b(__p \+=) '' \+/g,Ds=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ni=/&(?:amp|lt|gt|quot|#39);/g,ai=/[&<>"']/g,Os=RegExp(ni.source),Ns=RegExp(ai.source),ks=/<%-([\s\S]+?)%>/g,Bs=/<%([\s\S]+?)%>/g,ii=/<%=([\s\S]+?)%>/g,Fs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vs=/^\w*$/,Hs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Un=/[\\^$.*+?()[\]{}|]/g,zs=RegExp(Un.source),Wn=/^\s+/,Gs=/\s/,Us=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ws=/\{\n\/\* \[wrapped with (.+)\] \*/,Ys=/,? & /,Zs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qs=/[()=,{}\[\]\/\s]/,Xs=/\\(\\)?/g,Ks=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,oi=/\w*$/,js=/^[-+]0x[0-9a-f]+$/i,Js=/^0b[01]+$/i,Qs=/^\[object .+?Constructor\]$/,el=/^0o[0-7]+$/i,tl=/^(?:0|[1-9]\d*)$/,rl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tn=/($^)/,nl=/['\n\r\u2028\u2029\\]/g,rn="\\ud800-\\udfff",al="\\u0300-\\u036f",il="\\ufe20-\\ufe2f",ol="\\u20d0-\\u20ff",si=al+il+ol,li="\\u2700-\\u27bf",ui="a-z\\xdf-\\xf6\\xf8-\\xff",sl="\\xac\\xb1\\xd7\\xf7",ll="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ul="\\u2000-\\u206f",cl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ci="A-Z\\xc0-\\xd6\\xd8-\\xde",fi="\\ufe0e\\ufe0f",hi=sl+ll+ul+cl,Yn="['\u2019]",fl="["+rn+"]",di="["+hi+"]",nn="["+si+"]",pi="\\d+",hl="["+li+"]",vi="["+ui+"]",gi="[^"+rn+hi+pi+li+ui+ci+"]",Zn="\\ud83c[\\udffb-\\udfff]",dl="(?:"+nn+"|"+Zn+")",mi="[^"+rn+"]",qn="(?:\\ud83c[\\udde6-\\uddff]){2}",Xn="[\\ud800-\\udbff][\\udc00-\\udfff]",Cr="["+ci+"]",yi="\\u200d",_i="(?:"+vi+"|"+gi+")",pl="(?:"+Cr+"|"+gi+")",Si="(?:"+Yn+"(?:d|ll|m|re|s|t|ve))?",xi="(?:"+Yn+"(?:D|LL|M|RE|S|T|VE))?",Ti=dl+"?",Ai="["+fi+"]?",vl="(?:"+yi+"(?:"+[mi,qn,Xn].join("|")+")"+Ai+Ti+")*",gl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ml="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bi=Ai+Ti+vl,yl="(?:"+[hl,qn,Xn].join("|")+")"+bi,_l="(?:"+[mi+nn+"?",nn,qn,Xn,fl].join("|")+")",Sl=RegExp(Yn,"g"),xl=RegExp(nn,"g"),Kn=RegExp(Zn+"(?="+Zn+")|"+_l+bi,"g"),Tl=RegExp([Cr+"?"+vi+"+"+Si+"(?="+[di,Cr,"$"].join("|")+")",pl+"+"+xi+"(?="+[di,Cr+_i,"$"].join("|")+")",Cr+"?"+_i+"+"+Si,Cr+"+"+xi,ml,gl,pi,yl].join("|"),"g"),Al=RegExp("["+yi+rn+si+fi+"]"),bl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Cl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wl=-1,nt={};nt[Xe]=nt[Je]=nt[yt]=nt[Wt]=nt[Ar]=nt[Xt]=nt[br]=nt[dt]=nt[Tt]=!0,nt[ae]=nt[me]=nt[Fe]=nt[ue]=nt[We]=nt[Ee]=nt[pe]=nt[ye]=nt[X]=nt[re]=nt[le]=nt[Ae]=nt[xe]=nt[_e]=nt[we]=!1;var tt={};tt[ae]=tt[me]=tt[Fe]=tt[We]=tt[ue]=tt[Ee]=tt[Xe]=tt[Je]=tt[yt]=tt[Wt]=tt[Ar]=tt[X]=tt[re]=tt[le]=tt[Ae]=tt[xe]=tt[_e]=tt[Le]=tt[Xt]=tt[br]=tt[dt]=tt[Tt]=!0,tt[pe]=tt[ye]=tt[we]=!1;var El={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ml={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$l={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Pl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Il=parseFloat,Rl=parseInt,Ci=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ll=typeof self=="object"&&self&&self.Object===Object&&self,pt=Ci||Ll||Function("return this")(),jn=n&&!n.nodeType&&n,pr=jn&&!0&&a&&!a.nodeType&&a,wi=pr&&pr.exports===jn,Jn=wi&&Ci.process,Lt=function(){try{var ee=pr&&pr.require&&pr.require("util").types;return ee||Jn&&Jn.binding&&Jn.binding("util")}catch{}}(),Ei=Lt&&Lt.isArrayBuffer,Mi=Lt&&Lt.isDate,$i=Lt&&Lt.isMap,Pi=Lt&&Lt.isRegExp,Ii=Lt&&Lt.isSet,Ri=Lt&&Lt.isTypedArray;function Et(ee,he,oe){switch(oe.length){case 0:return ee.call(he);case 1:return ee.call(he,oe[0]);case 2:return ee.call(he,oe[0],oe[1]);case 3:return ee.call(he,oe[0],oe[1],oe[2])}return ee.apply(he,oe)}function Dl(ee,he,oe,Re){for(var Ve=-1,Ke=ee==null?0:ee.length;++Ve<Ke;){var ct=ee[Ve];he(Re,ct,oe(ct),ee)}return Re}function Dt(ee,he){for(var oe=-1,Re=ee==null?0:ee.length;++oe<Re&&he(ee[oe],oe,ee)!==!1;);return ee}function Ol(ee,he){for(var oe=ee==null?0:ee.length;oe--&&he(ee[oe],oe,ee)!==!1;);return ee}function Li(ee,he){for(var oe=-1,Re=ee==null?0:ee.length;++oe<Re;)if(!he(ee[oe],oe,ee))return!1;return!0}function ir(ee,he){for(var oe=-1,Re=ee==null?0:ee.length,Ve=0,Ke=[];++oe<Re;){var ct=ee[oe];he(ct,oe,ee)&&(Ke[Ve++]=ct)}return Ke}function an(ee,he){var oe=ee==null?0:ee.length;return!!oe&&wr(ee,he,0)>-1}function Qn(ee,he,oe){for(var Re=-1,Ve=ee==null?0:ee.length;++Re<Ve;)if(oe(he,ee[Re]))return!0;return!1}function at(ee,he){for(var oe=-1,Re=ee==null?0:ee.length,Ve=Array(Re);++oe<Re;)Ve[oe]=he(ee[oe],oe,ee);return Ve}function or(ee,he){for(var oe=-1,Re=he.length,Ve=ee.length;++oe<Re;)ee[Ve+oe]=he[oe];return ee}function ea(ee,he,oe,Re){var Ve=-1,Ke=ee==null?0:ee.length;for(Re&&Ke&&(oe=ee[++Ve]);++Ve<Ke;)oe=he(oe,ee[Ve],Ve,ee);return oe}function Nl(ee,he,oe,Re){var Ve=ee==null?0:ee.length;for(Re&&Ve&&(oe=ee[--Ve]);Ve--;)oe=he(oe,ee[Ve],Ve,ee);return oe}function ta(ee,he){for(var oe=-1,Re=ee==null?0:ee.length;++oe<Re;)if(he(ee[oe],oe,ee))return!0;return!1}var kl=ra("length");function Bl(ee){return ee.split("")}function Fl(ee){return ee.match(Zs)||[]}function Di(ee,he,oe){var Re;return oe(ee,function(Ve,Ke,ct){if(he(Ve,Ke,ct))return Re=Ke,!1}),Re}function on(ee,he,oe,Re){for(var Ve=ee.length,Ke=oe+(Re?1:-1);Re?Ke--:++Ke<Ve;)if(he(ee[Ke],Ke,ee))return Ke;return-1}function wr(ee,he,oe){return he===he?jl(ee,he,oe):on(ee,Oi,oe)}function Vl(ee,he,oe,Re){for(var Ve=oe-1,Ke=ee.length;++Ve<Ke;)if(Re(ee[Ve],he))return Ve;return-1}function Oi(ee){return ee!==ee}function Ni(ee,he){var oe=ee==null?0:ee.length;return oe?aa(ee,he)/oe:fe}function ra(ee){return function(he){return he==null?r:he[ee]}}function na(ee){return function(he){return ee==null?r:ee[he]}}function ki(ee,he,oe,Re,Ve){return Ve(ee,function(Ke,ct,et){oe=Re?(Re=!1,Ke):he(oe,Ke,ct,et)}),oe}function Hl(ee,he){var oe=ee.length;for(ee.sort(he);oe--;)ee[oe]=ee[oe].value;return ee}function aa(ee,he){for(var oe,Re=-1,Ve=ee.length;++Re<Ve;){var Ke=he(ee[Re]);Ke!==r&&(oe=oe===r?Ke:oe+Ke)}return oe}function ia(ee,he){for(var oe=-1,Re=Array(ee);++oe<ee;)Re[oe]=he(oe);return Re}function zl(ee,he){return at(he,function(oe){return[oe,ee[oe]]})}function Bi(ee){return ee&&ee.slice(0,zi(ee)+1).replace(Wn,"")}function Mt(ee){return function(he){return ee(he)}}function oa(ee,he){return at(he,function(oe){return ee[oe]})}function Fr(ee,he){return ee.has(he)}function Fi(ee,he){for(var oe=-1,Re=ee.length;++oe<Re&&wr(he,ee[oe],0)>-1;);return oe}function Vi(ee,he){for(var oe=ee.length;oe--&&wr(he,ee[oe],0)>-1;);return oe}function Gl(ee,he){for(var oe=ee.length,Re=0;oe--;)ee[oe]===he&&++Re;return Re}var Ul=na(El),Wl=na(Ml);function Yl(ee){return"\\"+Pl[ee]}function Zl(ee,he){return ee==null?r:ee[he]}function Er(ee){return Al.test(ee)}function ql(ee){return bl.test(ee)}function Xl(ee){for(var he,oe=[];!(he=ee.next()).done;)oe.push(he.value);return oe}function sa(ee){var he=-1,oe=Array(ee.size);return ee.forEach(function(Re,Ve){oe[++he]=[Ve,Re]}),oe}function Hi(ee,he){return function(oe){return ee(he(oe))}}function sr(ee,he){for(var oe=-1,Re=ee.length,Ve=0,Ke=[];++oe<Re;){var ct=ee[oe];(ct===he||ct===g)&&(ee[oe]=g,Ke[Ve++]=oe)}return Ke}function sn(ee){var he=-1,oe=Array(ee.size);return ee.forEach(function(Re){oe[++he]=Re}),oe}function Kl(ee){var he=-1,oe=Array(ee.size);return ee.forEach(function(Re){oe[++he]=[Re,Re]}),oe}function jl(ee,he,oe){for(var Re=oe-1,Ve=ee.length;++Re<Ve;)if(ee[Re]===he)return Re;return-1}function Jl(ee,he,oe){for(var Re=oe+1;Re--;)if(ee[Re]===he)return Re;return Re}function Mr(ee){return Er(ee)?eu(ee):kl(ee)}function Ht(ee){return Er(ee)?tu(ee):Bl(ee)}function zi(ee){for(var he=ee.length;he--&&Gs.test(ee.charAt(he)););return he}var Ql=na($l);function eu(ee){for(var he=Kn.lastIndex=0;Kn.test(ee);)++he;return he}function tu(ee){return ee.match(Kn)||[]}function ru(ee){return ee.match(Tl)||[]}var nu=function ee(he){he=he==null?pt:$r.defaults(pt.Object(),he,$r.pick(pt,Cl));var oe=he.Array,Re=he.Date,Ve=he.Error,Ke=he.Function,ct=he.Math,et=he.Object,la=he.RegExp,au=he.String,Ot=he.TypeError,ln=oe.prototype,iu=Ke.prototype,Pr=et.prototype,un=he["__core-js_shared__"],cn=iu.toString,Qe=Pr.hasOwnProperty,ou=0,Gi=function(){var T=/[^.]+$/.exec(un&&un.keys&&un.keys.IE_PROTO||"");return T?"Symbol(src)_1."+T:""}(),fn=Pr.toString,su=cn.call(et),lu=pt._,uu=la("^"+cn.call(Qe).replace(Un,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hn=wi?he.Buffer:r,lr=he.Symbol,dn=he.Uint8Array,Ui=hn?hn.allocUnsafe:r,pn=Hi(et.getPrototypeOf,et),Wi=et.create,Yi=Pr.propertyIsEnumerable,vn=ln.splice,Zi=lr?lr.isConcatSpreadable:r,Vr=lr?lr.iterator:r,vr=lr?lr.toStringTag:r,gn=function(){try{var T=Sr(et,"defineProperty");return T({},"",{}),T}catch{}}(),cu=he.clearTimeout!==pt.clearTimeout&&he.clearTimeout,fu=Re&&Re.now!==pt.Date.now&&Re.now,hu=he.setTimeout!==pt.setTimeout&&he.setTimeout,mn=ct.ceil,yn=ct.floor,ua=et.getOwnPropertySymbols,du=hn?hn.isBuffer:r,qi=he.isFinite,pu=ln.join,vu=Hi(et.keys,et),ft=ct.max,gt=ct.min,gu=Re.now,mu=he.parseInt,Xi=ct.random,yu=ln.reverse,ca=Sr(he,"DataView"),Hr=Sr(he,"Map"),fa=Sr(he,"Promise"),Ir=Sr(he,"Set"),zr=Sr(he,"WeakMap"),Gr=Sr(et,"create"),_n=zr&&new zr,Rr={},_u=xr(ca),Su=xr(Hr),xu=xr(fa),Tu=xr(Ir),Au=xr(zr),Sn=lr?lr.prototype:r,Ur=Sn?Sn.valueOf:r,Ki=Sn?Sn.toString:r;function G(T){if(ot(T)&&!He(T)&&!(T instanceof Ze)){if(T instanceof Nt)return T;if(Qe.call(T,"__wrapped__"))return Jo(T)}return new Nt(T)}var Lr=function(){function T(){}return function(C){if(!it(C))return{};if(Wi)return Wi(C);T.prototype=C;var $=new T;return T.prototype=r,$}}();function xn(){}function Nt(T,C){this.__wrapped__=T,this.__actions__=[],this.__chain__=!!C,this.__index__=0,this.__values__=r}G.templateSettings={escape:ks,evaluate:Bs,interpolate:ii,variable:"",imports:{_:G}},G.prototype=xn.prototype,G.prototype.constructor=G,Nt.prototype=Lr(xn.prototype),Nt.prototype.constructor=Nt;function Ze(T){this.__wrapped__=T,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=de,this.__views__=[]}function bu(){var T=new Ze(this.__wrapped__);return T.__actions__=At(this.__actions__),T.__dir__=this.__dir__,T.__filtered__=this.__filtered__,T.__iteratees__=At(this.__iteratees__),T.__takeCount__=this.__takeCount__,T.__views__=At(this.__views__),T}function Cu(){if(this.__filtered__){var T=new Ze(this);T.__dir__=-1,T.__filtered__=!0}else T=this.clone(),T.__dir__*=-1;return T}function wu(){var T=this.__wrapped__.value(),C=this.__dir__,$=He(T),D=C<0,H=$?T.length:0,W=Fc(0,H,this.__views__),K=W.start,J=W.end,te=J-K,ve=D?J:K-1,ge=this.__iteratees__,Se=ge.length,Ie=0,De=gt(te,this.__takeCount__);if(!$||!D&&H==te&&De==te)return xo(T,this.__actions__);var ke=[];e:for(;te--&&Ie<De;){ve+=C;for(var Ge=-1,Be=T[ve];++Ge<Se;){var Ye=ge[Ge],qe=Ye.iteratee,It=Ye.type,xt=qe(Be);if(It==Y)Be=xt;else if(!xt){if(It==U)continue e;break e}}ke[Ie++]=Be}return ke}Ze.prototype=Lr(xn.prototype),Ze.prototype.constructor=Ze;function gr(T){var C=-1,$=T==null?0:T.length;for(this.clear();++C<$;){var D=T[C];this.set(D[0],D[1])}}function Eu(){this.__data__=Gr?Gr(null):{},this.size=0}function Mu(T){var C=this.has(T)&&delete this.__data__[T];return this.size-=C?1:0,C}function $u(T){var C=this.__data__;if(Gr){var $=C[T];return $===d?r:$}return Qe.call(C,T)?C[T]:r}function Pu(T){var C=this.__data__;return Gr?C[T]!==r:Qe.call(C,T)}function Iu(T,C){var $=this.__data__;return this.size+=this.has(T)?0:1,$[T]=Gr&&C===r?d:C,this}gr.prototype.clear=Eu,gr.prototype.delete=Mu,gr.prototype.get=$u,gr.prototype.has=Pu,gr.prototype.set=Iu;function Kt(T){var C=-1,$=T==null?0:T.length;for(this.clear();++C<$;){var D=T[C];this.set(D[0],D[1])}}function Ru(){this.__data__=[],this.size=0}function Lu(T){var C=this.__data__,$=Tn(C,T);if($<0)return!1;var D=C.length-1;return $==D?C.pop():vn.call(C,$,1),--this.size,!0}function Du(T){var C=this.__data__,$=Tn(C,T);return $<0?r:C[$][1]}function Ou(T){return Tn(this.__data__,T)>-1}function Nu(T,C){var $=this.__data__,D=Tn($,T);return D<0?(++this.size,$.push([T,C])):$[D][1]=C,this}Kt.prototype.clear=Ru,Kt.prototype.delete=Lu,Kt.prototype.get=Du,Kt.prototype.has=Ou,Kt.prototype.set=Nu;function jt(T){var C=-1,$=T==null?0:T.length;for(this.clear();++C<$;){var D=T[C];this.set(D[0],D[1])}}function ku(){this.size=0,this.__data__={hash:new gr,map:new(Hr||Kt),string:new gr}}function Bu(T){var C=Dn(this,T).delete(T);return this.size-=C?1:0,C}function Fu(T){return Dn(this,T).get(T)}function Vu(T){return Dn(this,T).has(T)}function Hu(T,C){var $=Dn(this,T),D=$.size;return $.set(T,C),this.size+=$.size==D?0:1,this}jt.prototype.clear=ku,jt.prototype.delete=Bu,jt.prototype.get=Fu,jt.prototype.has=Vu,jt.prototype.set=Hu;function mr(T){var C=-1,$=T==null?0:T.length;for(this.__data__=new jt;++C<$;)this.add(T[C])}function zu(T){return this.__data__.set(T,d),this}function Gu(T){return this.__data__.has(T)}mr.prototype.add=mr.prototype.push=zu,mr.prototype.has=Gu;function zt(T){var C=this.__data__=new Kt(T);this.size=C.size}function Uu(){this.__data__=new Kt,this.size=0}function Wu(T){var C=this.__data__,$=C.delete(T);return this.size=C.size,$}function Yu(T){return this.__data__.get(T)}function Zu(T){return this.__data__.has(T)}function qu(T,C){var $=this.__data__;if($ instanceof Kt){var D=$.__data__;if(!Hr||D.length<l-1)return D.push([T,C]),this.size=++$.size,this;$=this.__data__=new jt(D)}return $.set(T,C),this.size=$.size,this}zt.prototype.clear=Uu,zt.prototype.delete=Wu,zt.prototype.get=Yu,zt.prototype.has=Zu,zt.prototype.set=qu;function ji(T,C){var $=He(T),D=!$&&Tr(T),H=!$&&!D&&dr(T),W=!$&&!D&&!H&&kr(T),K=$||D||H||W,J=K?ia(T.length,au):[],te=J.length;for(var ve in T)(C||Qe.call(T,ve))&&!(K&&(ve=="length"||H&&(ve=="offset"||ve=="parent")||W&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||tr(ve,te)))&&J.push(ve);return J}function Ji(T){var C=T.length;return C?T[Aa(0,C-1)]:r}function Xu(T,C){return On(At(T),yr(C,0,T.length))}function Ku(T){return On(At(T))}function ha(T,C,$){($!==r&&!Gt(T[C],$)||$===r&&!(C in T))&&Jt(T,C,$)}function Wr(T,C,$){var D=T[C];(!(Qe.call(T,C)&&Gt(D,$))||$===r&&!(C in T))&&Jt(T,C,$)}function Tn(T,C){for(var $=T.length;$--;)if(Gt(T[$][0],C))return $;return-1}function ju(T,C,$,D){return ur(T,function(H,W,K){C(D,H,$(H),K)}),D}function Qi(T,C){return T&&Zt(C,ht(C),T)}function Ju(T,C){return T&&Zt(C,Ct(C),T)}function Jt(T,C,$){C=="__proto__"&&gn?gn(T,C,{configurable:!0,enumerable:!0,value:$,writable:!0}):T[C]=$}function da(T,C){for(var $=-1,D=C.length,H=oe(D),W=T==null;++$<D;)H[$]=W?r:qa(T,C[$]);return H}function yr(T,C,$){return T===T&&($!==r&&(T=T<=$?T:$),C!==r&&(T=T>=C?T:C)),T}function kt(T,C,$,D,H,W){var K,J=C&y,te=C&_,ve=C&S;if($&&(K=H?$(T,D,H,W):$(T)),K!==r)return K;if(!it(T))return T;var ge=He(T);if(ge){if(K=Hc(T),!J)return At(T,K)}else{var Se=mt(T),Ie=Se==ye||Se==Z;if(dr(T))return bo(T,J);if(Se==le||Se==ae||Ie&&!H){if(K=te||Ie?{}:Go(T),!J)return te?Pc(T,Ju(K,T)):$c(T,Qi(K,T))}else{if(!tt[Se])return H?T:{};K=zc(T,Se,J)}}W||(W=new zt);var De=W.get(T);if(De)return De;W.set(T,K),ys(T)?T.forEach(function(Be){K.add(kt(Be,C,$,Be,T,W))}):gs(T)&&T.forEach(function(Be,Ye){K.set(Ye,kt(Be,C,$,Ye,T,W))});var ke=ve?te?Da:La:te?Ct:ht,Ge=ge?r:ke(T);return Dt(Ge||T,function(Be,Ye){Ge&&(Ye=Be,Be=T[Ye]),Wr(K,Ye,kt(Be,C,$,Ye,T,W))}),K}function Qu(T){var C=ht(T);return function($){return eo($,T,C)}}function eo(T,C,$){var D=$.length;if(T==null)return!D;for(T=et(T);D--;){var H=$[D],W=C[H],K=T[H];if(K===r&&!(H in T)||!W(K))return!1}return!0}function to(T,C,$){if(typeof T!="function")throw new Ot(c);return Jr(function(){T.apply(r,$)},C)}function Yr(T,C,$,D){var H=-1,W=an,K=!0,J=T.length,te=[],ve=C.length;if(!J)return te;$&&(C=at(C,Mt($))),D?(W=Qn,K=!1):C.length>=l&&(W=Fr,K=!1,C=new mr(C));e:for(;++H<J;){var ge=T[H],Se=$==null?ge:$(ge);if(ge=D||ge!==0?ge:0,K&&Se===Se){for(var Ie=ve;Ie--;)if(C[Ie]===Se)continue e;te.push(ge)}else W(C,Se,D)||te.push(ge)}return te}var ur=$o(Yt),ro=$o(va,!0);function ec(T,C){var $=!0;return ur(T,function(D,H,W){return $=!!C(D,H,W),$}),$}function An(T,C,$){for(var D=-1,H=T.length;++D<H;){var W=T[D],K=C(W);if(K!=null&&(J===r?K===K&&!Pt(K):$(K,J)))var J=K,te=W}return te}function tc(T,C,$,D){var H=T.length;for($=ze($),$<0&&($=-$>H?0:H+$),D=D===r||D>H?H:ze(D),D<0&&(D+=H),D=$>D?0:Ss(D);$<D;)T[$++]=C;return T}function no(T,C){var $=[];return ur(T,function(D,H,W){C(D,H,W)&&$.push(D)}),$}function vt(T,C,$,D,H){var W=-1,K=T.length;for($||($=Uc),H||(H=[]);++W<K;){var J=T[W];C>0&&$(J)?C>1?vt(J,C-1,$,D,H):or(H,J):D||(H[H.length]=J)}return H}var pa=Po(),ao=Po(!0);function Yt(T,C){return T&&pa(T,C,ht)}function va(T,C){return T&&ao(T,C,ht)}function bn(T,C){return ir(C,function($){return rr(T[$])})}function _r(T,C){C=fr(C,T);for(var $=0,D=C.length;T!=null&&$<D;)T=T[qt(C[$++])];return $&&$==D?T:r}function io(T,C,$){var D=C(T);return He(T)?D:or(D,$(T))}function _t(T){return T==null?T===r?ie:ce:vr&&vr in et(T)?Bc(T):jc(T)}function ga(T,C){return T>C}function rc(T,C){return T!=null&&Qe.call(T,C)}function nc(T,C){return T!=null&&C in et(T)}function ac(T,C,$){return T>=gt(C,$)&&T<ft(C,$)}function ma(T,C,$){for(var D=$?Qn:an,H=T[0].length,W=T.length,K=W,J=oe(W),te=1/0,ve=[];K--;){var ge=T[K];K&&C&&(ge=at(ge,Mt(C))),te=gt(ge.length,te),J[K]=!$&&(C||H>=120&&ge.length>=120)?new mr(K&&ge):r}ge=T[0];var Se=-1,Ie=J[0];e:for(;++Se<H&&ve.length<te;){var De=ge[Se],ke=C?C(De):De;if(De=$||De!==0?De:0,!(Ie?Fr(Ie,ke):D(ve,ke,$))){for(K=W;--K;){var Ge=J[K];if(!(Ge?Fr(Ge,ke):D(T[K],ke,$)))continue e}Ie&&Ie.push(ke),ve.push(De)}}return ve}function ic(T,C,$,D){return Yt(T,function(H,W,K){C(D,$(H),W,K)}),D}function Zr(T,C,$){C=fr(C,T),T=Zo(T,C);var D=T==null?T:T[qt(Ft(C))];return D==null?r:Et(D,T,$)}function oo(T){return ot(T)&&_t(T)==ae}function oc(T){return ot(T)&&_t(T)==Fe}function sc(T){return ot(T)&&_t(T)==Ee}function qr(T,C,$,D,H){return T===C?!0:T==null||C==null||!ot(T)&&!ot(C)?T!==T&&C!==C:lc(T,C,$,D,qr,H)}function lc(T,C,$,D,H,W){var K=He(T),J=He(C),te=K?me:mt(T),ve=J?me:mt(C);te=te==ae?le:te,ve=ve==ae?le:ve;var ge=te==le,Se=ve==le,Ie=te==ve;if(Ie&&dr(T)){if(!dr(C))return!1;K=!0,ge=!1}if(Ie&&!ge)return W||(W=new zt),K||kr(T)?Vo(T,C,$,D,H,W):Nc(T,C,te,$,D,H,W);if(!($&x)){var De=ge&&Qe.call(T,"__wrapped__"),ke=Se&&Qe.call(C,"__wrapped__");if(De||ke){var Ge=De?T.value():T,Be=ke?C.value():C;return W||(W=new zt),H(Ge,Be,$,D,W)}}return Ie?(W||(W=new zt),kc(T,C,$,D,H,W)):!1}function uc(T){return ot(T)&&mt(T)==X}function ya(T,C,$,D){var H=$.length,W=H,K=!D;if(T==null)return!W;for(T=et(T);H--;){var J=$[H];if(K&&J[2]?J[1]!==T[J[0]]:!(J[0]in T))return!1}for(;++H<W;){J=$[H];var te=J[0],ve=T[te],ge=J[1];if(K&&J[2]){if(ve===r&&!(te in T))return!1}else{var Se=new zt;if(D)var Ie=D(ve,ge,te,T,C,Se);if(!(Ie===r?qr(ge,ve,x|A,D,Se):Ie))return!1}}return!0}function so(T){if(!it(T)||Yc(T))return!1;var C=rr(T)?uu:Qs;return C.test(xr(T))}function cc(T){return ot(T)&&_t(T)==Ae}function fc(T){return ot(T)&&mt(T)==xe}function hc(T){return ot(T)&&Hn(T.length)&&!!nt[_t(T)]}function lo(T){return typeof T=="function"?T:T==null?wt:typeof T=="object"?He(T)?fo(T[0],T[1]):co(T):Is(T)}function Sa(T){if(!jr(T))return vu(T);var C=[];for(var $ in et(T))Qe.call(T,$)&&$!="constructor"&&C.push($);return C}function dc(T){if(!it(T))return Kc(T);var C=jr(T),$=[];for(var D in T)D=="constructor"&&(C||!Qe.call(T,D))||$.push(D);return $}function xa(T,C){return T<C}function uo(T,C){var $=-1,D=bt(T)?oe(T.length):[];return ur(T,function(H,W,K){D[++$]=C(H,W,K)}),D}function co(T){var C=Na(T);return C.length==1&&C[0][2]?Wo(C[0][0],C[0][1]):function($){return $===T||ya($,T,C)}}function fo(T,C){return Ba(T)&&Uo(C)?Wo(qt(T),C):function($){var D=qa($,T);return D===r&&D===C?Xa($,T):qr(C,D,x|A)}}function Cn(T,C,$,D,H){T!==C&&pa(C,function(W,K){if(H||(H=new zt),it(W))pc(T,C,K,$,Cn,D,H);else{var J=D?D(Va(T,K),W,K+"",T,C,H):r;J===r&&(J=W),ha(T,K,J)}},Ct)}function pc(T,C,$,D,H,W,K){var J=Va(T,$),te=Va(C,$),ve=K.get(te);if(ve){ha(T,$,ve);return}var ge=W?W(J,te,$+"",T,C,K):r,Se=ge===r;if(Se){var Ie=He(te),De=!Ie&&dr(te),ke=!Ie&&!De&&kr(te);ge=te,Ie||De||ke?He(J)?ge=J:st(J)?ge=At(J):De?(Se=!1,ge=bo(te,!0)):ke?(Se=!1,ge=Co(te,!0)):ge=[]:Qr(te)||Tr(te)?(ge=J,Tr(J)?ge=xs(J):(!it(J)||rr(J))&&(ge=Go(te))):Se=!1}Se&&(K.set(te,ge),H(ge,te,D,W,K),K.delete(te)),ha(T,$,ge)}function ho(T,C){var $=T.length;if(!!$)return C+=C<0?$:0,tr(C,$)?T[C]:r}function po(T,C,$){C.length?C=at(C,function(W){return He(W)?function(K){return _r(K,W.length===1?W[0]:W)}:W}):C=[wt];var D=-1;C=at(C,Mt(Ne()));var H=uo(T,function(W,K,J){var te=at(C,function(ve){return ve(W)});return{criteria:te,index:++D,value:W}});return Hl(H,function(W,K){return Mc(W,K,$)})}function vc(T,C){return vo(T,C,function($,D){return Xa(T,D)})}function vo(T,C,$){for(var D=-1,H=C.length,W={};++D<H;){var K=C[D],J=_r(T,K);$(J,K)&&Xr(W,fr(K,T),J)}return W}function gc(T){return function(C){return _r(C,T)}}function Ta(T,C,$,D){var H=D?Vl:wr,W=-1,K=C.length,J=T;for(T===C&&(C=At(C)),$&&(J=at(T,Mt($)));++W<K;)for(var te=0,ve=C[W],ge=$?$(ve):ve;(te=H(J,ge,te,D))>-1;)J!==T&&vn.call(J,te,1),vn.call(T,te,1);return T}function go(T,C){for(var $=T?C.length:0,D=$-1;$--;){var H=C[$];if($==D||H!==W){var W=H;tr(H)?vn.call(T,H,1):wa(T,H)}}return T}function Aa(T,C){return T+yn(Xi()*(C-T+1))}function mc(T,C,$,D){for(var H=-1,W=ft(mn((C-T)/($||1)),0),K=oe(W);W--;)K[D?W:++H]=T,T+=$;return K}function ba(T,C){var $="";if(!T||C<1||C>j)return $;do C%2&&($+=T),C=yn(C/2),C&&(T+=T);while(C);return $}function Ue(T,C){return Ha(Yo(T,C,wt),T+"")}function yc(T){return Ji(Br(T))}function Sc(T,C){var $=Br(T);return On($,yr(C,0,$.length))}function Xr(T,C,$,D){if(!it(T))return T;C=fr(C,T);for(var H=-1,W=C.length,K=W-1,J=T;J!=null&&++H<W;){var te=qt(C[H]),ve=$;if(te==="__proto__"||te==="constructor"||te==="prototype")return T;if(H!=K){var ge=J[te];ve=D?D(ge,te,J):r,ve===r&&(ve=it(ge)?ge:tr(C[H+1])?[]:{})}Wr(J,te,ve),J=J[te]}return T}var mo=_n?function(T,C){return _n.set(T,C),T}:wt,xc=gn?function(T,C){return gn(T,"toString",{configurable:!0,enumerable:!1,value:ja(C),writable:!0})}:wt;function Tc(T){return On(Br(T))}function Bt(T,C,$){var D=-1,H=T.length;C<0&&(C=-C>H?0:H+C),$=$>H?H:$,$<0&&($+=H),H=C>$?0:$-C>>>0,C>>>=0;for(var W=oe(H);++D<H;)W[D]=T[D+C];return W}function Ac(T,C){var $;return ur(T,function(D,H,W){return $=C(D,H,W),!$}),!!$}function wn(T,C,$){var D=0,H=T==null?D:T.length;if(typeof C=="number"&&C===C&&H<=Me){for(;D<H;){var W=D+H>>>1,K=T[W];K!==null&&!Pt(K)&&($?K<=C:K<C)?D=W+1:H=W}return H}return Ca(T,C,wt,$)}function Ca(T,C,$,D){var H=0,W=T==null?0:T.length;if(W===0)return 0;C=$(C);for(var K=C!==C,J=C===null,te=Pt(C),ve=C===r;H<W;){var ge=yn((H+W)/2),Se=$(T[ge]),Ie=Se!==r,De=Se===null,ke=Se===Se,Ge=Pt(Se);if(K)var Be=D||ke;else ve?Be=ke&&(D||Ie):J?Be=ke&&Ie&&(D||!De):te?Be=ke&&Ie&&!De&&(D||!Ge):De||Ge?Be=!1:Be=D?Se<=C:Se<C;Be?H=ge+1:W=ge}return gt(W,be)}function yo(T,C){for(var $=-1,D=T.length,H=0,W=[];++$<D;){var K=T[$],J=C?C(K):K;if(!$||!Gt(J,te)){var te=J;W[H++]=K===0?0:K}}return W}function _o(T){return typeof T=="number"?T:Pt(T)?fe:+T}function $t(T){if(typeof T=="string")return T;if(He(T))return at(T,$t)+"";if(Pt(T))return Ki?Ki.call(T):"";var C=T+"";return C=="0"&&1/T==-Q?"-0":C}function cr(T,C,$){var D=-1,H=an,W=T.length,K=!0,J=[],te=J;if($)K=!1,H=Qn;else if(W>=l){var ve=C?null:Dc(T);if(ve)return sn(ve);K=!1,H=Fr,te=new mr}else te=C?[]:J;e:for(;++D<W;){var ge=T[D],Se=C?C(ge):ge;if(ge=$||ge!==0?ge:0,K&&Se===Se){for(var Ie=te.length;Ie--;)if(te[Ie]===Se)continue e;C&&te.push(Se),J.push(ge)}else H(te,Se,$)||(te!==J&&te.push(Se),J.push(ge))}return J}function wa(T,C){return C=fr(C,T),T=Zo(T,C),T==null||delete T[qt(Ft(C))]}function So(T,C,$,D){return Xr(T,C,$(_r(T,C)),D)}function En(T,C,$,D){for(var H=T.length,W=D?H:-1;(D?W--:++W<H)&&C(T[W],W,T););return $?Bt(T,D?0:W,D?W+1:H):Bt(T,D?W+1:0,D?H:W)}function xo(T,C){var $=T;return $ instanceof Ze&&($=$.value()),ea(C,function(D,H){return H.func.apply(H.thisArg,or([D],H.args))},$)}function Ea(T,C,$){var D=T.length;if(D<2)return D?cr(T[0]):[];for(var H=-1,W=oe(D);++H<D;)for(var K=T[H],J=-1;++J<D;)J!=H&&(W[H]=Yr(W[H]||K,T[J],C,$));return cr(vt(W,1),C,$)}function To(T,C,$){for(var D=-1,H=T.length,W=C.length,K={};++D<H;){var J=D<W?C[D]:r;$(K,T[D],J)}return K}function Ma(T){return st(T)?T:[]}function $a(T){return typeof T=="function"?T:wt}function fr(T,C){return He(T)?T:Ba(T,C)?[T]:jo(je(T))}var bc=Ue;function hr(T,C,$){var D=T.length;return $=$===r?D:$,!C&&$>=D?T:Bt(T,C,$)}var Ao=cu||function(T){return pt.clearTimeout(T)};function bo(T,C){if(C)return T.slice();var $=T.length,D=Ui?Ui($):new T.constructor($);return T.copy(D),D}function Pa(T){var C=new T.constructor(T.byteLength);return new dn(C).set(new dn(T)),C}function Cc(T,C){var $=C?Pa(T.buffer):T.buffer;return new T.constructor($,T.byteOffset,T.byteLength)}function wc(T){var C=new T.constructor(T.source,oi.exec(T));return C.lastIndex=T.lastIndex,C}function Ec(T){return Ur?et(Ur.call(T)):{}}function Co(T,C){var $=C?Pa(T.buffer):T.buffer;return new T.constructor($,T.byteOffset,T.length)}function wo(T,C){if(T!==C){var $=T!==r,D=T===null,H=T===T,W=Pt(T),K=C!==r,J=C===null,te=C===C,ve=Pt(C);if(!J&&!ve&&!W&&T>C||W&&K&&te&&!J&&!ve||D&&K&&te||!$&&te||!H)return 1;if(!D&&!W&&!ve&&T<C||ve&&$&&H&&!D&&!W||J&&$&&H||!K&&H||!te)return-1}return 0}function Mc(T,C,$){for(var D=-1,H=T.criteria,W=C.criteria,K=H.length,J=$.length;++D<K;){var te=wo(H[D],W[D]);if(te){if(D>=J)return te;var ve=$[D];return te*(ve=="desc"?-1:1)}}return T.index-C.index}function Eo(T,C,$,D){for(var H=-1,W=T.length,K=$.length,J=-1,te=C.length,ve=ft(W-K,0),ge=oe(te+ve),Se=!D;++J<te;)ge[J]=C[J];for(;++H<K;)(Se||H<W)&&(ge[$[H]]=T[H]);for(;ve--;)ge[J++]=T[H++];return ge}function Mo(T,C,$,D){for(var H=-1,W=T.length,K=-1,J=$.length,te=-1,ve=C.length,ge=ft(W-J,0),Se=oe(ge+ve),Ie=!D;++H<ge;)Se[H]=T[H];for(var De=H;++te<ve;)Se[De+te]=C[te];for(;++K<J;)(Ie||H<W)&&(Se[De+$[K]]=T[H++]);return Se}function At(T,C){var $=-1,D=T.length;for(C||(C=oe(D));++$<D;)C[$]=T[$];return C}function Zt(T,C,$,D){var H=!$;$||($={});for(var W=-1,K=C.length;++W<K;){var J=C[W],te=D?D($[J],T[J],J,$,T):r;te===r&&(te=T[J]),H?Jt($,J,te):Wr($,J,te)}return $}function $c(T,C){return Zt(T,ka(T),C)}function Pc(T,C){return Zt(T,Ho(T),C)}function Mn(T,C){return function($,D){var H=He($)?Dl:ju,W=C?C():{};return H($,T,Ne(D,2),W)}}function Dr(T){return Ue(function(C,$){var D=-1,H=$.length,W=H>1?$[H-1]:r,K=H>2?$[2]:r;for(W=T.length>3&&typeof W=="function"?(H--,W):r,K&&St($[0],$[1],K)&&(W=H<3?r:W,H=1),C=et(C);++D<H;){var J=$[D];J&&T(C,J,D,W)}return C})}function $o(T,C){return function($,D){if($==null)return $;if(!bt($))return T($,D);for(var H=$.length,W=C?H:-1,K=et($);(C?W--:++W<H)&&D(K[W],W,K)!==!1;);return $}}function Po(T){return function(C,$,D){for(var H=-1,W=et(C),K=D(C),J=K.length;J--;){var te=K[T?J:++H];if($(W[te],te,W)===!1)break}return C}}function Ic(T,C,$){var D=C&b,H=Kr(T);function W(){var K=this&&this!==pt&&this instanceof W?H:T;return K.apply(D?$:this,arguments)}return W}function Io(T){return function(C){C=je(C);var $=Er(C)?Ht(C):r,D=$?$[0]:C.charAt(0),H=$?hr($,1).join(""):C.slice(1);return D[T]()+H}}function Or(T){return function(C){return ea($s(Ms(C).replace(Sl,"")),T,"")}}function Kr(T){return function(){var C=arguments;switch(C.length){case 0:return new T;case 1:return new T(C[0]);case 2:return new T(C[0],C[1]);case 3:return new T(C[0],C[1],C[2]);case 4:return new T(C[0],C[1],C[2],C[3]);case 5:return new T(C[0],C[1],C[2],C[3],C[4]);case 6:return new T(C[0],C[1],C[2],C[3],C[4],C[5]);case 7:return new T(C[0],C[1],C[2],C[3],C[4],C[5],C[6])}var $=Lr(T.prototype),D=T.apply($,C);return it(D)?D:$}}function Rc(T,C,$){var D=Kr(T);function H(){for(var W=arguments.length,K=oe(W),J=W,te=Nr(H);J--;)K[J]=arguments[J];var ve=W<3&&K[0]!==te&&K[W-1]!==te?[]:sr(K,te);if(W-=ve.length,W<$)return No(T,C,$n,H.placeholder,r,K,ve,r,r,$-W);var ge=this&&this!==pt&&this instanceof H?D:T;return Et(ge,this,K)}return H}function Ro(T){return function(C,$,D){var H=et(C);if(!bt(C)){var W=Ne($,3);C=ht(C),$=function(J){return W(H[J],J,H)}}var K=T(C,$,D);return K>-1?H[W?C[K]:K]:r}}function Lo(T){return er(function(C){var $=C.length,D=$,H=Nt.prototype.thru;for(T&&C.reverse();D--;){var W=C[D];if(typeof W!="function")throw new Ot(c);if(H&&!K&&Ln(W)=="wrapper")var K=new Nt([],!0)}for(D=K?D:$;++D<$;){W=C[D];var J=Ln(W),te=J=="wrapper"?Oa(W):r;te&&Fa(te[0])&&te[1]==(L|M|R|O)&&!te[4].length&&te[9]==1?K=K[Ln(te[0])].apply(K,te[3]):K=W.length==1&&Fa(W)?K[J]():K.thru(W)}return function(){var ve=arguments,ge=ve[0];if(K&&ve.length==1&&He(ge))return K.plant(ge).value();for(var Se=0,Ie=$?C[Se].apply(this,ve):ge;++Se<$;)Ie=C[Se].call(this,Ie);return Ie}})}function $n(T,C,$,D,H,W,K,J,te,ve){var ge=C&L,Se=C&b,Ie=C&w,De=C&(M|P),ke=C&N,Ge=Ie?r:Kr(T);function Be(){for(var Ye=arguments.length,qe=oe(Ye),It=Ye;It--;)qe[It]=arguments[It];if(De)var xt=Nr(Be),Rt=Gl(qe,xt);if(D&&(qe=Eo(qe,D,H,De)),W&&(qe=Mo(qe,W,K,De)),Ye-=Rt,De&&Ye<ve){var ut=sr(qe,xt);return No(T,C,$n,Be.placeholder,$,qe,ut,J,te,ve-Ye)}var Ut=Se?$:this,ar=Ie?Ut[T]:T;return Ye=qe.length,J?qe=Jc(qe,J):ke&&Ye>1&&qe.reverse(),ge&&te<Ye&&(qe.length=te),this&&this!==pt&&this instanceof Be&&(ar=Ge||Kr(ar)),ar.apply(Ut,qe)}return Be}function Do(T,C){return function($,D){return ic($,T,C(D),{})}}function Pn(T,C){return function($,D){var H;if($===r&&D===r)return C;if($!==r&&(H=$),D!==r){if(H===r)return D;typeof $=="string"||typeof D=="string"?($=$t($),D=$t(D)):($=_o($),D=_o(D)),H=T($,D)}return H}}function Ia(T){return er(function(C){return C=at(C,Mt(Ne())),Ue(function($){var D=this;return T(C,function(H){return Et(H,D,$)})})})}function In(T,C){C=C===r?" ":$t(C);var $=C.length;if($<2)return $?ba(C,T):C;var D=ba(C,mn(T/Mr(C)));return Er(C)?hr(Ht(D),0,T).join(""):D.slice(0,T)}function Lc(T,C,$,D){var H=C&b,W=Kr(T);function K(){for(var J=-1,te=arguments.length,ve=-1,ge=D.length,Se=oe(ge+te),Ie=this&&this!==pt&&this instanceof K?W:T;++ve<ge;)Se[ve]=D[ve];for(;te--;)Se[ve++]=arguments[++J];return Et(Ie,H?$:this,Se)}return K}function Oo(T){return function(C,$,D){return D&&typeof D!="number"&&St(C,$,D)&&($=D=r),C=nr(C),$===r?($=C,C=0):$=nr($),D=D===r?C<$?1:-1:nr(D),mc(C,$,D,T)}}function Rn(T){return function(C,$){return typeof C=="string"&&typeof $=="string"||(C=Vt(C),$=Vt($)),T(C,$)}}function No(T,C,$,D,H,W,K,J,te,ve){var ge=C&M,Se=ge?K:r,Ie=ge?r:K,De=ge?W:r,ke=ge?r:W;C|=ge?R:I,C&=~(ge?I:R),C&E||(C&=~(b|w));var Ge=[T,C,H,De,Se,ke,Ie,J,te,ve],Be=$.apply(r,Ge);return Fa(T)&&qo(Be,Ge),Be.placeholder=D,Xo(Be,T,C)}function Ra(T){var C=ct[T];return function($,D){if($=Vt($),D=D==null?0:gt(ze(D),292),D&&qi($)){var H=(je($)+"e").split("e"),W=C(H[0]+"e"+(+H[1]+D));return H=(je(W)+"e").split("e"),+(H[0]+"e"+(+H[1]-D))}return C($)}}var Dc=Ir&&1/sn(new Ir([,-0]))[1]==Q?function(T){return new Ir(T)}:ei;function ko(T){return function(C){var $=mt(C);return $==X?sa(C):$==xe?Kl(C):zl(C,T(C))}}function Qt(T,C,$,D,H,W,K,J){var te=C&w;if(!te&&typeof T!="function")throw new Ot(c);var ve=D?D.length:0;if(ve||(C&=~(R|I),D=H=r),K=K===r?K:ft(ze(K),0),J=J===r?J:ze(J),ve-=H?H.length:0,C&I){var ge=D,Se=H;D=H=r}var Ie=te?r:Oa(T),De=[T,C,$,D,H,ge,Se,W,K,J];if(Ie&&Xc(De,Ie),T=De[0],C=De[1],$=De[2],D=De[3],H=De[4],J=De[9]=De[9]===r?te?0:T.length:ft(De[9]-ve,0),!J&&C&(M|P)&&(C&=~(M|P)),!C||C==b)var ke=Ic(T,C,$);else C==M||C==P?ke=Rc(T,C,J):(C==R||C==(b|R))&&!H.length?ke=Lc(T,C,$,D):ke=$n.apply(r,De);var Ge=Ie?mo:qo;return Xo(Ge(ke,De),T,C)}function Bo(T,C,$,D){return T===r||Gt(T,Pr[$])&&!Qe.call(D,$)?C:T}function Fo(T,C,$,D,H,W){return it(T)&&it(C)&&(W.set(C,T),Cn(T,C,r,Fo,W),W.delete(C)),T}function Oc(T){return Qr(T)?r:T}function Vo(T,C,$,D,H,W){var K=$&x,J=T.length,te=C.length;if(J!=te&&!(K&&te>J))return!1;var ve=W.get(T),ge=W.get(C);if(ve&&ge)return ve==C&&ge==T;var Se=-1,Ie=!0,De=$&A?new mr:r;for(W.set(T,C),W.set(C,T);++Se<J;){var ke=T[Se],Ge=C[Se];if(D)var Be=K?D(Ge,ke,Se,C,T,W):D(ke,Ge,Se,T,C,W);if(Be!==r){if(Be)continue;Ie=!1;break}if(De){if(!ta(C,function(Ye,qe){if(!Fr(De,qe)&&(ke===Ye||H(ke,Ye,$,D,W)))return De.push(qe)})){Ie=!1;break}}else if(!(ke===Ge||H(ke,Ge,$,D,W))){Ie=!1;break}}return W.delete(T),W.delete(C),Ie}function Nc(T,C,$,D,H,W,K){switch($){case We:if(T.byteLength!=C.byteLength||T.byteOffset!=C.byteOffset)return!1;T=T.buffer,C=C.buffer;case Fe:return!(T.byteLength!=C.byteLength||!W(new dn(T),new dn(C)));case ue:case Ee:case re:return Gt(+T,+C);case pe:return T.name==C.name&&T.message==C.message;case Ae:case _e:return T==C+"";case X:var J=sa;case xe:var te=D&x;if(J||(J=sn),T.size!=C.size&&!te)return!1;var ve=K.get(T);if(ve)return ve==C;D|=A,K.set(T,C);var ge=Vo(J(T),J(C),D,H,W,K);return K.delete(T),ge;case Le:if(Ur)return Ur.call(T)==Ur.call(C)}return!1}function kc(T,C,$,D,H,W){var K=$&x,J=La(T),te=J.length,ve=La(C),ge=ve.length;if(te!=ge&&!K)return!1;for(var Se=te;Se--;){var Ie=J[Se];if(!(K?Ie in C:Qe.call(C,Ie)))return!1}var De=W.get(T),ke=W.get(C);if(De&&ke)return De==C&&ke==T;var Ge=!0;W.set(T,C),W.set(C,T);for(var Be=K;++Se<te;){Ie=J[Se];var Ye=T[Ie],qe=C[Ie];if(D)var It=K?D(qe,Ye,Ie,C,T,W):D(Ye,qe,Ie,T,C,W);if(!(It===r?Ye===qe||H(Ye,qe,$,D,W):It)){Ge=!1;break}Be||(Be=Ie=="constructor")}if(Ge&&!Be){var xt=T.constructor,Rt=C.constructor;xt!=Rt&&"constructor"in T&&"constructor"in C&&!(typeof xt=="function"&&xt instanceof xt&&typeof Rt=="function"&&Rt instanceof Rt)&&(Ge=!1)}return W.delete(T),W.delete(C),Ge}function er(T){return Ha(Yo(T,r,ts),T+"")}function La(T){return io(T,ht,ka)}function Da(T){return io(T,Ct,Ho)}var Oa=_n?function(T){return _n.get(T)}:ei;function Ln(T){for(var C=T.name+"",$=Rr[C],D=Qe.call(Rr,C)?$.length:0;D--;){var H=$[D],W=H.func;if(W==null||W==T)return H.name}return C}function Nr(T){var C=Qe.call(G,"placeholder")?G:T;return C.placeholder}function Ne(){var T=G.iteratee||Ja;return T=T===Ja?lo:T,arguments.length?T(arguments[0],arguments[1]):T}function Dn(T,C){var $=T.__data__;return Wc(C)?$[typeof C=="string"?"string":"hash"]:$.map}function Na(T){for(var C=ht(T),$=C.length;$--;){var D=C[$],H=T[D];C[$]=[D,H,Uo(H)]}return C}function Sr(T,C){var $=Zl(T,C);return so($)?$:r}function Bc(T){var C=Qe.call(T,vr),$=T[vr];try{T[vr]=r;var D=!0}catch{}var H=fn.call(T);return D&&(C?T[vr]=$:delete T[vr]),H}var ka=ua?function(T){return T==null?[]:(T=et(T),ir(ua(T),function(C){return Yi.call(T,C)}))}:ti,Ho=ua?function(T){for(var C=[];T;)or(C,ka(T)),T=pn(T);return C}:ti,mt=_t;(ca&&mt(new ca(new ArrayBuffer(1)))!=We||Hr&&mt(new Hr)!=X||fa&&mt(fa.resolve())!=Te||Ir&&mt(new Ir)!=xe||zr&&mt(new zr)!=we)&&(mt=function(T){var C=_t(T),$=C==le?T.constructor:r,D=$?xr($):"";if(D)switch(D){case _u:return We;case Su:return X;case xu:return Te;case Tu:return xe;case Au:return we}return C});function Fc(T,C,$){for(var D=-1,H=$.length;++D<H;){var W=$[D],K=W.size;switch(W.type){case"drop":T+=K;break;case"dropRight":C-=K;break;case"take":C=gt(C,T+K);break;case"takeRight":T=ft(T,C-K);break}}return{start:T,end:C}}function Vc(T){var C=T.match(Ws);return C?C[1].split(Ys):[]}function zo(T,C,$){C=fr(C,T);for(var D=-1,H=C.length,W=!1;++D<H;){var K=qt(C[D]);if(!(W=T!=null&&$(T,K)))break;T=T[K]}return W||++D!=H?W:(H=T==null?0:T.length,!!H&&Hn(H)&&tr(K,H)&&(He(T)||Tr(T)))}function Hc(T){var C=T.length,$=new T.constructor(C);return C&&typeof T[0]=="string"&&Qe.call(T,"index")&&($.index=T.index,$.input=T.input),$}function Go(T){return typeof T.constructor=="function"&&!jr(T)?Lr(pn(T)):{}}function zc(T,C,$){var D=T.constructor;switch(C){case Fe:return Pa(T);case ue:case Ee:return new D(+T);case We:return Cc(T,$);case Xe:case Je:case yt:case Wt:case Ar:case Xt:case br:case dt:case Tt:return Co(T,$);case X:return new D;case re:case _e:return new D(T);case Ae:return wc(T);case xe:return new D;case Le:return Ec(T)}}function Gc(T,C){var $=C.length;if(!$)return T;var D=$-1;return C[D]=($>1?"& ":"")+C[D],C=C.join($>2?", ":" "),T.replace(Us,`{
/* [wrapped with `+C+`] */
`)}function Uc(T){return He(T)||Tr(T)||!!(Zi&&T&&T[Zi])}function tr(T,C){var $=typeof T;return C=C==null?j:C,!!C&&($=="number"||$!="symbol"&&tl.test(T))&&T>-1&&T%1==0&&T<C}function St(T,C,$){if(!it($))return!1;var D=typeof C;return(D=="number"?bt($)&&tr(C,$.length):D=="string"&&C in $)?Gt($[C],T):!1}function Ba(T,C){if(He(T))return!1;var $=typeof T;return $=="number"||$=="symbol"||$=="boolean"||T==null||Pt(T)?!0:Vs.test(T)||!Fs.test(T)||C!=null&&T in et(C)}function Wc(T){var C=typeof T;return C=="string"||C=="number"||C=="symbol"||C=="boolean"?T!=="__proto__":T===null}function Fa(T){var C=Ln(T),$=G[C];if(typeof $!="function"||!(C in Ze.prototype))return!1;if(T===$)return!0;var D=Oa($);return!!D&&T===D[0]}function Yc(T){return!!Gi&&Gi in T}var Zc=un?rr:ri;function jr(T){var C=T&&T.constructor,$=typeof C=="function"&&C.prototype||Pr;return T===$}function Uo(T){return T===T&&!it(T)}function Wo(T,C){return function($){return $==null?!1:$[T]===C&&(C!==r||T in et($))}}function qc(T){var C=Fn(T,function(D){return $.size===v&&$.clear(),D}),$=C.cache;return C}function Xc(T,C){var $=T[1],D=C[1],H=$|D,W=H<(b|w|L),K=D==L&&$==M||D==L&&$==O&&T[7].length<=C[8]||D==(L|O)&&C[7].length<=C[8]&&$==M;if(!(W||K))return T;D&b&&(T[2]=C[2],H|=$&b?0:E);var J=C[3];if(J){var te=T[3];T[3]=te?Eo(te,J,C[4]):J,T[4]=te?sr(T[3],g):C[4]}return J=C[5],J&&(te=T[5],T[5]=te?Mo(te,J,C[6]):J,T[6]=te?sr(T[5],g):C[6]),J=C[7],J&&(T[7]=J),D&L&&(T[8]=T[8]==null?C[8]:gt(T[8],C[8])),T[9]==null&&(T[9]=C[9]),T[0]=C[0],T[1]=H,T}function Kc(T){var C=[];if(T!=null)for(var $ in et(T))C.push($);return C}function jc(T){return fn.call(T)}function Yo(T,C,$){return C=ft(C===r?T.length-1:C,0),function(){for(var D=arguments,H=-1,W=ft(D.length-C,0),K=oe(W);++H<W;)K[H]=D[C+H];H=-1;for(var J=oe(C+1);++H<C;)J[H]=D[H];return J[C]=$(K),Et(T,this,J)}}function Zo(T,C){return C.length<2?T:_r(T,Bt(C,0,-1))}function Jc(T,C){for(var $=T.length,D=gt(C.length,$),H=At(T);D--;){var W=C[D];T[D]=tr(W,$)?H[W]:r}return T}function Va(T,C){if(!(C==="constructor"&&typeof T[C]=="function")&&C!="__proto__")return T[C]}var qo=Ko(mo),Jr=hu||function(T,C){return pt.setTimeout(T,C)},Ha=Ko(xc);function Xo(T,C,$){var D=C+"";return Ha(T,Gc(D,Qc(Vc(D),$)))}function Ko(T){var C=0,$=0;return function(){var D=gu(),H=z-(D-$);if($=D,H>0){if(++C>=V)return arguments[0]}else C=0;return T.apply(r,arguments)}}function On(T,C){var $=-1,D=T.length,H=D-1;for(C=C===r?D:C;++$<C;){var W=Aa($,H),K=T[W];T[W]=T[$],T[$]=K}return T.length=C,T}var jo=qc(function(T){var C=[];return T.charCodeAt(0)===46&&C.push(""),T.replace(Hs,function($,D,H,W){C.push(H?W.replace(Xs,"$1"):D||$)}),C});function qt(T){if(typeof T=="string"||Pt(T))return T;var C=T+"";return C=="0"&&1/T==-Q?"-0":C}function xr(T){if(T!=null){try{return cn.call(T)}catch{}try{return T+""}catch{}}return""}function Qc(T,C){return Dt(Pe,function($){var D="_."+$[0];C&$[1]&&!an(T,D)&&T.push(D)}),T.sort()}function Jo(T){if(T instanceof Ze)return T.clone();var C=new Nt(T.__wrapped__,T.__chain__);return C.__actions__=At(T.__actions__),C.__index__=T.__index__,C.__values__=T.__values__,C}function ef(T,C,$){($?St(T,C,$):C===r)?C=1:C=ft(ze(C),0);var D=T==null?0:T.length;if(!D||C<1)return[];for(var H=0,W=0,K=oe(mn(D/C));H<D;)K[W++]=Bt(T,H,H+=C);return K}function tf(T){for(var C=-1,$=T==null?0:T.length,D=0,H=[];++C<$;){var W=T[C];W&&(H[D++]=W)}return H}function rf(){var T=arguments.length;if(!T)return[];for(var C=oe(T-1),$=arguments[0],D=T;D--;)C[D-1]=arguments[D];return or(He($)?At($):[$],vt(C,1))}var nf=Ue(function(T,C){return st(T)?Yr(T,vt(C,1,st,!0)):[]}),af=Ue(function(T,C){var $=Ft(C);return st($)&&($=r),st(T)?Yr(T,vt(C,1,st,!0),Ne($,2)):[]}),of=Ue(function(T,C){var $=Ft(C);return st($)&&($=r),st(T)?Yr(T,vt(C,1,st,!0),r,$):[]});function sf(T,C,$){var D=T==null?0:T.length;return D?(C=$||C===r?1:ze(C),Bt(T,C<0?0:C,D)):[]}function lf(T,C,$){var D=T==null?0:T.length;return D?(C=$||C===r?1:ze(C),C=D-C,Bt(T,0,C<0?0:C)):[]}function uf(T,C){return T&&T.length?En(T,Ne(C,3),!0,!0):[]}function cf(T,C){return T&&T.length?En(T,Ne(C,3),!0):[]}function ff(T,C,$,D){var H=T==null?0:T.length;return H?($&&typeof $!="number"&&St(T,C,$)&&($=0,D=H),tc(T,C,$,D)):[]}function Qo(T,C,$){var D=T==null?0:T.length;if(!D)return-1;var H=$==null?0:ze($);return H<0&&(H=ft(D+H,0)),on(T,Ne(C,3),H)}function es(T,C,$){var D=T==null?0:T.length;if(!D)return-1;var H=D-1;return $!==r&&(H=ze($),H=$<0?ft(D+H,0):gt(H,D-1)),on(T,Ne(C,3),H,!0)}function ts(T){var C=T==null?0:T.length;return C?vt(T,1):[]}function hf(T){var C=T==null?0:T.length;return C?vt(T,Q):[]}function df(T,C){var $=T==null?0:T.length;return $?(C=C===r?1:ze(C),vt(T,C)):[]}function pf(T){for(var C=-1,$=T==null?0:T.length,D={};++C<$;){var H=T[C];D[H[0]]=H[1]}return D}function rs(T){return T&&T.length?T[0]:r}function vf(T,C,$){var D=T==null?0:T.length;if(!D)return-1;var H=$==null?0:ze($);return H<0&&(H=ft(D+H,0)),wr(T,C,H)}function gf(T){var C=T==null?0:T.length;return C?Bt(T,0,-1):[]}var mf=Ue(function(T){var C=at(T,Ma);return C.length&&C[0]===T[0]?ma(C):[]}),yf=Ue(function(T){var C=Ft(T),$=at(T,Ma);return C===Ft($)?C=r:$.pop(),$.length&&$[0]===T[0]?ma($,Ne(C,2)):[]}),_f=Ue(function(T){var C=Ft(T),$=at(T,Ma);return C=typeof C=="function"?C:r,C&&$.pop(),$.length&&$[0]===T[0]?ma($,r,C):[]});function Sf(T,C){return T==null?"":pu.call(T,C)}function Ft(T){var C=T==null?0:T.length;return C?T[C-1]:r}function xf(T,C,$){var D=T==null?0:T.length;if(!D)return-1;var H=D;return $!==r&&(H=ze($),H=H<0?ft(D+H,0):gt(H,D-1)),C===C?Jl(T,C,H):on(T,Oi,H,!0)}function Tf(T,C){return T&&T.length?ho(T,ze(C)):r}var Af=Ue(ns);function ns(T,C){return T&&T.length&&C&&C.length?Ta(T,C):T}function bf(T,C,$){return T&&T.length&&C&&C.length?Ta(T,C,Ne($,2)):T}function Cf(T,C,$){return T&&T.length&&C&&C.length?Ta(T,C,r,$):T}var wf=er(function(T,C){var $=T==null?0:T.length,D=da(T,C);return go(T,at(C,function(H){return tr(H,$)?+H:H}).sort(wo)),D});function Ef(T,C){var $=[];if(!(T&&T.length))return $;var D=-1,H=[],W=T.length;for(C=Ne(C,3);++D<W;){var K=T[D];C(K,D,T)&&($.push(K),H.push(D))}return go(T,H),$}function za(T){return T==null?T:yu.call(T)}function Mf(T,C,$){var D=T==null?0:T.length;return D?($&&typeof $!="number"&&St(T,C,$)?(C=0,$=D):(C=C==null?0:ze(C),$=$===r?D:ze($)),Bt(T,C,$)):[]}function $f(T,C){return wn(T,C)}function Pf(T,C,$){return Ca(T,C,Ne($,2))}function If(T,C){var $=T==null?0:T.length;if($){var D=wn(T,C);if(D<$&&Gt(T[D],C))return D}return-1}function Rf(T,C){return wn(T,C,!0)}function Lf(T,C,$){return Ca(T,C,Ne($,2),!0)}function Df(T,C){var $=T==null?0:T.length;if($){var D=wn(T,C,!0)-1;if(Gt(T[D],C))return D}return-1}function Of(T){return T&&T.length?yo(T):[]}function Nf(T,C){return T&&T.length?yo(T,Ne(C,2)):[]}function kf(T){var C=T==null?0:T.length;return C?Bt(T,1,C):[]}function Bf(T,C,$){return T&&T.length?(C=$||C===r?1:ze(C),Bt(T,0,C<0?0:C)):[]}function Ff(T,C,$){var D=T==null?0:T.length;return D?(C=$||C===r?1:ze(C),C=D-C,Bt(T,C<0?0:C,D)):[]}function Vf(T,C){return T&&T.length?En(T,Ne(C,3),!1,!0):[]}function Hf(T,C){return T&&T.length?En(T,Ne(C,3)):[]}var zf=Ue(function(T){return cr(vt(T,1,st,!0))}),Gf=Ue(function(T){var C=Ft(T);return st(C)&&(C=r),cr(vt(T,1,st,!0),Ne(C,2))}),Uf=Ue(function(T){var C=Ft(T);return C=typeof C=="function"?C:r,cr(vt(T,1,st,!0),r,C)});function Wf(T){return T&&T.length?cr(T):[]}function Yf(T,C){return T&&T.length?cr(T,Ne(C,2)):[]}function Zf(T,C){return C=typeof C=="function"?C:r,T&&T.length?cr(T,r,C):[]}function Ga(T){if(!(T&&T.length))return[];var C=0;return T=ir(T,function($){if(st($))return C=ft($.length,C),!0}),ia(C,function($){return at(T,ra($))})}function as(T,C){if(!(T&&T.length))return[];var $=Ga(T);return C==null?$:at($,function(D){return Et(C,r,D)})}var qf=Ue(function(T,C){return st(T)?Yr(T,C):[]}),Xf=Ue(function(T){return Ea(ir(T,st))}),Kf=Ue(function(T){var C=Ft(T);return st(C)&&(C=r),Ea(ir(T,st),Ne(C,2))}),jf=Ue(function(T){var C=Ft(T);return C=typeof C=="function"?C:r,Ea(ir(T,st),r,C)}),Jf=Ue(Ga);function Qf(T,C){return To(T||[],C||[],Wr)}function eh(T,C){return To(T||[],C||[],Xr)}var th=Ue(function(T){var C=T.length,$=C>1?T[C-1]:r;return $=typeof $=="function"?(T.pop(),$):r,as(T,$)});function is(T){var C=G(T);return C.__chain__=!0,C}function rh(T,C){return C(T),T}function Nn(T,C){return C(T)}var nh=er(function(T){var C=T.length,$=C?T[0]:0,D=this.__wrapped__,H=function(W){return da(W,T)};return C>1||this.__actions__.length||!(D instanceof Ze)||!tr($)?this.thru(H):(D=D.slice($,+$+(C?1:0)),D.__actions__.push({func:Nn,args:[H],thisArg:r}),new Nt(D,this.__chain__).thru(function(W){return C&&!W.length&&W.push(r),W}))});function ah(){return is(this)}function ih(){return new Nt(this.value(),this.__chain__)}function oh(){this.__values__===r&&(this.__values__=_s(this.value()));var T=this.__index__>=this.__values__.length,C=T?r:this.__values__[this.__index__++];return{done:T,value:C}}function sh(){return this}function lh(T){for(var C,$=this;$ instanceof xn;){var D=Jo($);D.__index__=0,D.__values__=r,C?H.__wrapped__=D:C=D;var H=D;$=$.__wrapped__}return H.__wrapped__=T,C}function uh(){var T=this.__wrapped__;if(T instanceof Ze){var C=T;return this.__actions__.length&&(C=new Ze(this)),C=C.reverse(),C.__actions__.push({func:Nn,args:[za],thisArg:r}),new Nt(C,this.__chain__)}return this.thru(za)}function ch(){return xo(this.__wrapped__,this.__actions__)}var fh=Mn(function(T,C,$){Qe.call(T,$)?++T[$]:Jt(T,$,1)});function hh(T,C,$){var D=He(T)?Li:ec;return $&&St(T,C,$)&&(C=r),D(T,Ne(C,3))}function dh(T,C){var $=He(T)?ir:no;return $(T,Ne(C,3))}var ph=Ro(Qo),vh=Ro(es);function gh(T,C){return vt(kn(T,C),1)}function mh(T,C){return vt(kn(T,C),Q)}function yh(T,C,$){return $=$===r?1:ze($),vt(kn(T,C),$)}function os(T,C){var $=He(T)?Dt:ur;return $(T,Ne(C,3))}function ss(T,C){var $=He(T)?Ol:ro;return $(T,Ne(C,3))}var _h=Mn(function(T,C,$){Qe.call(T,$)?T[$].push(C):Jt(T,$,[C])});function Sh(T,C,$,D){T=bt(T)?T:Br(T),$=$&&!D?ze($):0;var H=T.length;return $<0&&($=ft(H+$,0)),zn(T)?$<=H&&T.indexOf(C,$)>-1:!!H&&wr(T,C,$)>-1}var xh=Ue(function(T,C,$){var D=-1,H=typeof C=="function",W=bt(T)?oe(T.length):[];return ur(T,function(K){W[++D]=H?Et(C,K,$):Zr(K,C,$)}),W}),Th=Mn(function(T,C,$){Jt(T,$,C)});function kn(T,C){var $=He(T)?at:uo;return $(T,Ne(C,3))}function Ah(T,C,$,D){return T==null?[]:(He(C)||(C=C==null?[]:[C]),$=D?r:$,He($)||($=$==null?[]:[$]),po(T,C,$))}var bh=Mn(function(T,C,$){T[$?0:1].push(C)},function(){return[[],[]]});function Ch(T,C,$){var D=He(T)?ea:ki,H=arguments.length<3;return D(T,Ne(C,4),$,H,ur)}function wh(T,C,$){var D=He(T)?Nl:ki,H=arguments.length<3;return D(T,Ne(C,4),$,H,ro)}function Eh(T,C){var $=He(T)?ir:no;return $(T,Vn(Ne(C,3)))}function Mh(T){var C=He(T)?Ji:yc;return C(T)}function $h(T,C,$){($?St(T,C,$):C===r)?C=1:C=ze(C);var D=He(T)?Xu:Sc;return D(T,C)}function Ph(T){var C=He(T)?Ku:Tc;return C(T)}function Ih(T){if(T==null)return 0;if(bt(T))return zn(T)?Mr(T):T.length;var C=mt(T);return C==X||C==xe?T.size:Sa(T).length}function Rh(T,C,$){var D=He(T)?ta:Ac;return $&&St(T,C,$)&&(C=r),D(T,Ne(C,3))}var Lh=Ue(function(T,C){if(T==null)return[];var $=C.length;return $>1&&St(T,C[0],C[1])?C=[]:$>2&&St(C[0],C[1],C[2])&&(C=[C[0]]),po(T,vt(C,1),[])}),Bn=fu||function(){return pt.Date.now()};function Dh(T,C){if(typeof C!="function")throw new Ot(c);return T=ze(T),function(){if(--T<1)return C.apply(this,arguments)}}function ls(T,C,$){return C=$?r:C,C=T&&C==null?T.length:C,Qt(T,L,r,r,r,r,C)}function us(T,C){var $;if(typeof C!="function")throw new Ot(c);return T=ze(T),function(){return--T>0&&($=C.apply(this,arguments)),T<=1&&(C=r),$}}var Ua=Ue(function(T,C,$){var D=b;if($.length){var H=sr($,Nr(Ua));D|=R}return Qt(T,D,C,$,H)}),cs=Ue(function(T,C,$){var D=b|w;if($.length){var H=sr($,Nr(cs));D|=R}return Qt(C,D,T,$,H)});function fs(T,C,$){C=$?r:C;var D=Qt(T,M,r,r,r,r,r,C);return D.placeholder=fs.placeholder,D}function hs(T,C,$){C=$?r:C;var D=Qt(T,P,r,r,r,r,r,C);return D.placeholder=hs.placeholder,D}function ds(T,C,$){var D,H,W,K,J,te,ve=0,ge=!1,Se=!1,Ie=!0;if(typeof T!="function")throw new Ot(c);C=Vt(C)||0,it($)&&(ge=!!$.leading,Se="maxWait"in $,W=Se?ft(Vt($.maxWait)||0,C):W,Ie="trailing"in $?!!$.trailing:Ie);function De(ut){var Ut=D,ar=H;return D=H=r,ve=ut,K=T.apply(ar,Ut),K}function ke(ut){return ve=ut,J=Jr(Ye,C),ge?De(ut):K}function Ge(ut){var Ut=ut-te,ar=ut-ve,Rs=C-Ut;return Se?gt(Rs,W-ar):Rs}function Be(ut){var Ut=ut-te,ar=ut-ve;return te===r||Ut>=C||Ut<0||Se&&ar>=W}function Ye(){var ut=Bn();if(Be(ut))return qe(ut);J=Jr(Ye,Ge(ut))}function qe(ut){return J=r,Ie&&D?De(ut):(D=H=r,K)}function It(){J!==r&&Ao(J),ve=0,D=te=H=J=r}function xt(){return J===r?K:qe(Bn())}function Rt(){var ut=Bn(),Ut=Be(ut);if(D=arguments,H=this,te=ut,Ut){if(J===r)return ke(te);if(Se)return Ao(J),J=Jr(Ye,C),De(te)}return J===r&&(J=Jr(Ye,C)),K}return Rt.cancel=It,Rt.flush=xt,Rt}var Oh=Ue(function(T,C){return to(T,1,C)}),Nh=Ue(function(T,C,$){return to(T,Vt(C)||0,$)});function kh(T){return Qt(T,N)}function Fn(T,C){if(typeof T!="function"||C!=null&&typeof C!="function")throw new Ot(c);var $=function(){var D=arguments,H=C?C.apply(this,D):D[0],W=$.cache;if(W.has(H))return W.get(H);var K=T.apply(this,D);return $.cache=W.set(H,K)||W,K};return $.cache=new(Fn.Cache||jt),$}Fn.Cache=jt;function Vn(T){if(typeof T!="function")throw new Ot(c);return function(){var C=arguments;switch(C.length){case 0:return!T.call(this);case 1:return!T.call(this,C[0]);case 2:return!T.call(this,C[0],C[1]);case 3:return!T.call(this,C[0],C[1],C[2])}return!T.apply(this,C)}}function Bh(T){return us(2,T)}var Fh=bc(function(T,C){C=C.length==1&&He(C[0])?at(C[0],Mt(Ne())):at(vt(C,1),Mt(Ne()));var $=C.length;return Ue(function(D){for(var H=-1,W=gt(D.length,$);++H<W;)D[H]=C[H].call(this,D[H]);return Et(T,this,D)})}),Wa=Ue(function(T,C){var $=sr(C,Nr(Wa));return Qt(T,R,r,C,$)}),ps=Ue(function(T,C){var $=sr(C,Nr(ps));return Qt(T,I,r,C,$)}),Vh=er(function(T,C){return Qt(T,O,r,r,r,C)});function Hh(T,C){if(typeof T!="function")throw new Ot(c);return C=C===r?C:ze(C),Ue(T,C)}function zh(T,C){if(typeof T!="function")throw new Ot(c);return C=C==null?0:ft(ze(C),0),Ue(function($){var D=$[C],H=hr($,0,C);return D&&or(H,D),Et(T,this,H)})}function Gh(T,C,$){var D=!0,H=!0;if(typeof T!="function")throw new Ot(c);return it($)&&(D="leading"in $?!!$.leading:D,H="trailing"in $?!!$.trailing:H),ds(T,C,{leading:D,maxWait:C,trailing:H})}function Uh(T){return ls(T,1)}function Wh(T,C){return Wa($a(C),T)}function Yh(){if(!arguments.length)return[];var T=arguments[0];return He(T)?T:[T]}function Zh(T){return kt(T,S)}function qh(T,C){return C=typeof C=="function"?C:r,kt(T,S,C)}function Xh(T){return kt(T,y|S)}function Kh(T,C){return C=typeof C=="function"?C:r,kt(T,y|S,C)}function jh(T,C){return C==null||eo(T,C,ht(C))}function Gt(T,C){return T===C||T!==T&&C!==C}var Jh=Rn(ga),Qh=Rn(function(T,C){return T>=C}),Tr=oo(function(){return arguments}())?oo:function(T){return ot(T)&&Qe.call(T,"callee")&&!Yi.call(T,"callee")},He=oe.isArray,ed=Ei?Mt(Ei):oc;function bt(T){return T!=null&&Hn(T.length)&&!rr(T)}function st(T){return ot(T)&&bt(T)}function td(T){return T===!0||T===!1||ot(T)&&_t(T)==ue}var dr=du||ri,rd=Mi?Mt(Mi):sc;function nd(T){return ot(T)&&T.nodeType===1&&!Qr(T)}function ad(T){if(T==null)return!0;if(bt(T)&&(He(T)||typeof T=="string"||typeof T.splice=="function"||dr(T)||kr(T)||Tr(T)))return!T.length;var C=mt(T);if(C==X||C==xe)return!T.size;if(jr(T))return!Sa(T).length;for(var $ in T)if(Qe.call(T,$))return!1;return!0}function id(T,C){return qr(T,C)}function od(T,C,$){$=typeof $=="function"?$:r;var D=$?$(T,C):r;return D===r?qr(T,C,r,$):!!D}function Ya(T){if(!ot(T))return!1;var C=_t(T);return C==pe||C==$e||typeof T.message=="string"&&typeof T.name=="string"&&!Qr(T)}function sd(T){return typeof T=="number"&&qi(T)}function rr(T){if(!it(T))return!1;var C=_t(T);return C==ye||C==Z||C==se||C==Ce}function vs(T){return typeof T=="number"&&T==ze(T)}function Hn(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=j}function it(T){var C=typeof T;return T!=null&&(C=="object"||C=="function")}function ot(T){return T!=null&&typeof T=="object"}var gs=$i?Mt($i):uc;function ld(T,C){return T===C||ya(T,C,Na(C))}function ud(T,C,$){return $=typeof $=="function"?$:r,ya(T,C,Na(C),$)}function cd(T){return ms(T)&&T!=+T}function fd(T){if(Zc(T))throw new Ve(u);return so(T)}function hd(T){return T===null}function dd(T){return T==null}function ms(T){return typeof T=="number"||ot(T)&&_t(T)==re}function Qr(T){if(!ot(T)||_t(T)!=le)return!1;var C=pn(T);if(C===null)return!0;var $=Qe.call(C,"constructor")&&C.constructor;return typeof $=="function"&&$ instanceof $&&cn.call($)==su}var Za=Pi?Mt(Pi):cc;function pd(T){return vs(T)&&T>=-j&&T<=j}var ys=Ii?Mt(Ii):fc;function zn(T){return typeof T=="string"||!He(T)&&ot(T)&&_t(T)==_e}function Pt(T){return typeof T=="symbol"||ot(T)&&_t(T)==Le}var kr=Ri?Mt(Ri):hc;function vd(T){return T===r}function gd(T){return ot(T)&&mt(T)==we}function md(T){return ot(T)&&_t(T)==Oe}var yd=Rn(xa),_d=Rn(function(T,C){return T<=C});function _s(T){if(!T)return[];if(bt(T))return zn(T)?Ht(T):At(T);if(Vr&&T[Vr])return Xl(T[Vr]());var C=mt(T),$=C==X?sa:C==xe?sn:Br;return $(T)}function nr(T){if(!T)return T===0?T:0;if(T=Vt(T),T===Q||T===-Q){var C=T<0?-1:1;return C*ne}return T===T?T:0}function ze(T){var C=nr(T),$=C%1;return C===C?$?C-$:C:0}function Ss(T){return T?yr(ze(T),0,de):0}function Vt(T){if(typeof T=="number")return T;if(Pt(T))return fe;if(it(T)){var C=typeof T.valueOf=="function"?T.valueOf():T;T=it(C)?C+"":C}if(typeof T!="string")return T===0?T:+T;T=Bi(T);var $=Js.test(T);return $||el.test(T)?Rl(T.slice(2),$?2:8):js.test(T)?fe:+T}function xs(T){return Zt(T,Ct(T))}function Sd(T){return T?yr(ze(T),-j,j):T===0?T:0}function je(T){return T==null?"":$t(T)}var xd=Dr(function(T,C){if(jr(C)||bt(C)){Zt(C,ht(C),T);return}for(var $ in C)Qe.call(C,$)&&Wr(T,$,C[$])}),Ts=Dr(function(T,C){Zt(C,Ct(C),T)}),Gn=Dr(function(T,C,$,D){Zt(C,Ct(C),T,D)}),Td=Dr(function(T,C,$,D){Zt(C,ht(C),T,D)}),Ad=er(da);function bd(T,C){var $=Lr(T);return C==null?$:Qi($,C)}var Cd=Ue(function(T,C){T=et(T);var $=-1,D=C.length,H=D>2?C[2]:r;for(H&&St(C[0],C[1],H)&&(D=1);++$<D;)for(var W=C[$],K=Ct(W),J=-1,te=K.length;++J<te;){var ve=K[J],ge=T[ve];(ge===r||Gt(ge,Pr[ve])&&!Qe.call(T,ve))&&(T[ve]=W[ve])}return T}),wd=Ue(function(T){return T.push(r,Fo),Et(As,r,T)});function Ed(T,C){return Di(T,Ne(C,3),Yt)}function Md(T,C){return Di(T,Ne(C,3),va)}function $d(T,C){return T==null?T:pa(T,Ne(C,3),Ct)}function Pd(T,C){return T==null?T:ao(T,Ne(C,3),Ct)}function Id(T,C){return T&&Yt(T,Ne(C,3))}function Rd(T,C){return T&&va(T,Ne(C,3))}function Ld(T){return T==null?[]:bn(T,ht(T))}function Dd(T){return T==null?[]:bn(T,Ct(T))}function qa(T,C,$){var D=T==null?r:_r(T,C);return D===r?$:D}function Od(T,C){return T!=null&&zo(T,C,rc)}function Xa(T,C){return T!=null&&zo(T,C,nc)}var Nd=Do(function(T,C,$){C!=null&&typeof C.toString!="function"&&(C=fn.call(C)),T[C]=$},ja(wt)),kd=Do(function(T,C,$){C!=null&&typeof C.toString!="function"&&(C=fn.call(C)),Qe.call(T,C)?T[C].push($):T[C]=[$]},Ne),Bd=Ue(Zr);function ht(T){return bt(T)?ji(T):Sa(T)}function Ct(T){return bt(T)?ji(T,!0):dc(T)}function Fd(T,C){var $={};return C=Ne(C,3),Yt(T,function(D,H,W){Jt($,C(D,H,W),D)}),$}function Vd(T,C){var $={};return C=Ne(C,3),Yt(T,function(D,H,W){Jt($,H,C(D,H,W))}),$}var Hd=Dr(function(T,C,$){Cn(T,C,$)}),As=Dr(function(T,C,$,D){Cn(T,C,$,D)}),zd=er(function(T,C){var $={};if(T==null)return $;var D=!1;C=at(C,function(W){return W=fr(W,T),D||(D=W.length>1),W}),Zt(T,Da(T),$),D&&($=kt($,y|_|S,Oc));for(var H=C.length;H--;)wa($,C[H]);return $});function Gd(T,C){return bs(T,Vn(Ne(C)))}var Ud=er(function(T,C){return T==null?{}:vc(T,C)});function bs(T,C){if(T==null)return{};var $=at(Da(T),function(D){return[D]});return C=Ne(C),vo(T,$,function(D,H){return C(D,H[0])})}function Wd(T,C,$){C=fr(C,T);var D=-1,H=C.length;for(H||(H=1,T=r);++D<H;){var W=T==null?r:T[qt(C[D])];W===r&&(D=H,W=$),T=rr(W)?W.call(T):W}return T}function Yd(T,C,$){return T==null?T:Xr(T,C,$)}function Zd(T,C,$,D){return D=typeof D=="function"?D:r,T==null?T:Xr(T,C,$,D)}var Cs=ko(ht),ws=ko(Ct);function qd(T,C,$){var D=He(T),H=D||dr(T)||kr(T);if(C=Ne(C,4),$==null){var W=T&&T.constructor;H?$=D?new W:[]:it(T)?$=rr(W)?Lr(pn(T)):{}:$={}}return(H?Dt:Yt)(T,function(K,J,te){return C($,K,J,te)}),$}function Xd(T,C){return T==null?!0:wa(T,C)}function Kd(T,C,$){return T==null?T:So(T,C,$a($))}function jd(T,C,$,D){return D=typeof D=="function"?D:r,T==null?T:So(T,C,$a($),D)}function Br(T){return T==null?[]:oa(T,ht(T))}function Jd(T){return T==null?[]:oa(T,Ct(T))}function Qd(T,C,$){return $===r&&($=C,C=r),$!==r&&($=Vt($),$=$===$?$:0),C!==r&&(C=Vt(C),C=C===C?C:0),yr(Vt(T),C,$)}function ep(T,C,$){return C=nr(C),$===r?($=C,C=0):$=nr($),T=Vt(T),ac(T,C,$)}function tp(T,C,$){if($&&typeof $!="boolean"&&St(T,C,$)&&(C=$=r),$===r&&(typeof C=="boolean"?($=C,C=r):typeof T=="boolean"&&($=T,T=r)),T===r&&C===r?(T=0,C=1):(T=nr(T),C===r?(C=T,T=0):C=nr(C)),T>C){var D=T;T=C,C=D}if($||T%1||C%1){var H=Xi();return gt(T+H*(C-T+Il("1e-"+((H+"").length-1))),C)}return Aa(T,C)}var rp=Or(function(T,C,$){return C=C.toLowerCase(),T+($?Es(C):C)});function Es(T){return Ka(je(T).toLowerCase())}function Ms(T){return T=je(T),T&&T.replace(rl,Ul).replace(xl,"")}function np(T,C,$){T=je(T),C=$t(C);var D=T.length;$=$===r?D:yr(ze($),0,D);var H=$;return $-=C.length,$>=0&&T.slice($,H)==C}function ap(T){return T=je(T),T&&Ns.test(T)?T.replace(ai,Wl):T}function ip(T){return T=je(T),T&&zs.test(T)?T.replace(Un,"\\$&"):T}var op=Or(function(T,C,$){return T+($?"-":"")+C.toLowerCase()}),sp=Or(function(T,C,$){return T+($?" ":"")+C.toLowerCase()}),lp=Io("toLowerCase");function up(T,C,$){T=je(T),C=ze(C);var D=C?Mr(T):0;if(!C||D>=C)return T;var H=(C-D)/2;return In(yn(H),$)+T+In(mn(H),$)}function cp(T,C,$){T=je(T),C=ze(C);var D=C?Mr(T):0;return C&&D<C?T+In(C-D,$):T}function fp(T,C,$){T=je(T),C=ze(C);var D=C?Mr(T):0;return C&&D<C?In(C-D,$)+T:T}function hp(T,C,$){return $||C==null?C=0:C&&(C=+C),mu(je(T).replace(Wn,""),C||0)}function dp(T,C,$){return($?St(T,C,$):C===r)?C=1:C=ze(C),ba(je(T),C)}function pp(){var T=arguments,C=je(T[0]);return T.length<3?C:C.replace(T[1],T[2])}var vp=Or(function(T,C,$){return T+($?"_":"")+C.toLowerCase()});function gp(T,C,$){return $&&typeof $!="number"&&St(T,C,$)&&(C=$=r),$=$===r?de:$>>>0,$?(T=je(T),T&&(typeof C=="string"||C!=null&&!Za(C))&&(C=$t(C),!C&&Er(T))?hr(Ht(T),0,$):T.split(C,$)):[]}var mp=Or(function(T,C,$){return T+($?" ":"")+Ka(C)});function yp(T,C,$){return T=je(T),$=$==null?0:yr(ze($),0,T.length),C=$t(C),T.slice($,$+C.length)==C}function _p(T,C,$){var D=G.templateSettings;$&&St(T,C,$)&&(C=r),T=je(T),C=Gn({},C,D,Bo);var H=Gn({},C.imports,D.imports,Bo),W=ht(H),K=oa(H,W),J,te,ve=0,ge=C.interpolate||tn,Se="__p += '",Ie=la((C.escape||tn).source+"|"+ge.source+"|"+(ge===ii?Ks:tn).source+"|"+(C.evaluate||tn).source+"|$","g"),De="//# sourceURL="+(Qe.call(C,"sourceURL")?(C.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wl+"]")+`
`;T.replace(Ie,function(Be,Ye,qe,It,xt,Rt){return qe||(qe=It),Se+=T.slice(ve,Rt).replace(nl,Yl),Ye&&(J=!0,Se+=`' +
__e(`+Ye+`) +
'`),xt&&(te=!0,Se+=`';
`+xt+`;
__p += '`),qe&&(Se+=`' +
((__t = (`+qe+`)) == null ? '' : __t) +
'`),ve=Rt+Be.length,Be}),Se+=`';
`;var ke=Qe.call(C,"variable")&&C.variable;if(!ke)Se=`with (obj) {
`+Se+`
}
`;else if(qs.test(ke))throw new Ve(f);Se=(te?Se.replace(en,""):Se).replace(Ls,"$1").replace(Ds,"$1;"),Se="function("+(ke||"obj")+`) {
`+(ke?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(J?", __e = _.escape":"")+(te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Se+`return __p
}`;var Ge=Ps(function(){return Ke(W,De+"return "+Se).apply(r,K)});if(Ge.source=Se,Ya(Ge))throw Ge;return Ge}function Sp(T){return je(T).toLowerCase()}function xp(T){return je(T).toUpperCase()}function Tp(T,C,$){if(T=je(T),T&&($||C===r))return Bi(T);if(!T||!(C=$t(C)))return T;var D=Ht(T),H=Ht(C),W=Fi(D,H),K=Vi(D,H)+1;return hr(D,W,K).join("")}function Ap(T,C,$){if(T=je(T),T&&($||C===r))return T.slice(0,zi(T)+1);if(!T||!(C=$t(C)))return T;var D=Ht(T),H=Vi(D,Ht(C))+1;return hr(D,0,H).join("")}function bp(T,C,$){if(T=je(T),T&&($||C===r))return T.replace(Wn,"");if(!T||!(C=$t(C)))return T;var D=Ht(T),H=Fi(D,Ht(C));return hr(D,H).join("")}function Cp(T,C){var $=B,D=F;if(it(C)){var H="separator"in C?C.separator:H;$="length"in C?ze(C.length):$,D="omission"in C?$t(C.omission):D}T=je(T);var W=T.length;if(Er(T)){var K=Ht(T);W=K.length}if($>=W)return T;var J=$-Mr(D);if(J<1)return D;var te=K?hr(K,0,J).join(""):T.slice(0,J);if(H===r)return te+D;if(K&&(J+=te.length-J),Za(H)){if(T.slice(J).search(H)){var ve,ge=te;for(H.global||(H=la(H.source,je(oi.exec(H))+"g")),H.lastIndex=0;ve=H.exec(ge);)var Se=ve.index;te=te.slice(0,Se===r?J:Se)}}else if(T.indexOf($t(H),J)!=J){var Ie=te.lastIndexOf(H);Ie>-1&&(te=te.slice(0,Ie))}return te+D}function wp(T){return T=je(T),T&&Os.test(T)?T.replace(ni,Ql):T}var Ep=Or(function(T,C,$){return T+($?" ":"")+C.toUpperCase()}),Ka=Io("toUpperCase");function $s(T,C,$){return T=je(T),C=$?r:C,C===r?ql(T)?ru(T):Fl(T):T.match(C)||[]}var Ps=Ue(function(T,C){try{return Et(T,r,C)}catch($){return Ya($)?$:new Ve($)}}),Mp=er(function(T,C){return Dt(C,function($){$=qt($),Jt(T,$,Ua(T[$],T))}),T});function $p(T){var C=T==null?0:T.length,$=Ne();return T=C?at(T,function(D){if(typeof D[1]!="function")throw new Ot(c);return[$(D[0]),D[1]]}):[],Ue(function(D){for(var H=-1;++H<C;){var W=T[H];if(Et(W[0],this,D))return Et(W[1],this,D)}})}function Pp(T){return Qu(kt(T,y))}function ja(T){return function(){return T}}function Ip(T,C){return T==null||T!==T?C:T}var Rp=Lo(),Lp=Lo(!0);function wt(T){return T}function Ja(T){return lo(typeof T=="function"?T:kt(T,y))}function Dp(T){return co(kt(T,y))}function Op(T,C){return fo(T,kt(C,y))}var Np=Ue(function(T,C){return function($){return Zr($,T,C)}}),kp=Ue(function(T,C){return function($){return Zr(T,$,C)}});function Qa(T,C,$){var D=ht(C),H=bn(C,D);$==null&&!(it(C)&&(H.length||!D.length))&&($=C,C=T,T=this,H=bn(C,ht(C)));var W=!(it($)&&"chain"in $)||!!$.chain,K=rr(T);return Dt(H,function(J){var te=C[J];T[J]=te,K&&(T.prototype[J]=function(){var ve=this.__chain__;if(W||ve){var ge=T(this.__wrapped__),Se=ge.__actions__=At(this.__actions__);return Se.push({func:te,args:arguments,thisArg:T}),ge.__chain__=ve,ge}return te.apply(T,or([this.value()],arguments))})}),T}function Bp(){return pt._===this&&(pt._=lu),this}function ei(){}function Fp(T){return T=ze(T),Ue(function(C){return ho(C,T)})}var Vp=Ia(at),Hp=Ia(Li),zp=Ia(ta);function Is(T){return Ba(T)?ra(qt(T)):gc(T)}function Gp(T){return function(C){return T==null?r:_r(T,C)}}var Up=Oo(),Wp=Oo(!0);function ti(){return[]}function ri(){return!1}function Yp(){return{}}function Zp(){return""}function qp(){return!0}function Xp(T,C){if(T=ze(T),T<1||T>j)return[];var $=de,D=gt(T,de);C=Ne(C),T-=de;for(var H=ia(D,C);++$<T;)C($);return H}function Kp(T){return He(T)?at(T,qt):Pt(T)?[T]:At(jo(je(T)))}function jp(T){var C=++ou;return je(T)+C}var Jp=Pn(function(T,C){return T+C},0),Qp=Ra("ceil"),ev=Pn(function(T,C){return T/C},1),tv=Ra("floor");function rv(T){return T&&T.length?An(T,wt,ga):r}function nv(T,C){return T&&T.length?An(T,Ne(C,2),ga):r}function av(T){return Ni(T,wt)}function iv(T,C){return Ni(T,Ne(C,2))}function ov(T){return T&&T.length?An(T,wt,xa):r}function sv(T,C){return T&&T.length?An(T,Ne(C,2),xa):r}var lv=Pn(function(T,C){return T*C},1),uv=Ra("round"),cv=Pn(function(T,C){return T-C},0);function fv(T){return T&&T.length?aa(T,wt):0}function hv(T,C){return T&&T.length?aa(T,Ne(C,2)):0}return G.after=Dh,G.ary=ls,G.assign=xd,G.assignIn=Ts,G.assignInWith=Gn,G.assignWith=Td,G.at=Ad,G.before=us,G.bind=Ua,G.bindAll=Mp,G.bindKey=cs,G.castArray=Yh,G.chain=is,G.chunk=ef,G.compact=tf,G.concat=rf,G.cond=$p,G.conforms=Pp,G.constant=ja,G.countBy=fh,G.create=bd,G.curry=fs,G.curryRight=hs,G.debounce=ds,G.defaults=Cd,G.defaultsDeep=wd,G.defer=Oh,G.delay=Nh,G.difference=nf,G.differenceBy=af,G.differenceWith=of,G.drop=sf,G.dropRight=lf,G.dropRightWhile=uf,G.dropWhile=cf,G.fill=ff,G.filter=dh,G.flatMap=gh,G.flatMapDeep=mh,G.flatMapDepth=yh,G.flatten=ts,G.flattenDeep=hf,G.flattenDepth=df,G.flip=kh,G.flow=Rp,G.flowRight=Lp,G.fromPairs=pf,G.functions=Ld,G.functionsIn=Dd,G.groupBy=_h,G.initial=gf,G.intersection=mf,G.intersectionBy=yf,G.intersectionWith=_f,G.invert=Nd,G.invertBy=kd,G.invokeMap=xh,G.iteratee=Ja,G.keyBy=Th,G.keys=ht,G.keysIn=Ct,G.map=kn,G.mapKeys=Fd,G.mapValues=Vd,G.matches=Dp,G.matchesProperty=Op,G.memoize=Fn,G.merge=Hd,G.mergeWith=As,G.method=Np,G.methodOf=kp,G.mixin=Qa,G.negate=Vn,G.nthArg=Fp,G.omit=zd,G.omitBy=Gd,G.once=Bh,G.orderBy=Ah,G.over=Vp,G.overArgs=Fh,G.overEvery=Hp,G.overSome=zp,G.partial=Wa,G.partialRight=ps,G.partition=bh,G.pick=Ud,G.pickBy=bs,G.property=Is,G.propertyOf=Gp,G.pull=Af,G.pullAll=ns,G.pullAllBy=bf,G.pullAllWith=Cf,G.pullAt=wf,G.range=Up,G.rangeRight=Wp,G.rearg=Vh,G.reject=Eh,G.remove=Ef,G.rest=Hh,G.reverse=za,G.sampleSize=$h,G.set=Yd,G.setWith=Zd,G.shuffle=Ph,G.slice=Mf,G.sortBy=Lh,G.sortedUniq=Of,G.sortedUniqBy=Nf,G.split=gp,G.spread=zh,G.tail=kf,G.take=Bf,G.takeRight=Ff,G.takeRightWhile=Vf,G.takeWhile=Hf,G.tap=rh,G.throttle=Gh,G.thru=Nn,G.toArray=_s,G.toPairs=Cs,G.toPairsIn=ws,G.toPath=Kp,G.toPlainObject=xs,G.transform=qd,G.unary=Uh,G.union=zf,G.unionBy=Gf,G.unionWith=Uf,G.uniq=Wf,G.uniqBy=Yf,G.uniqWith=Zf,G.unset=Xd,G.unzip=Ga,G.unzipWith=as,G.update=Kd,G.updateWith=jd,G.values=Br,G.valuesIn=Jd,G.without=qf,G.words=$s,G.wrap=Wh,G.xor=Xf,G.xorBy=Kf,G.xorWith=jf,G.zip=Jf,G.zipObject=Qf,G.zipObjectDeep=eh,G.zipWith=th,G.entries=Cs,G.entriesIn=ws,G.extend=Ts,G.extendWith=Gn,Qa(G,G),G.add=Jp,G.attempt=Ps,G.camelCase=rp,G.capitalize=Es,G.ceil=Qp,G.clamp=Qd,G.clone=Zh,G.cloneDeep=Xh,G.cloneDeepWith=Kh,G.cloneWith=qh,G.conformsTo=jh,G.deburr=Ms,G.defaultTo=Ip,G.divide=ev,G.endsWith=np,G.eq=Gt,G.escape=ap,G.escapeRegExp=ip,G.every=hh,G.find=ph,G.findIndex=Qo,G.findKey=Ed,G.findLast=vh,G.findLastIndex=es,G.findLastKey=Md,G.floor=tv,G.forEach=os,G.forEachRight=ss,G.forIn=$d,G.forInRight=Pd,G.forOwn=Id,G.forOwnRight=Rd,G.get=qa,G.gt=Jh,G.gte=Qh,G.has=Od,G.hasIn=Xa,G.head=rs,G.identity=wt,G.includes=Sh,G.indexOf=vf,G.inRange=ep,G.invoke=Bd,G.isArguments=Tr,G.isArray=He,G.isArrayBuffer=ed,G.isArrayLike=bt,G.isArrayLikeObject=st,G.isBoolean=td,G.isBuffer=dr,G.isDate=rd,G.isElement=nd,G.isEmpty=ad,G.isEqual=id,G.isEqualWith=od,G.isError=Ya,G.isFinite=sd,G.isFunction=rr,G.isInteger=vs,G.isLength=Hn,G.isMap=gs,G.isMatch=ld,G.isMatchWith=ud,G.isNaN=cd,G.isNative=fd,G.isNil=dd,G.isNull=hd,G.isNumber=ms,G.isObject=it,G.isObjectLike=ot,G.isPlainObject=Qr,G.isRegExp=Za,G.isSafeInteger=pd,G.isSet=ys,G.isString=zn,G.isSymbol=Pt,G.isTypedArray=kr,G.isUndefined=vd,G.isWeakMap=gd,G.isWeakSet=md,G.join=Sf,G.kebabCase=op,G.last=Ft,G.lastIndexOf=xf,G.lowerCase=sp,G.lowerFirst=lp,G.lt=yd,G.lte=_d,G.max=rv,G.maxBy=nv,G.mean=av,G.meanBy=iv,G.min=ov,G.minBy=sv,G.stubArray=ti,G.stubFalse=ri,G.stubObject=Yp,G.stubString=Zp,G.stubTrue=qp,G.multiply=lv,G.nth=Tf,G.noConflict=Bp,G.noop=ei,G.now=Bn,G.pad=up,G.padEnd=cp,G.padStart=fp,G.parseInt=hp,G.random=tp,G.reduce=Ch,G.reduceRight=wh,G.repeat=dp,G.replace=pp,G.result=Wd,G.round=uv,G.runInContext=ee,G.sample=Mh,G.size=Ih,G.snakeCase=vp,G.some=Rh,G.sortedIndex=$f,G.sortedIndexBy=Pf,G.sortedIndexOf=If,G.sortedLastIndex=Rf,G.sortedLastIndexBy=Lf,G.sortedLastIndexOf=Df,G.startCase=mp,G.startsWith=yp,G.subtract=cv,G.sum=fv,G.sumBy=hv,G.template=_p,G.times=Xp,G.toFinite=nr,G.toInteger=ze,G.toLength=Ss,G.toLower=Sp,G.toNumber=Vt,G.toSafeInteger=Sd,G.toString=je,G.toUpper=xp,G.trim=Tp,G.trimEnd=Ap,G.trimStart=bp,G.truncate=Cp,G.unescape=wp,G.uniqueId=jp,G.upperCase=Ep,G.upperFirst=Ka,G.each=os,G.eachRight=ss,G.first=rs,Qa(G,function(){var T={};return Yt(G,function(C,$){Qe.call(G.prototype,$)||(T[$]=C)}),T}(),{chain:!1}),G.VERSION=s,Dt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(T){G[T].placeholder=G}),Dt(["drop","take"],function(T,C){Ze.prototype[T]=function($){$=$===r?1:ft(ze($),0);var D=this.__filtered__&&!C?new Ze(this):this.clone();return D.__filtered__?D.__takeCount__=gt($,D.__takeCount__):D.__views__.push({size:gt($,de),type:T+(D.__dir__<0?"Right":"")}),D},Ze.prototype[T+"Right"]=function($){return this.reverse()[T]($).reverse()}}),Dt(["filter","map","takeWhile"],function(T,C){var $=C+1,D=$==U||$==q;Ze.prototype[T]=function(H){var W=this.clone();return W.__iteratees__.push({iteratee:Ne(H,3),type:$}),W.__filtered__=W.__filtered__||D,W}}),Dt(["head","last"],function(T,C){var $="take"+(C?"Right":"");Ze.prototype[T]=function(){return this[$](1).value()[0]}}),Dt(["initial","tail"],function(T,C){var $="drop"+(C?"":"Right");Ze.prototype[T]=function(){return this.__filtered__?new Ze(this):this[$](1)}}),Ze.prototype.compact=function(){return this.filter(wt)},Ze.prototype.find=function(T){return this.filter(T).head()},Ze.prototype.findLast=function(T){return this.reverse().find(T)},Ze.prototype.invokeMap=Ue(function(T,C){return typeof T=="function"?new Ze(this):this.map(function($){return Zr($,T,C)})}),Ze.prototype.reject=function(T){return this.filter(Vn(Ne(T)))},Ze.prototype.slice=function(T,C){T=ze(T);var $=this;return $.__filtered__&&(T>0||C<0)?new Ze($):(T<0?$=$.takeRight(-T):T&&($=$.drop(T)),C!==r&&(C=ze(C),$=C<0?$.dropRight(-C):$.take(C-T)),$)},Ze.prototype.takeRightWhile=function(T){return this.reverse().takeWhile(T).reverse()},Ze.prototype.toArray=function(){return this.take(de)},Yt(Ze.prototype,function(T,C){var $=/^(?:filter|find|map|reject)|While$/.test(C),D=/^(?:head|last)$/.test(C),H=G[D?"take"+(C=="last"?"Right":""):C],W=D||/^find/.test(C);!H||(G.prototype[C]=function(){var K=this.__wrapped__,J=D?[1]:arguments,te=K instanceof Ze,ve=J[0],ge=te||He(K),Se=function(Ye){var qe=H.apply(G,or([Ye],J));return D&&Ie?qe[0]:qe};ge&&$&&typeof ve=="function"&&ve.length!=1&&(te=ge=!1);var Ie=this.__chain__,De=!!this.__actions__.length,ke=W&&!Ie,Ge=te&&!De;if(!W&&ge){K=Ge?K:new Ze(this);var Be=T.apply(K,J);return Be.__actions__.push({func:Nn,args:[Se],thisArg:r}),new Nt(Be,Ie)}return ke&&Ge?T.apply(this,J):(Be=this.thru(Se),ke?D?Be.value()[0]:Be.value():Be)})}),Dt(["pop","push","shift","sort","splice","unshift"],function(T){var C=ln[T],$=/^(?:push|sort|unshift)$/.test(T)?"tap":"thru",D=/^(?:pop|shift)$/.test(T);G.prototype[T]=function(){var H=arguments;if(D&&!this.__chain__){var W=this.value();return C.apply(He(W)?W:[],H)}return this[$](function(K){return C.apply(He(K)?K:[],H)})}}),Yt(Ze.prototype,function(T,C){var $=G[C];if($){var D=$.name+"";Qe.call(Rr,D)||(Rr[D]=[]),Rr[D].push({name:C,func:$})}}),Rr[$n(r,w).name]=[{name:"wrapper",func:r}],Ze.prototype.clone=bu,Ze.prototype.reverse=Cu,Ze.prototype.value=wu,G.prototype.at=nh,G.prototype.chain=ah,G.prototype.commit=ih,G.prototype.next=oh,G.prototype.plant=lh,G.prototype.reverse=uh,G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=ch,G.prototype.first=G.prototype.head,Vr&&(G.prototype[Vr]=sh),G},$r=nu();pr?((pr.exports=$r)._=$r,jn._=$r):pt._=$r}).call(commonjsGlobal)})(lodash,lodash.exports);const Arknight_vue_vue_type_style_index_0_scoped_0b47a570_lang="",_sfc_main={__name:"App",setup(a){return ref(index),onMounted(()=>{document.querySelector(".loader-center")&&document.querySelector(".loader-center").remove()}),(n,r)=>{const s=resolveComponent("router-view");return openBlock(),createBlock(s)}}},scriptRel="modulepreload",assetsURL=function(a){return"/"+a},seen={},__vitePreload=function a(n,r,s){return!r||r.length===0?n():Promise.all(r.map(l=>{if(l=assetsURL(l),l in seen)return;seen[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":scriptRel,u||(f.as="script",f.crossOrigin=""),f.href=l,document.head.appendChild(f),u)return new Promise((d,v)=>{f.addEventListener("load",d),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>n())};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(a){return a.__esModule||a[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(a,n){const r={};for(const s in n){const l=n[s];r[s]=isArray(l)?l.map(a):a(l)}return r}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=a=>a.replace(TRAILING_SLASH_RE,"");function parseURL(a,n,r="/"){let s,l={},u="",c="";const f=n.indexOf("#");let d=n.indexOf("?");return f<d&&f>=0&&(d=-1),d>-1&&(s=n.slice(0,d),u=n.slice(d+1,f>-1?f:n.length),l=a(u)),f>-1&&(s=s||n.slice(0,f),c=n.slice(f,n.length)),s=resolveRelativePath(s!=null?s:n,r),{fullPath:s+(u&&"?")+u+c,path:s,query:l,hash:c}}function stringifyURL(a,n){const r=n.query?a(n.query):"";return n.path+(r&&"?")+r+(n.hash||"")}function stripBase(a,n){return!n||!a.toLowerCase().startsWith(n.toLowerCase())?a:a.slice(n.length)||"/"}function isSameRouteLocation(a,n,r){const s=n.matched.length-1,l=r.matched.length-1;return s>-1&&s===l&&isSameRouteRecord(n.matched[s],r.matched[l])&&isSameRouteLocationParams(n.params,r.params)&&a(n.query)===a(r.query)&&n.hash===r.hash}function isSameRouteRecord(a,n){return(a.aliasOf||a)===(n.aliasOf||n)}function isSameRouteLocationParams(a,n){if(Object.keys(a).length!==Object.keys(n).length)return!1;for(const r in a)if(!isSameRouteLocationParamsValue(a[r],n[r]))return!1;return!0}function isSameRouteLocationParamsValue(a,n){return isArray(a)?isEquivalentArray(a,n):isArray(n)?isEquivalentArray(n,a):a===n}function isEquivalentArray(a,n){return isArray(n)?a.length===n.length&&a.every((r,s)=>r===n[s]):a.length===1&&a[0]===n}function resolveRelativePath(a,n){if(a.startsWith("/"))return a;if(!a)return n;const r=n.split("/"),s=a.split("/");let l=r.length-1,u,c;for(u=0;u<s.length;u++)if(c=s[u],c!==".")if(c==="..")l>1&&l--;else break;return r.slice(0,l).join("/")+"/"+s.slice(u-(u===s.length?1:0)).join("/")}var NavigationType;(function(a){a.pop="pop",a.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(a){a.back="back",a.forward="forward",a.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(a){if(!a)if(isBrowser){const n=document.querySelector("base");a=n&&n.getAttribute("href")||"/",a=a.replace(/^\w+:\/\/[^\/]+/,"")}else a="/";return a[0]!=="/"&&a[0]!=="#"&&(a="/"+a),removeTrailingSlash(a)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(a,n){return a.replace(BEFORE_HASH_RE,"#")+n}function getElementPosition(a,n){const r=document.documentElement.getBoundingClientRect(),s=a.getBoundingClientRect();return{behavior:n.behavior,left:s.left-r.left-(n.left||0),top:s.top-r.top-(n.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(a){let n;if("el"in a){const r=a.el,s=typeof r=="string"&&r.startsWith("#"),l=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!l)return;n=getElementPosition(l,a)}else n=a;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function getScrollKey(a,n){return(history.state?history.state.position-n:-1)+a}const scrollPositions=new Map;function saveScrollPosition(a,n){scrollPositions.set(a,n)}function getSavedScrollPosition(a){const n=scrollPositions.get(a);return scrollPositions.delete(a),n}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(a,n){const{pathname:r,search:s,hash:l}=n,u=a.indexOf("#");if(u>-1){let f=l.includes(a.slice(u))?a.slice(u).length:1,d=l.slice(f);return d[0]!=="/"&&(d="/"+d),stripBase(d,"")}return stripBase(r,a)+s+l}function useHistoryListeners(a,n,r,s){let l=[],u=[],c=null;const f=({state:_})=>{const S=createCurrentLocation(a,location),x=r.value,A=n.value;let b=0;if(_){if(r.value=S,n.value=_,c&&c===x){c=null;return}b=A?_.position-A.position:0}else s(S);l.forEach(w=>{w(r.value,x,{delta:b,type:NavigationType.pop,direction:b?b>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function d(){c=r.value}function v(_){l.push(_);const S=()=>{const x=l.indexOf(_);x>-1&&l.splice(x,1)};return u.push(S),S}function g(){const{history:_}=window;!_.state||_.replaceState(assign({},_.state,{scroll:computeScrollPosition()}),"")}function y(){for(const _ of u)_();u=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",g),{pauseListeners:d,listen:v,destroy:y}}function buildState(a,n,r,s=!1,l=!1){return{back:a,current:n,forward:r,replaced:s,position:window.history.length,scroll:l?computeScrollPosition():null}}function useHistoryStateNavigation(a){const{history:n,location:r}=window,s={value:createCurrentLocation(a,r)},l={value:n.state};l.value||u(s.value,{back:null,current:s.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function u(d,v,g){const y=a.indexOf("#"),_=y>-1?(r.host&&document.querySelector("base")?a:a.slice(y))+d:createBaseLocation()+a+d;try{n[g?"replaceState":"pushState"](v,"",_),l.value=v}catch(S){console.error(S),r[g?"replace":"assign"](_)}}function c(d,v){const g=assign({},n.state,buildState(l.value.back,d,l.value.forward,!0),v,{position:l.value.position});u(d,g,!0),s.value=d}function f(d,v){const g=assign({},l.value,n.state,{forward:d,scroll:computeScrollPosition()});u(g.current,g,!0);const y=assign({},buildState(s.value,d,null),{position:g.position+1},v);u(d,y,!1),s.value=d}return{location:s,state:l,push:f,replace:c}}function createWebHistory(a){a=normalizeBase(a);const n=useHistoryStateNavigation(a),r=useHistoryListeners(a,n.state,n.location,n.replace);function s(u,c=!0){c||r.pauseListeners(),history.go(u)}const l=assign({location:"",base:a,go:s,createHref:createHref.bind(null,a)},n,r);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>n.state.value}),l}function createWebHashHistory(a){return a=location.host?a||location.pathname+location.search:"",a.includes("#")||(a+="#"),createWebHistory(a)}function isRouteLocation(a){return typeof a=="string"||a&&typeof a=="object"}function isRouteName(a){return typeof a=="string"||typeof a=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(a){a[a.aborted=4]="aborted",a[a.cancelled=8]="cancelled",a[a.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(a,n){return assign(new Error,{type:a,[NavigationFailureSymbol]:!0},n)}function isNavigationFailure(a,n){return a instanceof Error&&NavigationFailureSymbol in a&&(n==null||!!(a.type&n))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(a,n){const r=assign({},BASE_PATH_PARSER_OPTIONS,n),s=[];let l=r.start?"^":"";const u=[];for(const v of a){const g=v.length?[]:[90];r.strict&&!v.length&&(l+="/");for(let y=0;y<v.length;y++){const _=v[y];let S=40+(r.sensitive?.25:0);if(_.type===0)y||(l+="/"),l+=_.value.replace(REGEX_CHARS_RE,"\\$&"),S+=40;else if(_.type===1){const{value:x,repeatable:A,optional:b,regexp:w}=_;u.push({name:x,repeatable:A,optional:b});const E=w||BASE_PARAM_PATTERN;if(E!==BASE_PARAM_PATTERN){S+=10;try{new RegExp(`(${E})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${x}" (${E}): `+P.message)}}let M=A?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;y||(M=b&&v.length<2?`(?:/${M})`:"/"+M),b&&(M+="?"),l+=M,S+=20,b&&(S+=-8),A&&(S+=-20),E===".*"&&(S+=-50)}g.push(S)}s.push(g)}if(r.strict&&r.end){const v=s.length-1;s[v][s[v].length-1]+=.7000000000000001}r.strict||(l+="/?"),r.end?l+="$":r.strict&&(l+="(?:/|$)");const c=new RegExp(l,r.sensitive?"":"i");function f(v){const g=v.match(c),y={};if(!g)return null;for(let _=1;_<g.length;_++){const S=g[_]||"",x=u[_-1];y[x.name]=S&&x.repeatable?S.split("/"):S}return y}function d(v){let g="",y=!1;for(const _ of a){(!y||!g.endsWith("/"))&&(g+="/"),y=!1;for(const S of _)if(S.type===0)g+=S.value;else if(S.type===1){const{value:x,repeatable:A,optional:b}=S,w=x in v?v[x]:"";if(isArray(w)&&!A)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const E=isArray(w)?w.join("/"):w;if(!E)if(b)_.length<2&&(g.endsWith("/")?g=g.slice(0,-1):y=!0);else throw new Error(`Missing required param "${x}"`);g+=E}}return g||"/"}return{re:c,score:s,keys:u,parse:f,stringify:d}}function compareScoreArray(a,n){let r=0;for(;r<a.length&&r<n.length;){const s=n[r]-a[r];if(s)return s;r++}return a.length<n.length?a.length===1&&a[0]===40+40?-1:1:a.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function comparePathParserScore(a,n){let r=0;const s=a.score,l=n.score;for(;r<s.length&&r<l.length;){const u=compareScoreArray(s[r],l[r]);if(u)return u;r++}if(Math.abs(l.length-s.length)===1){if(isLastScoreNegative(s))return 1;if(isLastScoreNegative(l))return-1}return l.length-s.length}function isLastScoreNegative(a){const n=a[a.length-1];return a.length>0&&n[n.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(a){if(!a)return[[]];if(a==="/")return[[ROOT_TOKEN]];if(!a.startsWith("/"))throw new Error(`Invalid path "${a}"`);function n(S){throw new Error(`ERR (${r})/"${v}": ${S}`)}let r=0,s=r;const l=[];let u;function c(){u&&l.push(u),u=[]}let f=0,d,v="",g="";function y(){!v||(r===0?u.push({type:0,value:v}):r===1||r===2||r===3?(u.length>1&&(d==="*"||d==="+")&&n(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:v,regexp:g,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):n("Invalid state to consume buffer"),v="")}function _(){v+=d}for(;f<a.length;){if(d=a[f++],d==="\\"&&r!==2){s=r,r=4;continue}switch(r){case 0:d==="/"?(v&&y(),c()):d===":"?(y(),r=1):_();break;case 4:_(),r=s;break;case 1:d==="("?r=2:VALID_PARAM_RE.test(d)?_():(y(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&f--);break;case 2:d===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+d:r=3:g+=d;break;case 3:y(),r=0,d!=="*"&&d!=="?"&&d!=="+"&&f--,g="";break;default:n("Unknown state");break}}return r===2&&n(`Unfinished custom RegExp for param "${v}"`),y(),c(),l}function createRouteRecordMatcher(a,n,r){const s=tokensToParser(tokenizePath(a.path),r),l=assign(s,{record:a,parent:n,children:[],alias:[]});return n&&!l.record.aliasOf==!n.record.aliasOf&&n.children.push(l),l}function createRouterMatcher(a,n){const r=[],s=new Map;n=mergeOptions({strict:!1,end:!0,sensitive:!1},n);function l(g){return s.get(g)}function u(g,y,_){const S=!_,x=normalizeRouteRecord(g);x.aliasOf=_&&_.record;const A=mergeOptions(n,g),b=[x];if("alias"in g){const M=typeof g.alias=="string"?[g.alias]:g.alias;for(const P of M)b.push(assign({},x,{components:_?_.record.components:x.components,path:P,aliasOf:_?_.record:x}))}let w,E;for(const M of b){const{path:P}=M;if(y&&P[0]!=="/"){const R=y.record.path,I=R[R.length-1]==="/"?"":"/";M.path=y.record.path+(P&&I+P)}if(w=createRouteRecordMatcher(M,y,A),_?_.alias.push(w):(E=E||w,E!==w&&E.alias.push(w),S&&g.name&&!isAliasRecord(w)&&c(g.name)),x.children){const R=x.children;for(let I=0;I<R.length;I++)u(R[I],w,_&&_.children[I])}_=_||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&d(w)}return E?()=>{c(E)}:noop}function c(g){if(isRouteName(g)){const y=s.get(g);y&&(s.delete(g),r.splice(r.indexOf(y),1),y.children.forEach(c),y.alias.forEach(c))}else{const y=r.indexOf(g);y>-1&&(r.splice(y,1),g.record.name&&s.delete(g.record.name),g.children.forEach(c),g.alias.forEach(c))}}function f(){return r}function d(g){let y=0;for(;y<r.length&&comparePathParserScore(g,r[y])>=0&&(g.record.path!==r[y].record.path||!isRecordChildOf(g,r[y]));)y++;r.splice(y,0,g),g.record.name&&!isAliasRecord(g)&&s.set(g.record.name,g)}function v(g,y){let _,S={},x,A;if("name"in g&&g.name){if(_=s.get(g.name),!_)throw createRouterError(1,{location:g});A=_.record.name,S=assign(paramsFromLocation(y.params,_.keys.filter(E=>!E.optional).map(E=>E.name)),g.params&&paramsFromLocation(g.params,_.keys.map(E=>E.name))),x=_.stringify(S)}else if("path"in g)x=g.path,_=r.find(E=>E.re.test(x)),_&&(S=_.parse(x),A=_.record.name);else{if(_=y.name?s.get(y.name):r.find(E=>E.re.test(y.path)),!_)throw createRouterError(1,{location:g,currentLocation:y});A=_.record.name,S=assign({},y.params,g.params),x=_.stringify(S)}const b=[];let w=_;for(;w;)b.unshift(w.record),w=w.parent;return{name:A,path:x,params:S,matched:b,meta:mergeMetaFields(b)}}return a.forEach(g=>u(g)),{addRoute:u,resolve:v,removeRoute:c,getRoutes:f,getRecordMatcher:l}}function paramsFromLocation(a,n){const r={};for(const s of n)s in a&&(r[s]=a[s]);return r}function normalizeRouteRecord(a){return{path:a.path,redirect:a.redirect,name:a.name,meta:a.meta||{},aliasOf:void 0,beforeEnter:a.beforeEnter,props:normalizeRecordProps(a),children:a.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in a?a.components||null:a.component&&{default:a.component}}}function normalizeRecordProps(a){const n={},r=a.props||!1;if("component"in a)n.default=r;else for(const s in a.components)n[s]=typeof r=="boolean"?r:r[s];return n}function isAliasRecord(a){for(;a;){if(a.record.aliasOf)return!0;a=a.parent}return!1}function mergeMetaFields(a){return a.reduce((n,r)=>assign(n,r.meta),{})}function mergeOptions(a,n){const r={};for(const s in a)r[s]=s in n?n[s]:a[s];return r}function isRecordChildOf(a,n){return n.children.some(r=>r===a||isRecordChildOf(a,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(a){return encodeURI(""+a).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(a){return commonEncode(a).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(a){return commonEncode(a).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(a){return encodeQueryValue(a).replace(EQUAL_RE,"%3D")}function encodePath(a){return commonEncode(a).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(a){return a==null?"":encodePath(a).replace(SLASH_RE,"%2F")}function decode(a){try{return decodeURIComponent(""+a)}catch{}return""+a}function parseQuery(a){const n={};if(a===""||a==="?")return n;const s=(a[0]==="?"?a.slice(1):a).split("&");for(let l=0;l<s.length;++l){const u=s[l].replace(PLUS_RE," "),c=u.indexOf("="),f=decode(c<0?u:u.slice(0,c)),d=c<0?null:decode(u.slice(c+1));if(f in n){let v=n[f];isArray(v)||(v=n[f]=[v]),v.push(d)}else n[f]=d}return n}function stringifyQuery(a){let n="";for(let r in a){const s=a[r];if(r=encodeQueryKey(r),s==null){s!==void 0&&(n+=(n.length?"&":"")+r);continue}(isArray(s)?s.map(u=>u&&encodeQueryValue(u)):[s&&encodeQueryValue(s)]).forEach(u=>{u!==void 0&&(n+=(n.length?"&":"")+r,u!=null&&(n+="="+u))})}return n}function normalizeQuery(a){const n={};for(const r in a){const s=a[r];s!==void 0&&(n[r]=isArray(s)?s.map(l=>l==null?null:""+l):s==null?s:""+s)}return n}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let a=[];function n(s){return a.push(s),()=>{const l=a.indexOf(s);l>-1&&a.splice(l,1)}}function r(){a=[]}return{add:n,list:()=>a,reset:r}}function guardToPromiseFn(a,n,r,s,l){const u=s&&(s.enterCallbacks[l]=s.enterCallbacks[l]||[]);return()=>new Promise((c,f)=>{const d=y=>{y===!1?f(createRouterError(4,{from:r,to:n})):y instanceof Error?f(y):isRouteLocation(y)?f(createRouterError(2,{from:n,to:y})):(u&&s.enterCallbacks[l]===u&&typeof y=="function"&&u.push(y),c())},v=a.call(s&&s.instances[l],n,r,d);let g=Promise.resolve(v);a.length<3&&(g=g.then(d)),g.catch(y=>f(y))})}function extractComponentsGuards(a,n,r,s){const l=[];for(const u of a)for(const c in u.components){let f=u.components[c];if(!(n!=="beforeRouteEnter"&&!u.instances[c]))if(isRouteComponent(f)){const v=(f.__vccOpts||f)[n];v&&l.push(guardToPromiseFn(v,r,s,u,c))}else{let d=f();l.push(()=>d.then(v=>{if(!v)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${u.path}"`));const g=isESModule(v)?v.default:v;u.components[c]=g;const _=(g.__vccOpts||g)[n];return _&&guardToPromiseFn(_,r,s,u,c)()}))}}return l}function isRouteComponent(a){return typeof a=="object"||"displayName"in a||"props"in a||"__vccOpts"in a}function useLink(a){const n=inject(routerKey),r=inject(routeLocationKey),s=computed(()=>n.resolve(unref(a.to))),l=computed(()=>{const{matched:d}=s.value,{length:v}=d,g=d[v-1],y=r.matched;if(!g||!y.length)return-1;const _=y.findIndex(isSameRouteRecord.bind(null,g));if(_>-1)return _;const S=getOriginalPath(d[v-2]);return v>1&&getOriginalPath(g)===S&&y[y.length-1].path!==S?y.findIndex(isSameRouteRecord.bind(null,d[v-2])):_}),u=computed(()=>l.value>-1&&includesParams(r.params,s.value.params)),c=computed(()=>l.value>-1&&l.value===r.matched.length-1&&isSameRouteLocationParams(r.params,s.value.params));function f(d={}){return guardEvent(d)?n[unref(a.replace)?"replace":"push"](unref(a.to)).catch(noop):Promise.resolve()}return{route:s,href:computed(()=>s.value.href),isActive:u,isExactActive:c,navigate:f}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(a,{slots:n}){const r=reactive(useLink(a)),{options:s}=inject(routerKey),l=computed(()=>({[getLinkClass(a.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(a.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const u=n.default&&n.default(r);return a.custom?u:h("a",{"aria-current":r.isExactActive?a.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:l.value},u)}}}),RouterLink=RouterLinkImpl;function guardEvent(a){if(!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&!a.defaultPrevented&&!(a.button!==void 0&&a.button!==0)){if(a.currentTarget&&a.currentTarget.getAttribute){const n=a.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return a.preventDefault&&a.preventDefault(),!0}}function includesParams(a,n){for(const r in n){const s=n[r],l=a[r];if(typeof s=="string"){if(s!==l)return!1}else if(!isArray(l)||l.length!==s.length||s.some((u,c)=>u!==l[c]))return!1}return!0}function getOriginalPath(a){return a?a.aliasOf?a.aliasOf.path:a.path:""}const getLinkClass=(a,n,r)=>a!=null?a:n!=null?n:r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(a,{attrs:n,slots:r}){const s=inject(routerViewLocationKey),l=computed(()=>a.route||s.value),u=inject(viewDepthKey,0),c=computed(()=>{let v=unref(u);const{matched:g}=l.value;let y;for(;(y=g[v])&&!y.components;)v++;return v}),f=computed(()=>l.value.matched[c.value]);provide(viewDepthKey,computed(()=>c.value+1)),provide(matchedRouteKey,f),provide(routerViewLocationKey,l);const d=ref();return watch(()=>[d.value,f.value,a.name],([v,g,y],[_,S,x])=>{g&&(g.instances[y]=v,S&&S!==g&&v&&v===_&&(g.leaveGuards.size||(g.leaveGuards=S.leaveGuards),g.updateGuards.size||(g.updateGuards=S.updateGuards))),v&&g&&(!S||!isSameRouteRecord(g,S)||!_)&&(g.enterCallbacks[y]||[]).forEach(A=>A(v))},{flush:"post"}),()=>{const v=l.value,g=a.name,y=f.value,_=y&&y.components[g];if(!_)return normalizeSlot(r.default,{Component:_,route:v});const S=y.props[g],x=S?S===!0?v.params:typeof S=="function"?S(v):S:null,b=h(_,assign({},x,n,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(y.instances[g]=null)},ref:d}));return normalizeSlot(r.default,{Component:b,route:v})||b}}});function normalizeSlot(a,n){if(!a)return null;const r=a(n);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(a){const n=createRouterMatcher(a.routes,a),r=a.parseQuery||parseQuery,s=a.stringifyQuery||stringifyQuery,l=a.history,u=useCallbacks(),c=useCallbacks(),f=useCallbacks(),d=shallowRef(START_LOCATION_NORMALIZED);let v=START_LOCATION_NORMALIZED;isBrowser&&a.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=applyToParams.bind(null,ae=>""+ae),y=applyToParams.bind(null,encodeParam),_=applyToParams.bind(null,decode);function S(ae,me){let se,ue;return isRouteName(ae)?(se=n.getRecordMatcher(ae),ue=me):ue=ae,n.addRoute(ue,se)}function x(ae){const me=n.getRecordMatcher(ae);me&&n.removeRoute(me)}function A(){return n.getRoutes().map(ae=>ae.record)}function b(ae){return!!n.getRecordMatcher(ae)}function w(ae,me){if(me=assign({},me||d.value),typeof ae=="string"){const ye=parseURL(r,ae,me.path),Z=n.resolve({path:ye.path},me),X=l.createHref(ye.fullPath);return assign(ye,Z,{params:_(Z.params),hash:decode(ye.hash),redirectedFrom:void 0,href:X})}let se;if("path"in ae)se=assign({},ae,{path:parseURL(r,ae.path,me.path).path});else{const ye=assign({},ae.params);for(const Z in ye)ye[Z]==null&&delete ye[Z];se=assign({},ae,{params:y(ae.params)}),me.params=y(me.params)}const ue=n.resolve(se,me),Ee=ae.hash||"";ue.params=g(_(ue.params));const $e=stringifyURL(s,assign({},ae,{hash:encodeHash(Ee),path:ue.path})),pe=l.createHref($e);return assign({fullPath:$e,hash:Ee,query:s===stringifyQuery?normalizeQuery(ae.query):ae.query||{}},ue,{redirectedFrom:void 0,href:pe})}function E(ae){return typeof ae=="string"?parseURL(r,ae,d.value.path):assign({},ae)}function M(ae,me){if(v!==ae)return createRouterError(8,{from:me,to:ae})}function P(ae){return L(ae)}function R(ae){return P(assign(E(ae),{replace:!0}))}function I(ae){const me=ae.matched[ae.matched.length-1];if(me&&me.redirect){const{redirect:se}=me;let ue=typeof se=="function"?se(ae):se;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=E(ue):{path:ue},ue.params={}),assign({query:ae.query,hash:ae.hash,params:"path"in ue?{}:ae.params},ue)}}function L(ae,me){const se=v=w(ae),ue=d.value,Ee=ae.state,$e=ae.force,pe=ae.replace===!0,ye=I(se);if(ye)return L(assign(E(ye),{state:typeof ye=="object"?assign({},Ee,ye.state):Ee,force:$e,replace:pe}),me||se);const Z=se;Z.redirectedFrom=me;let X;return!$e&&isSameRouteLocation(s,ue,se)&&(X=createRouterError(16,{to:Z,from:ue}),fe(ue,ue,!0,!1)),(X?Promise.resolve(X):N(Z,ue)).catch(re=>isNavigationFailure(re)?isNavigationFailure(re,2)?re:ne(re):Q(re,Z,ue)).then(re=>{if(re){if(isNavigationFailure(re,2))return L(assign({replace:pe},E(re.to),{state:typeof re.to=="object"?assign({},Ee,re.to.state):Ee,force:$e}),me||Z)}else re=F(Z,ue,!0,pe,Ee);return B(Z,ue,re),re})}function O(ae,me){const se=M(ae,me);return se?Promise.reject(se):Promise.resolve()}function N(ae,me){let se;const[ue,Ee,$e]=extractChangingRecords(ae,me);se=extractComponentsGuards(ue.reverse(),"beforeRouteLeave",ae,me);for(const ye of ue)ye.leaveGuards.forEach(Z=>{se.push(guardToPromiseFn(Z,ae,me))});const pe=O.bind(null,ae,me);return se.push(pe),runGuardQueue(se).then(()=>{se=[];for(const ye of u.list())se.push(guardToPromiseFn(ye,ae,me));return se.push(pe),runGuardQueue(se)}).then(()=>{se=extractComponentsGuards(Ee,"beforeRouteUpdate",ae,me);for(const ye of Ee)ye.updateGuards.forEach(Z=>{se.push(guardToPromiseFn(Z,ae,me))});return se.push(pe),runGuardQueue(se)}).then(()=>{se=[];for(const ye of ae.matched)if(ye.beforeEnter&&!me.matched.includes(ye))if(isArray(ye.beforeEnter))for(const Z of ye.beforeEnter)se.push(guardToPromiseFn(Z,ae,me));else se.push(guardToPromiseFn(ye.beforeEnter,ae,me));return se.push(pe),runGuardQueue(se)}).then(()=>(ae.matched.forEach(ye=>ye.enterCallbacks={}),se=extractComponentsGuards($e,"beforeRouteEnter",ae,me),se.push(pe),runGuardQueue(se))).then(()=>{se=[];for(const ye of c.list())se.push(guardToPromiseFn(ye,ae,me));return se.push(pe),runGuardQueue(se)}).catch(ye=>isNavigationFailure(ye,8)?ye:Promise.reject(ye))}function B(ae,me,se){for(const ue of f.list())ue(ae,me,se)}function F(ae,me,se,ue,Ee){const $e=M(ae,me);if($e)return $e;const pe=me===START_LOCATION_NORMALIZED,ye=isBrowser?history.state:{};se&&(ue||pe?l.replace(ae.fullPath,assign({scroll:pe&&ye&&ye.scroll},Ee)):l.push(ae.fullPath,Ee)),d.value=ae,fe(ae,me,se,pe),ne()}let V;function z(){V||(V=l.listen((ae,me,se)=>{if(!Pe.listening)return;const ue=w(ae),Ee=I(ue);if(Ee){L(assign(Ee,{replace:!0}),ue).catch(noop);return}v=ue;const $e=d.value;isBrowser&&saveScrollPosition(getScrollKey($e.fullPath,se.delta),computeScrollPosition()),N(ue,$e).catch(pe=>isNavigationFailure(pe,12)?pe:isNavigationFailure(pe,2)?(L(pe.to,ue).then(ye=>{isNavigationFailure(ye,20)&&!se.delta&&se.type===NavigationType.pop&&l.go(-1,!1)}).catch(noop),Promise.reject()):(se.delta&&l.go(-se.delta,!1),Q(pe,ue,$e))).then(pe=>{pe=pe||F(ue,$e,!1),pe&&(se.delta&&!isNavigationFailure(pe,8)?l.go(-se.delta,!1):se.type===NavigationType.pop&&isNavigationFailure(pe,20)&&l.go(-1,!1)),B(ue,$e,pe)}).catch(noop)}))}let U=useCallbacks(),Y=useCallbacks(),q;function Q(ae,me,se){ne(ae);const ue=Y.list();return ue.length?ue.forEach(Ee=>Ee(ae,me,se)):console.error(ae),Promise.reject(ae)}function j(){return q&&d.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((ae,me)=>{U.add([ae,me])})}function ne(ae){return q||(q=!ae,z(),U.list().forEach(([me,se])=>ae?se(ae):me()),U.reset()),ae}function fe(ae,me,se,ue){const{scrollBehavior:Ee}=a;if(!isBrowser||!Ee)return Promise.resolve();const $e=!se&&getSavedScrollPosition(getScrollKey(ae.fullPath,0))||(ue||!se)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Ee(ae,me,$e)).then(pe=>pe&&scrollToPosition(pe)).catch(pe=>Q(pe,ae,me))}const de=ae=>l.go(ae);let be;const Me=new Set,Pe={currentRoute:d,listening:!0,addRoute:S,removeRoute:x,hasRoute:b,getRoutes:A,resolve:w,options:a,push:P,replace:R,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:u.add,beforeResolve:c.add,afterEach:f.add,onError:Y.add,isReady:j,install(ae){const me=this;ae.component("RouterLink",RouterLink),ae.component("RouterView",RouterView),ae.config.globalProperties.$router=me,Object.defineProperty(ae.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(d)}),isBrowser&&!be&&d.value===START_LOCATION_NORMALIZED&&(be=!0,P(l.location).catch(Ee=>{}));const se={};for(const Ee in START_LOCATION_NORMALIZED)se[Ee]=computed(()=>d.value[Ee]);ae.provide(routerKey,me),ae.provide(routeLocationKey,reactive(se)),ae.provide(routerViewLocationKey,d);const ue=ae.unmount;Me.add(ae),ae.unmount=function(){Me.delete(ae),Me.size<1&&(v=START_LOCATION_NORMALIZED,V&&V(),V=null,d.value=START_LOCATION_NORMALIZED,be=!1,q=!1),ue()}}};return Pe}function runGuardQueue(a){return a.reduce((n,r)=>n.then(()=>r()),Promise.resolve())}function extractChangingRecords(a,n){const r=[],s=[],l=[],u=Math.max(n.matched.length,a.matched.length);for(let c=0;c<u;c++){const f=n.matched[c];f&&(a.matched.find(v=>isSameRouteRecord(v,f))?s.push(f):r.push(f));const d=a.matched[c];d&&(n.matched.find(v=>isSameRouteRecord(v,d))||l.push(d))}return[r,s,l]}const router=createRouter({history:createWebHashHistory(),routes:[{path:"/arknight",component:()=>__vitePreload(()=>import("./Arknight.a7471b13.js"),[])},{path:"/",redirect:"/index"},{path:"/index",component:()=>__vitePreload(()=>import("./Index.c6430741.js"),["assets/Index.c6430741.js","assets/Index.cd1725c7.css"])},{path:"/gpt",component:()=>__vitePreload(()=>import("./GPT.f6a9d51b.js"),["assets/GPT.f6a9d51b.js","assets/GPT.3a213fe2.css"])},{path:"/:productName",redirect:"/index"}]});createApp(_sfc_main).use(router).mount("#app");export{withKeys as A,unref as B,md5 as C,o as D,ElMessage as E,Fragment as F,search_default as G,Transition as T,_export_sfc as _,openBlock as a,createBaseVNode as b,createElementBlock as c,createTextVNode as d,createCommentVNode as e,renderList as f,createVNode$1 as g,withDirectives as h,init$1 as i,popScopeId as j,axios as k,ElHeader as l,ElInput as m,ElCol as n,onMounted as o,pushScopeId as p,ElRow as q,ref as r,ElMain as s,toDisplayString as t,resolveComponent as u,vModelText as v,withCtx as w,ElFooter as x,ElContainer as y,createStaticVNode as z};
