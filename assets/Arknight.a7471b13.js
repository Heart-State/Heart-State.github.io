import{_ as P,r as o,o as Q,E as I,a as d,c as v,b as e,t as r,d as c,e as y,F as D,f as B,g as W,w as X,h as Z,v as ee,T as ae,i as te,p as se,j as le,k as _}from"./index.7c2af8ab.js";const i=f=>(se("data-v-0b47a570"),f=f(),le(),f),ne={class:"main"},oe=i(()=>e("div",{class:"title"},[e("h2",null,"\u5BFB\u8BBF\u5206\u6790\uFF0830\u5929\u5185\u6700\u8FD1\u4E00\u767E\u6761\uFF09")],-1)),ie={class:"box box1"},ue={class:"col1"},ce=i(()=>e("span",{style:{color:"rgb(255, 94, 0)"}},"6\u661F",-1)),re=c(" \xA0"),de={style:{"font-size":"1rem"}},ve=i(()=>e("span",{style:{color:"rgb(124, 7, 186)"}},"4\u661F",-1)),he=c(" \xA0"),_e={style:{"font-size":"1rem"}},pe=i(()=>e("span",{style:{color:"rgb(232, 155, 1)"}},"5\u661F",-1)),ge=c(" \xA0"),ye={style:{"font-size":"1rem"}},ke=i(()=>e("span",null,"3\u661F",-1)),me=c(" \xA0"),fe={style:{"font-size":"1rem"}},we=i(()=>e("div",null,[e("h5",null,"\u5E73\u5747\u51FA\u91D1\u62BD\u6570")],-1)),xe={class:"col1"},be=i(()=>e("span",{style:{color:"rgb(255, 94, 0)"}},"6\u661F",-1)),$e=c(" \xA0"),Ie={style:{"font-size":"1rem"}},De=c("\xA0\u62BD "),Fe=i(()=>e("span",{style:{color:"rgb(232, 155, 1)"}},"5\u661F",-1)),Ne=c(" \xA0"),qe={style:{"font-size":"1rem"}},Se=c("\xA0\u62BD "),Ae={key:0,class:"ball"},Te=i(()=>e("div",null,null,-1)),ze=i(()=>e("div",null,null,-1)),Ce=i(()=>e("div",null,null,-1)),Be=i(()=>e("div",null,null,-1)),Ve=[Te,ze,Ce,Be],Me={class:"box box1"},je=i(()=>e("div",null,[e("h5",null,"6\u661F\u51FA\u91D1\u8BB0\u5F55")],-1)),Ee={key:0,class:"col2"},Oe={style:{color:"rgb(255, 94, 0)"}},Re={key:0,style:{color:"red"}},Je=c("\xA0\xA0 "),Le=i(()=>e("div",null,[e("h5",null,"5\u661F\u51FA\u91D1\u8BB0\u5F55")],-1)),Ue={key:0,class:"col2"},Ye={style:{color:"rgb(232, 155, 1)"}},Ge={key:0,style:{color:"red"}},He=c("\xA0\xA0 "),Ke={key:0,class:"window"},Pe=i(()=>e("h5",null,"\u8BBE\u7F6EToken",-1)),Qe={__name:"Arknight",setup(f){const p=o([]),l=o([]),h=o(0),F=o(),N=o(),w=o(0),x=o(0),k=o(0),m=o(0),u=o(!1),q=o([]),S=o([]),b=o(!1),A=o();let $;const n=o(""),V=()=>{for(let a=0;a<10;a++)for(let s=0;s<l.value[a].data.list.length;s++)for(let t=0;t<l.value[a].data.list[s].chars.length;t++)p.value.push(l.value[a].data.list[s].chars[t]),l.value[a].data.list[s].chars[t].rarity==2?w.value++:l.value[a].data.list[s].chars[t].rarity==3?x.value++:l.value[a].data.list[s].chars[t].rarity==4?(k.value++,S.value.push({isNew:l.value[a].data.list[s].chars[t].isNew,name:l.value[a].data.list[s].chars[t].name})):l.value[a].data.list[s].chars[t].rarity==5&&(m.value++,q.value.push({isNew:l.value[a].data.list[s].chars[t].isNew,name:l.value[a].data.list[s].chars[t].name}));M(),u.value=!0},T=a=>{const s=new Date(a);let t=s.getMonth()+1,g=s.getDate();return t<10&&(t="0"+t),g<10&&(g="0"+g),s.getFullYear()+"\u5E74"+t+"\u6708"+g+"\u65E5"},M=()=>{let a=te(A.value);$={title:[{left:"center",bottom:50,text:F.value+" - "+N.value}],polar:{radius:[20,"80%"]},radiusAxis:{max:10},angleAxis:{type:"category",data:["\u4E09\u661F","\u56DB\u661F","\u4E94\u661F","\u516D\u661F"],startAngle:75},tooltip:{},series:{type:"bar",data:[w.value,x.value,k.value,m.value],coordinateSystem:"polar",label:{show:!0,position:"middle",formatter:"{b}: {c}"}},animation:!0},$&&a.setOption($)},j=async()=>{const{data:a}=await _.get(`/api/user/api/inquiry/gacha?page=${1}&token=${n.value}&channelId=2`);l.value.push(a),N.value=T(a.data.list[0].ts*1e3),h.value++},E=async()=>{const{data:a}=await _.get(`/api/user/api/inquiry/gacha?page=${2}&token=${n.value}&channelId=2`);l.value.push(a),h.value++},O=async()=>{const{data:a}=await _.get(`/api/user/api/inquiry/gacha?page=${3}&token=${n.value}&channelId=2`);l.value.push(a),h.value++},R=async()=>{const{data:a}=await _.get(`/api/user/api/inquiry/gacha?page=${4}&token=${n.value}&channelId=2`);l.value.push(a),h.value++},J=async()=>{const{data:a}=await _.get(`/api/user/api/inquiry/gacha?page=${5}&token=${n.value}&channelId=2`);l.value.push(a),h.value++},L=async()=>{const{data:a}=await _.get(`/api/user/api/inquiry/gacha?page=${6}&token=${n.value}&channelId=2`);l.value.push(a),h.value++},U=async()=>{const{data:a}=await _.get(`/api/user/api/inquiry/gacha?page=${7}&token=${n.value}&channelId=2`);l.value.push(a),h.value++},Y=async()=>{const{data:a}=await _.get(`/api/user/api/inquiry/gacha?page=${8}&token=${n.value}&channelId=2`);l.value.push(a),h.value++},G=async()=>{const{data:a}=await _.get(`/api/user/api/inquiry/gacha?page=${9}&token=${n.value}&channelId=2`);l.value.push(a),h.value++},H=async()=>{const{data:a}=await _.get(`/api/user/api/inquiry/gacha?page=${10}&token=${n.value}&channelId=2`);l.value.push(a),h.value++,console.log(a.data),F.value=T(a.data.list[0].ts*1e3)},z=()=>{n.value!=""&&(j(),E(),O(),R(),J(),U(),Y(),G(),H(),L())},C=(a,s,t)=>a.split(s).join(t),K=()=>{try{n.value=C(C(JSON.parse(n.value).data.content,"+","%2B"),"/","%2F"),console.log(n.value),window.localStorage.setItem("token",n.value),p.value.length==0&&z()}catch{I.warning("\u683C\u5F0F\u9519\u8BEF")}console.log(n.value)};return Q(()=>{n.value=window.localStorage.getItem("token");try{n.value!=null?z():I.warning("token\u4E3A\u7A7A")}catch{I.warning("token\u9519\u8BEF")}let a=setInterval(()=>{h.value==10&&(V(),clearInterval(a))},100)}),(a,s)=>(d(),v(D,null,[e("div",ne,[oe,e("div",ie,[e("div",null,[e("div",null,[e("h5",null,"\u603B\u8BA1"+r(p.value.length)+"\u62BD",1)]),e("div",null,[e("div",ue,[e("div",null,[e("p",null,[ce,re,e("span",de,r(u.value?m.value:0),1),c(" \u4EBA\xA0\u6982\u7387:"+r(u.value?(m.value/p.value.length*100).toFixed(2):"0.00")+"% ",1)])]),e("div",null,[e("p",null,[ve,he,e("span",_e,r(u.value?x.value:0),1),c(" \u4EBA\xA0\u6982\u7387:"+r(u.value?(x.value/p.value.length*100).toFixed(2):"0.00")+"% ",1)])]),e("div",null,[e("p",null,[pe,ge,e("span",ye,r(u.value?k.value:0),1),c(" \u4EBA\xA0\u6982\u7387:"+r(u.value?(k.value/p.value.length*100).toFixed(2):"0.00")+"% ",1)])]),e("div",null,[e("p",null,[ke,me,e("span",fe,r(u.value?w.value:0),1),c(" \u4EBA\xA0\u6982\u7387:"+r(u.value?(w.value/p.value.length*100).toFixed(2):"0.00")+"% ",1)])])])])]),e("div",null,[e("div",null,[we,e("div",xe,[e("div",null,[e("p",null,[be,$e,e("span",Ie,r(u.value?(p.value.length/m.value).toFixed(2):"0.00"),1),De])]),e("div",null,[e("p",null,[Fe,Ne,e("span",qe,r(u.value?(p.value.length/k.value).toFixed(2):"0.00"),1),Se])])])])])]),e("div",{ref_key:"box",ref:A,class:"box"},null,512),u.value?y("",!0):(d(),v("div",Ae,Ve)),e("div",Me,[e("div",null,[e("div",null,[je,u.value?(d(),v("div",Ee,[(d(!0),v(D,null,B(q.value,(t,g)=>(d(),v("div",{key:g},[e("p",null,[e("span",Oe,r(t.name),1),t.isNew?(d(),v("span",Re,"new")):y("",!0),Je])]))),128))])):y("",!0)]),e("div",null,[Le,u.value?(d(),v("div",Ue,[(d(!0),v(D,null,B(S.value,(t,g)=>(d(),v("div",{key:g},[e("p",null,[e("span",Ye,r(t.name),1),t.isNew?(d(),v("span",Ge,"new")):y("",!0),He])]))),128))])):y("",!0)])])])]),W(ae,{name:"bounce"},{default:X(()=>[b.value?(d(),v("div",Ke,[Pe,Z(e("textarea",{"onUpdate:modelValue":s[0]||(s[0]=t=>n.value=t),onBlur:K},null,544),[[ee,n.value]])])):y("",!0)]),_:1}),b.value?(d(),v("div",{key:0,class:"mask",onClick:s[1]||(s[1]=t=>b.value=!1)})):y("",!0),e("div",{class:"btn",onClick:s[2]||(s[2]=t=>b.value=!0)}," \u8BBE\u7F6EToken ")],64))}},Xe=P(Qe,[["__scopeId","data-v-0b47a570"]]);export{Xe as default};
